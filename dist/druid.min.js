// https://renecutura.eu v0.5.0 Copyright 2022 Rene Cutura
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).druid=t.druid||{})}(this,(function(t){"use strict";function e(t,e){return Math.sqrt(s(t,e))}function r(t){let e=t.length,r=0,s=0;for(let n=0;n<e;++n){let e=t[n],i=r+e;Math.abs(r)>=Math.abs(e)?s+=r-i+e:s+=e-i+r,r=i}return r+s}function s(t,e){if(t.length!=e.length)return;let s=t.length,n=new Array(s);for(let r=0;r<s;++r){let s=t[r],i=e[r];n[r]=(s-i)*(s-i)}return r(n)}function n(t,r,s=e){const n=t.shape[0];let o="precomputed"==s?t:i(t,s),a=new Array(n);for(let t=0;t<n;++t)a[t]=Array.from(o.row(t)).map(((e,r)=>({i:t,j:r,distance:e}))).sort(((t,e)=>t.distance-e.distance)).slice(1,r+1);return a}function i(t,r=e){let s=t.shape[0];const n=new _(s,s);for(let e=0;e<s;++e){const i=t.row(e);for(let o=e+1;o<s;++o){const s=r(i,t.row(o));n.set_entry(e,o,s),n.set_entry(o,e,s)}}return n}function o(t,e,r=null){if(r||(r=Math.max(Math.round(e-t)+1,1)),r<2)return 1===r?[t]:[];let s=new Array(r);for(let n=r-=1;n>=0;--n)s[n]=(n*e+(r-n)*t)/r;return s}function a(t,r=e){let s=null;if(t instanceof _){let[e,r]=t.shape;if(1===e)s=t.row(0);else{if(1!==r)throw new Error("Matrix must be 1d!");s=t.col(0)}}else s=t;const n=s.length;return r(s,Float64Array.from({length:n},(()=>0)))}function h(t){const[s,n]=t.shape,i=new _(s,n,"identity"),o=new _(n,n,0);for(let h=0;h<n;++h){let n=t.col(h);for(let t=0;t<h;++t){const e=i.col(t),s=r(e.map(((t,e)=>t*n[e])));o.set_entry(t,h,s),n=n.map(((t,r)=>t-s*e[r]))}const l=a(n,e);for(let t=0;t<s;++t)i.set_entry(t,h,n[t]/l);o.set_entry(h,h,l)}return{R:o,Q:i}}function l(t,e=2,{seed:r=1212,max_iterations:n=100,qr:i=h,tol:o=1e-8}={}){const a=r instanceof c?r:new c(r);t instanceof _||(t=_.from(t));const l=t.shape[0];let{Q:u,R:f}=i(new _(l,e,(()=>2*(a.random-.5))));for(;n--;){const e=u.clone(),r=i(t.dot(u));u=r.Q,f=r.R;if(s(u.values,e.values)<o)break}return{eigenvalues:f.diag,eigenvectors:u.transpose().to2dArray}}class _{constructor(t=null,e=null,r=null){if(this._rows=t,this._cols=e,this._data=null,t&&e){if(!r)return this._data=new Float64Array(t*e),this;if("function"==typeof r){this._data=new Float64Array(t*e);for(let s=0;s<t;++s)for(let t=0;t<e;++t)this._data[s*e+t]=r(s,t);return this}if("string"==typeof r){if("zeros"===r)return new _(t,e,0);if("identity"===r||"I"===r){this._data=new Float64Array(t*e);for(let r=0;r<t;++r)this._data[r*e+r]=1;return this}if("center"===r&&t==e){this._data=new Float64Array(t*e),r=(e,r)=>(e===r?1:0)-1/t;for(let s=0;s<t;++s)for(let t=0;t<e;++t)this._data[s*e+t]=r(s,t);return this}}if("number"==typeof r){this._data=new Float64Array(t*e);for(let s=0;s<t;++s)for(let t=0;t<e;++t)this._data[s*e+t]=r;return this}}return this}static from(t,e="row"){if(t instanceof _)return t.clone();if(!(Array.isArray(t)||t instanceof Float64Array)){if("number"==typeof t)return new _(1,1,t);throw new Error("error")}{let r=t.length;if(0===r)throw new Error("Array is empty");if(!(Array.isArray(t[0])||t[0]instanceof Float64Array)){if("row"===e)return new _(1,r,((e,r)=>t[r]));if("col"===e)return new _(r,1,(e=>t[e]));if("diag"===e)return new _(r,r,((e,r)=>e==r?t[e]:0));throw new Error("1d array has NaN entries")}if(Array.isArray(t[0])||t[0]instanceof Float64Array){let e=t[0].length;for(let s=0;s<r;++s)if(t[s].length!==e)throw new Error("various array lengths");return new _(r,e,((e,r)=>t[e][r]))}}}row(t){const e=this.values,r=this._cols;return e.subarray(t*r,(t+1)*r)}*iterate_rows(){const t=this._cols,e=this._rows,r=this.values;for(let s=0;s<e;++s)yield r.subarray(s*t,(s+1)*t)}*[Symbol.iterator](){for(const t of this.iterate_rows())yield t}set_row(t,e){let r=this._cols;if(Array.isArray(e)&&e.length===r){let s=t*r;for(let t=0;t<r;++t)this.values[s+t]=e[t]}else if(e instanceof _&&e.shape[1]===r&&1===e.shape[0]){let s=t*r;for(let t=0;t<r;++t)this.values[s+t]=e._data[t]}return this}col(t){let e=new Float64Array(this._rows);for(let r=0;r<this._rows;++r)e[r]=this.values[r*this._cols+t];return e}entry(t,e){return this.values[t*this._cols+e]}set_entry(t,e,r){return this.values[t*this._cols+e]=r,this}transpose(){return new _(this._cols,this._rows,((t,e)=>this.entry(e,t)))}get T(){return this.transpose()}inverse(){const t=this._rows,e=this._cols;let r=new _(t,2*e,((t,r)=>r>=e?t===r-e?1:0:this.entry(t,r))),s=0,n=0;for(;s<t&&n<e;){var i=0;let o=-1/0;for(let e=s;e<t;++e){let t=Math.abs(r.entry(e,n));o<t&&(i=e,o=t)}if(0==r.entry(i,n))n++;else{for(let t=0;t<2*e;++t){let e=r.entry(s,t),n=r.entry(i,t);r.set_entry(s,t,e),r.set_entry(i,t,n)}for(let i=s+1;i<t;++i){let t=r.entry(i,n)/r.entry(s,n);r.set_entry(i,n,0);for(let o=n+1;o<2*e;++o)r.set_entry(i,o,r.entry(i,o)-r.entry(s,o)*t)}s++,n++}}for(let s=0;s<t;++s){let t=r.entry(s,s);for(let n=s;n<2*e;++n)r.set_entry(s,n,r.entry(s,n)/t)}for(let s=t-1;s>=0;--s){let t=r.entry(s,s);for(let n=0;n<s;n++){let i=r.entry(n,s)/t;for(let t=n;t<2*e;++t){let e=r.entry(n,t);e-=r.entry(s,t)*i,r.set_entry(n,t,e)}}}return new _(t,e,((t,s)=>r.entry(t,s+e)))}dot(t){if(t instanceof _){let e=this;if(e.shape[1]!==t.shape[0])throw new Error(`A.dot(B): A is a ${e.shape.join(" тип ")}-Matrix, B is a ${t.shape.join(" тип ")}-Matrix: \n                A has ${e.shape[1]} cols and B ${t.shape[0]} rows. \n                Must be equal!`);let r=e.shape[1];return new _(e.shape[0],t.shape[1],((s,n)=>{const i=e.row(s),o=t.col(n);let a=0;for(let t=0;t<r;++t)a+=i[t]*o[t];return a}))}if(Array.isArray(t)||t instanceof Float64Array){let e=this._rows;if(t.length!==e)throw new Error(`A.dot(B): A has ${e} cols and B has ${t.length} rows. Must be equal!`);let s=new Array(e);for(let n=0;n<e;++n)s[n]=r(this.row(n).map((e=>e*t[n])));return s}throw new Error("B must be Matrix or Array")}outer(t){let e=this,r=e._data.length;if(r!=t._data.length)return;let s=new _;return s.shape=[r,r,(r,n)=>r<=n?e._data[r]*t._data[n]:s.entry(n,r)],s}concat(t,e="horizontal"){const r=this,[s,n]=r.shape,[i,o]=t.shape;if("horizontal"==e){if(s!=i)throw new Error(`A.concat(B, "horizontal"): A and B need same number of rows, A has ${s} rows, B has ${i} rows.`);const e=new _(s,n+o,"zeros");return e.set_block(0,0,r),e.set_block(0,n,t),e}if("vertical"==e){if(n!=o)throw new Error(`A.concat(B, "vertical"): A and B need same number of columns, A has ${n} columns, B has ${o} columns.`);const e=new _(s+i,n,"zeros");return e.set_block(0,0,r),e.set_block(s,0,t),e}if("diag"==e){const e=new _(s+i,n+o,"zeros");return e.set_block(0,0,r),e.set_block(s,n,t),e}throw new Error(`type must be "horizontal" or "vertical", but type is ${e}!`)}set_block(t,e,r){let[s,n]=r.shape;for(let i=0;i<s;++i)if(!(i>this._rows))for(let s=0;s<n;++s)s>this._cols||this.set_entry(i+t,s+e,r.entry(i,s));return this}get_block(t,e,r=null,s=null){const[n,i]=this.shape;if(s=s??i,(r=r??n)<=t||s<=e)throw new Error(`\n                end_row must be greater than start_row, and \n                end_col must be greater than start_col, but\n                end_row = ${r}, start_row = ${t}, end_col = ${s}, and start_col = ${e}!`);const o=new _(r-t,s-e,"zeros");for(let n=t,i=0;n<r;++n,++i)for(let t=e,r=0;t<s;++t,++r)o.set_entry(i,r,this.entry(n,t));return o}gather(t,e){const r=t.length,s=e.length,n=new _(r,s);for(let s=0;s<r;++s){const i=t[s];for(let t=0;t<r;++t){const r=e[t];n.set_entry(s,t,this.entry(i,r))}}return n}_apply_array(t,e){const r=this.values,[s,n]=this.shape;for(let i=0;i<s;++i){const s=i*n;for(let o=0;o<n;++o){const n=s+o;r[n]=t(r[n],e(i,o))}}return this}_apply_rowwise_array(t,e){return this._apply_array(e,((e,r)=>t[r]))}_apply_colwise_array(t,e){const r=this.values,[s,n]=this.shape;for(let i=0;i<s;++i){const s=i*n;for(let o=0;o<n;++o){const n=s+o;r[n]=e(r[n],t[i])}}return this}_apply(t,e){let r=this.values;if(t instanceof _){let[s,n]=t.shape,[i,o]=this.shape;if(1===s){if(o!==n)throw new Error("cols !== value_cols");for(let s=0;s<i;++s)for(let n=0;n<o;++n)r[s*o+n]=e(r[s*o+n],t.entry(0,n))}else if(1===n){if(i!==s)throw new Error("rows !== value_rows");for(let s=0;s<i;++s)for(let n=0;n<o;++n)r[s*o+n]=e(r[s*o+n],t.entry(s,0))}else{if(i!=s||o!=n)throw new Error("error");for(let s=0;s<i;++s)for(let n=0;n<o;++n)r[s*o+n]=e(r[s*o+n],t.entry(s,n))}}else if(Array.isArray(t)){let s=this._rows,n=this._cols;if(t.length===s)for(let i=0;i<s;++i)for(let s=0;s<n;++s)r[i*n+s]=e(r[i*n+s],t[i]);else{if(t.length!==n)throw new Error("error");for(let i=0;i<s;++i)for(let s=0;s<n;++s)r[i*n+s]=e(r[i*n+s],t[s])}}else for(let s=0,n=this._rows*this._cols;s<n;++s)r[s]=e(r[s],t);return this}clone(){let t=new _;return t._rows=this._rows,t._cols=this._cols,t._data=this.values.slice(0),t}mult(t){return this.clone()._apply(t,((t,e)=>t*e))}divide(t){return this.clone()._apply(t,((t,e)=>t/e))}add(t){return this.clone()._apply(t,((t,e)=>t+e))}sub(t){return this.clone()._apply(t,((t,e)=>t-e))}get shape(){return[this._rows,this._cols]}set shape([t,e,r=(()=>0)]){this._rows=t,this._cols=e,this._data=new Float64Array(t*e);for(let s=0;s<t;++s)for(let t=0;t<e;++t)this._data[s*e+t]=r(s,t);return this}get to2dArray(){const t=[];for(const e of this.iterate_rows())t.push(e);return t}get asArray(){const t=[];for(const e of this.iterate_rows())t.push(Array.from(e));return t}get diag(){const t=this._rows,e=this._cols,r=Math.min(t,e);let s=new Float64Array(r);for(let t=0;t<r;++t)s[t]=this.entry(t,t);return s}get mean(){return this.sum/(this._rows*this._cols)}get sum(){return r(this.values)}get values(){return this._data}get meanRows(){const t=this.values,e=this._rows,r=this._cols,s=Float64Array.from({length:e});for(let n=0;n<e;++n){s[n]=0;for(let e=0;e<r;++e)s[n]+=t[n*r+e];s[n]/=r}return s}get meanCols(){const t=this.values,e=this._rows,r=this._cols,s=Float64Array.from({length:r});for(let n=0;n<r;++n){s[n]=0;for(let i=0;i<e;++i)s[n]+=t[i*r+n];s[n]/=e}return s}static solve_CG(t,e,r,s=.001){null===r&&(r=new c);const n=t.shape[0],i=e.shape[1];let o=new _(n,0);for(let a=0;a<i;++a){const i=_.from(e.col(a)).T;let h=new _(n,1,(()=>r.random)),l=i.sub(t.dot(h)),c=l.clone();do{const e=t.dot(c),r=l.T.dot(l).entry(0,0)/c.T.dot(e).entry(0,0);h=h.add(c.mult(r));const s=l.sub(e.mult(r)),n=s.T.dot(s).entry(0,0)/l.T.dot(l).entry(0,0);c=s.add(c.mult(n)),l=s}while(Math.abs(l.mean)>s);o=o.concat(h,"horizontal")}return o}static solve(t,e){let{L:r,U:s}="L"in t&&"U"in t?t:_.LU(t),n=r.shape[0],i=e.clone();for(let t=0;t<n;++t){for(let e=0;e<t-1;++e)i.set_entry(0,t,i.entry(0,t)-r.entry(t,e)*i.entry(1,e));i.set_entry(0,t,i.entry(0,t)/r.entry(t,t))}for(let t=n-1;t>=0;--t){for(let e=n-1;e>t;--e)i.set_entry(0,t,i.entry(0,t)-s.entry(t,e)*i.entry(0,e));i.set_entry(0,t,i.entry(0,t)/s.entry(t,t))}return i}static LU(t){const e=t.shape[0],r=new _(e,e,"zeros"),s=new _(e,e,"identity");for(let n=0;n<e;++n){for(let i=n;i<e;++i){let e=0;for(let t=0;t<n;++t)e+=r.entry(i,t)*s.entry(t,n);r.set_entry(i,n,t.entry(i,n)-e)}for(let i=n;i<e;++i){if(0===r.entry(n,n))return;let e=0;for(let t=0;t<n;++t)e+=r.entry(n,t)*s.entry(t,i);s.set_entry(n,i,(t.entry(n,i)-e)/r.entry(n,n))}}return{L:r,U:s}}static det(t){const e=t.shape[0],{L:r,U:s}=_.LU(t),n=r.diag,i=s.diag;let o=n[0]*i[0];for(let t=1;t<e;++t)o*=n[t]*i[t];return o}static SVD(t,e=2){const r=t.T;let s=r.dot(t),n=t.dot(r),{eigenvectors:i,eigenvalues:o}=l(s,e),{eigenvectors:a}=l(n,e);return{U:a,Sigma:o.map((t=>Math.sqrt(t))),V:i}}}class c{constructor(t){return this._N=624,this._M=397,this._MATRIX_A=2567483615,this._UPPER_MASK=2147483648,this._LOWER_MASK=2147483647,this._mt=new Array(this._N),this._mti=this.N+1,this.seed=t||(new Date).getTime(),this}set seed(t){this._seed=t;let e=this._mt;for(e[0]=t>>>0,this._mti=1;this._mti<this._N;this._mti+=1){let t=this._mti,r=e[t-1]^e[t-1]>>>30;e[t]=(1812433253*((4294901760&r)>>>16)<<16)+1812433253*(65535&r)+t,e[t]>>>=0}}get seed(){return this._seed}get random(){return this.random_int*(1/4294967296)}get random_int(){let t,e=new Array(0,this._MATRIX_A);if(this._mti>=this._N){let r,s=this._N-this._M,n=this._M-this._N;for(r=0;r<s;++r)t=this._mt[r]&this._UPPER_MASK|this._mt[r+1]&this._LOWER_MASK,this._mt[r]=this._mt[r+this._M]^t>>>1^e[1&t];for(;r<this._N-1;++r)t=this._mt[r]&this._UPPER_MASK|this._mt[r+1]&this._LOWER_MASK,this._mt[r]=this._mt[r+n]^t>>>1^e[1&t];t=this._mt[this._N-1]&this._UPPER_MASK|this._mt[0]&this._LOWER_MASK,this._mt[this._N-1]=this._mt[this._M-1]^t>>>1^e[1&t],this._mti=0}return t=this._mt[this._mti+=1],t^=t>>>11,t^=t<<7&2636928640,t^=t<<15&4022730752,t^=t>>>18,t>>>0}choice(t,e){if(t instanceof _){let r=t.shape[0];if(e>r)throw new Error("n bigger than A!");let s=new Array(e),n=o(0,r-1);for(let t=0,r=n.length;t<e;++t,--r){let e=this.random_int%r;s[t]=n.splice(e,1)[0]}return s.map((e=>t.row(e)))}if(Array.isArray(t)||t instanceof Float64Array){let r=t.length;if(e>r)throw new Error("n bigger than A!");let s=new Array(e),n=o(0,r-1);for(let t=0,r=n.length;t<e;++t,--r){let e=this.random_int%r;s[t]=n.splice(e,1)[0]}return s.map((e=>t[e]))}}static choice(t,e,r=1212){return new c(r).choice(t,e)}}function u(t){let e;for(const r of t)null!=r&&(e<r||void 0===e&&r>=r)&&(e=r);return e}function f(t){let e;for(const r of t)null!=r&&(e>r||void 0===e&&r<=r)&&(e=r);return e}class d{constructor(t=null,e=(t=>t),r="min"){return t?d.heapify(t,e,r):(this._accessor=e,this._container=[],this._comparator="min"==r?(t,e)=>t<e:"max"==r?(t,e)=>t>e:r,this)}static heapify(t,e=(t=>t),r="min"){const s=new d(null,e,r),n=s._container;for(const r of t)n.push({element:r,value:e(r)});for(let e=Math.floor(t.length/2-1);e>=0;--e)s._heapify_down(e);return s}_swap(t,e){const r=this._container;[r[e],r[t]]=[r[t],r[e]]}_heapify_up(){const t=this._container;let e=t.length-1;for(;e>0;){let r=Math.floor((e-1)/2);if(!this._comparator(t[e].value,t[r].value))break;this._swap(r,e),e=r}}push(t){const e={element:t,value:this._accessor(t)};return this._container.push(e),this._heapify_up(),this}_heapify_down(t=0){const e=this._container,r=this._comparator,s=e.length;let n=2*t+1,i=2*t+2,o=t;if(o>s)throw"index higher than length";n<s&&r(e[n].value,e[o].value)&&(o=n),i<s&&r(e[i].value,e[o].value)&&(o=i),o!==t&&(this._swap(t,o),this._heapify_down(o))}pop(){const t=this._container;if(0===t.length)return null;if(1===t.length)return t.pop();this._swap(0,t.length-1);const e=t.pop();return this._heapify_down(),e}get first(){return this._container.length>0?this._container[0]:null}*iterate(){for(let t=0,e=this._container.length;t<e;++t)yield this._container[t].element}toArray(){return this.data().sort(((t,e)=>this._comparator(t,e)?-1:0))}data(){return this._container.map((t=>t.element))}raw_data(){return this._container}get length(){return this._container.length}get empty(){return 0===this.length}}class p{constructor(t=null){if(this._list=new Set,t)for(const e of t)this.make_set(e);return this}make_set(t){const e=this._list;return e.has(t)||(e.add(t),t.__disjoint_set={},t.__disjoint_set.parent=t,t.__disjoint_set.children=new Set([t]),t.__disjoint_set.size=1),this}find(t){return this._list.has(t)?t.__disjoint_set.parent!==t?(t.__disjoint_set.children.add(...t),t.__disjoint_set.parent=this.find(t.__disjoint_set.parent),t.__disjoint_set.parent):t:null}union(t,e){let r=this.find(t),s=this.find(e);return r===s||(r.__disjoint_set.size<s.__disjoint_set.size&&([r,s]=[s,r]),s.__disjoint_set.parent=r,s.__disjoint_set.children.forEach(r.__disjoint_set.children.add,r.__disjoint_set.children),r.__disjoint_set.size+=s.__disjoint_set.size),this}}class m{constructor(t=null,r=e){return this._Node=class{constructor(t,e=null,r=null,s=null){this.pivot=t,this.child1=e,this.child2=r,this.radius=s}},this._Leaf=class{constructor(t){this.points=t}},this._metric=r,t&&this.add(t),this}add(t){return t=t.map(((t,e)=>({index:e,element:t}))),this._root=this._construct(t),this}_construct(t){if(1===t.length)return new this._Leaf(t);{let e,r=this._greatest_spread(t),s=t.sort(((t,e)=>t.element[r]-e.element[r])),n=s.length,i=Math.floor(n/2),o=t[i],a=s.slice(0,i),h=s.slice(i,n),l=Math.max(...t.map((t=>this._metric(o.element,t.element))));return e=a.length>0&&h.length>0?new this._Node(o,this._construct(a),this._construct(h),l):new this._Leaf(t),e}}_greatest_spread(t){let e=t[0].element.length,r=new Array(e);for(let t=0;t<e;++t)r[t]=[1/0,-1/0];let s=t.reduce(((t,r)=>{for(let s=0;s<e;++s)t[s][0]=Math.min(t[s][0],r.element[s]),t[s][1]=Math.max(t[s][1],r.element[s]);return t}),r);s=s.map((t=>t[1]-t[0]));let n=0;for(let t=0;t<e;++t)n=s[t]>s[n]?t:n;return n}search(t,e=5){return this._search(t,e,new d(null,(e=>this._metric(e.element,t)),"max"),this._root)}_search(t,e,r,s){if(r.length>=e&&s.pivot&&s.radius&&this._metric(t,s.pivot.element)-s.radius>=r.first.value)return r;if(s.child1&&this._search(t,e,r,s.child1),s.child2&&this._search(t,e,r,s.child2),s.points)for(let t=0,n=s.points.length;t<n;++t){let n=s.points[t];e>r.length?r.push(n):(r.push(n),r.pop())}return r}}class y{constructor(t=null,r=e){this._metric=r,this._elements=t instanceof _?t:_.from(t);const s=this._elements.shape[0];this._D="precomputed"===r?this._elements.clone():i(this._elements,r),this.KNN=[];for(let t=0;t<s;++t){const e=this._D.row(t),r=new d(null,(t=>t.value),"min");for(let t=0;t<s;++t)r.push({value:e[t],index:t});this.KNN.push(r)}}search(t,e=5){const r=this._metric,s=this.KNN;let n;if(Array.isArray(t)){if("precomputed"==this._metric)throw"Search by query element is only possible when not using a precomputed distance matrix!";const e=this._elements,i=s.length;let o=null,a=1/0;for(let s=0;s<i;++s){const n=r(t,e.row(s));n<a&&(o=s,a=n)}n=s[o]}else Number.isInteger(t)&&(n=s[t]);let i=[];for(let t=0;t<e;++t)i.push(n.pop());return i.forEach((t=>n.push(t.element))),i}}class g{constructor(t,e,r){if(this._parameters=Object.assign(Object.seal(e),r),Array.isArray(t))this._type="array",this.X=_.from(t);else{if(!(t instanceof _))throw new Error("No valid type for X!");this._type="matrix",this.X=t}return[this._N,this._D]=this.X.shape,this._randomizer=new c(this._parameters.seed),this._is_initialized=!1,this}parameter(t,e=null){if(!this._parameters.hasOwnProperty(t))throw new Error(`${t} is not a valid parameter!`);return e?(this._parameters[t]=e,this._is_initialized=!1,this):this._parameters[t]}para(t,e=null){return this.parameter(t,e)}p(t,e=null){return this.parameter(t,e)}transform(){return this.check_init(),this.projection}*generator(){return this.transform()}check_init(){return this._is_initialized||"function"!=typeof this.init||(this.init(),this._is_initialized=!0),this}get projection(){if(this.hasOwnProperty("Y"))return this.check_init(),"matrix"===this._type?this.Y:this.Y.to2dArray;throw new Error("The dataset is not transformed yet!")}async transform_async(...t){return this.transform(...t)}static transform(...t){return new this(...t).transform()}static async transform_async(...t){return this.transform(...t)}static*generator(...t){const e=new this(...t).generator();for(const t of e)yield t}}class w extends g{constructor(t,e){return super(t,{d:2,seed:1212,eig_args:{}},e),this._parameters.eig_args.hasOwnProperty("seed")||(this._parameters.eig_args.seed=this._randomizer),this}transform(t=null){const e=this.principal_components();if(null==t){const t=this.X;return this.Y=t.dot(e),this.projection}if(Array.isArray(t))return _.from(t).dot(e).asArray;if(t instanceof _)return t.dot(e);throw new Error("No valid type for A!")}principal_components(){if(this.V)return this.V;const{d:t,eig_args:e}=this._parameters,r=this.X,s=_.from(r.meanCols),n=r.sub(s),i=n.transpose().dot(n),{eigenvectors:o}=l(i,t,e);return this.V=_.from(o).transpose(),this.V}static principal_components(t,e){return new this(t,e).principal_components()}}class A extends g{constructor(t,r){return super(t,{d:2,metric:e,seed:1212,eig_args:{}},r),this._parameters.eig_args.hasOwnProperty("seed")||(this._parameters.eig_args.seed=this._randomizer),this}transform(){const t=this.X,e=t.shape[0],{d:r,metric:s,eig_args:n}=this._parameters,o="precomputed"===s?t:i(t,s),a=o.meanCols,h=o.meanRows,c=o.mean;this._d_X=o;const u=new _(e,e,((t,e)=>o.entry(t,e)-a[t]-h[e]+c)),{eigenvectors:f}=l(u,r,n);return this.Y=_.from(f).transpose(),this.projection}stress(){const t=this.X.shape[0],r=this.Y,s=this._d_X,n=new _;n.shape=[t,t,(t,s)=>t<s?e(r.row(t),r.row(s)):n.entry(s,t)];let i=0,o=0;for(let e=0;e<t;++e)for(let r=e+1;r<t;++r)i+=Math.pow(s.entry(e,r)-n.entry(e,r),2),o+=Math.pow(s.entry(e,r),2);return Math.sqrt(i/o)}}function x(t,e,r=300){const s=e.length;let n=.001,i=1e4,o=e.slice(),a=t(o),h=!1;for(;r-- >=0&&!h;){h=!0;for(let e=0;e<s;++e){o[e]+=1e-6;let r=t(o);o[e]-=1e-6;let s=(r-a)/1e-6;Math.abs(s)>.01&&(h=!1),o[e]-=n*s,a=t(o)}n*=i>=a?1.05:.4,i=a}return o}class M{constructor(t,e,r,s,n,i,o,a){return this.id=t,this.left=e,this.right=r,this.dist=s,this.index=i,this.size=o??e.size+r.size,this.depth=a??1+Math.max(e.depth,r.depth),this.centroid=n??this._calculate_centroid(e,r),this.parent=null,this}_calculate_centroid(t,e){const r=t.size,s=e.size,n=t.centroid,i=e.centroid,o=this.size,a=t.centroid.length,h=new Float64Array(a);for(let t=0;t<a;++t)h[t]=(r*n[t]+s*i[t])/o;return h}get isLeaf(){return 0===this.depth}leaves(){if(this.isLeaf)return[this];const t=this.left,e=this.right;return(t.isLeaf?[t]:t.leaves()).concat(e.isLeaf?[e]:e.leaves())}descendants(){if(this.isLeaf)return[this];const t=this.left.descendants(),e=this.right.descendants();return t.concat(e).concat([this])}}class b{constructor(t,r,s=null,n=e,i=1212){this._metric=n,this._matrix=t,this._A=this._matrix.to2dArray,this._K=r;const[o,a]=t.shape;return this._N=o,this._D=a,this._max_iter=s||10*Math.log10(o),this._distance_matrix=new _(o,o,"zeros"),r>o&&(r=o),this._randomizer=new c(i),this._clusters=new Array(o).fill(void 0),this._cluster_medoids=this._get_random_medoids(r),this._is_initialized=!1,this}get_clusters(){const t=this._K,e=this._A;this._is_initialized||this.init(t,this._cluster_medoids);const r=new Array(t).fill().map((()=>new Array));return e.forEach(((t,e)=>{r[this._nearest_medoid(t,e).index_nearest].push(e)})),r.medoids=this._cluster_medoids,r}async*generator(){const t=this._max_iter;yield this.get_clusters();let e=!1,r=0;do{e=this._iteration(),yield this.get_clusters()}while(!e&&++r<t)}_iteration(){const t=this._A,e=this._K,r=this._cluster_medoids,s=t.map(((t,e)=>this._nearest_medoid(t,e))),n=new Array(e).fill(0),i=new Array(e).fill(null);if(t.forEach(((o,a)=>{if(r.findIndex((t=>t===a))<0){const r=s[a].distance_nearest,h=new Array(e).fill(-r);t.forEach(((t,r)=>{if(a===r)return;const n=this._get_distance(r,a,t,o),{index_nearest:i,distance_nearest:l,distance_second:_}=s[r];if(h[i]+=Math.min(n,_)-l,n<l)for(let t=0;t<e;++t)t!==i&&(h[t]+=n-l)})),h.map(((t,e)=>[t,e])).filter((([t,e])=>t<n[e])).forEach((([t,e])=>{t<n[e]&&(n[e]=t,i[e]=a)}))}})),f(n)>=0)return!0;for(;f(n)<0;){const e=n.map(((t,e)=>[t,e])).sort((([t],[e])=>t-e))[0][1];0==r.filter((t=>t==i[e])).length&&(r[e]=i[e]),n[e]=0,n.map(((t,e)=>[t,e])).filter((([t])=>t<0)).forEach((([i,o])=>{const a=t[o];let h=0;t.forEach(((t,n)=>{r.findIndex((t=>t!=o&&t==n))>=0||e!=o&&(s[n].index_nearest===r[o]?h+=Math.min(this._get_distance(n,o,t,a),s[n].distance_second)-s[n].distance_nearest:h+=Math.min(this._get_distance(n,o,t,a)-s[n].distance_nearest,0))})),n[o]=h}))}return this._cluster_medoids=r,!1}_get_distance(t,e,r=null,s=null){if(t===e)return 0;const n=this._distance_matrix,i=this._A,o=this._metric;let a=n.entry(t,e);return 0===a&&(a=o(r||i[t],s||i[e]),n.set_entry(t,e,a),n.set_entry(e,t,a)),a}_nearest_medoid(t,e){const r=this._cluster_medoids,s=this._A,[n,i]=r.map(((r,n)=>{const i=s[r];return[this._get_distance(e,r,t,i),n]})).sort(((t,e)=>t[0]-e[0]));return{distance_nearest:n[0],index_nearest:n[1],distance_second:i[0],index_second:i[1]}}init(t,e){t||(t=this._K),e||(e=this._get_random_medoids(t));const r=this._max_iter;let s=!1,n=0;do{s=this._iteration()}while(!s&&++n<r);return this}_get_random_medoids(t){const e=this._N,r=this._A,s=o(0,e-1),n=this._randomizer,i=Math.min(e,10+Math.ceil(Math.sqrt(e))),a=new Array(i).fill(1/0),h=[];let l=1/0,_=n.choice(s,i);for(let t=0;t<i;++t){const e=_[t],s=r[e];for(let e=0;e<i;++e){if(e===t)continue;const n=r[_[e]];a[t]+=this._get_distance(t,e,s,n)}a[t]<l&&(l=a[t],h.push(e))}for(let e=1;e<t;++e){let t=1/0;_=n.choice(s.filter((t=>h.findIndex((e=>e===t))<0)),i);for(let e=0;e<i;++e){let s=0;const n=_[e],o=r[n];for(let t=0;t<i;++t){if(t===e)continue;const i=_[t],a=r[i];let l=this._get_distance(n,i,o,a)-f(h.map((t=>this._get_distance(i,t,a))));l<0&&(s+=l)}s<t&&(t=s,h.push(n))}l+=t}return h.slice(0,t)}}t.BallTree=m,t.DisjointSet=p,t.FASTMAP=class extends g{constructor(t,r){return super(t,{d:2,metric:e,seed:1212},r),this}_choose_distant_objects(t){const e=this.X.shape[0];let r=this._randomizer.random_int%e-1,s=null,n=-1/0;for(let i=0;i<e;++i){const e=t(r,i);e>n&&(n=e,s=i)}n=-1/0;for(let i=0;i<e;++i){const e=t(s,i);e>n&&(n=e,r=i)}return[r,s,n]}transform(){const t=this.X,e=t.shape[0],{d:r,metric:s}=this._parameters,n=new _(e,r,0);let i=(e,r)=>s(t.row(e),t.row(r));for(let t=0;t<r;++t){let r=i;const[s,o,a]=this._choose_distant_objects(i);if(0!==a){for(let r=0;r<e;++r){const e=(i(s,r)**2+a**2-i(o,r)**2)/(2*a);n.set_entry(r,t,e)}i=(e,s)=>Math.sqrt(r(e,s)**2-(n.entry(e,t)-n.entry(s,t))**2)}}return this.Y=n,this.projection}},t.Heap=d,t.Hierarchical_Clustering=class{constructor(t,r="complete",s=e){if(this._id=0,this._matrix=t instanceof _?t:_.from(t),this._metric=s,this._linkage=r,"precomputed"===s&&this._matrix.shape[0]!==this._matrix.shape[1])throw new Error("If metric is 'precomputed', then matrix has to be square!");return this.init(),this.root=this.do(),this}get_clusters(t,e="distance"){let r,s=[];switch(e){case"distance":r=t=>t.dist;break;case"depth":r=t=>t.depth;break;default:throw new Error("invalid type")}return this._traverse(this.root,r,t,s),s}_traverse(t,e,r,s){e(t)<=r?s.push(t.leaves()):(this._traverse(t.left,e,r,s),this._traverse(t.right,e,r,s))}init(){const t=this._metric,e=this._matrix,r=this._n=e.shape[0],s=this._d_min=new Float64Array(r);let n;if("precomputed"!==t){n=new _(r,r,0);for(let i=0;i<r;++i){s[i]=0;for(let o=0;o<r;++o)n.set_entry(i,o,i===o?1/0:t(e.row(i),e.row(o))),n.entry(i,s[i])>n.entry(i,o)&&(s[i]=o)}}else{n=this._matrix.clone();for(let t=0;t<r;++t)for(let e=0;e<r;++e)t===e?n.set_entry(t,e,1/0):n.entry(t,s[t])>n.entry(t,e)&&(s[t]=e)}this._distance_matrix=n;const i=this._clusters=new Array(r),o=this._c_size=new Uint16Array(r);for(let t=0;t<r;++t)i[t]=[],i[t][0]=new M(this._id++,null,null,0,e.row(t),t,1,0),o[t]=1;return this}do(){const t=this._n,e=this._d_min,r=this._distance_matrix,s=this._clusters,n=this._c_size,i=this._linkage;let o=null;for(let a=0,h=t-1;a<h;++a){let a=0;for(let s=0;s<t;++s){let n=r.entry(s,e[s]);for(let i=s+1;i<t;++i)n>r.entry(s,i)&&(e[s]=i,n=r.entry(s,e[s]))}for(let s=0;s<t;++s)r.entry(s,e[s])<r.entry(a,e[a])&&(a=s);let h=e[a],l=s[a][0],_=s[h][0],c=l.isLeaf?[l.index]:l.index,u=_.isLeaf?[_.index]:_.index,f=c.concat(u),d=new M(this._id++,l,_,r.entry(a,h),null,f);l.parent=d,_.parent=d,s[a].unshift(d),n[a]+=n[h];for(let e=0;e<t;++e){const t=r.entry(a,e),s=r.entry(h,e);let o;switch(i){case"single":o=Math.min(t,s);break;case"complete":o=Math.max(t,s);break;case"average":o=(n[a]*t+n[h]*s)/(n[a]+n[e])}r.set_entry(e,a,o),r.set_entry(a,e,o)}r.set_entry(a,a,1/0);for(let e=0;e<t;++e)r.set_entry(e,h,1/0),r.set_entry(h,e,1/0);o=d}return o}},t.ISOMAP=class extends g{constructor(t,r){return super(t,{neighbors:void 0,d:2,metric:e,seed:1212,eig_args:{}},r),this.parameter("neighbors",Math.min(this._parameters.neighbors??Math.max(Math.floor(this.X.shape[0]/10),2),this._N-1)),this._parameters.eig_args.hasOwnProperty("seed")||(this._parameters.eig_args.seed=this._randomizer),this}transform(){this.check_init();const t=this.X,e=this._N,{d:r,metric:s,eig_args:n,neighbors:i}=this._parameters,o=new _;o.shape=[e,e,(e,r)=>e<=r?s(t.row(e),t.row(r)):o.entry(r,e)];const a=[];for(let t=0;t<e;++t){const r=[];for(let s=0;s<e;++s)r.push({index:s,distance:o.entry(t,s)});const s=new d(r,(t=>t.distance),"min");a.push(s.toArray().slice(1,i+1))}const h=new _(e,e,((t,e)=>{const r=a[t].find((t=>t.index===e));return r?r.distance:1/0}));for(let t=0;t<e;++t)for(let r=0;r<e;++r)for(let s=0;s<e;++s)h.set_entry(t,r,Math.min(h.entry(t,r),h.entry(t,s)+h.entry(s,r)));let c=new Float64Array(e),u=new Float64Array(e),f=0;const p=new _(e,e,((t,e)=>{let r=h.entry(t,e);return r=r===1/0?0:r,c[t]+=r,u[e]+=r,f+=r,r}));c=c.map((t=>t/e)),u=u.map((t=>t/e)),f/=e**2;const m=new _(e,e,((t,e)=>p.entry(t,e)-c[t]-u[e]+f)),{eigenvectors:y}=l(m,r,n);return this.Y=_.from(y).transpose(),this.projection}},t.KMeans=class{constructor(t,r,s=e,n=1987,i=!0){this._metric=s,this._matrix=t,this._K=r;const[o,a]=t.shape;return this._N=o,this._D=a,r>o&&(r=o),this._randomizer=new c(n),this._clusters=new Array(o).fill(void 0),this._cluster_centroids=this._get_random_centroids(r),i&&this.init(r,this._cluster_centroids),this}get_clusters(){const t=this._K,e=this._clusters,r=new Array(t).fill().map((()=>new Array));return e.forEach(((t,e)=>r[t].push(e))),r}_furthest_point(t,e){const r=this._matrix,s=this._metric;let n=t.length;return d.heapify(e,(e=>{const i=r.row(e);let o=0;for(let e=0;e<n;++e)o+=s(i,t[e]);return o}),"max").pop().element}_get_random_centroids(t){const e=this._N,r=this._randomizer,s=this._matrix,n=new Array(t).fill(),i=o(0,e-1),a=r.random_int%(e-1);n[0]=s.row(a);const h=[a],l=Math.floor((e-t)/t);for(let e=1;e<t;++e){const t=r.choice(i.filter((t=>-1==h.indexOf(t))),l),o=this._furthest_point(n.slice(0,e),t);h.push(o),n[e]=s.row(o)}return n}_iteration(t){const e=t.length,r=this._N,s=this._D,n=this._matrix,i=this._metric,o=this._clusters;let a=!1;for(let s=0;s<r;++s){const r=n.row(s);let h=1/0,l=null;for(let s=0;s<e;++s){let e=i(t[s],r);e<h&&(h=e,l=s)}o[s]!==l&&(a=!0),o[s]=l}for(let r=0;r<e;++r){const e=t[r];for(let t=0;t<s;++t)e[t]=0}return this._compute_centroid(t),{clusters_changed:a,cluster_centroids:t}}_compute_centroid(t){const e=t.length,r=this._N,s=this._D,n=this._matrix,i=this._clusters,o=new Array(e).fill(0);for(let e=0;e<r;++e){const r=n.row(e),a=i[e];o[a]++;const h=t[a];for(let t=0;t<s;++t)h[t]+=r[t]}for(let r=0;r<e;++r){const e=o[r];t[r]=t[r].map((t=>t/e))}}init(t,e){t||(t=this._K),e||(e=this._get_random_centroids(t));let r=!1;do{const t=this._iteration(e);e=t.cluster_centroids,r=t.clusters_changed}while(r)}},t.KMedoids=b,t.KNN=y,t.LDA=class extends g{constructor(t,e){return super(t,{labels:null,d:2,seed:1212,eig_args:{}},e),this._parameters.eig_args.hasOwnProperty("seed")||(this._parameters.eig_args.seed=this._randomizer),this}transform(){const t=this.X,[e,r]=t.shape,{d:s,labels:n,eig_args:i}=this._parameters;if(null===n||n.length!=e)throw new Error("LDA needs parameter label to every datapoint to work!");const o={};let a=0;n.forEach(((e,r)=>{e in o?(o[e].count++,o[e].rows.push(t.row(r))):o[e]={id:a++,count:1,rows:[t.row(r)]}}));const h=t.mean,c=new _(a,r);for(const t in o){const e=_.from(o[t].rows).meanCols;for(let s=0;s<r;++s)c.set_entry(o[t].id,s,e[s])}let u=new _(r,r);for(const t in o){const e=c.row(o[t].id),s=new _(r,1,(t=>e[t]-h)),n=o[t].count;u=u.add(s.dot(s.transpose()).mult(n))}let f=new _(r,r);for(const t in o){const e=c.row(o[t].id),s=new _(r,1,(t=>e[t])),n=o[t].rows;for(let e=0,i=o[t].count;e<i;++e){const t=new _(r,1,((t,r)=>n[e][t]-s.entry(t,0)));f=f.add(t.dot(t.transpose()))}}let{eigenvectors:d}=l(f.inverse().dot(u),s,i);return d=_.from(d).transpose(),this.Y=t.dot(d),this.projection}},t.LLE=class extends g{constructor(t,r){return super(t,{neighbors:void 0,d:2,metric:e,seed:1212,eig_args:{}},r),this.parameter("neighbors",Math.min(r.neighbors??Math.max(Math.floor(this._N/10),2),this._N-1)),this._parameters.eig_args.hasOwnProperty("seed")||(this._parameters.eig_args.seed=this._randomizer),this}transform(){const t=this.X,e=this._N,s=this._D,{neighbors:i,d:o,eig_args:a,metric:h}=this._parameters,c=n(t,i,h),u=new _(i,1,1),f=new _(e,e);for(let n=0;n<e;++n){const e=c[n],o=new _(i,s,((r,s)=>t.entry(e[r].j,s)-t.entry(n,s))),a=o.dot(o.T);if(i>s){const t=r(a.diag)/1e3;for(let e=0;e<i;++e)a.set_entry(e,e,a.entry(e,e)+t)}let h=_.solve_CG(a,u,this._randomizer);h=h.divide(h.sum);for(let t=0;t<i;++t)f.set_entry(n,e[t].j,h.entry(t,0))}const d=new _(e,e,"identity").sub(f),p=d.T.dot(d),{eigenvectors:m}=l(p.T.inverse(),o+1,a);return this.Y=_.from(m.slice(1,1+o)).T,this.projection}},t.LSP=class extends g{constructor(t,r){return super(t,{neighbors:void 0,control_points:void 0,d:2,metric:e,seed:1212},r),this.parameter("neighbors",Math.min(r.neighbors??Math.max(Math.floor(this._N/10),2),this._N-1)),this.parameter("control_points",Math.min(r.control_points??Math.ceil(Math.sqrt(this._N)),this._N-1)),this._is_initialized=!1,this}init(t=A,e={},r=m){if(this._is_initialized)return this;const s=this.X,n=this._N,i=this.parameter("neighbors"),o=this.parameter("d"),a=this.parameter("seed"),h=this.parameter("metric");e=Object.assign({d:o,metric:h,seed:a},e);const l=this.parameter("control_points"),c=new b(s,l,null,h).get_clusters().medoids,u=new _(l,n,"zeros");c.forEach(((t,e)=>{u.set_entry(e,t,1)}));const f=new t(_.from(c.map((t=>s.row(t)))),e).transform(),d=s.to2dArray,p=new r(d,h),y=new _(n,n,"I"),g=-1/i;d.forEach(((t,e)=>{for(const{index:r}of p.search(t,i).iterate())e!==r&&y.set_entry(e,r,g)}));const w=y.concat(u,"vertical"),x=new _(n,o,"zeros").concat(f,"vertical");return this._A=w,this._b=x,this._is_initialized=!0,this}transform(){this.check_init();const t=this._A,e=t.T,r=this._b,s=e.dot(t),n=e.dot(r);return this.Y=_.solve_CG(s,n,this._randomizer),this.projection}},t.LTSA=class extends g{constructor(t,r){if(super(t,{neighbors:void 0,d:2,metric:e,seed:1212,eig_args:{}},r),this.parameter("neighbors",Math.min(r.neighbors??Math.max(Math.floor(this._N/10),2),this._N-1)),this._parameters.eig_args.hasOwnProperty("seed")||(this._parameters.eig_args.seed=this._randomizer),this._D<=this.parameter("d"))throw new Error(`Dimensionality of X (D = ${this._D}) must be greater than the required dimensionality of the result (d = ${this.parameter("d")})!`);return this}transform(){const t=this.X,[e,r]=t.shape,{d:s,neighbors:i,metric:o,eig_args:a}=this._parameters,h=n(t,i,o),c=new _(r,r,"center"),u=new _(e,e,0);for(let r=0;r<e;++r){const e=[r,...h[r].map((t=>t.j))];let n=_.from(e.map((e=>t.row(e))));n=n.dot(c);const o=n.dot(n.transpose()),{eigenvectors:f}=l(o,s,a),d=_.from(f),p=d.transpose().dot(d).add(1/Math.sqrt(i+1));for(let t=0;t<i+1;++t)for(let r=0;r<i+1;++r)u.set_entry(e[t],e[r],u.entry(e[t],e[r])-(t===r?1:0)+p.entry(t,r))}const{eigenvectors:f}=l(u,s+1,a);return this.Y=_.from(f.slice(1)).transpose(),this.projection}},t.MDS=A,t.Matrix=_,t.OPTICS=class{constructor(t,r,s,n=e){return this._matrix=t,this._epsilon=r,this._min_points=s,this._metric=n,this._ordered_list=[],this._clusters=[],this._DB=new Array(t.shape[0]).fill(),this.init(),this}init(){const t=this._ordered_list,e=this._matrix,r=e.shape[0],s=this._DB,n=this._clusters;let i=this._cluster_index=0;for(let t=0;t<r;++t)s[t]={element:e.row(t),index:t,reachability_distance:void 0,processed:!1};for(const e of s)if(!e.processed&&(e.neighbors=this._get_neighbors(e),e.processed=!0,n.push([e.index]),i=n.length-1,t.push(e),null!=this._core_distance(e))){const t=new d(null,(t=>t.reachability_distance),"min");this._update(e,t),this._expand_cluster(t,n[i])}return this}_get_neighbors(t){if("neighbors"in t)return t.neighbors;const e=this._DB,r=this._metric,s=this._epsilon,n=[];for(const i of e)i.index!=t.index&&r(t.element,i.element)<s&&n.push(i);return n}_core_distance(t){const e=this._min_points,r=this._metric;if(!(t.neighbors&&t.neighbors.length<=e))return r(t.element,t.neighbors[e].element)}_update(t,e){const r=this._metric,s=this._core_distance(t),n=this._get_neighbors(t);for(const i of n){if(i.processed)continue;const n=Math.max(s,r(t.element,i.element));e.raw_data().findIndex((t=>t.element==i))<0?(i.reachability_distance=n,e.push(i)):n<i.reachability_distance&&(i.reachability_distance=n,e=d.heapify(e.data(),(t=>t.reachability_distance),"min"))}}_expand_cluster(t,e){const r=this._ordered_list;for(;!t.empty;){const s=t.pop().element;s.neighbors=this._get_neighbors(s),s.processed=!0,e.push(s.index),r.push(s),null!=this._core_distance(s)&&(this._update(s,t),this._expand_cluster(t,e))}}get_clusters(){const t=[],e=[],r=this._min_points;for(const s of this._clusters)s.length<r?e.push(...s):t.push(s);return t.push(e),t}get_cluster_affirmation(){const t=this._matrix.shape[0],e=new Array(t).fill(),r=this.get_clusters();for(let t=0,s=r.length;t<s;++t){const n=r[t];for(const r of n)e[r]=t<s-1?t:-1}return e}},t.PCA=w,t.Randomizer=c,t.SAMMON=class extends g{constructor(t,r){return super(t,{magic:.1,d:2,metric:e,seed:1212,init_DR:"random",init_parameters:{}},r),this}init(){const t=this.X.shape[0],{d:e,metric:r,init_DR:s,init_parameters:n}=this._parameters;if("random"===s){const r=this._randomizer;this.Y=new _(t,e,(()=>r.random))}else{if(!["PCA","MDS"].includes(s))throw new Error('init_DR needs to be either "random" or a DR method!');this.Y=_.from("PCA"==s?w.transform(this.X,n):A.transform(this.X,n))}return this.distance_matrix="precomputed"==r?_.from(this.X):i(this.X,r),this}transform(t=200){this._is_initialized||this.init();for(let e=0;e<t;++e)this._step();return this.projection}*generator(t=200){this._is_initialized||this.init();for(let e=0;e<t;++e)this._step(),yield this.projection;return this.projection}_step(){const t=this.parameter("magic"),e=this.distance_matrix,r=this.X.shape[0],{d:s,metric:n}=this._parameters;let i=this.Y,o=new _(r,s,0),a=new Float64Array(s);for(let h=0;h<r;++h){let l=new Float64Array(s),_=new Float64Array(s);const c=i.row(h);for(let t=0;t<r;++t){if(h===t)continue;const r=i.row(t),o=new Float64Array(s);for(let t=0;t<s;++t)o[t]=c[t]-r[t];const a=n(c,r),u=e.entry(h,t),f=u-a,d=Math.max(u*a,.01);for(let t=0;t<s;++t)l[t]+=o[t]*f/d,_[t]+=(f-Math.pow(o[t],2)*(1+f/a)/a)/d}for(let e=0;e<s;++e){const r=i.entry(h,e)+(t*l[e]/Math.abs(_[e])||0);o.set_entry(h,e,r),a[e]+=r}}for(let t=0;t<s;++t)a[t]/=r;for(let t=0;t<r;++t)for(let e=0;e<s;++e)i.set_entry(t,e,o.entry(t,e)-a[e]);return i}},t.TSNE=class extends g{constructor(t,r){return super(t,{perplexity:50,epsilon:10,d:2,metric:e,seed:1212},r),[this._N,this._D]=this.X.shape,this._iter=0,this.Y=new _(this._N,this.parameter("d"),(()=>this._randomizer.random)),this}init(){const t=Math.log(this.parameter("perplexity")),e=this._N,r=this._D,{metric:s}=this._parameters,n=this.X;let i;if("precomputed"==s)i=druid.Matrix.from(n);else{i=new _(e,e);for(let t=0;t<e;++t){const r=n.row(t);for(let o=t+1;o<e;++o){const e=s(r,n.row(o));i.set_entry(t,o,e),i.set_entry(o,t,e)}}}const o=new _(e,e,"zeros");this._ystep=new _(e,r,"zeros"),this._gains=new _(e,r,1);let a=new Float64Array(e);for(let r=0;r<e;++r){let s=-1/0,n=1/0,h=1,l=!1,_=0;for(;!l;){let o=0;for(let t=0;t<e;++t){let e=Math.exp(-i.entry(r,t)*h);r===t&&(e=0),a[t]=e,o+=e}let c=0;for(let t=0;t<e;++t){let e=0===o?0:a[t]/o;a[t]=e,e>1e-7&&(c-=e*Math.log(e))}c>t?(s=h,h=n===1/0?2*h:(h+n)/2):(n=h,h=s===-1/0?h/2:(h+s)/2),++_,Math.abs(c-t)<1e-4&&(l=!0),_>=50&&(l=!0)}for(let t=0;t<e;++t)o.set_entry(r,t,a[t])}const h=new _(e,e,"zeros"),l=2*e;for(let t=0;t<e;++t)for(let r=t;r<e;++r){const e=Math.max((o.entry(t,r)+o.entry(r,t))/l,1e-100);h.set_entry(t,r,e),h.set_entry(r,t,e)}return this._P=h,this}transform(t=500){this.check_init();for(let e=0;e<t;++e)this.next();return this.projection}*generator(t=500){this.check_init();for(let e=0;e<t;++e)this.next(),yield this.projection;return this.projection}next(){const t=++this._iter,e=this._P,r=this._ystep,s=this._gains,n=this._N,{d:i,epsilon:o}=this._parameters;let a=this.Y;const h=t<100?4:1,l=new _(n,n,"zeros");let c=0;for(let t=0;t<n;++t)for(let e=t+1;e<n;++e){let r=0;for(let s=0;s<i;++s){const n=a.entry(t,s)-a.entry(e,s);r+=n*n}const s=1/(1+r);l.set_entry(t,e,s),l.set_entry(e,t,s),c+=2*s}const u=new _(n,n,0);for(let t=0;t<n;++t)for(let e=t+1;e<n;++e){const r=Math.max(l.entry(t,e)/c,1e-100);u.set_entry(t,e,r),u.set_entry(e,t,r)}const f=new _(n,i,"zeros");for(let t=0;t<n;++t)for(let r=0;r<n;++r){const s=4*(h*e.entry(t,r)-u.entry(t,r))*l.entry(t,r);for(let e=0;e<i;++e)f.set_entry(t,e,f.entry(t,e)+s*(a.entry(t,e)-a.entry(r,e)))}let d=new Float64Array(i);for(let e=0;e<n;++e)for(let n=0;n<i;++n){const i=f.entry(e,n),h=r.entry(e,n),l=s.entry(e,n);let _=Math.sign(i)===Math.sign(h)?.8*l:l+.2;_<.01&&(_=.01),s.set_entry(e,n,_);const c=(t<250?.5:.8)*h-o*_*i;r.set_entry(e,n,c),a.set_entry(e,n,a.entry(e,n)+c),d[n]+=a.entry(e,n)}for(let t=0;t<n;++t)for(let e=0;e<2;++e)a.set_entry(t,e,a.entry(t,e)-d[e]/n);return this.Y}},t.TopoMap=class extends g{constructor(t,r){return super(t,{metric:e,seed:1212},r),[this._N,this._D]=this.X.shape,this._distance_matrix=new _(this._N,this._N,0),this}__lazy_distance_matrix(t,e,r){const s=this._distance_matrix,n=this.X,i=s.entry(t,e);if(0===i){let i=r(n.row(t),n.row(e));return s.set_entry(t,e,i),s.set_entry(e,t,i),i}return i}_make_minimum_spanning_tree(t=e){const r=this._N,s=[...this.X];let n=new p(s);const i=[];let o=[];for(let e=0;e<r;++e)for(let s=e+1;s<r;++s)o.push([e,s,this.__lazy_distance_matrix(e,s,t)]);o=o.sort(((t,e)=>t[2]-e[2]));for(const[t,e,r]of o){const o=n.find(s[t]),a=n.find(s[e]);o!==a&&(i.push([t,e,r]),n.union(o,a))}return i.sort(((t,e)=>t[2]-e[2]))}init(){const{metric:t}=this._parameters;return this.Y=new _(this._N,2,0),this._Emst=this._make_minimum_spanning_tree(t),this._is_initialized=!0,this}__hull_cross([t,e],[r,s],[n,i]){return(r-t)*(i-e)-(s-e)*(n-t)<=0}__hull(t){const e=t.sort((([t,e],[r,s])=>e-s||t-r)),r=e.length;if(r<=2)return e;const s=[];for(let t=0;t<r;++t){for(;s.length>=2&&this.__hull_cross(s[s.length-2],s[s.length-1],e[t]);)s.pop();s.push(e[t])}const n=[];for(let t=r-1;t>=0;--t){for(;n.length>=2&&this.__hull_cross(n[n.length-2],n[n.length-1],e[t]);)n.pop();n.push(e[t])}return n.pop(),s.pop(),s.concat(n)}__findAngle([t,r],[s,n]){const i=e([t,r],[s,n]);if(0===i)return{sin:0,cos:1};const o=[(s-t)/i,(n-r)/i],a=o[0];let h=Math.sqrt(1-a*a);return h=o[1]>=0?-h:h,{sin:h,cos:a}}__align_hull(t,r,s){let n,i,o,a=-1;for(let s=0;s<t.length;++s){const i=e(t[s],r);(-1===a||n>i)&&(n=i,a=s)}s?(i=t[a],o=t[(a+1)%t.length]):(0==a&&(a=t.length-1),i=t[a],o=t[(a-1)%t.length]);const h={tx:-t[a][0],ty:-t[a][1]};if(t.length>=2){const{sin:t,cos:e}=this.__findAngle(i,o);h.sin=t,h.cos=e}else h.sin=0,h.cos=1;return h}__transform([t,e],{tx:r,ty:s,sin:n,cos:i}){let o=t+r,a=e+s;return[o*i-a*n,o*n+a*i]}__transform_component(t,e,r){const s=t.length;for(let n=0;n<s;++n){const s=t[n],[i,o]=this.__transform(s,e);s[0]=i,s[1]=o+r}}__align_components(t,e,r){const s=[...t.__disjoint_set.children],n=[...e.__disjoint_set.children],i=this.__hull(s),o=this.__hull(n),a=this.__align_hull(i,t,!1),h=this.__align_hull(o,e,!0);this.__transform_component(s,a,0),this.__transform_component(n,h,r)}transform(){this._is_initialized||this.init();const t=this._Emst,e=this.Y.to2dArray,r=new p(e.map(((t,e)=>(t.i=e,t))));for(const[s,n,i]of t){const t=r.find(e[s]),o=r.find(e[n]);t!==o&&(this.__align_components(t,o,i),r.union(t,o))}return this.projection}*generator(){this._is_initialized||this.init();const t=this._Emst,e=this.Y.to2dArray,r=new p(e.map(((t,e)=>(t.i=e,t))));for(const[s,n,i]of t){const t=r.find(e[s]),o=r.find(e[n]);t!==o&&(this.__align_components(t,o,i),r.union(t,o),yield this.projection)}return this.projection}},t.TriMap=class extends g{constructor(t,r){return super(t,{weight_adj:500,c:5,d:2,metric:e,tol:1e-8,seed:1212},r),this}init(t=null,e=null){const r=this.X,s=r.shape[0],{d:n,metric:i,c:o}=this._parameters;this.n_inliers=2*o,this.n_outliers=1*o,this.n_random=1*o,this.Y=t||new w(r,n).transform(),this.knn=e||new m(r.to2dArray,i);const{triplets:a,weights:h}=this._generate_triplets(this.n_inliers,this.n_outliers,this.n_random);return this.triplets=a,this.weights=h,this.lr=1e3*s/a.shape[0],this.C=1/0,this.vel=new _(s,n,0),this.gain=new _(s,n,1),this}_generate_triplets(t,e,r){const{metric:s,weight_adj:n}=this._parameters,i=this.X,o=i.shape[0],a=this.knn,h=Math.min(t+20,o),l=new _(o,h),c=new _(o,h);for(let t=0;t<o;++t)a.search(i.row(t),h+1).raw_data().filter((t=>0!=t.value)).sort(((t,e)=>t.value-e.value)).forEach(((e,r)=>{l.set_entry(t,r,e.element.index),c.set_entry(t,r,e.value)}));const u=new Float64Array(o);for(let t=0;t<o;++t)u[t]=Math.max((c.entry(t,3)+c.entry(t,4)+c.entry(t,5)+c.entry(t,6))/4,1e-10);const f=this._find_p(c,u,l);let d=this._sample_knn_triplets(f,l,t,e),p=d.shape[0];const m=new Float64Array(p);for(let t=0;t<p;++t){const e=d.entry(t,0),r=d.entry(t,2);m[t]=s(i.row(e),i.row(r))}let y=this._find_weights(d,f,l,m,u);if(r>0){const{random_triplets:t,random_weights:e}=this._sample_random_triplets(i,r,u);d=d.concat(t,"vertical"),y=Float64Array.from([...y,...e])}p=d.shape[0];let g=-1/0;for(let t=0;t<p;++t)isNaN(y[t])&&(y[t]=0),g<y[t]&&(g=y[t]);let w=-1/0;for(let t=0;t<p;++t)y[t]/=g,y[t]+=1e-4,y[t]=Math.log(1+n*y[t]),w<y[t]&&(w=y[t]);for(let t=0;t<p;++t)y[t]/=w;return{triplets:d,weights:y}}_find_p(t,e,r){const[s,n]=t.shape;return new _(s,n,((s,n)=>Math.exp(-(t.entry(s,n)**2)/e[s]/e[r.entry(s,n)])))}_sample_knn_triplets(t,e,r,s){const n=e.shape[0],i=new _(n*r*s,3);for(let o=0;o<n;++o){let a=o*r*s;const h=this.__argsort(t.row(o).map((t=>-t)));for(let t=0;t<r;++t){let r=t*s;const l=e.entry(o,h[t]),_=this._rejection_sample(s,n,h.slice(0,t+1));for(let t=0;t<s;++t){const e=a+r+t,s=_[t];i.set_entry(e,0,o),i.set_entry(e,1,l),i.set_entry(e,2,s)}}}return i}__argsort(t){return t.map(((t,e)=>({d:t,i:e}))).sort(((t,e)=>t.d-e.d)).map((t=>t.i))}_rejection_sample(t,e,r){const s=this._randomizer,n=o(0,e-1).filter((t=>r.indexOf(t)<0));return s.choice(n,Math.min(t,n.length-2))}_find_weights(t,e,r,s,n){const i=t.shape[0],o=new Float64Array(i);for(let a=0;a<i;++a){const i=t.entry(a,0),h=r.row(i).indexOf(t.entry(a,1)),l=e.entry(i,h);let _=Math.exp(-(s[a]**2)/(n[i]*n[t.entry(a,2)]));_<1e-20&&(_=1e-20),o[a]=l/_}return o}_sample_random_triplets(t,e,r){const s=this.parameter("metric"),n=this._randomizer,i=t.shape[0],a=new _(i*e,3),h=new Float64Array(i*e);for(let l=0;l<i;++l){const _=l*e,c=[...o(0,l-1),...o(l+1,i-1)];for(let i=0;i<e;++i){let[e,o]=n.choice(c,2),u=Math.exp(-(s(t.row(l),t.row(e))**2)/(r[l]*r[e]));u<1e-20&&(u=1e-20);let f=Math.exp(-(s(t.row(l),t.row(o))**2)/(r[l]*r[o]));f<1e-20&&(f=1e-20),u<f&&([e,o]=[o,e],[u,f]=[f,u]);const d=_+i;a.set_entry(d,0,l),a.set_entry(d,1,e),a.set_entry(d,2,o),h[d]=u/f}}return{random_triplets:a,random_weights:h}}_grad(t){const e=this.n_inliers,r=this.n_outliers,s=this.triplets,n=this.weights,[i,o]=t.shape,a=s.shape[0],h=new _(i,o,0);let l=new Float64Array(o),c=new Float64Array(o),u=1,f=1,d=0,p=0;const m=i*e*r;for(let e=0;e<a;++e){const[i,a,_]=s.row(e);if(e%r==0||e>=m){u=1,f=1;for(let e=0;e<o;++e){const r=t.entry(i,e),s=t.entry(a,e),n=t.entry(_,e);l[e]=r-s,c[e]=r-n,u+=l[e]**2,f+=c[e]**2}}else{f=1;for(let e=0;e<o;++e){const r=t.entry(i,e),s=t.entry(_,e);c[e]=r-s,f+=c[e]**2}}u>f&&++d,p+=n[e]/(1+f/u);const y=(n[e]/(u+f))**2;for(let t=0;t<o;++t){const e=l[t]*f*y,r=c[t]*u*y;h.set_entry(i,t,h.entry(i,t)+e-r),h.set_entry(a,t,h.entry(a,t)-e),h.set_entry(_,t,h.entry(_,t)+r)}}return{grad:h,loss:p,n_viol:d}}transform(t=400){this.check_init();for(let e=0;e<t;++e)this._next(e);return this.projection}*generator(t=800){this.check_init();for(let e=0;e<t;++e)this._next(e),yield this.projection;return this.projection}_next(t){const e=t>150?.5:.3,r=this.C,s=this.vel,n=this.Y.add(s.mult(e)),{grad:i,loss:o,n_viol:a}=this._grad(n);return this.C=o,this.Y=this._update_embedding(n,t,i),this.lr*=r>o+this._parameters.tol?1.01:.9,this.Y}_update_embedding(t,e,r){const[s,n]=t.shape,i=e>150?.9:.5,o=this.gain,a=this.vel,h=this.lr;for(let e=0;e<s;++e)for(let s=0;s<n;++s){const n=Math.sign(a.entry(e,s))!=Math.sign(r.entry(e,s))?o.entry(e,s)+.2:Math.max(.8*o.entry(e,s),.01);o.set_entry(e,s,n),a.set_entry(e,s,i*a.entry(e,s)-h*o.entry(e,s)*r.entry(e,s)),t.set_entry(e,s,t.entry(e,s)+a.entry(e,s))}return t}},t.UMAP=class extends g{constructor(t,r){super(t,{n_neighbors:15,local_connectivity:1,min_dist:1,d:2,metric:e,seed:1212,_spread:1,_set_op_mix_ratio:1,_repulsion_strength:1,_negative_sample_rate:5,_n_epochs:350,_initial_alpha:1},r),[this._N,this._D]=this.X.shape;let s=Math.min(this._N-1,this.parameter("n_neighbors"));this.parameter("n_neighbors",s),this.parameter("local_connectivity",Math.min(this.parameter("local_connectivity"),s-1)),this._iter=0;const n=this._randomizer;return this.Y=new _(this._N,this.parameter("d"),(()=>n.random)),this}_find_ab_params(t,e){const s=o(0,3*t,300),n=o(0,3*t,300);for(let r=0,i=s.length;r<i;++r){const i=s[r];n[r]=i<e?1:Math.exp(-(i-e)/t)}return x((t=>{const e=o(1,300).map(((e,r)=>{return n[r]-(i=s[r],o=t[0],a=t[1],1/(1+o*Math.pow(i,2*a)));var i,o,a}));return Math.sqrt(r(e.map((t=>t*t))))}),[1,1])}_compute_membership_strengths(t,e,r){for(let s=0,n=t.length;s<n;++s)for(let n=0,i=t[s].length;n<i;++n){const i=t[s][n].value-r[s];t[s][n].value=i>0?Math.exp(-i/e[s]):1}return t}_smooth_knn_dist(t,e){const r=1e-5,s=.001,{local_connectivity:n,metric:i}=this._parameters,o=Math.log2(e),a=[],h=[],l=this.X,_=l.shape[0],c=[];if("precomputed"===i)for(let r=0;r<_;++r)c.push(t.search(r,e).reverse());else for(const r of l)c.push(t.search(r,e).raw_data().reverse());for(let t=0;t<_;++t){let i=0,l=1/0,_=1;const u=c[t],f=u.filter((t=>t.value>0)),d=f.length;if(d>=n){const e=Math.floor(n),s=n-e;e>0?(a.push(f[e-1]),s>r&&(a[t].value+=s*(f[e].value-f[e-1]))):a[t].value=s*f[0].value}else d>0&&(a[t]=f[d-1].value);for(let s=0;s<64;++s){let s=0;for(let r=0;r<e;++r){const e=u[r].value-a[t];s+=e>0?Math.exp(-e/_):1}if(Math.abs(s-o)<r)break;s>o?[l,_]=[_,(i+l)/2]:[i,_]=l===1/0?[_,2*_]:[_,(i+l)/2]}h[t]=_;const p=u.reduce(((t,e)=>t+e.value),0)/u.length;if(a[t]>0)h[t]<s*p&&(h[t]=s*p);else{const e=c.reduce(((t,e)=>t+e.reduce(((t,e)=>t+e.value),0)/e.length));h[t]>s*e&&(h[t]=s*e)}}return{distances:c,sigmas:h,rhos:a}}_fuzzy_simplicial_set(t,e){const r=t.shape[0],{metric:s}=this._parameters,n="precomputed"===s?new y(t,"precomputed"):new m(t.to2dArray,s);let{distances:i,sigmas:o,rhos:a}=this._smooth_knn_dist(n,e);i=this._compute_membership_strengths(i,o,a);const h=new _(r,r,"zeros");for(let t=0;t<r;++t){const e=i[t];for(let r=0;r<e.length;++r)h.set_entry(t,e[r].element.index,e[r].value)}const l=h.T,c=h.mult(l);return h.add(l).sub(c).mult(this._set_op_mix_ratio).add(c.mult(1-this.parameter("_set_op_mix_ratio")))}_make_epochs_per_sample(t){const e=this._weights,r=new Float32Array(e.length).fill(-1),s=u(e),n=e.map((e=>t*(e/s)));for(let e=0;e<r.length;++e)n[e]>0&&(r[e]=Math.round(t/n[e]));return r}_tocoo(t){const e=[],r=[],s=[],[n,i]=t.shape;for(let o=0;o<n;++o)for(let n=0;n<i;++n){const i=t.entry(o,n);0!==i&&(e.push(o),r.push(n),s.push(i))}return{rows:e,cols:r,data:s}}init(){const{_spread:t,min_dist:e,n_neighbors:r,_n_epochs:s,_negative_sample_rate:n}=this._parameters,[i,o]=this._find_ab_params(t,e);this._a=i,this._b=o,this._graph=this._fuzzy_simplicial_set(this.X,r);const{rows:a,cols:h,data:l}=this._tocoo(this._graph);return this._head=a,this._tail=h,this._weights=l,this._epochs_per_sample=this._make_epochs_per_sample(s),this._epochs_per_negative_sample=this._epochs_per_sample.map((t=>t*n)),this._epoch_of_next_sample=this._epochs_per_sample.slice(),this._epoch_of_next_negative_sample=this._epochs_per_negative_sample.slice(),this}graph(){return this.check_init(),{cols:this._head,rows:this._tail,weights:this._weights}}transform(t=350){this.parameter("_n_epochs")!=t&&(this.parameter("_n_epochs",t),this.init()),this.check_init();for(let e=0;e<t;++e)this.next();return this.projection}*generator(t=350){this.parameter("_n_epochs")!=t&&(this.parameter("_n_epochs",t),this.init()),this.check_init();for(let e=0;e<t;++e)this.next(),yield this.projection;return this.projection}_clip(t){return t>4?4:t<-4?-4:t}_optimize_layout(t,e,r,n){const{_d:i,_alpha:o,_repulsion_strength:a,_a:h,_b:l,_epochs_per_sample:_,_epochs_per_negative_sample:c,_epoch_of_next_negative_sample:u,_epoch_of_next_sample:f,_clip:d}=this,p=n.length;for(let m=0,y=_.length;m<y;++m)if(f[m]<=this._iter){const y=r[m],g=n[m],w=t.row(y),A=e.row(g),x=s(w,A);let M=0;x>0&&(M=-2*h*l*Math.pow(x,l-1)/(h*Math.pow(x,l)+1));for(let r=0;r<i;++r){const s=d(M*(w[r]-A[r]))*o,n=w[r]+s,i=A[r]-s;w[r]=n,A[r]=i,t.set_entry(y,r,n),e.set_entry(g,r,i)}f[m]+=_[m];const b=(this._iter-u[m])/c[m];for(let r=0;r<b;++r){const r=Math.floor(this._randomizer.random*p),_=e.row(n[r]),c=s(w,_);let u=0;if(c>0)u=2*a*l/((.01+c)*(h*Math.pow(c,l)+1));else if(y===r)continue;for(let s=0;s<i;++s){const i=d(u*(w[s]-_[s]))*o,a=w[s]+i,h=_[s]-i;w[s]=a,_[s]=h,t.set_entry(y,s,a),e.set_entry(n[r],s,h)}}u[m]+=b*c[m]}return t}next(){let t=++this._iter,e=this.Y;return this._alpha=this.parameter("_initial_alpha")*(1-t/this.parameter("_n_epochs")),this.Y=this._optimize_layout(e,e,this._head,this._tail),this.Y}},t.canberra=function(t,e){if(t.length!==e.length)return;let r=t.length,s=0;for(let n=0;n<r;++n)s+=Math.abs(t[n]-e[n])/(Math.abs(t[n])+Math.abs(e[n]));return s},t.chebyshev=function(t,e){if(t.length!=e.length)return;let r=t.length,s=[];for(let n=0;n<r;++n)s.push(Math.abs(t[n]-e[n]));return Math.max(...s)},t.cosine=function(t,e){if(t.length!==e.length)return;let r=t.length,s=0,n=0,i=0;for(let o=0;o<r;++o)s+=t[o]*e[o],n+=t[o]*t[o],i+=e[o]*e[o];return Math.acos(s/(Math.sqrt(n)*Math.sqrt(i)))},t.distance_matrix=i,t.euclidean=e,t.euclidean_squared=s,t.hamming=function(t,e){if(t.length!=e.length)return;const r=t.length;let s=0;for(let n=0;n<r;++n){s+=t[n]!=e[n]}return s/r},t.inner_product=function(t,e){const r=t.length;if(r!=e.length)throw new Error("Array a and b must have the same length!");let s=0;for(let n=0;n<r;++n)s+=t*e;return s},t.jaccard=function(t,e){if(t.length!=e.length)return;const r=t.length;let s=0,n=0;for(let i=0;i<r;++i){const r=0!=t[i],o=0!=e[i];s+=r||o,n+=r&&o}return(s-n)/s},t.k_nearest_neighbors=n,t.kahan_sum=function(t){let e,r,s=t.length,n=0,i=0;for(let o=0;o<s;++o)e=t[o]-i,r=n+e,i=r-n-e,n=r;return n},t.linspace=o,t.manhattan=function(t,e){if(t.length!=e.length)return;let r=t.length,s=0;for(let n=0;n<r;++n)s+=Math.abs(t[n]-e[n]);return s},t.max=u,t.min=f,t.neumair_sum=r,t.norm=a,t.normalize=function(t,r=e){const s=a(t,r);return t.map((t=>t/s))},t.powell=x,t.qr=h,t.qr_householder=function(t){const[e,r]=t.shape,s=new _(e,e,"I"),n=t.clone();for(let t=0;t<r;++t){const e=_.from(n.col(t).slice(t)),r=a(e),i=e.entry(0,0),o=-Math.sign(i),h=i-o*r,l=e.divide(h).set_entry(0,0,1),c=-o*h/r,u=l.outer(l),f=n.get_block(t,0),d=f.sub(u.dot(f).mult(c)),p=s.get_block(0,t),m=p.sub(p.dot(u).mult(c));n.set_block(t,0,d),s.set_block(0,t,m)}return{R:n,Q:s}},t.simultaneous_poweriteration=l,t.sokal_michener=function(t,e){if(t.length!=e.length)return;const r=t.length;let s=0;for(let n=0;n<r;++n){s+=0!=t[n]!=(0!=e[n])}return 2*s/(r+s)},t.version="0.5.0",t.yule=function(t,e){if(t.length!=e.length)return;const r=t.length;let s=0,n=0,i=0;for(let o=0;o<r;++o){const r=0!=t[o],a=0!=e[o];s+=r&&a,n+=r&&!a,i+=!r&&r}return 0==n||0==i?0:2*n*i/(s*(r-s-n-i)+n*i)},Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZHJ1aWQubWluLmpzIiwic291cmNlcyI6WyIuLi9tZXRyaWNzL2V1Y2xpZGVhbi5qcyIsIi4uL251bWVyaWNhbC9uZXVtYWlyX3N1bS5qcyIsIi4uL21ldHJpY3MvZXVjbGlkZWFuX3NxdWFyZWQuanMiLCIuLi9tYXRyaXgva19uZWFyZXN0X25laWdoYm9ycy5qcyIsIi4uL21hdHJpeC9kaXN0YW5jZV9tYXRyaXguanMiLCIuLi9tYXRyaXgvbGluc3BhY2UuanMiLCIuLi9tYXRyaXgvbm9ybS5qcyIsIi4uL2xpbmVhcl9hbGdlYnJhL3FyLmpzIiwiLi4vbGluZWFyX2FsZ2VicmEvc2ltdWx0YW5lb3VzX3Bvd2VyaXRlcmF0aW9uLmpzIiwiLi4vbWF0cml4L01hdHJpeC5qcyIsIi4uL3V0aWwvcmFuZG9taXplci5qcyIsIi4uL3V0aWwvbWF4LmpzIiwiLi4vdXRpbC9taW4uanMiLCIuLi9kYXRhc3RydWN0dXJlL0hlYXAuanMiLCIuLi9kYXRhc3RydWN0dXJlL0Rpc2pvaW50U2V0LmpzIiwiLi4va25uL0JhbGxUcmVlLmpzIiwiLi4va25uL0tOTi5qcyIsIi4uL2RpbXJlZC9EUi5qcyIsIi4uL2RpbXJlZC9QQ0EuanMiLCIuLi9kaW1yZWQvTURTLmpzIiwiLi4vb3B0aW1pemF0aW9uL3Bvd2VsbC5qcyIsIi4uL2NsdXN0ZXJpbmcvSGllcmFyY2hpY2FsX0NsdXN0ZXJpbmcuanMiLCIuLi9jbHVzdGVyaW5nL0tNZWRvaWRzLmpzIiwiLi4vZGltcmVkL0ZBU1RNQVAuanMiLCIuLi9kaW1yZWQvSVNPTUFQLmpzIiwiLi4vY2x1c3RlcmluZy9LTWVhbnMuanMiLCIuLi9kaW1yZWQvTERBLmpzIiwiLi4vZGltcmVkL0xMRS5qcyIsIi4uL2RpbXJlZC9MU1AuanMiLCIuLi9kaW1yZWQvTFRTQS5qcyIsIi4uL2NsdXN0ZXJpbmcvT1BUSUNTLmpzIiwiLi4vZGltcmVkL1NBTU1PTi5qcyIsIi4uL2RpbXJlZC9UU05FLmpzIiwiLi4vZGltcmVkL1RvcG9NYXAuanMiLCIuLi9kaW1yZWQvVHJpTWFwLmpzIiwiLi4vZGltcmVkL1VNQVAuanMiLCIuLi9tZXRyaWNzL2NhbmJlcnJhLmpzIiwiLi4vbWV0cmljcy9jaGVieXNoZXYuanMiLCIuLi9tZXRyaWNzL2Nvc2luZS5qcyIsIi4uL21ldHJpY3MvaGFtbWluZy5qcyIsIi4uL2xpbmVhcl9hbGdlYnJhL2lubmVyX3Byb2R1Y3QuanMiLCIuLi9tZXRyaWNzL2phY2NhcmQuanMiLCIuLi9udW1lcmljYWwva2FoYW5fc3VtLmpzIiwiLi4vbWV0cmljcy9tYW5oYXR0YW4uanMiLCIuLi9tYXRyaXgvbm9ybWFsaXplLmpzIiwiLi4vbGluZWFyX2FsZ2VicmEvcXJfaG91c2Vob2xkZXIuanMiLCIuLi9tZXRyaWNzL3Nva2FsX21pY2hlbmVyLmpzIiwiLi4vbWV0cmljcy95dWxlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGV1Y2xpZGVhbl9zcXVhcmVkIH0gZnJvbSBcIi4uL21ldHJpY3MvaW5kZXguanNcIjtcbi8qKlxuICogQ29tcHV0ZXMgdGhlIGV1Y2xpZGVhbiBkaXN0YW5jZSAobDxzdWI+Mjwvc3ViPikgYmV0d2VlbiB7QGxpbmsgYX0gYW5kIHtAbGluayBifS5cbiAqIEBtZW1iZXJvZiBtb2R1bGU6bWV0cmljc1xuICogQGFsaWFzIGV1Y2xpZGVhblxuICogQHBhcmFtIHtBcnJheTxOdW1iZXI+fSBhXG4gKiBAcGFyYW0ge0FycmF5PE51bWJlcj59IGJcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IHRoZSBldWNsaWRlYW4gZGlzdGFuY2UgYmV0d2VlbiB7QGxpbmsgYX0gYW5kIHtAbGluayBifS5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKGEsIGIpIHtcbiAgICByZXR1cm4gTWF0aC5zcXJ0KGV1Y2xpZGVhbl9zcXVhcmVkKGEsIGIpKTtcbn1cbiIsIi8qKlxuICogTnVtZXJpY2FsIHN0YWJsZSBzdW1tYXRpb24gd2l0aCB0aGUgTmV1bWFpciBzdW1tYXRpb24gYWxnb3JpdGhtLlxuICogQG1lbWJlcm9mIG1vZHVsZTpudW1lcmljYWxcbiAqIEBhbGlhcyBuZXVtYWlyX3N1bVxuICogQHBhcmFtIHtBcnJheX0gc3VtbWFuZHMgLSBBcnJheSBvZiB2YWx1ZXMgdG8gc3VtIHVwLlxuICogQHJldHVybnMge251bWJlcn0gVGhlIHN1bS5cbiAqIEBzZWUge0BsaW5rIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0thaGFuX3N1bW1hdGlvbl9hbGdvcml0aG0jRnVydGhlcl9lbmhhbmNlbWVudHN9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIChzdW1tYW5kcykge1xuICAgIGxldCBuID0gc3VtbWFuZHMubGVuZ3RoO1xuICAgIGxldCBzdW0gPSAwO1xuICAgIGxldCBjb21wZW5zYXRpb24gPSAwO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuOyArK2kpIHtcbiAgICAgICAgbGV0IHN1bW1hbmQgPSBzdW1tYW5kc1tpXTtcbiAgICAgICAgbGV0IHQgPSBzdW0gKyBzdW1tYW5kO1xuICAgICAgICBpZiAoTWF0aC5hYnMoc3VtKSA+PSBNYXRoLmFicyhzdW1tYW5kKSkge1xuICAgICAgICAgICAgY29tcGVuc2F0aW9uICs9IHN1bSAtIHQgKyBzdW1tYW5kO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29tcGVuc2F0aW9uICs9IHN1bW1hbmQgLSB0ICsgc3VtO1xuICAgICAgICB9XG4gICAgICAgIHN1bSA9IHQ7XG4gICAgfVxuICAgIHJldHVybiBzdW0gKyBjb21wZW5zYXRpb247XG59XG4iLCJpbXBvcnQgeyBuZXVtYWlyX3N1bSB9IGZyb20gXCIuLi9udW1lcmljYWwvaW5kZXguanNcIjtcbi8qKlxuICogQ29tcHV0ZXMgdGhlIHNxdWFyZWQgZXVjbGlkZWFuIGRpc3RhbmNlIChsPHN1Yj4yPC9zdWI+PHN1cD4yPC9zdXA+KSBiZXR3ZWVuIHtAbGluayBhfSBhbmQge0BsaW5rIGJ9LlxuICogQG1lbWJlcm9mIG1vZHVsZTptZXRyaWNzXG4gKiBAYWxpYXMgZXVjbGlkZWFuX3NxdWFyZWRcbiAqIEBwYXJhbSB7QXJyYXk8TnVtYmVyPn0gYVxuICogQHBhcmFtIHtBcnJheTxOdW1iZXI+fSBiXG4gKiBAcmV0dXJucyB7TnVtYmVyfSB0aGUgc3F1YXJlZCBldWNsaWRlYW4gZGlzdGFuY2UgYmV0d2VlbiB7QGxpbmsgYX0gYW5kIHtAbGluayBifS5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKGEsIGIpIHtcbiAgICBpZiAoYS5sZW5ndGggIT0gYi5sZW5ndGgpIHJldHVybiB1bmRlZmluZWQ7XG4gICAgbGV0IG4gPSBhLmxlbmd0aDtcbiAgICBsZXQgcyA9IG5ldyBBcnJheShuKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG47ICsraSkge1xuICAgICAgICBsZXQgeCA9IGFbaV07XG4gICAgICAgIGxldCB5ID0gYltpXTtcbiAgICAgICAgc1tpXSA9ICh4IC0geSkgKiAoeCAtIHkpO1xuICAgIH1cbiAgICByZXR1cm4gbmV1bWFpcl9zdW0ocyk7XG59XG4iLCJpbXBvcnQgeyBkaXN0YW5jZV9tYXRyaXggfSBmcm9tIFwiLi4vbWF0cml4L2luZGV4LmpzXCI7XG5pbXBvcnQgeyBldWNsaWRlYW4gfSBmcm9tIFwiLi4vbWV0cmljcy9pbmRleC5qc1wiO1xuXG4vKipcbiAqIENvbXB1dGVzIHRoZSBrLW5lYXJlc3QgbmVpZ2hib3JzIG9mIGVhY2ggcm93IG9mIHtAbGluayBBfS5cbiAqIEBtZW1iZXJvZiBtb2R1bGU6bWF0cml4XG4gKiBAYWxpYXMga19uZWFyZXN0X25laWdiaG9yc1xuICogQHBhcmFtIHtNYXRyaXh9IEEgLSBFaXRoZXIgdGhlIGRhdGEgbWF0cml4LCBvciBhIGRpc3RhbmNlIG1hdHJpeC5cbiAqIEBwYXJhbSB7TnVtYmVyfSBrIC0gVGhlIG51bWJlciBvZiBuZWlnaGJvcnMgdG8gY29tcHV0ZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb258XCJwcmVjb21wdXRlZFwifSBbbWV0cmljPWV1Y2xpZGVhbl1cbiAqIEByZXR1cm5zIHtBcnJheTxPYmplY3Q+fSAtXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIChBLCBrLCBtZXRyaWMgPSBldWNsaWRlYW4pIHtcbiAgICBjb25zdCByb3dzID0gQS5zaGFwZVswXTtcbiAgICBsZXQgRCA9IG1ldHJpYyA9PSBcInByZWNvbXB1dGVkXCIgPyBBIDogZGlzdGFuY2VfbWF0cml4KEEsIG1ldHJpYyk7XG4gICAgbGV0IG5OID0gbmV3IEFycmF5KHJvd3MpO1xuICAgIGZvciAobGV0IHJvdyA9IDA7IHJvdyA8IHJvd3M7ICsrcm93KSB7XG4gICAgICAgIG5OW3Jvd10gPSBBcnJheS5mcm9tKEQucm93KHJvdykpXG4gICAgICAgICAgICAubWFwKChkaXN0YW5jZSwgY29sKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgaTogcm93LFxuICAgICAgICAgICAgICAgICAgICBqOiBjb2wsXG4gICAgICAgICAgICAgICAgICAgIGRpc3RhbmNlOiBkaXN0YW5jZSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5zb3J0KChhLCBiKSA9PiBhLmRpc3RhbmNlIC0gYi5kaXN0YW5jZSlcbiAgICAgICAgICAgIC5zbGljZSgxLCBrICsgMSk7XG4gICAgfVxuICAgIHJldHVybiBuTjtcbn1cbiIsImltcG9ydCB7IGV1Y2xpZGVhbiB9IGZyb20gXCIuLi9tZXRyaWNzL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBNYXRyaXggfSBmcm9tIFwiLi9pbmRleC5qc1wiO1xuXG4vKipcbiAqIENvbXB1dGVzIHRoZSBkaXN0YW5jZSBtYXRyaXggb2YgZGF0YW1hdHJpeCB7QGxpbmsgQX0uXG4gKiBAbWVtYmVyb2YgbW9kdWxlOm1hdHJpeFxuICogQGFsaWFzIGRpc3RhbmNlX21hdHJpeFxuICogQHBhcmFtIHtNYXRyaXh9IEEgLSBNYXRyaXguXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbbWV0cmljPWV1Y2xpZGVhbl0gLSBUaGUgZGlpc3RhbmNlIG1ldHJpYy5cbiAqIEByZXR1cm5zIHtNYXRyaXh9IEQgLSBUaGUgZGlzdGFuY2UgbWF0cml4IG9mIHtAbGluayBBfS5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKEEsIG1ldHJpYyA9IGV1Y2xpZGVhbikge1xuICAgIGxldCBuID0gQS5zaGFwZVswXTtcbiAgICBjb25zdCBEID0gbmV3IE1hdHJpeChuLCBuKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG47ICsraSkge1xuICAgICAgICBjb25zdCBBX2kgPSBBLnJvdyhpKTtcbiAgICAgICAgZm9yIChsZXQgaiA9IGkgKyAxOyBqIDwgbjsgKytqKSB7XG4gICAgICAgICAgICBjb25zdCBkaXN0ID0gbWV0cmljKEFfaSwgQS5yb3coaikpO1xuICAgICAgICAgICAgRC5zZXRfZW50cnkoaSwgaiwgZGlzdCk7XG4gICAgICAgICAgICBELnNldF9lbnRyeShqLCBpLCBkaXN0KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gRDtcbn1cbiIsIi8qKlxuICogQ3JlYXRlcyBhbiBBcnJheSBjb250YWluaW5nIHtAbGluayBudW1iZXJ9IG51bWJlcnMgZnJvbSB7QGxpbmsgc3RhcnR9IHRvIHtAbGluayBlbmR9LlxuICogSWYgPGNvZGU+e0BsaW5rIG51bWJlcn0gPSBudWxsPC9udWxsPi5cbiAqIEBtZW1iZXJvZiBtb2R1bGU6bWF0cml4XG4gKiBAYWxpYXMgbGluc3BhY2VcbiAqIEBwYXJhbSB7TnVtYmVyfSBzdGFydCAtIFN0YXJ0IHZhbHVlLlxuICogQHBhcmFtIHtOdW1iZXJ9IGVuZCAtIEVuZCB2YWx1ZS5cbiAqIEBwYXJhbSB7TnVtYmVyfSBbbnVtYmVyID0gbnVsbF0gLSBOdW1iZXIgb2YgbnVtYmVyIGJldHdlZW4ge0BsaW5rIHN0YXJ0fSBhbmQge0BsaW5rIGVuZH0uXG4gKiBAcmV0dXJucyB7QXJyYXl9IC0gQW4gYXJyYXkgd2l0aCB7QGxpbmsgbnVtYmVyfSBlbnRyaWVzLCBiZWdpbm5pbmcgYXQge0BsaW5rIHN0YXJ0fSBlbmRpbmcgYXQge0BsaW5rIGVuZH0uXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIChzdGFydCwgZW5kLCBudW1iZXIgPSBudWxsKSB7XG4gICAgaWYgKCFudW1iZXIpIHtcbiAgICAgICAgbnVtYmVyID0gTWF0aC5tYXgoTWF0aC5yb3VuZChlbmQgLSBzdGFydCkgKyAxLCAxKTtcbiAgICB9XG4gICAgaWYgKG51bWJlciA8IDIpIHtcbiAgICAgICAgcmV0dXJuIG51bWJlciA9PT0gMSA/IFtzdGFydF0gOiBbXTtcbiAgICB9XG4gICAgbGV0IHJlc3VsdCA9IG5ldyBBcnJheShudW1iZXIpO1xuICAgIG51bWJlciAtPSAxO1xuICAgIGZvciAobGV0IGkgPSBudW1iZXI7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHJlc3VsdFtpXSA9IChpICogZW5kICsgKG51bWJlciAtIGkpICogc3RhcnQpIC8gbnVtYmVyO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuIiwiaW1wb3J0IHsgZXVjbGlkZWFuIH0gZnJvbSBcIi4uL21ldHJpY3MvaW5kZXguanNcIjtcbmltcG9ydCB7IE1hdHJpeCB9IGZyb20gXCIuLi9tYXRyaXgvaW5kZXguanNcIjtcbi8vaW1wb3J0IHsgbmV1bWFpcl9zdW0gfSBmcm9tIFwiLi4vbnVtZXJpY2FsL2luZGV4XCI7XG5cbi8qKlxuICogQ29tcHV0ZXMgdGhlIG5vcm0gb2YgYSB2ZWN0b3IsIGJ5IGNvbXB1dGluZyBpdHMgZGlzdGFuY2UgdG8gKiowKiouXG4gKiBAbWVtYmVyb2YgbW9kdWxlOm1hdHJpeFxuICogQGFsaWFzIG5vcm1cbiAqIEBwYXJhbSB7TWF0cml4fEFycmF5PE51bWJlcj58RmxvYXQ2NEFycmF5fSB2IC0gVmVjdG9yLiBcbiAqIEBwYXJhbSB7RnVuY3Rpb259IFttZXRyaWMgPSBldWNsaWRlYW5dIC0gV2hpY2ggbWV0cmljIHNob3VsZCBiZSB1c2VkIHRvIGNvbXB1dGUgdGhlIG5vcm0uXG4gKiBAcmV0dXJucyB7TnVtYmVyfSAtIFRoZSBub3JtIG9mIHtAbGluayB2fS5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKHYsIG1ldHJpYyA9IGV1Y2xpZGVhbikge1xuICAgIGxldCB2ZWN0b3IgPSBudWxsO1xuICAgIGlmICh2IGluc3RhbmNlb2YgTWF0cml4KSB7XG4gICAgICAgIGxldCBbcm93cywgY29sc10gPSB2LnNoYXBlO1xuICAgICAgICBpZiAocm93cyA9PT0gMSkgdmVjdG9yID0gdi5yb3coMCk7XG4gICAgICAgIGVsc2UgaWYgKGNvbHMgPT09IDEpIHZlY3RvciA9IHYuY29sKDApO1xuICAgICAgICBlbHNlIHRocm93IG5ldyBFcnJvcihcIk1hdHJpeCBtdXN0IGJlIDFkIVwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB2ZWN0b3IgPSB2O1xuICAgIH1cbiAgICBjb25zdCBuID0gdmVjdG9yLmxlbmd0aDtcbiAgICBjb25zdCB6ZXJvcyA9IEZsb2F0NjRBcnJheS5mcm9tKHsgbGVuZ3RoOiBuIH0sICgpID0+IDApO1xuICAgIHJldHVybiBtZXRyaWModmVjdG9yLCB6ZXJvcyk7XG59XG4iLCJpbXBvcnQgeyBNYXRyaXgsIG5vcm0gfSBmcm9tIFwiLi4vbWF0cml4L2luZGV4LmpzXCI7XG5pbXBvcnQgeyBldWNsaWRlYW4gfSBmcm9tIFwiLi4vbWV0cmljcy9pbmRleC5qc1wiO1xuaW1wb3J0IHsgbmV1bWFpcl9zdW0gfSBmcm9tIFwiLi4vbnVtZXJpY2FsL2luZGV4LmpzXCI7XG5cbi8qKlxuICogQ29tcHV0ZXMgdGhlIFFSIERlY29tcG9zaXRpb24gb2YgdGhlIE1hdHJpeCB7QGxpbmsgQX0gdXNpbmcgR3JhbS1TY2htaWR0IHByb2Nlc3MuXG4gKiBAbWVtYmVyb2YgbW9kdWxlOmxpbmVhcl9hbGdlYnJhXG4gKiBAYWxpYXMgcXJcbiAqIEBwYXJhbSB7TWF0cml4fSBBXG4gKiBAcmV0dXJucyB7e1I6IE1hdHJpeCwgUTogTWF0cml4fX1cbiAqIEBzZWUge0BsaW5rIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1FSX2RlY29tcG9zaXRpb24jVXNpbmdfdGhlX0dyYW0lRTIlODAlOTNTY2htaWR0X3Byb2Nlc3N9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIChBKSB7XG4gICAgY29uc3QgW3Jvd3MsIGNvbHNdID0gQS5zaGFwZTtcbiAgICBjb25zdCBRID0gbmV3IE1hdHJpeChyb3dzLCBjb2xzLCBcImlkZW50aXR5XCIpO1xuICAgIGNvbnN0IFIgPSBuZXcgTWF0cml4KGNvbHMsIGNvbHMsIDApO1xuXG4gICAgZm9yIChsZXQgaiA9IDA7IGogPCBjb2xzOyArK2opIHtcbiAgICAgICAgbGV0IHYgPSBBLmNvbChqKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBqOyArK2kpIHtcbiAgICAgICAgICAgIGNvbnN0IHEgPSBRLmNvbChpKTtcbiAgICAgICAgICAgIGNvbnN0IHFfZG90X3YgPSBuZXVtYWlyX3N1bShxLm1hcCgocV8sIGspID0+IHFfICogdltrXSkpO1xuICAgICAgICAgICAgUi5zZXRfZW50cnkoaSwgaiwgcV9kb3Rfdik7XG4gICAgICAgICAgICB2ID0gdi5tYXAoKHZfLCBrKSA9PiB2XyAtIHFfZG90X3YgKiBxW2tdKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB2X25vcm0gPSBub3JtKHYsIGV1Y2xpZGVhbik7XG4gICAgICAgIGZvciAobGV0IGsgPSAwOyBrIDwgcm93czsgKytrKSB7XG4gICAgICAgICAgICBRLnNldF9lbnRyeShrLCBqLCB2W2tdIC8gdl9ub3JtKTtcbiAgICAgICAgfVxuICAgICAgICBSLnNldF9lbnRyeShqLCBqLCB2X25vcm0pO1xuICAgIH1cbiAgICByZXR1cm4geyBSLCBRIH07XG59XG4iLCJpbXBvcnQgeyBxciBhcyBxcl9ncmFtc2NobWlkdCB9IGZyb20gXCIuL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBNYXRyaXggfSBmcm9tIFwiLi4vbWF0cml4L2luZGV4LmpzXCI7XG5pbXBvcnQgeyBSYW5kb21pemVyIH0gZnJvbSBcIi4uL3V0aWwvaW5kZXguanNcIjtcbmltcG9ydCB7IGV1Y2xpZGVhbl9zcXVhcmVkIH0gZnJvbSBcIi4uL21ldHJpY3MvaW5kZXguanNcIjtcblxuLyoqXG4gKiBDb21wdXRlcyB0aGUge0BsaW5rIGt9IGJpZ2dlc3QgRWlnZW52ZWN0b3JzIGFuZCBFaWdlbnZhbHVlcyBmcm9tIE1hdHJpeCB7QGxpbmsgQX0gd2l0aCB0aGUgUVItQWxnb3JpdGhtLlxuICogQG1lbWJlcm9mIG1vZHVsZTpsaW5lYXJfYWxnZWJyYVxuICogQGFsaWFzIHNpbXVsdGFuZW91c19wb3dlcml0ZXJhdGlvblxuICogQHBhcmFtIHtNYXRyaXh9IEEgLSBUaGUgTWF0cml4XG4gKiBAcGFyYW0ge051bWJlcn0gayAtIFRoZSBudW1iZXIgb2YgZWlnZW52ZWN0b3JzIGFuZCBlaWdlbnZhbHVlcyB0byBjb21wdXRlLlxuICogQHBhcmFtIHtPYmplY3R9IHBhcmFtZXRlcnMgLSBPYmplY3QgY29udGFpbmluZyBwYXJhbWV0ZXJpemF0aW9uIG9mIHRoZSBzaW11bHRhbmlvdXMgcG93ZXJpdGVyYXRpb24gbWV0aG9kLlxuICogQHBhcmFtIHtOdW1iZXJ9IFtwYXJhbWV0ZXJzLm1heF9pdGVyYXRpb25zPTEwMF0gLSBUaGUgbnVtYmVyIG9mIG1heGl1bXVtIGl0ZXJhdGlvbnMgdGhlIGFsZ29yaXRobSBzaG91bGQgcnVuLlxuICogQHBhcmFtIHtOdW1iZXJ8UmFuZG9taXplcn0gW3BhcmFtZXRlcnMuc2VlZD0xMjEyXSAtIFRoZSBzZWVkIHZhbHVlIG9yIGEgcmFuZG9taXplciB1c2VkIGluIHRoZSBhbGdvcml0aG0uXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcGFyYW1ldGVycy5xcj1xcl9ncmFtc2NobWlkdF0gLSBUaGUgUVIgdGVjaG5pcXVlIHRvIHVzZS5cbiAqIEBwYXJhbSB7TnVtYmVyfSBbcGFyYW1ldGVycy50b2w9MWUtOF0gLSBBbGxvd2VkIGVycm9yIGZvciBzdG9wcGluZyBjcml0ZXJpYVxuICogQHJldHVybnMge3tlaWdlbnZhbHVlczogQXJyYXksIGVpZ2VudmVjdG9yczogQXJyYXl9fSAtIFRoZSB7QGxpbmsga30gYmlnZ2VzdCBlaWdlbnZlY3RvcnMgYW5kIGVpZ2VudmFsdWVzIG9mIE1hdHJpeCB7QGxpbmsgQX0uXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIChBLCBrID0gMiwge3NlZWQgPSAxMjEyLCBtYXhfaXRlcmF0aW9ucyA9IDEwMCwgcXIgPSBxcl9ncmFtc2NobWlkdCwgdG9sID0gMWUtOH0gPSB7fSkge1xuICAgIGNvbnN0IHJhbmRvbWl6ZXIgPSBzZWVkIGluc3RhbmNlb2YgUmFuZG9taXplciA/IHNlZWQgOiBuZXcgUmFuZG9taXplcihzZWVkKTtcbiAgICBpZiAoIShBIGluc3RhbmNlb2YgTWF0cml4KSkgQSA9IE1hdHJpeC5mcm9tKEEpO1xuICAgIGNvbnN0IG4gPSBBLnNoYXBlWzBdO1xuICAgIGxldCB7IFEsIFIgfSA9IHFyKG5ldyBNYXRyaXgobiwgaywgKCkgPT4gKHJhbmRvbWl6ZXIucmFuZG9tIC0gLjUpICogMikpO1xuICAgIHdoaWxlIChtYXhfaXRlcmF0aW9ucy0tKSB7XG4gICAgICAgIGNvbnN0IG9sZFEgPSBRLmNsb25lKCk7XG4gICAgICAgIGNvbnN0IFogPSBBLmRvdChRKTtcbiAgICAgICAgY29uc3QgUVIgPSBxcihaKTtcbiAgICAgICAgUSA9IFFSLlE7XG4gICAgICAgIFIgPSBRUi5SO1xuICAgICAgICBjb25zdCBlcnJvciA9IGV1Y2xpZGVhbl9zcXVhcmVkKFEudmFsdWVzLCBvbGRRLnZhbHVlcyk7XG4gICAgICAgIGlmIChlcnJvciA8IHRvbCkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBlaWdlbnZhbHVlcyA9IFIuZGlhZztcbiAgICBjb25zdCBlaWdlbnZlY3RvcnMgPSBRLnRyYW5zcG9zZSgpLnRvMmRBcnJheTtcbiAgICByZXR1cm4geyBlaWdlbnZhbHVlcywgZWlnZW52ZWN0b3JzIH07XG59XG4iLCJpbXBvcnQgeyBuZXVtYWlyX3N1bSB9IGZyb20gXCIuLi9udW1lcmljYWwvaW5kZXguanNcIjtcbmltcG9ydCB7IHNpbXVsdGFuZW91c19wb3dlcml0ZXJhdGlvbiB9IGZyb20gXCIuLi9saW5lYXJfYWxnZWJyYS9pbmRleC5qc1wiO1xuaW1wb3J0IHsgUmFuZG9taXplciB9IGZyb20gXCIuLi91dGlsL2luZGV4LmpzXCI7XG4vKipcbiAqIEBjbGFzc1xuICogQGFsaWFzIE1hdHJpeFxuICogQHJlcXVpcmVzIG1vZHVsZTpudW1lcmljYWwvbmV1bWFpcl9zdW1cbiAqL1xuZXhwb3J0IGNsYXNzIE1hdHJpeCB7XG4gICAgLyoqXG4gICAgICogY3JlYXRlcyBhIG5ldyBNYXRyaXguIEVudHJpZXMgYXJlIHN0b3JlZCBpbiBhIEZsb2F0NjRBcnJheS5cbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAbWVtYmVyb2YgbW9kdWxlOm1hdHJpeFxuICAgICAqIEBhbGlhcyBNYXRyaXhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcm93cyAtIFRoZSBhbW91bnQgb2Ygcm93cyBvZiB0aGUgbWF0cml4LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjb2xzIC0gVGhlIGFtb3VudCBvZiBjb2x1bW5zIG9mIHRoZSBtYXRyaXguXG4gICAgICogQHBhcmFtIHsoZnVuY3Rpb258c3RyaW5nfG51bWJlcil9IHZhbHVlPTAgLSBDYW4gYmUgYSBmdW5jdGlvbiB3aXRoIHJvdyBhbmQgY29sIGFzIHBhcmFtZXRlcnMsIGEgbnVtYmVyLCBvciBcInplcm9zXCIsIFwiaWRlbnRpdHlcIiBvciBcIklcIiwgb3IgXCJjZW50ZXJcIi5cbiAgICAgKiAgLSAqKmZ1bmN0aW9uKio6IGZvciBlYWNoIGVudHJ5IHRoZSBmdW5jdGlvbiBnZXRzIGNhbGxlZCB3aXRoIHRoZSBwYXJhbWV0ZXJzIGZvciB0aGUgYWN0dWFsIHJvdyBhbmQgY29sdW1uLlxuICAgICAqICAtICoqc3RyaW5nKio6IGFsbG93ZWQgYXJlXG4gICAgICogICAgICAtIFwiemVyb1wiLCBjcmVhdGVzIGEgemVybyBtYXRyaXguXG4gICAgICogICAgICAtIFwiaWRlbnRpdHlcIiBvciBcIklcIiwgY3JlYXRlcyBhbiBpZGVudGl0eSBtYXRyaXguXG4gICAgICogICAgICAtIFwiY2VudGVyXCIsIGNyZWF0ZXMgYW4gY2VudGVyIG1hdHJpeC5cbiAgICAgKiAgLSAqKm51bWJlcioqOiBjcmVhdGUgYSBtYXRyaXggZmlsbGVkIHdpdGggdGhlIGdpdmVuIHZhbHVlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBsZXQgQSA9IG5ldyBNYXRyaXgoMTAsIDEwLCAoKSA9PiBNYXRoLnJhbmRvbSgpKTsgLy9jcmVhdGVzIGEgMTAgdGltZXMgMTAgcmFuZG9tIG1hdHJpeC5cbiAgICAgKiBsZXQgQiA9IG5ldyBNYXRyaXgoMywgMywgXCJJXCIpOyAvLyBjcmVhdGVzIGEgMyB0aW1lcyAzIGlkZW50aXR5IG1hdHJpeC5cbiAgICAgKiBAcmV0dXJucyB7TWF0cml4fSByZXR1cm5zIGEge0BsaW5rIHJvd3N9IHRpbWVzIHtAbGluayBjb2xzfSBNYXRyaXggZmlsbGVkIHdpdGgge0BsaW5rIHZhbHVlfS5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcihyb3dzID0gbnVsbCwgY29scyA9IG51bGwsIHZhbHVlID0gbnVsbCkge1xuICAgICAgICB0aGlzLl9yb3dzID0gcm93cztcbiAgICAgICAgdGhpcy5fY29scyA9IGNvbHM7XG4gICAgICAgIHRoaXMuX2RhdGEgPSBudWxsO1xuICAgICAgICBpZiAocm93cyAmJiBjb2xzKSB7XG4gICAgICAgICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZGF0YSA9IG5ldyBGbG9hdDY0QXJyYXkocm93cyAqIGNvbHMpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZGF0YSA9IG5ldyBGbG9hdDY0QXJyYXkocm93cyAqIGNvbHMpO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IHJvdyA9IDA7IHJvdyA8IHJvd3M7ICsrcm93KSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGNvbCA9IDA7IGNvbCA8IGNvbHM7ICsrY29sKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9kYXRhW3JvdyAqIGNvbHMgKyBjb2xdID0gdmFsdWUocm93LCBjb2wpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gXCJ6ZXJvc1wiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgTWF0cml4KHJvd3MsIGNvbHMsIDApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IFwiaWRlbnRpdHlcIiB8fCB2YWx1ZSA9PT0gXCJJXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGF0YSA9IG5ldyBGbG9hdDY0QXJyYXkocm93cyAqIGNvbHMpO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCByb3cgPSAwOyByb3cgPCByb3dzOyArK3Jvdykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGF0YVtyb3cgKiBjb2xzICsgcm93XSA9IDE7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gXCJjZW50ZXJcIiAmJiByb3dzID09IGNvbHMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGF0YSA9IG5ldyBGbG9hdDY0QXJyYXkocm93cyAqIGNvbHMpO1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IChpLCBqKSA9PiAoaSA9PT0gaiA/IDEgOiAwKSAtIDEgLyByb3dzO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCByb3cgPSAwOyByb3cgPCByb3dzOyArK3Jvdykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgY29sID0gMDsgY29sIDwgY29sczsgKytjb2wpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9kYXRhW3JvdyAqIGNvbHMgKyBjb2xdID0gdmFsdWUocm93LCBjb2wpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9kYXRhID0gbmV3IEZsb2F0NjRBcnJheShyb3dzICogY29scyk7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgcm93ID0gMDsgcm93IDwgcm93czsgKytyb3cpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgY29sID0gMDsgY29sIDwgY29sczsgKytjb2wpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2RhdGFbcm93ICogY29scyArIGNvbF0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgTWF0cml4IG91dCBvZiB7QGxpbmsgQX0uXG4gICAgICogQHBhcmFtIHsoTWF0cml4fEFycmF5fEZsb2F0NjRBcnJheXxudW1iZXIpfSBBIC0gVGhlIG1hdHJpeCwgYXJyYXksIG9yIG51bWJlciwgd2hpY2ggc2hvdWxkIGNvbnZlcnRlZCB0byBhIE1hdHJpeC5cbiAgICAgKiBAcGFyYW0ge1wicm93XCJ8XCJjb2xcInxcImRpYWdcIn0gW3R5cGUgPSBcInJvd1wiXSAtIElmIHtAbGluayBBfSBpcyBhIEFycmF5IG9yIEZsb2F0NjRBcnJheSwgdGhlbiB0eXBlIGRlZmluZXMgaWYgaXQgaXMgYSByb3ctIG9yIGEgY29sdW1uIHZlY3Rvci5cbiAgICAgKiBAcmV0dXJucyB7TWF0cml4fVxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBsZXQgQSA9IE1hdHJpeC5mcm9tKFtbMSwgMF0sIFswLCAxXV0pOyAvL2NyZWF0ZXMgYSB0d28gYnkgdHdvIGlkZW50aXR5IG1hdHJpeC5cbiAgICAgKiBsZXQgUyA9IE1hdHJpeC5mcm9tKFsxLCAyLCAzXSwgXCJkaWFnXCIpOyAvLyBjcmVhdGVzIGEgMyBieSAzIG1hdHJpeCB3aXRoIDEsIDIsIDMgb24gaXRzIGRpYWdvbmFsLiBbWzEsIDAsIDBdLCBbMCwgMiwgMF0sIFswLCAwLCAzXV1cbiAgICAgKi9cbiAgICBzdGF0aWMgZnJvbShBLCB0eXBlID0gXCJyb3dcIikge1xuICAgICAgICBpZiAoQSBpbnN0YW5jZW9mIE1hdHJpeCkge1xuICAgICAgICAgICAgcmV0dXJuIEEuY2xvbmUoKTtcbiAgICAgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KEEpIHx8IEEgaW5zdGFuY2VvZiBGbG9hdDY0QXJyYXkpIHtcbiAgICAgICAgICAgIGxldCBtID0gQS5sZW5ndGg7XG4gICAgICAgICAgICBpZiAobSA9PT0gMCkgdGhyb3cgbmV3IEVycm9yKFwiQXJyYXkgaXMgZW1wdHlcIik7XG4gICAgICAgICAgICAvLyAxZFxuICAgICAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KEFbMF0pICYmICEoQVswXSBpbnN0YW5jZW9mIEZsb2F0NjRBcnJheSkpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZSA9PT0gXCJyb3dcIikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IE1hdHJpeCgxLCBtLCAoXywgaikgPT4gQVtqXSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSBcImNvbFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgTWF0cml4KG0sIDEsIChpKSA9PiBBW2ldKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09IFwiZGlhZ1wiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgTWF0cml4KG0sIG0sIChpLCBqKSA9PiAoaSA9PSBqID8gQVtpXSA6IDApKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCIxZCBhcnJheSBoYXMgTmFOIGVudHJpZXNcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIDJkXG4gICAgICAgICAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoQVswXSkgfHwgQVswXSBpbnN0YW5jZW9mIEZsb2F0NjRBcnJheSkge1xuICAgICAgICAgICAgICAgIGxldCBuID0gQVswXS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgcm93ID0gMDsgcm93IDwgbTsgKytyb3cpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKEFbcm93XS5sZW5ndGggIT09IG4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcInZhcmlvdXMgYXJyYXkgbGVuZ3Roc1wiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IE1hdHJpeChtLCBuLCAoaSwgaikgPT4gQVtpXVtqXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIEEgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgTWF0cml4KDEsIDEsIEEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiZXJyb3JcIik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSB7QGxpbmsgcm93fTxzdXA+dGg8L3N1cD4gcm93IGZyb20gdGhlIE1hdHJpeC5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gcm93XG4gICAgICogQHJldHVybnMge0Zsb2F0NjRBcnJheX1cbiAgICAgKi9cbiAgICByb3cocm93KSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLnZhbHVlcztcbiAgICAgICAgY29uc3QgY29scyA9IHRoaXMuX2NvbHM7XG4gICAgICAgIHJldHVybiBkYXRhLnN1YmFycmF5KHJvdyAqIGNvbHMsIChyb3cgKyAxKSAqIGNvbHMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYW4gZ2VuZXJhdG9yIHlpZWxkaW5nIGVhY2ggcm93IG9mIHRoZSBNYXRyaXguXG4gICAgICogQHlpZWxkcyB7RmxvYXQ2NEFycmF5fVxuICAgICAqL1xuICAgICppdGVyYXRlX3Jvd3MoKSB7XG4gICAgICAgIGNvbnN0IGNvbHMgPSB0aGlzLl9jb2xzO1xuICAgICAgICBjb25zdCByb3dzID0gdGhpcy5fcm93cztcbiAgICAgICAgY29uc3QgZGF0YSA9IHRoaXMudmFsdWVzO1xuICAgICAgICBmb3IgKGxldCByb3cgPSAwOyByb3cgPCByb3dzOyArK3Jvdykge1xuICAgICAgICAgICAgeWllbGQgZGF0YS5zdWJhcnJheShyb3cgKiBjb2xzLCAocm93ICsgMSkgKiBjb2xzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE1ha2VzIGEge0BsaW5rIE1hdHJpeH0gb2JqZWN0IGFuIGl0ZXJhYmxlIG9iamVjdC5cbiAgICAgKiBAeWllbGRzIHtGbG9hdDY0QXJyYXl9XG4gICAgICovXG4gICAgKltTeW1ib2wuaXRlcmF0b3JdKCkge1xuICAgICAgICBmb3IgKGNvbnN0IHJvdyBvZiB0aGlzLml0ZXJhdGVfcm93cygpKSB7XG4gICAgICAgICAgICB5aWVsZCByb3c7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBlbnRyaWVzIG9mIHtAbGluayByb3d9PHN1cD50aDwvc3VwPiByb3cgZnJvbSB0aGUgTWF0cml4IHRvIHRoZSBlbnRyaWVzIGZyb20ge0BsaW5rIHZhbHVlc30uXG4gICAgICogQHBhcmFtIHtpbnR9IHJvd1xuICAgICAqIEBwYXJhbSB7QXJyYXl9IHZhbHVlc1xuICAgICAqIEByZXR1cm5zIHtNYXRyaXh9XG4gICAgICovXG4gICAgc2V0X3Jvdyhyb3csIHZhbHVlcykge1xuICAgICAgICBsZXQgY29scyA9IHRoaXMuX2NvbHM7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlcykgJiYgdmFsdWVzLmxlbmd0aCA9PT0gY29scykge1xuICAgICAgICAgICAgbGV0IG9mZnNldCA9IHJvdyAqIGNvbHM7XG4gICAgICAgICAgICBmb3IgKGxldCBjb2wgPSAwOyBjb2wgPCBjb2xzOyArK2NvbCkge1xuICAgICAgICAgICAgICAgIHRoaXMudmFsdWVzW29mZnNldCArIGNvbF0gPSB2YWx1ZXNbY29sXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICh2YWx1ZXMgaW5zdGFuY2VvZiBNYXRyaXggJiYgdmFsdWVzLnNoYXBlWzFdID09PSBjb2xzICYmIHZhbHVlcy5zaGFwZVswXSA9PT0gMSkge1xuICAgICAgICAgICAgbGV0IG9mZnNldCA9IHJvdyAqIGNvbHM7XG4gICAgICAgICAgICBmb3IgKGxldCBjb2wgPSAwOyBjb2wgPCBjb2xzOyArK2NvbCkge1xuICAgICAgICAgICAgICAgIHRoaXMudmFsdWVzW29mZnNldCArIGNvbF0gPSB2YWx1ZXMuX2RhdGFbY29sXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSB7QGxpbmsgY29sfTxzdXA+dGg8L3N1cD4gY29sdW1uIGZyb20gdGhlIE1hdHJpeC5cbiAgICAgKiBAcGFyYW0ge2ludH0gY29sXG4gICAgICogQHJldHVybnMge0FycmF5fVxuICAgICAqL1xuICAgIGNvbChjb2wpIHtcbiAgICAgICAgbGV0IHJlc3VsdF9jb2wgPSBuZXcgRmxvYXQ2NEFycmF5KHRoaXMuX3Jvd3MpO1xuICAgICAgICBmb3IgKGxldCByb3cgPSAwOyByb3cgPCB0aGlzLl9yb3dzOyArK3Jvdykge1xuICAgICAgICAgICAgcmVzdWx0X2NvbFtyb3ddID0gdGhpcy52YWx1ZXNbcm93ICogdGhpcy5fY29scyArIGNvbF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdF9jb2w7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUge0BsaW5rIGNvbH08c3VwPnRoPC9zdXA+IGVudHJ5IGZyb20gdGhlIHtAbGluayByb3d9PHN1cD50aDwvc3VwPiByb3cgb2YgdGhlIE1hdHJpeC5cbiAgICAgKiBAcGFyYW0ge2ludH0gcm93XG4gICAgICogQHBhcmFtIHtpbnR9IGNvbFxuICAgICAqIEByZXR1cm5zIHtmbG9hdDY0fVxuICAgICAqL1xuICAgIGVudHJ5KHJvdywgY29sKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZhbHVlc1tyb3cgKiB0aGlzLl9jb2xzICsgY29sXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSB7QGxpbmsgY29sfTxzdXA+dGg8L3N1cD4gZW50cnkgZnJvbSB0aGUge0BsaW5rIHJvd308c3VwPnRoPC9zdXA+IHJvdyBvZiB0aGUgTWF0cml4IHRvIHRoZSBnaXZlbiB7QGxpbmsgdmFsdWV9LlxuICAgICAqIEBwYXJhbSB7aW50fSByb3dcbiAgICAgKiBAcGFyYW0ge2ludH0gY29sXG4gICAgICogQHBhcmFtIHtmbG9hdDY0fSB2YWx1ZVxuICAgICAqIEByZXR1cm5zIHtNYXRyaXh9XG4gICAgICovXG4gICAgc2V0X2VudHJ5KHJvdywgY29sLCB2YWx1ZSkge1xuICAgICAgICB0aGlzLnZhbHVlc1tyb3cgKiB0aGlzLl9jb2xzICsgY29sXSA9IHZhbHVlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbmV3IHRyYW5zcG9zZWQgTWF0cml4LlxuICAgICAqIEByZXR1cm5zIHtNYXRyaXh9XG4gICAgICovXG4gICAgdHJhbnNwb3NlKCkge1xuICAgICAgICBsZXQgQiA9IG5ldyBNYXRyaXgodGhpcy5fY29scywgdGhpcy5fcm93cywgKHJvdywgY29sKSA9PiB0aGlzLmVudHJ5KGNvbCwgcm93KSk7XG4gICAgICAgIHJldHVybiBCO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBuZXcgdHJhbnNwb3NlZCBNYXRyaXguIFNob3J0LWZvcm0gb2Yge0BmdW5jdGlvbiB0cmFuc3Bvc2V9LlxuICAgICAqIEByZXR1cm5zIHtNYXRyaXh9XG4gICAgICovXG4gICAgZ2V0IFQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRyYW5zcG9zZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGludmVyc2Ugb2YgdGhlIE1hdHJpeC5cbiAgICAgKiBAcmV0dXJucyB7TWF0cml4fVxuICAgICAqL1xuICAgIGludmVyc2UoKSB7XG4gICAgICAgIGNvbnN0IHJvd3MgPSB0aGlzLl9yb3dzO1xuICAgICAgICBjb25zdCBjb2xzID0gdGhpcy5fY29scztcbiAgICAgICAgbGV0IEIgPSBuZXcgTWF0cml4KHJvd3MsIDIgKiBjb2xzLCAoaSwgaikgPT4ge1xuICAgICAgICAgICAgaWYgKGogPj0gY29scykge1xuICAgICAgICAgICAgICAgIHJldHVybiBpID09PSBqIC0gY29scyA/IDEgOiAwO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5lbnRyeShpLCBqKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGxldCBoID0gMDtcbiAgICAgICAgbGV0IGsgPSAwO1xuICAgICAgICB3aGlsZSAoaCA8IHJvd3MgJiYgayA8IGNvbHMpIHtcbiAgICAgICAgICAgIHZhciBpX21heCA9IDA7XG4gICAgICAgICAgICBsZXQgbWF4X3ZhbCA9IC1JbmZpbml0eTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSBoOyBpIDwgcm93czsgKytpKSB7XG4gICAgICAgICAgICAgICAgbGV0IHZhbCA9IE1hdGguYWJzKEIuZW50cnkoaSwgaykpO1xuICAgICAgICAgICAgICAgIGlmIChtYXhfdmFsIDwgdmFsKSB7XG4gICAgICAgICAgICAgICAgICAgIGlfbWF4ID0gaTtcbiAgICAgICAgICAgICAgICAgICAgbWF4X3ZhbCA9IHZhbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoQi5lbnRyeShpX21heCwgaykgPT0gMCkge1xuICAgICAgICAgICAgICAgIGsrKztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gc3dhcCByb3dzXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCAyICogY29sczsgKytqKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBoX3ZhbCA9IEIuZW50cnkoaCwgaik7XG4gICAgICAgICAgICAgICAgICAgIGxldCBpX3ZhbCA9IEIuZW50cnkoaV9tYXgsIGopO1xuICAgICAgICAgICAgICAgICAgICBCLnNldF9lbnRyeShoLCBqLCBoX3ZhbCk7XG4gICAgICAgICAgICAgICAgICAgIEIuc2V0X2VudHJ5KGlfbWF4LCBqLCBpX3ZhbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBoICsgMTsgaSA8IHJvd3M7ICsraSkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgZiA9IEIuZW50cnkoaSwgaykgLyBCLmVudHJ5KGgsIGspO1xuICAgICAgICAgICAgICAgICAgICBCLnNldF9lbnRyeShpLCBrLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IGsgKyAxOyBqIDwgMiAqIGNvbHM7ICsraikge1xuICAgICAgICAgICAgICAgICAgICAgICAgQi5zZXRfZW50cnkoaSwgaiwgQi5lbnRyeShpLCBqKSAtIEIuZW50cnkoaCwgaikgKiBmKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBoKys7XG4gICAgICAgICAgICAgICAgaysrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgcm93ID0gMDsgcm93IDwgcm93czsgKytyb3cpIHtcbiAgICAgICAgICAgIGxldCBmID0gQi5lbnRyeShyb3csIHJvdyk7XG4gICAgICAgICAgICBmb3IgKGxldCBjb2wgPSByb3c7IGNvbCA8IDIgKiBjb2xzOyArK2NvbCkge1xuICAgICAgICAgICAgICAgIEIuc2V0X2VudHJ5KHJvdywgY29sLCBCLmVudHJ5KHJvdywgY29sKSAvIGYpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgcm93ID0gcm93cyAtIDE7IHJvdyA+PSAwOyAtLXJvdykge1xuICAgICAgICAgICAgbGV0IEJfcm93X3JvdyA9IEIuZW50cnkocm93LCByb3cpO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByb3c7IGkrKykge1xuICAgICAgICAgICAgICAgIGxldCBCX2lfcm93ID0gQi5lbnRyeShpLCByb3cpO1xuICAgICAgICAgICAgICAgIGxldCBmID0gQl9pX3JvdyAvIEJfcm93X3JvdztcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gaTsgaiA8IDIgKiBjb2xzOyArK2opIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IEJfaV9qID0gQi5lbnRyeShpLCBqKTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IEJfcm93X2ogPSBCLmVudHJ5KHJvdywgaik7XG4gICAgICAgICAgICAgICAgICAgIEJfaV9qID0gQl9pX2ogLSBCX3Jvd19qICogZjtcbiAgICAgICAgICAgICAgICAgICAgQi5zZXRfZW50cnkoaSwgaiwgQl9pX2opO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXcgTWF0cml4KHJvd3MsIGNvbHMsIChpLCBqKSA9PiBCLmVudHJ5KGksIGogKyBjb2xzKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgZG90IHByb2R1Y3QuIElmIHtAbGluayBCfSBpcyBhbiBBcnJheSBvciBGbG9hdDY0QXJyYXkgdGhlbiBhbiBBcnJheSBnZXRzIHJldHVybmVkLiBJZiB7QGxpbmsgQn0gaXMgYSBNYXRyaXggdGhlbiBhIE1hdHJpeCBnZXRzIHJldHVybmVkLlxuICAgICAqIEBwYXJhbSB7KE1hdHJpeHxBcnJheXxGbG9hdDY0QXJyYXkpfSBCIHRoZSByaWdodCBzaWRlXG4gICAgICogQHJldHVybnMgeyhNYXRyaXh8QXJyYXkpfVxuICAgICAqL1xuICAgIGRvdChCKSB7XG4gICAgICAgIGlmIChCIGluc3RhbmNlb2YgTWF0cml4KSB7XG4gICAgICAgICAgICBsZXQgQSA9IHRoaXM7XG4gICAgICAgICAgICBpZiAoQS5zaGFwZVsxXSAhPT0gQi5zaGFwZVswXSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQS5kb3QoQik6IEEgaXMgYSAke0Euc2hhcGUuam9pbihcIiDiqK8gXCIpfS1NYXRyaXgsIEIgaXMgYSAke0Iuc2hhcGUuam9pbihcIiDiqK8gXCIpfS1NYXRyaXg6IFxuICAgICAgICAgICAgICAgIEEgaGFzICR7QS5zaGFwZVsxXX0gY29scyBhbmQgQiAke0Iuc2hhcGVbMF19IHJvd3MuIFxuICAgICAgICAgICAgICAgIE11c3QgYmUgZXF1YWwhYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgSSA9IEEuc2hhcGVbMV07XG4gICAgICAgICAgICBsZXQgQyA9IG5ldyBNYXRyaXgoQS5zaGFwZVswXSwgQi5zaGFwZVsxXSwgKHJvdywgY29sKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgQV9pID0gQS5yb3cocm93KTtcbiAgICAgICAgICAgICAgICBjb25zdCBCX2kgPSBCLmNvbChjb2wpO1xuICAgICAgICAgICAgICAgIGxldCBzdW0gPSAwO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgSTsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1bSArPSBBX2lbaV0gKiBCX2lbaV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBzdW07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBDO1xuICAgICAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoQikgfHwgQiBpbnN0YW5jZW9mIEZsb2F0NjRBcnJheSkge1xuICAgICAgICAgICAgbGV0IHJvd3MgPSB0aGlzLl9yb3dzO1xuICAgICAgICAgICAgaWYgKEIubGVuZ3RoICE9PSByb3dzKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBBLmRvdChCKTogQSBoYXMgJHtyb3dzfSBjb2xzIGFuZCBCIGhhcyAke0IubGVuZ3RofSByb3dzLiBNdXN0IGJlIGVxdWFsIWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IEMgPSBuZXcgQXJyYXkocm93cyk7XG4gICAgICAgICAgICBmb3IgKGxldCByb3cgPSAwOyByb3cgPCByb3dzOyArK3Jvdykge1xuICAgICAgICAgICAgICAgIENbcm93XSA9IG5ldW1haXJfc3VtKHRoaXMucm93KHJvdykubWFwKChlKSA9PiBlICogQltyb3ddKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gQztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQiBtdXN0IGJlIE1hdHJpeCBvciBBcnJheWApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29tcHV0ZXMgdGhlIG91dGVyIHByb2R1Y3QgZnJvbSB7QGxpbmsgdGhpc30gYW5kIHtAbGluayBCfS5cbiAgICAgKiBAcGFyYW0ge01hdHJpeH0gQlxuICAgICAqIEByZXR1cm5zIHtNYXRyaXh9XG4gICAgICovXG4gICAgb3V0ZXIoQikge1xuICAgICAgICBsZXQgQSA9IHRoaXM7XG4gICAgICAgIGxldCBsID0gQS5fZGF0YS5sZW5ndGg7XG4gICAgICAgIGxldCByID0gQi5fZGF0YS5sZW5ndGg7XG4gICAgICAgIGlmIChsICE9IHIpIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIGxldCBDID0gbmV3IE1hdHJpeCgpO1xuICAgICAgICBDLnNoYXBlID0gW1xuICAgICAgICAgICAgbCxcbiAgICAgICAgICAgIGwsXG4gICAgICAgICAgICAoaSwgaikgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChpIDw9IGopIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEEuX2RhdGFbaV0gKiBCLl9kYXRhW2pdO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBDLmVudHJ5KGosIGkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgIF07XG4gICAgICAgIHJldHVybiBDO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFwcGVuZHMgbWF0cml4IHtAbGluayBCfSB0byB0aGUgbWF0cml4LlxuICAgICAqIEBwYXJhbSB7TWF0cml4fSBCIC0gbWF0cml4IHRvIGFwcGVuZC5cbiAgICAgKiBAcGFyYW0ge1wiaG9yaXpvbnRhbFwifFwidmVydGljYWxcInxcImRpYWdcIn0gW3R5cGUgPSBcImhvcml6b250YWxcIl0gLSB0eXBlIG9mIGNvbmNhdGVuYXRpb24uXG4gICAgICogQHJldHVybnMge01hdHJpeH1cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogbGV0IEEgPSBNYXRyaXguZnJvbShbWzEsIDFdLCBbMSwgMV1dKTsgLy8gMiBieSAyIG1hdHJpeCBmaWxsZWQgd2l0aCBvbmVzLlxuICAgICAqIGxldCBCID0gTWF0cml4LmZyb20oW1syLCAyXSwgWzIsIDJdXSk7IC8vIDIgYnkgMiBtYXRyaXggZmlsbGVkIHdpdGggdHdvcy5cbiAgICAgKlxuICAgICAqIEEuY29uY2F0KEIsIFwiaG9yaXpvbnRhbFwiKTsgLy8gMiBieSA0IG1hdHJpeC4gW1sxLCAxLCAyLCAyXSwgWzEsIDEsIDIsIDJdXVxuICAgICAqIEEuY29uY2F0KEIsIFwidmVydGljYWxcIik7IC8vIDQgYnkgMiBtYXRyaXguIFtbMSwgMV0sIFsxLCAxXSwgWzIsIDJdLCBbMiwgMl1dXG4gICAgICogQS5jb25jYXQoQiwgXCJkaWFnXCIpOyAvLyA0IGJ5IDQgbWF0cml4LiBbWzEsIDEsIDAsIDBdLCBbMSwgMSwgMCwgMF0sIFswLCAwLCAyLCAyXSwgWzAsIDAsIDIsIDJdXVxuICAgICAqL1xuICAgIGNvbmNhdChCLCB0eXBlID0gXCJob3Jpem9udGFsXCIpIHtcbiAgICAgICAgY29uc3QgQSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IFtyb3dzX0EsIGNvbHNfQV0gPSBBLnNoYXBlO1xuICAgICAgICBjb25zdCBbcm93c19CLCBjb2xzX0JdID0gQi5zaGFwZTtcbiAgICAgICAgaWYgKHR5cGUgPT0gXCJob3Jpem9udGFsXCIpIHtcbiAgICAgICAgICAgIGlmIChyb3dzX0EgIT0gcm93c19CKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBBLmNvbmNhdChCLCBcImhvcml6b250YWxcIik6IEEgYW5kIEIgbmVlZCBzYW1lIG51bWJlciBvZiByb3dzLCBBIGhhcyAke3Jvd3NfQX0gcm93cywgQiBoYXMgJHtyb3dzX0J9IHJvd3MuYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBYID0gbmV3IE1hdHJpeChyb3dzX0EsIGNvbHNfQSArIGNvbHNfQiwgXCJ6ZXJvc1wiKTtcbiAgICAgICAgICAgIFguc2V0X2Jsb2NrKDAsIDAsIEEpO1xuICAgICAgICAgICAgWC5zZXRfYmxvY2soMCwgY29sc19BLCBCKTtcbiAgICAgICAgICAgIHJldHVybiBYO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT0gXCJ2ZXJ0aWNhbFwiKSB7XG4gICAgICAgICAgICBpZiAoY29sc19BICE9IGNvbHNfQikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQS5jb25jYXQoQiwgXCJ2ZXJ0aWNhbFwiKTogQSBhbmQgQiBuZWVkIHNhbWUgbnVtYmVyIG9mIGNvbHVtbnMsIEEgaGFzICR7Y29sc19BfSBjb2x1bW5zLCBCIGhhcyAke2NvbHNfQn0gY29sdW1ucy5gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IFggPSBuZXcgTWF0cml4KHJvd3NfQSArIHJvd3NfQiwgY29sc19BLCBcInplcm9zXCIpO1xuICAgICAgICAgICAgWC5zZXRfYmxvY2soMCwgMCwgQSk7XG4gICAgICAgICAgICBYLnNldF9ibG9jayhyb3dzX0EsIDAsIEIpO1xuICAgICAgICAgICAgcmV0dXJuIFg7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PSBcImRpYWdcIikge1xuICAgICAgICAgICAgY29uc3QgWCA9IG5ldyBNYXRyaXgocm93c19BICsgcm93c19CLCBjb2xzX0EgKyBjb2xzX0IsIFwiemVyb3NcIik7XG4gICAgICAgICAgICBYLnNldF9ibG9jaygwLCAwLCBBKTtcbiAgICAgICAgICAgIFguc2V0X2Jsb2NrKHJvd3NfQSwgY29sc19BLCBCKTtcbiAgICAgICAgICAgIHJldHVybiBYO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGB0eXBlIG11c3QgYmUgXCJob3Jpem9udGFsXCIgb3IgXCJ2ZXJ0aWNhbFwiLCBidXQgdHlwZSBpcyAke3R5cGV9IWApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogV3JpdGVzIHRoZSBlbnRyaWVzIG9mIEIgaW4gQSBhdCBhbiBvZmZzZXQgcG9zaXRpb24gZ2l2ZW4gYnkge0BsaW5rIG9mZnNldF9yb3d9IGFuZCB7QGxpbmsgb2Zmc2V0X2NvbH0uXG4gICAgICogQHBhcmFtIHtpbnR9IG9mZnNldF9yb3dcbiAgICAgKiBAcGFyYW0ge2ludH0gb2Zmc2V0X2NvbFxuICAgICAqIEBwYXJhbSB7TWF0cml4fSBCXG4gICAgICogQHJldHVybnMge01hdHJpeH1cbiAgICAgKi9cbiAgICBzZXRfYmxvY2sob2Zmc2V0X3Jvdywgb2Zmc2V0X2NvbCwgQikge1xuICAgICAgICBsZXQgW3Jvd3MsIGNvbHNdID0gQi5zaGFwZTtcbiAgICAgICAgZm9yIChsZXQgcm93ID0gMDsgcm93IDwgcm93czsgKytyb3cpIHtcbiAgICAgICAgICAgIGlmIChyb3cgPiB0aGlzLl9yb3dzKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGxldCBjb2wgPSAwOyBjb2wgPCBjb2xzOyArK2NvbCkge1xuICAgICAgICAgICAgICAgIGlmIChjb2wgPiB0aGlzLl9jb2xzKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnNldF9lbnRyeShyb3cgKyBvZmZzZXRfcm93LCBjb2wgKyBvZmZzZXRfY29sLCBCLmVudHJ5KHJvdywgY29sKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXh0cmFjdHMgdGhlIGVudHJpZXMgZnJvbSB0aGUge0BsaW5rIHN0YXJ0X3Jvd308c3VwPnRoPC9zdXA+IHJvdyB0byB0aGUge0BsaW5rIGVuZF9yb3d9PHN1cD50aDwvc3VwPiByb3csIHRoZSB7QGxpbmsgc3RhcnRfY29sfTxzdXA+dGg8L3N1cD4gY29sdW1uIHRvIHRoZSB7QGxpbmsgZW5kX2NvbH08c3VwPnRoPC9zdXA+IGNvbHVtbiBvZiB0aGUgbWF0cml4LlxuICAgICAqIElmIHtAbGluayBlbmRfcm93fSBvciB7QGxpbmsgZW5kX2NvbH0gaXMgZW1wdHksIHRoZSByZXNwZWN0aXZlIHZhbHVlIGlzIHNldCB0byB7QGxpbmsgdGhpcy5yb3dzfSBvciB7QGxpbmsgdGhpcy5jb2xzfS5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gc3RhcnRfcm93XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHN0YXJ0X2NvbFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbZW5kX3JvdyA9IG51bGxdXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtlbmRfY29sID0gbnVsbF1cbiAgICAgKiBAcmV0dXJucyB7TWF0cml4fSBSZXR1cm5zIGEgZW5kX3JvdyAtIHN0YXJ0X3JvdyB0aW1lcyBlbmRfY29sIC0gc3RhcnRfY29sIG1hdHJpeCwgd2l0aCByZXNwZWN0aXZlIGVudHJpZXMgZnJvbSB0aGUgbWF0cml4LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBsZXQgQSA9IE1hdHJpeC5mcm9tKFtbMSwgMiwgM10sIFs0LCA1LCA2XSwgWzcsIDgsIDldXSk7IC8vIGEgMyBieSAzIG1hdHJpeC5cbiAgICAgKlxuICAgICAqIEEuZ2V0X2Jsb2NrKDEsIDEpOyAvLyBbWzUsIDZdLCBbOCwgOV1dXG4gICAgICogQS5nZXRfYmxvY2soMCwgMCwgMSwgMSk7IC8vIFtbMV1dXG4gICAgICogQS5nZXRfYmxvY2soMSwgMSwgMiwgMik7IC8vIFtbNV1dXG4gICAgICogQS5nZXRfYmxvY2soMCwgMCwgMiwgMik7IC8vIFtbMSwgMl0sIFs0LCA1XV1cbiAgICAgKi9cbiAgICBnZXRfYmxvY2soc3RhcnRfcm93LCBzdGFydF9jb2wsIGVuZF9yb3cgPSBudWxsLCBlbmRfY29sID0gbnVsbCkge1xuICAgICAgICBjb25zdCBbcm93cywgY29sc10gPSB0aGlzLnNoYXBlO1xuICAgICAgICBlbmRfcm93ID0gZW5kX3JvdyA/PyByb3dzO1xuICAgICAgICBlbmRfY29sID0gZW5kX2NvbCA/PyBjb2xzO1xuICAgICAgICBpZiAoZW5kX3JvdyA8PSBzdGFydF9yb3cgfHwgZW5kX2NvbCA8PSBzdGFydF9jb2wpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgXG4gICAgICAgICAgICAgICAgZW5kX3JvdyBtdXN0IGJlIGdyZWF0ZXIgdGhhbiBzdGFydF9yb3csIGFuZCBcbiAgICAgICAgICAgICAgICBlbmRfY29sIG11c3QgYmUgZ3JlYXRlciB0aGFuIHN0YXJ0X2NvbCwgYnV0XG4gICAgICAgICAgICAgICAgZW5kX3JvdyA9ICR7ZW5kX3Jvd30sIHN0YXJ0X3JvdyA9ICR7c3RhcnRfcm93fSwgZW5kX2NvbCA9ICR7ZW5kX2NvbH0sIGFuZCBzdGFydF9jb2wgPSAke3N0YXJ0X2NvbH0hYCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgWCA9IG5ldyBNYXRyaXgoZW5kX3JvdyAtIHN0YXJ0X3JvdywgZW5kX2NvbCAtIHN0YXJ0X2NvbCwgXCJ6ZXJvc1wiKTtcbiAgICAgICAgZm9yIChsZXQgcm93ID0gc3RhcnRfcm93LCBuZXdfcm93ID0gMDsgcm93IDwgZW5kX3JvdzsgKytyb3csICsrbmV3X3Jvdykge1xuICAgICAgICAgICAgZm9yIChsZXQgY29sID0gc3RhcnRfY29sLCBuZXdfY29sID0gMDsgY29sIDwgZW5kX2NvbDsgKytjb2wsICsrbmV3X2NvbCkge1xuICAgICAgICAgICAgICAgIFguc2V0X2VudHJ5KG5ld19yb3csIG5ld19jb2wsIHRoaXMuZW50cnkocm93LCBjb2wpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gWDtcbiAgICAgICAgLy9yZXR1cm4gbmV3IE1hdHJpeChlbmRfcm93IC0gc3RhcnRfcm93LCBlbmRfY29sIC0gc3RhcnRfY29sLCAoaSwgaikgPT4gdGhpcy5lbnRyeShpICsgc3RhcnRfcm93LCBqICsgc3RhcnRfY29sKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIG5ldyBhcnJheSBnYXRoZXJpbmcgZW50cmllcyBkZWZpbmVkIGJ5IHRoZSBpbmRpY2VzIGdpdmVuIGJ5IGFyZ3VtZW50LlxuICAgICAqIEBwYXJhbSB7QXJyYXk8TnVtYmVyPn0gcm93X2luZGljZXMgLSBBcnJheSBjb25zaXN0cyBvZiBpbmRpY2VzIG9mIHJvd3MgZm9yIGdhdGhlcmluZyBlbnRyaWVzIG9mIHRoaXMgbWF0cml4XG4gICAgICogQHBhcmFtIHtBcnJheTxOdW1iZXI+fSBjb2xfaW5kaWNlcyAgLSBBcnJheSBjb25zaXN0cyBvZiBpbmRpY2VzIG9mIGNvbHMgZm9yIGdhdGhlcmluZyBlbnRyaWVzIG9mIHRoaXMgbWF0cml4XG4gICAgICogQHJldHVybnMge01hdHJpeH1cbiAgICAgKi9cbiAgICBnYXRoZXIocm93X2luZGljZXMsIGNvbF9pbmRpY2VzKSB7XG4gICAgICAgIGNvbnN0IE4gPSByb3dfaW5kaWNlcy5sZW5ndGg7XG4gICAgICAgIGNvbnN0IEQgPSBjb2xfaW5kaWNlcy5sZW5ndGg7XG5cbiAgICAgICAgY29uc3QgUiA9IG5ldyBNYXRyaXgoTiwgRCk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgTjsgKytpKSB7XG4gICAgICAgICAgICBjb25zdCByb3dfaW5kZXggPSByb3dfaW5kaWNlc1tpXTtcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgTjsgKytqKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY29sX2luZGV4ID0gY29sX2luZGljZXNbal07XG4gICAgICAgICAgICAgICAgUi5zZXRfZW50cnkoaSwgaiwgdGhpcy5lbnRyeShyb3dfaW5kZXgsIGNvbF9pbmRleCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQXBwbGllcyBhIGZ1bmN0aW9uIHRvIGVhY2ggZW50cnkgb2YgdGhlIG1hdHJpeC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGYgZnVuY3Rpb24gdGFrZXMgMiBwYXJhbWV0ZXJzLCB0aGUgdmFsdWUgb2YgdGhlIGFjdHVhbCBlbnRyeSBhbmQgYSB2YWx1ZSBnaXZlbiBieSB0aGUgZnVuY3Rpb24ge0BsaW5rIHZ9LiBUaGUgcmVzdWx0IG9mIHtAbGluayBmfSBnZXRzIHdyaXRlbiB0byB0aGUgTWF0cml4LlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IHYgZnVuY3Rpb24gdGFrZXMgMiBwYXJhbWV0ZXJzIGZvciByb3cgYW5kIGNvbCwgYW5kIHJldHVybnMgYSB2YWx1ZSB3aXRjaCBzaG91bGQgYmUgYXBwbGllZCB0byB0aGUgY29sdGggZW50cnkgb2YgdGhlIHJvd3RoIHJvdyBvZiB0aGUgbWF0cml4LlxuICAgICAqL1xuICAgIF9hcHBseV9hcnJheShmLCB2KSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLnZhbHVlcztcbiAgICAgICAgY29uc3QgW3Jvd3MsIGNvbHNdID0gdGhpcy5zaGFwZTtcbiAgICAgICAgZm9yIChsZXQgcm93ID0gMDsgcm93IDwgcm93czsgKytyb3cpIHtcbiAgICAgICAgICAgIGNvbnN0IG9mZnNldCA9IHJvdyAqIGNvbHM7XG4gICAgICAgICAgICBmb3IgKGxldCBjb2wgPSAwOyBjb2wgPCBjb2xzOyArK2NvbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGkgPSBvZmZzZXQgKyBjb2w7XG4gICAgICAgICAgICAgICAgZGF0YVtpXSA9IGYoZGF0YVtpXSwgdihyb3csIGNvbCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIF9hcHBseV9yb3d3aXNlX2FycmF5KHZhbHVlcywgZikge1xuICAgICAgICByZXR1cm4gdGhpcy5fYXBwbHlfYXJyYXkoZiwgKF8sIGopID0+IHZhbHVlc1tqXSk7XG4gICAgfVxuXG4gICAgX2FwcGx5X2NvbHdpc2VfYXJyYXkodmFsdWVzLCBmKSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLnZhbHVlcztcbiAgICAgICAgY29uc3QgW3Jvd3MsIGNvbHNdID0gdGhpcy5zaGFwZTtcbiAgICAgICAgZm9yIChsZXQgcm93ID0gMDsgcm93IDwgcm93czsgKytyb3cpIHtcbiAgICAgICAgICAgIGNvbnN0IG9mZnNldCA9IHJvdyAqIGNvbHM7XG4gICAgICAgICAgICBmb3IgKGxldCBjb2wgPSAwOyBjb2wgPCBjb2xzOyArK2NvbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGkgPSBvZmZzZXQgKyBjb2w7XG4gICAgICAgICAgICAgICAgZGF0YVtpXSA9IGYoZGF0YVtpXSwgdmFsdWVzW3Jvd10pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIF9hcHBseSh2YWx1ZSwgZikge1xuICAgICAgICBsZXQgZGF0YSA9IHRoaXMudmFsdWVzO1xuICAgICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBNYXRyaXgpIHtcbiAgICAgICAgICAgIGxldCBbdmFsdWVfcm93cywgdmFsdWVfY29sc10gPSB2YWx1ZS5zaGFwZTtcbiAgICAgICAgICAgIGxldCBbcm93cywgY29sc10gPSB0aGlzLnNoYXBlO1xuICAgICAgICAgICAgaWYgKHZhbHVlX3Jvd3MgPT09IDEpIHtcbiAgICAgICAgICAgICAgICBpZiAoY29scyAhPT0gdmFsdWVfY29scykge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYGNvbHMgIT09IHZhbHVlX2NvbHNgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgcm93ID0gMDsgcm93IDwgcm93czsgKytyb3cpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgY29sID0gMDsgY29sIDwgY29sczsgKytjb2wpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFbcm93ICogY29scyArIGNvbF0gPSBmKGRhdGFbcm93ICogY29scyArIGNvbF0sIHZhbHVlLmVudHJ5KDAsIGNvbCkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmICh2YWx1ZV9jb2xzID09PSAxKSB7XG4gICAgICAgICAgICAgICAgaWYgKHJvd3MgIT09IHZhbHVlX3Jvd3MpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGByb3dzICE9PSB2YWx1ZV9yb3dzYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZvciAobGV0IHJvdyA9IDA7IHJvdyA8IHJvd3M7ICsrcm93KSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGNvbCA9IDA7IGNvbCA8IGNvbHM7ICsrY29sKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhW3JvdyAqIGNvbHMgKyBjb2xdID0gZihkYXRhW3JvdyAqIGNvbHMgKyBjb2xdLCB2YWx1ZS5lbnRyeShyb3csIDApKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAocm93cyA9PSB2YWx1ZV9yb3dzICYmIGNvbHMgPT0gdmFsdWVfY29scykge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IHJvdyA9IDA7IHJvdyA8IHJvd3M7ICsrcm93KSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGNvbCA9IDA7IGNvbCA8IGNvbHM7ICsrY29sKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhW3JvdyAqIGNvbHMgKyBjb2xdID0gZihkYXRhW3JvdyAqIGNvbHMgKyBjb2xdLCB2YWx1ZS5lbnRyeShyb3csIGNvbCkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYGVycm9yYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICAgIGxldCByb3dzID0gdGhpcy5fcm93cztcbiAgICAgICAgICAgIGxldCBjb2xzID0gdGhpcy5fY29scztcbiAgICAgICAgICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IHJvd3MpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCByb3cgPSAwOyByb3cgPCByb3dzOyArK3Jvdykge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBjb2wgPSAwOyBjb2wgPCBjb2xzOyArK2NvbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVtyb3cgKiBjb2xzICsgY29sXSA9IGYoZGF0YVtyb3cgKiBjb2xzICsgY29sXSwgdmFsdWVbcm93XSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHZhbHVlLmxlbmd0aCA9PT0gY29scykge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IHJvdyA9IDA7IHJvdyA8IHJvd3M7ICsrcm93KSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGNvbCA9IDA7IGNvbCA8IGNvbHM7ICsrY29sKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhW3JvdyAqIGNvbHMgKyBjb2xdID0gZihkYXRhW3JvdyAqIGNvbHMgKyBjb2xdLCB2YWx1ZVtjb2xdKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBlcnJvcmApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIG4gPSB0aGlzLl9yb3dzICogdGhpcy5fY29sczsgaSA8IG47ICsraSkge1xuICAgICAgICAgICAgICAgIGRhdGFbaV0gPSBmKGRhdGFbaV0sIHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDbG9uZXMgdGhlIE1hdHJpeC5cbiAgICAgKiBAcmV0dXJucyB7TWF0cml4fVxuICAgICAqL1xuICAgIGNsb25lKCkge1xuICAgICAgICBsZXQgQiA9IG5ldyBNYXRyaXgoKTtcbiAgICAgICAgQi5fcm93cyA9IHRoaXMuX3Jvd3M7XG4gICAgICAgIEIuX2NvbHMgPSB0aGlzLl9jb2xzO1xuICAgICAgICBCLl9kYXRhID0gdGhpcy52YWx1ZXMuc2xpY2UoMCk7XG4gICAgICAgIHJldHVybiBCO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVudHJ5d2lzZSBtdWx0aXBsaWNhdGlvbiB3aXRoIHtAbGluayB2YWx1ZX0uXG4gICAgICogQHBhcmFtIHtNYXRyaXh8QXJyYXl8TnVtYmVyfSB2YWx1ZVxuICAgICAqIEByZXR1cm5zIHtNYXRyaXh9XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGxldCBBID0gTWF0cml4LmZyb20oW1sxLCAyXSwgWzMsIDRdXSk7IC8vIGEgMiBieSAyIG1hdHJpeC5cbiAgICAgKiBsZXQgQiA9IEEuY2xvbmUoKTsgLy8gQiA9PSBBO1xuICAgICAqXG4gICAgICogQS5tdWx0KDIpOyAvLyBbWzIsIDRdLCBbNiwgOF1dO1xuICAgICAqIEEubXVsdChCKTsgLy8gW1sxLCA0XSwgWzksIDE2XV07XG4gICAgICovXG4gICAgbXVsdCh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5jbG9uZSgpLl9hcHBseSh2YWx1ZSwgKGEsIGIpID0+IGEgKiBiKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFbnRyeXdpc2UgZGl2aXNpb24gd2l0aCB7QGxpbmsgdmFsdWV9LlxuICAgICAqIEBwYXJhbSB7TWF0cml4fEFycmF5fE51bWJlcn0gdmFsdWVcbiAgICAgKiBAcmV0dXJucyB7TWF0cml4fVxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBsZXQgQSA9IE1hdHJpeC5mcm9tKFtbMSwgMl0sIFszLCA0XV0pOyAvLyBhIDIgYnkgMiBtYXRyaXguXG4gICAgICogbGV0IEIgPSBBLmNsb25lKCk7IC8vIEIgPT0gQTtcbiAgICAgKlxuICAgICAqIEEuZGl2aWRlKDIpOyAvLyBbWzAuNSwgMV0sIFsxLjUsIDJdXTtcbiAgICAgKiBBLmRpdmlkZShCKTsgLy8gW1sxLCAxXSwgWzEsIDFdXTtcbiAgICAgKi9cbiAgICBkaXZpZGUodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2xvbmUoKS5fYXBwbHkodmFsdWUsIChhLCBiKSA9PiBhIC8gYik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRW50cnl3aXNlIGFkZGl0aW9uIHdpdGgge0BsaW5rIHZhbHVlfS5cbiAgICAgKiBAcGFyYW0ge01hdHJpeHxBcnJheXxOdW1iZXJ9IHZhbHVlXG4gICAgICogQHJldHVybnMge01hdHJpeH1cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogbGV0IEEgPSBNYXRyaXguZnJvbShbWzEsIDJdLCBbMywgNF1dKTsgLy8gYSAyIGJ5IDIgbWF0cml4LlxuICAgICAqIGxldCBCID0gQS5jbG9uZSgpOyAvLyBCID09IEE7XG4gICAgICpcbiAgICAgKiBBLmFkZCgyKTsgLy8gW1szLCA0XSwgWzUsIDZdXTtcbiAgICAgKiBBLmFkZChCKTsgLy8gW1syLCA0XSwgWzYsIDhdXTtcbiAgICAgKi9cbiAgICBhZGQodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2xvbmUoKS5fYXBwbHkodmFsdWUsIChhLCBiKSA9PiBhICsgYik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRW50cnl3aXNlIHN1YnRyYWN0aW9uIHdpdGgge0BsaW5rIHZhbHVlfS5cbiAgICAgKiBAcGFyYW0ge01hdHJpeHxBcnJheXxOdW1iZXJ9IHZhbHVlXG4gICAgICogQHJldHVybnMge01hdHJpeH1cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogbGV0IEEgPSBNYXRyaXguZnJvbShbWzEsIDJdLCBbMywgNF1dKTsgLy8gYSAyIGJ5IDIgbWF0cml4LlxuICAgICAqIGxldCBCID0gQS5jbG9uZSgpOyAvLyBCID09IEE7XG4gICAgICpcbiAgICAgKiBBLnN1YigyKTsgLy8gW1stMSwgMF0sIFsxLCAyXV07XG4gICAgICogQS5zdWIoQik7IC8vIFtbMCwgMF0sIFswLCAwXV07XG4gICAgICovXG4gICAgc3ViKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNsb25lKCkuX2FwcGx5KHZhbHVlLCAoYSwgYikgPT4gYSAtIGIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIG51bWJlciBvZiByb3dzIGFuZCBjb2x1bW5zIG9mIHRoZSBNYXRyaXguXG4gICAgICogQHJldHVybnMge0FycmF5fSBBbiBBcnJheSBpbiB0aGUgZm9ybSBbcm93cywgY29sdW1uc10uXG4gICAgICovXG4gICAgZ2V0IHNoYXBlKCkge1xuICAgICAgICByZXR1cm4gW3RoaXMuX3Jvd3MsIHRoaXMuX2NvbHNdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIG1hdHJpeCBpbiB0aGUgZ2l2ZW4gc2hhcGUgd2l0aCB0aGUgZ2l2ZW4gZnVuY3Rpb24gd2hpY2ggcmV0dXJucyB2YWx1ZXMgZm9yIHRoZSBlbnRyaWVzIG9mIHRoZSBtYXRyaXguXG4gICAgICogQHBhcmFtIHtBcnJheX0gcGFyYW1ldGVyIC0gdGFrZXMgYW4gQXJyYXkgaW4gdGhlIGZvcm0gW3Jvd3MsIGNvbHMsIHZhbHVlXSwgd2hlcmUgcm93cyBhbmQgY29scyBhcmUgdGhlIG51bWJlciBvZiByb3dzIGFuZCBjb2x1bW5zIG9mIHRoZSBtYXRyaXgsIGFuZCB2YWx1ZSBpcyBhIGZ1bmN0aW9uIHdoaWNoIHRha2VzIHR3byBwYXJhbWV0ZXJzIChyb3cgYW5kIGNvbCkgd2hpY2ggaGFzIHRvIHJldHVybiBhIHZhbHVlIGZvciB0aGUgY29sdGggZW50cnkgb2YgdGhlIHJvd3RoIHJvdy5cbiAgICAgKiBAcmV0dXJucyB7TWF0cml4fVxuICAgICAqL1xuICAgIHNldCBzaGFwZShbcm93cywgY29scywgdmFsdWUgPSAoKSA9PiAwXSkge1xuICAgICAgICB0aGlzLl9yb3dzID0gcm93cztcbiAgICAgICAgdGhpcy5fY29scyA9IGNvbHM7XG4gICAgICAgIHRoaXMuX2RhdGEgPSBuZXcgRmxvYXQ2NEFycmF5KHJvd3MgKiBjb2xzKTtcbiAgICAgICAgZm9yIChsZXQgcm93ID0gMDsgcm93IDwgcm93czsgKytyb3cpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGNvbCA9IDA7IGNvbCA8IGNvbHM7ICsrY29sKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZGF0YVtyb3cgKiBjb2xzICsgY29sXSA9IHZhbHVlKHJvdywgY29sKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBNYXRyaXggYXMgYSBBcnJheSBvZiBGbG9hdDY0QXJyYXlzLlxuICAgICAqIEByZXR1cm5zIHtBcnJheTxGbG9hdDY0QXJyYXk+fVxuICAgICAqL1xuICAgIGdldCB0bzJkQXJyYXkoKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IHJvdyBvZiB0aGlzLml0ZXJhdGVfcm93cygpKSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaChyb3cpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgTWF0cml4IGFzIGEgQXJyYXkgb2YgQXJyYXlzLlxuICAgICAqIEByZXR1cm5zIHtBcnJheTxBcnJheT59XG4gICAgICovXG4gICAgZ2V0IGFzQXJyYXkoKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IHJvdyBvZiB0aGlzLml0ZXJhdGVfcm93cygpKSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaChBcnJheS5mcm9tKHJvdykpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgZGlhZ29uYWwgb2YgdGhlIE1hdHJpeC5cbiAgICAgKiBAcmV0dXJucyB7RmxvYXQ2NEFycmF5fVxuICAgICAqL1xuICAgIGdldCBkaWFnKCkge1xuICAgICAgICBjb25zdCByb3dzID0gdGhpcy5fcm93cztcbiAgICAgICAgY29uc3QgY29scyA9IHRoaXMuX2NvbHM7XG4gICAgICAgIGNvbnN0IG1pbl9yb3dfY29sID0gTWF0aC5taW4ocm93cywgY29scyk7XG4gICAgICAgIGxldCByZXN1bHQgPSBuZXcgRmxvYXQ2NEFycmF5KG1pbl9yb3dfY29sKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtaW5fcm93X2NvbDsgKytpKSB7XG4gICAgICAgICAgICByZXN1bHRbaV0gPSB0aGlzLmVudHJ5KGksIGkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbWVhbiBvZiBhbGwgZW50cmllcyBvZiB0aGUgTWF0cml4LlxuICAgICAqIEByZXR1cm5zIHtOdW1iZXJ9XG4gICAgICovXG4gICAgZ2V0IG1lYW4oKSB7XG4gICAgICAgIGNvbnN0IHN1bSA9IHRoaXMuc3VtO1xuICAgICAgICBjb25zdCBuID0gdGhpcy5fcm93cyAqIHRoaXMuX2NvbHM7XG4gICAgICAgIHJldHVybiBzdW0gLyBuO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHN1bSBvb2YgYWxsIGVudHJpZXMgb2YgdGhlIE1hdHJpeC5cbiAgICAgKiBAcmV0dXJucyB7TnVtYmVyfVxuICAgICAqL1xuICAgIGdldCBzdW0oKSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLnZhbHVlcztcbiAgICAgICAgcmV0dXJuIG5ldW1haXJfc3VtKGRhdGEpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHN1bSBvb2YgYWxsIGVudHJpZXMgb2YgdGhlIE1hdHJpeC5cbiAgICAgKiBAcmV0dXJucyB7RmxvYXQ2NEFycmF5fVxuICAgICAqL1xuICAgIGdldCB2YWx1ZXMoKSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLl9kYXRhO1xuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBtZWFuIG9mIGVhY2ggcm93IG9mIHRoZSBtYXRyaXguXG4gICAgICogQHJldHVybnMge0Zsb2F0NjRBcnJheX1cbiAgICAgKi9cbiAgICBnZXQgbWVhblJvd3MoKSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLnZhbHVlcztcbiAgICAgICAgY29uc3Qgcm93cyA9IHRoaXMuX3Jvd3M7XG4gICAgICAgIGNvbnN0IGNvbHMgPSB0aGlzLl9jb2xzO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBGbG9hdDY0QXJyYXkuZnJvbSh7IGxlbmd0aDogcm93cyB9KTtcbiAgICAgICAgZm9yIChsZXQgcm93ID0gMDsgcm93IDwgcm93czsgKytyb3cpIHtcbiAgICAgICAgICAgIHJlc3VsdFtyb3ddID0gMDtcbiAgICAgICAgICAgIGZvciAobGV0IGNvbCA9IDA7IGNvbCA8IGNvbHM7ICsrY29sKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0W3Jvd10gKz0gZGF0YVtyb3cgKiBjb2xzICsgY29sXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlc3VsdFtyb3ddIC89IGNvbHM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKiogUmV0dXJucyB0aGUgbWVhbiBvZiBlYWNoIGNvbHVtbiBvZiB0aGUgbWF0cml4LlxuICAgICAqIEByZXR1cm5zIHtGbG9hdDY0QXJyYXl9XG4gICAgICovXG4gICAgZ2V0IG1lYW5Db2xzKCkge1xuICAgICAgICBjb25zdCBkYXRhID0gdGhpcy52YWx1ZXM7XG4gICAgICAgIGNvbnN0IHJvd3MgPSB0aGlzLl9yb3dzO1xuICAgICAgICBjb25zdCBjb2xzID0gdGhpcy5fY29scztcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gRmxvYXQ2NEFycmF5LmZyb20oeyBsZW5ndGg6IGNvbHMgfSk7XG4gICAgICAgIGZvciAobGV0IGNvbCA9IDA7IGNvbCA8IGNvbHM7ICsrY29sKSB7XG4gICAgICAgICAgICByZXN1bHRbY29sXSA9IDA7XG4gICAgICAgICAgICBmb3IgKGxldCByb3cgPSAwOyByb3cgPCByb3dzOyArK3Jvdykge1xuICAgICAgICAgICAgICAgIHJlc3VsdFtjb2xdICs9IGRhdGFbcm93ICogY29scyArIGNvbF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXN1bHRbY29sXSAvPSByb3dzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU29sdmVzIHRoZSBlcXVhdGlvbiB7QGxpbmsgQX14ID0ge0BsaW5rIGJ9IHVzaW5nIHRoZSBjb25qdWdhdGUgZ3JhZGllbnQgbWV0aG9kLiBSZXR1cm5zIHRoZSByZXN1bHQgeC5cbiAgICAgKiBAcGFyYW0ge01hdHJpeH0gQSAtIE1hdHJpeFxuICAgICAqIEBwYXJhbSB7TWF0cml4fSBiIC0gTWF0cml4XG4gICAgICogQHBhcmFtIHtSYW5kb21pemVyfSBbcmFuZG9taXplcj1udWxsXVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbdG9sPTFlLTNdXG4gICAgICogQHJldHVybnMge01hdHJpeH1cbiAgICAgKi9cbiAgICBzdGF0aWMgc29sdmVfQ0coQSwgYiwgcmFuZG9taXplciwgdG9sID0gMWUtMykge1xuICAgICAgICBpZiAocmFuZG9taXplciA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmFuZG9taXplciA9IG5ldyBSYW5kb21pemVyKCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgcm93cyA9IEEuc2hhcGVbMF07XG4gICAgICAgIGNvbnN0IGNvbHMgPSBiLnNoYXBlWzFdO1xuICAgICAgICBsZXQgcmVzdWx0ID0gbmV3IE1hdHJpeChyb3dzLCAwKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb2xzOyArK2kpIHtcbiAgICAgICAgICAgIGNvbnN0IGJfaSA9IE1hdHJpeC5mcm9tKGIuY29sKGkpKS5UO1xuICAgICAgICAgICAgbGV0IHggPSBuZXcgTWF0cml4KHJvd3MsIDEsICgpID0+IHJhbmRvbWl6ZXIucmFuZG9tKTtcbiAgICAgICAgICAgIGxldCByID0gYl9pLnN1YihBLmRvdCh4KSk7XG4gICAgICAgICAgICBsZXQgZCA9IHIuY2xvbmUoKTtcbiAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICBjb25zdCB6ID0gQS5kb3QoZCk7XG4gICAgICAgICAgICAgICAgY29uc3QgYWxwaGEgPSByLlQuZG90KHIpLmVudHJ5KDAsIDApIC8gZC5ULmRvdCh6KS5lbnRyeSgwLCAwKTtcbiAgICAgICAgICAgICAgICB4ID0geC5hZGQoZC5tdWx0KGFscGhhKSk7XG4gICAgICAgICAgICAgICAgY29uc3Qgcl9uZXh0ID0gci5zdWIoei5tdWx0KGFscGhhKSk7XG4gICAgICAgICAgICAgICAgY29uc3QgYmV0YSA9IHJfbmV4dC5ULmRvdChyX25leHQpLmVudHJ5KDAsIDApIC8gci5ULmRvdChyKS5lbnRyeSgwLCAwKTtcbiAgICAgICAgICAgICAgICBkID0gcl9uZXh0LmFkZChkLm11bHQoYmV0YSkpO1xuICAgICAgICAgICAgICAgIHIgPSByX25leHQ7XG4gICAgICAgICAgICB9IHdoaWxlIChNYXRoLmFicyhyLm1lYW4pID4gdG9sKTtcbiAgICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdC5jb25jYXQoeCwgXCJob3Jpem9udGFsXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU29sdmVzIHRoZSBlcXVhdGlvbiB7QGxpbmsgQX14ID0ge0BsaW5rIGJ9LiBSZXR1cm5zIHRoZSByZXN1bHQgeC5cbiAgICAgKiBAcGFyYW0ge01hdHJpeH0gQSAtIE1hdHJpeCBvciBMVSBEZWNvbXBvc2l0aW9uXG4gICAgICogQHBhcmFtIHtNYXRyaXh9IGIgLSBNYXRyaXhcbiAgICAgKiBAcmV0dXJucyB7TWF0cml4fVxuICAgICAqL1xuICAgIHN0YXRpYyBzb2x2ZShBLCBiKSB7XG4gICAgICAgIGxldCB7IEw6IEwsIFU6IFUgfSA9IFwiTFwiIGluIEEgJiYgXCJVXCIgaW4gQSA/IEEgOiBNYXRyaXguTFUoQSk7XG4gICAgICAgIGxldCByb3dzID0gTC5zaGFwZVswXTtcbiAgICAgICAgbGV0IHggPSBiLmNsb25lKCk7XG5cbiAgICAgICAgLy8gZm9yd2FyZFxuICAgICAgICBmb3IgKGxldCByb3cgPSAwOyByb3cgPCByb3dzOyArK3Jvdykge1xuICAgICAgICAgICAgZm9yIChsZXQgY29sID0gMDsgY29sIDwgcm93IC0gMTsgKytjb2wpIHtcbiAgICAgICAgICAgICAgICB4LnNldF9lbnRyeSgwLCByb3csIHguZW50cnkoMCwgcm93KSAtIEwuZW50cnkocm93LCBjb2wpICogeC5lbnRyeSgxLCBjb2wpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHguc2V0X2VudHJ5KDAsIHJvdywgeC5lbnRyeSgwLCByb3cpIC8gTC5lbnRyeShyb3csIHJvdykpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gYmFja3dhcmRcbiAgICAgICAgZm9yIChsZXQgcm93ID0gcm93cyAtIDE7IHJvdyA+PSAwOyAtLXJvdykge1xuICAgICAgICAgICAgZm9yIChsZXQgY29sID0gcm93cyAtIDE7IGNvbCA+IHJvdzsgLS1jb2wpIHtcbiAgICAgICAgICAgICAgICB4LnNldF9lbnRyeSgwLCByb3csIHguZW50cnkoMCwgcm93KSAtIFUuZW50cnkocm93LCBjb2wpICogeC5lbnRyeSgwLCBjb2wpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHguc2V0X2VudHJ5KDAsIHJvdywgeC5lbnRyeSgwLCByb3cpIC8gVS5lbnRyeShyb3csIHJvdykpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHg7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICoge0BsaW5rIEx9e0BsaW5rIFV9IGRlY29tcG9zaXRpb24gb2YgdGhlIE1hdHJpeCB7QGxpbmsgQX0uIENyZWF0ZXMgdHdvIG1hdHJpY2VzLCBzbyB0aGF0IHRoZSBkb3QgcHJvZHVjdCBMVSBlcXVhbHMgQS5cbiAgICAgKiBAcGFyYW0ge01hdHJpeH0gQVxuICAgICAqIEByZXR1cm5zIHt7TDogTWF0cml4LCBVOiBNYXRyaXh9fSByZXN1bHQgLSBSZXR1cm5zIHRoZSBsZWZ0IHRyaWFuZ2xlIG1hdHJpeCB7QGxpbmsgTH0gYW5kIHRoZSB1cHBlciB0cmlhbmdsZSBtYXRyaXgge0BsaW5rIFV9LlxuICAgICAqL1xuICAgIHN0YXRpYyBMVShBKSB7XG4gICAgICAgIGNvbnN0IHJvd3MgPSBBLnNoYXBlWzBdO1xuICAgICAgICBjb25zdCBMID0gbmV3IE1hdHJpeChyb3dzLCByb3dzLCBcInplcm9zXCIpO1xuICAgICAgICBjb25zdCBVID0gbmV3IE1hdHJpeChyb3dzLCByb3dzLCBcImlkZW50aXR5XCIpO1xuXG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgcm93czsgKytqKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gajsgaSA8IHJvd3M7ICsraSkge1xuICAgICAgICAgICAgICAgIGxldCBzdW0gPSAwO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGsgPSAwOyBrIDwgajsgKytrKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1bSArPSBMLmVudHJ5KGksIGspICogVS5lbnRyeShrLCBqKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgTC5zZXRfZW50cnkoaSwgaiwgQS5lbnRyeShpLCBqKSAtIHN1bSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gajsgaSA8IHJvd3M7ICsraSkge1xuICAgICAgICAgICAgICAgIGlmIChMLmVudHJ5KGosIGopID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxldCBzdW0gPSAwO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGsgPSAwOyBrIDwgajsgKytrKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1bSArPSBMLmVudHJ5KGosIGspICogVS5lbnRyeShrLCBpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgVS5zZXRfZW50cnkoaiwgaSwgKEEuZW50cnkoaiwgaSkgLSBzdW0pIC8gTC5lbnRyeShqLCBqKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4geyBMOiBMLCBVOiBVIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29tcHV0ZXMgdGhlIGRldGVybWluYW50ZSBvZiB7QGxpbmsgQX0sIGJ5IHVzaW5nIHRoZSBMVSBkZWNvbXBvc2l0aW9uIG9mIHtAbGluayBBfS5cbiAgICAgKiBAcGFyYW0ge01hdHJpeH0gQVxuICAgICAqIEByZXR1cm5zIHtOdW1iZXJ9IGRldCAtIFJldHVybnMgdGhlIGRldGVybWluYXRlIG9mIHRoZSBNYXRyaXgge0BsaW5rIEF9LlxuICAgICAqL1xuICAgIHN0YXRpYyBkZXQoQSkge1xuICAgICAgICBjb25zdCByb3dzID0gQS5zaGFwZVswXTtcbiAgICAgICAgY29uc3QgeyBMLCBVIH0gPSBNYXRyaXguTFUoQSk7XG4gICAgICAgIGNvbnN0IExfZGlhZyA9IEwuZGlhZztcbiAgICAgICAgY29uc3QgVV9kaWFnID0gVS5kaWFnO1xuICAgICAgICBsZXQgZGV0ID0gTF9kaWFnWzBdICogVV9kaWFnWzBdO1xuICAgICAgICBmb3IgKGxldCByb3cgPSAxOyByb3cgPCByb3dzOyArK3Jvdykge1xuICAgICAgICAgICAgZGV0ICo9IExfZGlhZ1tyb3ddICogVV9kaWFnW3Jvd107XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRldDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyB0aGUge0BsaW5rIGt9IGNvbXBvbmVudHMgb2YgdGhlIFNWRCBkZWNvbXBvc2l0aW9uIG9mIHRoZSBtYXRyaXgge0BsaW5rIE19XG4gICAgICogQHBhcmFtIHtNYXRyaXh9IE1cbiAgICAgKiBAcGFyYW0ge2ludH0gW2s9Ml1cbiAgICAgKiBAcmV0dXJucyB7e1U6IE1hdHJpeCwgU2lnbWE6IE1hdHJpeCwgVjogTWF0cml4fX1cbiAgICAgKi9cbiAgICBzdGF0aWMgU1ZEKE0sIGsgPSAyKSB7XG4gICAgICAgIGNvbnN0IE1UID0gTS5UO1xuICAgICAgICBsZXQgTXRNID0gTVQuZG90KE0pO1xuICAgICAgICBsZXQgTU10ID0gTS5kb3QoTVQpO1xuICAgICAgICBsZXQgeyBlaWdlbnZlY3RvcnM6IFYsIGVpZ2VudmFsdWVzOiBTaWdtYSB9ID0gc2ltdWx0YW5lb3VzX3Bvd2VyaXRlcmF0aW9uKE10TSwgayk7XG4gICAgICAgIGxldCB7IGVpZ2VudmVjdG9yczogVSB9ID0gc2ltdWx0YW5lb3VzX3Bvd2VyaXRlcmF0aW9uKE1NdCwgayk7XG4gICAgICAgIHJldHVybiB7IFU6IFUsIFNpZ21hOiBTaWdtYS5tYXAoKHNpZ21hKSA9PiBNYXRoLnNxcnQoc2lnbWEpKSwgVjogViB9O1xuXG4gICAgICAgIC8vQWxnb3JpdGhtIDFhOiBIb3VzZWhvbGRlciByZWR1Y3Rpb24gdG8gYmlkaWFnb25hbCBmb3JtOlxuICAgICAgICAvKiBjb25zdCBbbSwgbl0gPSBBLnNoYXBlO1xuICAgICAgICBsZXQgVSA9IG5ldyBNYXRyaXgobSwgbiwgKGksIGopID0+IGkgPT0gaiA/IDEgOiAwKTtcbiAgICAgICAgY29uc29sZS5sb2coVS50bzJkQXJyYXkpXG4gICAgICAgIGxldCBWID0gbmV3IE1hdHJpeChuLCBtLCAoaSwgaikgPT4gaSA9PSBqID8gMSA6IDApO1xuICAgICAgICBjb25zb2xlLmxvZyhWLnRvMmRBcnJheSlcbiAgICAgICAgbGV0IEIgPSBNYXRyaXguYmlkaWFnb25hbChBLmNsb25lKCksIFUsIFYpO1xuICAgICAgICBjb25zb2xlLmxvZyhVLFYsQilcbiAgICAgICAgcmV0dXJuIHsgVTogVSwgXCJTaWdtYVwiOiBCLCBWOiBWIH07ICovXG4gICAgfVxufVxuIiwiaW1wb3J0IHsgbGluc3BhY2UsIE1hdHJpeCB9IGZyb20gXCIuLi9tYXRyaXgvaW5kZXguanNcIjtcblxuLyoqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBtb2R1bGU6dXRpbHNcbiAqIEBhbGlhcyBSYW5kb21pemVyXG4gKi9cbmV4cG9ydCBjbGFzcyBSYW5kb21pemVyIHtcbiAgICAvKipcbiAgICAgKiBNZXJzZW5uZSBUd2lzdGVyIHJhbmRvbSBudW1iZXIgZ2VuZXJhdG9yLlxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbX3NlZWQ9bmV3IERhdGUoKS5nZXRUaW1lKCldIC0gVGhlIHNlZWQgZm9yIHRoZSByYW5kb20gbnVtYmVyIGdlbmVyYXRvci4gSWYgPGNvZGU+X3NlZWQgPT0gbnVsbDwvY29kZT4gdGhlbiB0aGUgYWN0dWFsIHRpbWUgZ2V0cyB1c2VkIGFzIHNlZWQuXG4gICAgICogQHNlZSBodHRwczovL2dpdGh1Yi5jb20vYm11cnJheTcvbWVyc2VubmUtdHdpc3Rlci1leGFtcGxlcy9ibG9iL21hc3Rlci9qYXZhc2NyaXB0LW1lcnNlbm5lLXR3aXN0ZXIuanNcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcihfc2VlZCkge1xuICAgICAgICB0aGlzLl9OID0gNjI0O1xuICAgICAgICB0aGlzLl9NID0gMzk3O1xuICAgICAgICB0aGlzLl9NQVRSSVhfQSA9IDB4OTkwOGIwZGY7XG4gICAgICAgIHRoaXMuX1VQUEVSX01BU0sgPSAweDgwMDAwMDAwO1xuICAgICAgICB0aGlzLl9MT1dFUl9NQVNLID0gMHg3ZmZmZmZmZjtcbiAgICAgICAgdGhpcy5fbXQgPSBuZXcgQXJyYXkodGhpcy5fTik7XG4gICAgICAgIHRoaXMuX210aSA9IHRoaXMuTiArIDE7XG5cbiAgICAgICAgdGhpcy5zZWVkID0gX3NlZWQgfHwgbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHNldCBzZWVkKF9zZWVkKSB7XG4gICAgICAgIHRoaXMuX3NlZWQgPSBfc2VlZDtcbiAgICAgICAgbGV0IG10ID0gdGhpcy5fbXQ7XG5cbiAgICAgICAgbXRbMF0gPSBfc2VlZCA+Pj4gMDtcbiAgICAgICAgZm9yICh0aGlzLl9tdGkgPSAxOyB0aGlzLl9tdGkgPCB0aGlzLl9OOyB0aGlzLl9tdGkgKz0gMSkge1xuICAgICAgICAgICAgbGV0IG10aSA9IHRoaXMuX210aTtcbiAgICAgICAgICAgIGxldCBzID0gbXRbbXRpIC0gMV0gXiAobXRbbXRpIC0gMV0gPj4+IDMwKTtcbiAgICAgICAgICAgIG10W210aV0gPSAoKCgocyAmIDB4ZmZmZjAwMDApID4+PiAxNikgKiAxODEyNDMzMjUzKSA8PCAxNikgKyAocyAmIDB4MDAwMGZmZmYpICogMTgxMjQzMzI1MyArIG10aTtcbiAgICAgICAgICAgIG10W210aV0gPj4+PSAwO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgc2VlZCBvZiB0aGUgcmFuZG9tIG51bWJlciBnZW5lcmF0b3IuXG4gICAgICogQHJldHVybnMge051bWJlcn0gLSBUaGUgc2VlZC5cbiAgICAgKi9cbiAgICBnZXQgc2VlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NlZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIGZsb2F0IGJldHdlZW4gMCBhbmQgMS5cbiAgICAgKiBAcmV0dXJucyB7TnVtYmVyfSAtIEEgcmFuZG9tIG51bWJlciBiZXR3ZWVuIFswLCAxXVxuICAgICAqL1xuICAgIGdldCByYW5kb20oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJhbmRvbV9pbnQgKiAoMS4wIC8gNDI5NDk2NzI5Ni4wKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGFuIGludGVnZXIgYmV0d2VlbiAwIGFuZCBNQVhfSU5URUdFUi5cbiAgICAgKiBAcmV0dXJucyB7SW50ZWdlcn0gLSBBIHJhbmRvbSBpbnRlZ2VyLlxuICAgICAqL1xuICAgIGdldCByYW5kb21faW50KCkge1xuICAgICAgICBsZXQgeSxcbiAgICAgICAgICAgIG1hZzAxID0gbmV3IEFycmF5KDB4MCwgdGhpcy5fTUFUUklYX0EpO1xuICAgICAgICBpZiAodGhpcy5fbXRpID49IHRoaXMuX04pIHtcbiAgICAgICAgICAgIGxldCBraztcblxuICAgICAgICAgICAgLyogaWYgKHRoaXMuX210aSA9PSB0aGlzLl9OICsgMSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2VlZCA9IDU0ODk7XG4gICAgICAgICAgICB9ICovXG5cbiAgICAgICAgICAgIGxldCBOX00gPSB0aGlzLl9OIC0gdGhpcy5fTTtcbiAgICAgICAgICAgIGxldCBNX04gPSB0aGlzLl9NIC0gdGhpcy5fTjtcblxuICAgICAgICAgICAgZm9yIChrayA9IDA7IGtrIDwgTl9NOyArK2trKSB7XG4gICAgICAgICAgICAgICAgeSA9ICh0aGlzLl9tdFtra10gJiB0aGlzLl9VUFBFUl9NQVNLKSB8ICh0aGlzLl9tdFtrayArIDFdICYgdGhpcy5fTE9XRVJfTUFTSyk7XG4gICAgICAgICAgICAgICAgdGhpcy5fbXRba2tdID0gdGhpcy5fbXRba2sgKyB0aGlzLl9NXSBeICh5ID4+PiAxKSBeIG1hZzAxW3kgJiAweDFdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yICg7IGtrIDwgdGhpcy5fTiAtIDE7ICsra2spIHtcbiAgICAgICAgICAgICAgICB5ID0gKHRoaXMuX210W2trXSAmIHRoaXMuX1VQUEVSX01BU0spIHwgKHRoaXMuX210W2trICsgMV0gJiB0aGlzLl9MT1dFUl9NQVNLKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9tdFtra10gPSB0aGlzLl9tdFtrayArIE1fTl0gXiAoeSA+Pj4gMSkgXiBtYWcwMVt5ICYgMHgxXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgeSA9ICh0aGlzLl9tdFt0aGlzLl9OIC0gMV0gJiB0aGlzLl9VUFBFUl9NQVNLKSB8ICh0aGlzLl9tdFswXSAmIHRoaXMuX0xPV0VSX01BU0spO1xuICAgICAgICAgICAgdGhpcy5fbXRbdGhpcy5fTiAtIDFdID0gdGhpcy5fbXRbdGhpcy5fTSAtIDFdIF4gKHkgPj4+IDEpIF4gbWFnMDFbeSAmIDB4MV07XG5cbiAgICAgICAgICAgIHRoaXMuX210aSA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICB5ID0gdGhpcy5fbXRbKHRoaXMuX210aSArPSAxKV07XG4gICAgICAgIHkgXj0geSA+Pj4gMTE7XG4gICAgICAgIHkgXj0gKHkgPDwgNykgJiAweDlkMmM1NjgwO1xuICAgICAgICB5IF49ICh5IDw8IDE1KSAmIDB4ZWZjNjAwMDA7XG4gICAgICAgIHkgXj0geSA+Pj4gMTg7XG5cbiAgICAgICAgcmV0dXJuIHkgPj4+IDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBzYW1wbGVzIGZyb20gYW4gaW5wdXQgTWF0cml4IG9yIEFycmF5LlxuICAgICAqIEBwYXJhbSB7TWF0cml4fEFycmF5fEZsb2F0NjRBcnJheX0gQSAtIFRoZSBpbnB1dCBNYXRyaXggb3IgQXJyYXkuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IG4gLSBUaGUgbnVtYmVyIG9mIHNhbXBsZXMuXG4gICAgICogQHJldHVybnMge0FycmF5fSAtIEEgcmFuZG9tIHNlbGVjdGlvbiBmb3JtIHtAbGluayBBfSBvZiB7QGxpbmsgbn0gc2FtcGxlcy5cbiAgICAgKi9cbiAgICBjaG9pY2UoQSwgbikge1xuICAgICAgICBpZiAoQSBpbnN0YW5jZW9mIE1hdHJpeCkge1xuICAgICAgICAgICAgbGV0IHJvd3MgPSBBLnNoYXBlWzBdO1xuICAgICAgICAgICAgaWYgKG4gPiByb3dzKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibiBiaWdnZXIgdGhhbiBBIVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBzYW1wbGUgPSBuZXcgQXJyYXkobik7XG4gICAgICAgICAgICBsZXQgaW5kZXhfbGlzdCA9IGxpbnNwYWNlKDAsIHJvd3MgLSAxKTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwLCBsID0gaW5kZXhfbGlzdC5sZW5ndGg7IGkgPCBuOyArK2ksIC0tbCkge1xuICAgICAgICAgICAgICAgIGxldCByYW5kb21faW5kZXggPSB0aGlzLnJhbmRvbV9pbnQgJSBsO1xuICAgICAgICAgICAgICAgIHNhbXBsZVtpXSA9IGluZGV4X2xpc3Quc3BsaWNlKHJhbmRvbV9pbmRleCwgMSlbMF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gc2FtcGxlLm1hcCgoZCkgPT4gQS5yb3coZCkpO1xuICAgICAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoQSkgfHwgQSBpbnN0YW5jZW9mIEZsb2F0NjRBcnJheSkge1xuICAgICAgICAgICAgbGV0IHJvd3MgPSBBLmxlbmd0aDtcbiAgICAgICAgICAgIGlmIChuID4gcm93cykge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIm4gYmlnZ2VyIHRoYW4gQSFcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgc2FtcGxlID0gbmV3IEFycmF5KG4pO1xuICAgICAgICAgICAgbGV0IGluZGV4X2xpc3QgPSBsaW5zcGFjZSgwLCByb3dzIC0gMSk7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMCwgbCA9IGluZGV4X2xpc3QubGVuZ3RoOyBpIDwgbjsgKytpLCAtLWwpIHtcbiAgICAgICAgICAgICAgICBsZXQgcmFuZG9tX2luZGV4ID0gdGhpcy5yYW5kb21faW50ICUgbDtcbiAgICAgICAgICAgICAgICBzYW1wbGVbaV0gPSBpbmRleF9saXN0LnNwbGljZShyYW5kb21faW5kZXgsIDEpWzBdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHNhbXBsZS5tYXAoKGQpID0+IEFbZF0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHN0YXRpY1xuICAgICAqIFJldHVybnMgc2FtcGxlcyBmcm9tIGFuIGlucHV0IE1hdHJpeCBvciBBcnJheS5cbiAgICAgKiBAcGFyYW0ge01hdHJpeHxBcnJheXxGbG9hdDY0QXJyYXl9IEEgLSBUaGUgaW5wdXQgTWF0cml4IG9yIEFycmF5LlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBuIC0gVGhlIG51bWJlciBvZiBzYW1wbGVzLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBzZWVkIC0gVGhlIHNlZWQgZm9yIHRoZSByYW5kb20gbnVtYmVyIGdlbmVyYXRvci5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IC0gQSByYW5kb20gc2VsZWN0aW9uIGZvcm0ge0BsaW5rIEF9IG9mIHtAbGluayBufSBzYW1wbGVzLlxuICAgICAqL1xuICAgIHN0YXRpYyBjaG9pY2UoQSwgbiwgc2VlZCA9IDEyMTIpIHtcbiAgICAgICAgY29uc3QgUiA9IG5ldyBSYW5kb21pemVyKHNlZWQpO1xuICAgICAgICByZXR1cm4gUi5jaG9pY2UoQSwgbik7XG4gICAgICAgIC8qIGxldCByb3dzID0gQS5zaGFwZVswXTtcbiAgICAgICAgaWYgKG4gPiByb3dzKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJuIGJpZ2dlciB0aGFuIEEhXCIpO1xuICAgICAgICB9XG4gICAgICAgIGxldCByYW5kID0gbmV3IFJhbmRvbWl6ZXIoc2VlZCk7XG4gICAgICAgIGxldCBzYW1wbGUgPSBuZXcgQXJyYXkobik7XG4gICAgICAgIGxldCBpbmRleF9saXN0ID0gbGluc3BhY2UoMCwgcm93cyAtIDEpO1xuICAgICAgICBmb3IgKGxldCBpID0gMCwgbCA9IGluZGV4X2xpc3QubGVuZ3RoOyBpIDwgbjsgKytpLCAtLWwpIHtcbiAgICAgICAgICAgIGxldCByYW5kb21faW5kZXggPSByYW5kLnJhbmRvbV9pbnQgJSBsO1xuICAgICAgICAgICAgc2FtcGxlW2ldID0gaW5kZXhfbGlzdC5zcGxpY2UocmFuZG9tX2luZGV4LCAxKVswXTtcbiAgICAgICAgfVxuICAgICAgICAvL3JldHVybiByZXN1bHQ7XG4gICAgICAgIC8vcmV0dXJuIG5ldyBNYXRyaXgobiwgY29scywgKHJvdywgY29sKSA9PiBBLmVudHJ5KHNhbXBsZVtyb3ddLCBjb2wpKVxuICAgICAgICByZXR1cm4gc2FtcGxlLm1hcCgoZCkgPT4gQS5yb3coZCkpOyAqL1xuICAgIH1cbn1cbiIsIi8qKlxuICogUmV0dXJucyBtYXhpbXVtIGluIEFycmF5IHtAbGluayB2YWx1ZXN9LlxuICogQG1lbWJlcm9mIG1vZHVsZTp1dGlsc1xuICogQGFsaWFzIG1heFxuICogQHBhcmFtIHtBcnJheX0gdmFsdWVzIFxuICogQHJldHVybnMge051bWJlcn1cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKHZhbHVlcykge1xuICAgIGxldCBtYXg7XG4gICAgZm9yIChjb25zdCB2YWx1ZSBvZiB2YWx1ZXMpIHtcbiAgICAgICAgaWYgKHZhbHVlICE9IG51bGwgJiYgKG1heCA8IHZhbHVlIHx8IChtYXggPT09IHVuZGVmaW5lZCAmJiB2YWx1ZSA+PSB2YWx1ZSkpKSB7XG4gICAgICAgICAgICBtYXggPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWF4O1xufSIsIi8qKlxuICogUmV0dXJucyBtYXhpbXVtIGluIEFycmF5IHtAbGluayB2YWx1ZXN9LlxuICogQG1lbWJlcm9mIG1vZHVsZTp1dGlsc1xuICogQGFsaWFzIG1pblxuICogQHBhcmFtIHtBcnJheX0gdmFsdWVzXG4gKiBAcmV0dXJucyB7TnVtYmVyfVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAodmFsdWVzKSB7XG4gICAgbGV0IG1pbjtcbiAgICBmb3IgKGNvbnN0IHZhbHVlIG9mIHZhbHVlcykge1xuICAgICAgICBpZiAodmFsdWUgIT0gbnVsbCAmJiAobWluID4gdmFsdWUgfHwgKG1pbiA9PT0gdW5kZWZpbmVkICYmIHZhbHVlIDw9IHZhbHVlKSkpIHtcbiAgICAgICAgICAgIG1pbiA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtaW47XG59IiwiLyoqXG4gKiBAY2xhc3NcbiAqIEBhbGlhcyBIZWFwXG4gKi9cbmV4cG9ydCBjbGFzcyBIZWFwIHtcbiAgICAvKipcbiAgICAgKiBBIGhlYXAgaXMgYSBkYXRhc3RydWN0dXJlIGhvbGRpbmcgaXRzIGVsZW1lbnRzIGluIGEgc3BlY2lmaWMgd2F5LCBzbyB0aGF0IHRoZSB0b3AgZWxlbWVudCB3b3VsZCBiZSB0aGUgZmlyc3QgZW50cnkgb2YgYW4gb3JkZXJlZCBsaXN0LlxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBtZW1iZXJvZiBtb2R1bGU6ZGF0YXN0cnVjdHVyZVxuICAgICAqIEBhbGlhcyBIZWFwXG4gICAgICogQHBhcmFtIHtBcnJheT19IGVsZW1lbnRzIC0gQ29udGFpbnMgdGhlIGVsZW1lbnRzIGZvciB0aGUgSGVhcC4ge0BsaW5rIGVsZW1lbnRzfSBjYW4gYmUgbnVsbC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbYWNjZXNzb3IgPSAoZCkgPT4gZF0gLSBGdW5jdGlvbiByZXR1cm5zIHRoZSB2YWx1ZSBvZiB0aGUgZWxlbWVudC5cbiAgICAgKiBAcGFyYW0geyhcIm1pblwifFwibWF4XCJ8RnVuY3Rpb24pfSBbY29tcGFyYXRvciA9IFwibWluXCJdIC0gRnVuY3Rpb24gcmV0dXJuaW5nIHRydWUgb3IgZmFsc2UgZGVmaW5pbmcgdGhlIHdpc2hlZCBvcmRlciBvZiB0aGUgSGVhcCwgb3IgU3RyaW5nIGZvciBwcmVkZWZpbmVkIGZ1bmN0aW9uLiAoXCJtaW5cIiBmb3IgYSBNaW4tSGVhcCwgXCJtYXhcIiBmb3IgYSBNYXhfaGVhcClcbiAgICAgKiBAcmV0dXJucyB7SGVhcH1cbiAgICAgKiBAc2VlIHtAbGluayBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9CaW5hcnlfaGVhcH1cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50cyA9IG51bGwsIGFjY2Vzc29yID0gZCA9PiBkLCBjb21wYXJhdG9yID0gXCJtaW5cIikge1xuICAgICAgICBpZiAoZWxlbWVudHMpIHtcbiAgICAgICAgICAgIHJldHVybiBIZWFwLmhlYXBpZnkoZWxlbWVudHMsIGFjY2Vzc29yLCBjb21wYXJhdG9yKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2FjY2Vzc29yID0gYWNjZXNzb3I7XG4gICAgICAgICAgICB0aGlzLl9jb250YWluZXIgPSBbXTtcbiAgICAgICAgICAgIGlmIChjb21wYXJhdG9yID09IFwibWluXCIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jb21wYXJhdG9yID0gKGEsIGIpID0+IGEgPCBiO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjb21wYXJhdG9yID09IFwibWF4XCIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jb21wYXJhdG9yID0gKGEsIGIpID0+IGEgPiBiO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jb21wYXJhdG9yID0gY29tcGFyYXRvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgSGVhcCBmcm9tIGFuIEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheXxTZXR9IGVsZW1lbnRzIC0gQ29udGFpbnMgdGhlIGVsZW1lbnRzIGZvciB0aGUgSGVhcC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9uPX0gW2FjY2Vzc29yID0gKGQpID0+IGRdIC0gRnVuY3Rpb24gcmV0dXJucyB0aGUgdmFsdWUgb2YgdGhlIGVsZW1lbnQuXG4gICAgICogQHBhcmFtIHsoU3RyaW5nPXxGdW5jdGlvbil9IFtjb21wYXJhdG9yID0gXCJtaW5cIl0gLSBGdW5jdGlvbiByZXR1cm5pbmcgdHJ1ZSBvciBmYWxzZSBkZWZpbmluZyB0aGUgd2lzaGVkIG9yZGVyIG9mIHRoZSBIZWFwLCBvciBTdHJpbmcgZm9yIHByZWRlZmluZWQgZnVuY3Rpb24uIChcIm1pblwiIGZvciBhIE1pbi1IZWFwLCBcIm1heFwiIGZvciBhIE1heF9oZWFwKVxuICAgICAqIEByZXR1cm5zIHtIZWFwfVxuICAgICAqL1xuICAgIHN0YXRpYyBoZWFwaWZ5KGVsZW1lbnRzLCBhY2Nlc3NvciA9IGQgPT4gZCwgY29tcGFyYXRvciA9IFwibWluXCIpIHtcbiAgICAgICAgY29uc3QgaGVhcCA9IG5ldyBIZWFwKG51bGwsIGFjY2Vzc29yLCBjb21wYXJhdG9yKTtcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gaGVhcC5fY29udGFpbmVyO1xuICAgICAgICBmb3IgKGNvbnN0IGUgb2YgZWxlbWVudHMpIHtcbiAgICAgICAgICAgIGNvbnRhaW5lci5wdXNoKHtcbiAgICAgICAgICAgICAgICBcImVsZW1lbnRcIjogZSxcbiAgICAgICAgICAgICAgICBcInZhbHVlXCI6IGFjY2Vzc29yKGUpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgaSA9IE1hdGguZmxvb3IoKGVsZW1lbnRzLmxlbmd0aCAvIDIpIC0gMSk7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgICAgICBoZWFwLl9oZWFwaWZ5X2Rvd24oaSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGhlYXA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU3dhcHMgZWxlbWVudHMgb2YgY29udGFpbmVyIGFycmF5LlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGluZGV4X2EgXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGluZGV4X2IgXG4gICAgICovXG4gICAgX3N3YXAoaW5kZXhfYSwgaW5kZXhfYikge1xuICAgICAgICBjb25zdCBjb250YWluZXIgPSB0aGlzLl9jb250YWluZXI7XG4gICAgICAgIFtjb250YWluZXJbaW5kZXhfYl0sIGNvbnRhaW5lcltpbmRleF9hXV0gPSBbY29udGFpbmVyW2luZGV4X2FdLCBjb250YWluZXJbaW5kZXhfYl1dO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfaGVhcGlmeV91cCgpIHtcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gdGhpcy5fY29udGFpbmVyO1xuICAgICAgICBsZXQgaW5kZXggPSBjb250YWluZXIubGVuZ3RoIC0gMTtcbiAgICAgICAgd2hpbGUgKGluZGV4ID4gMCkge1xuICAgICAgICAgICAgbGV0IHBhcmVudEluZGV4ID0gTWF0aC5mbG9vcigoaW5kZXggLSAxKSAvIDIpO1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9jb21wYXJhdG9yKGNvbnRhaW5lcltpbmRleF0udmFsdWUsIGNvbnRhaW5lcltwYXJlbnRJbmRleF0udmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fc3dhcChwYXJlbnRJbmRleCwgaW5kZXgpXG4gICAgICAgICAgICBpbmRleCA9IHBhcmVudEluZGV4O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUHVzaGVzIHRoZSBlbGVtZW50IHRvIHRoZSBoZWFwLlxuICAgICAqIEBwYXJhbSB7fSBlbGVtZW50XG4gICAgICogQHJldHVybnMge0hlYXB9XG4gICAgICovXG4gICAgcHVzaChlbGVtZW50KSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gdGhpcy5fYWNjZXNzb3IoZWxlbWVudCk7XG4gICAgICAgIC8vY29uc3Qgbm9kZSA9IG5ldyBOb2RlKGVsZW1lbnQsIHZhbHVlKTtcbiAgICAgICAgY29uc3Qgbm9kZSA9IHtcImVsZW1lbnRcIjogZWxlbWVudCwgXCJ2YWx1ZVwiOiB2YWx1ZX07XG4gICAgICAgIHRoaXMuX2NvbnRhaW5lci5wdXNoKG5vZGUpO1xuICAgICAgICB0aGlzLl9oZWFwaWZ5X3VwKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtzdGFydF9pbmRleCA9IDBdIFxuICAgICAqL1xuICAgIF9oZWFwaWZ5X2Rvd24oc3RhcnRfaW5kZXg9MCkge1xuICAgICAgICBjb25zdCBjb250YWluZXIgPSB0aGlzLl9jb250YWluZXI7XG4gICAgICAgIGNvbnN0IGNvbXBhcmF0b3IgPSB0aGlzLl9jb21wYXJhdG9yO1xuICAgICAgICBjb25zdCBsZW5ndGggPSBjb250YWluZXIubGVuZ3RoO1xuICAgICAgICBsZXQgbGVmdCA9IDIgKiBzdGFydF9pbmRleCArIDE7XG4gICAgICAgIGxldCByaWdodCA9IDIgKiBzdGFydF9pbmRleCArIDI7XG4gICAgICAgIGxldCBpbmRleCA9IHN0YXJ0X2luZGV4O1xuICAgICAgICBpZiAoaW5kZXggPiBsZW5ndGgpIHRocm93IFwiaW5kZXggaGlnaGVyIHRoYW4gbGVuZ3RoXCJcbiAgICAgICAgaWYgKGxlZnQgPCBsZW5ndGggJiYgY29tcGFyYXRvcihjb250YWluZXJbbGVmdF0udmFsdWUsIGNvbnRhaW5lcltpbmRleF0udmFsdWUpKSB7XG4gICAgICAgICAgICBpbmRleCA9IGxlZnQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJpZ2h0IDwgbGVuZ3RoICYmIGNvbXBhcmF0b3IoY29udGFpbmVyW3JpZ2h0XS52YWx1ZSwgY29udGFpbmVyW2luZGV4XS52YWx1ZSkpIHtcbiAgICAgICAgICAgIGluZGV4ID0gcmlnaHQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGluZGV4ICE9PSBzdGFydF9pbmRleCkge1xuICAgICAgICAgICAgdGhpcy5fc3dhcChzdGFydF9pbmRleCwgaW5kZXgpO1xuICAgICAgICAgICAgdGhpcy5faGVhcGlmeV9kb3duKGluZGV4KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYW5kIHJldHVybnMgdGhlIHRvcCBlbnRyeSBvZiB0aGUgaGVhcC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBPYmplY3QgY29uc2lzdHMgb2YgdGhlIGVsZW1lbnQgYW5kIGl0cyB2YWx1ZSAoY29tcHV0ZWQgYnkge0BsaW5rIGFjY2Vzc29yfSkuXG4gICAgICovXG4gICAgcG9wKCkge1xuICAgICAgICBjb25zdCBjb250YWluZXIgPSB0aGlzLl9jb250YWluZXI7XG4gICAgICAgIGlmIChjb250YWluZXIubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfSBlbHNlIGlmIChjb250YWluZXIubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICByZXR1cm4gY29udGFpbmVyLnBvcCgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3N3YXAoMCwgY29udGFpbmVyLmxlbmd0aCAtIDEpO1xuICAgICAgICBjb25zdCBpdGVtID0gY29udGFpbmVyLnBvcCgpO1xuICAgICAgICB0aGlzLl9oZWFwaWZ5X2Rvd24oKTtcbiAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgdG9wIGVudHJ5IG9mIHRoZSBoZWFwIHdpdGhvdXQgcmVtb3ZpbmcgaXQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gT2JqZWN0IGNvbnNpc3RzIG9mIHRoZSBlbGVtZW50IGFuZCBpdHMgdmFsdWUgKGNvbXB1dGVkIGJ5IHtAbGluayBhY2Nlc3Nvcn0pLlxuICAgICAqL1xuICAgIGdldCBmaXJzdCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbnRhaW5lci5sZW5ndGggPiAwID8gdGhpcy5fY29udGFpbmVyWzBdIDogbnVsbDtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIFlpZWxkcyB0aGUgcmF3IGRhdGFcbiAgICAgKiBAeWllbGRzIHtPYmplY3R9IE9iamVjdCBjb25zaXN0cyBvZiB0aGUgZWxlbWVudCBhbmQgaXRzIHZhbHVlIChjb21wdXRlZCBieSB7QGxpbmsgYWNjZXNzb3J9KS5cbiAgICAgKi9cbiAgICAqIGl0ZXJhdGUoKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBuID0gdGhpcy5fY29udGFpbmVyLmxlbmd0aDsgaSA8IG47ICsraSkge1xuICAgICAgICAgICAgeWllbGQgdGhpcy5fY29udGFpbmVyW2ldLmVsZW1lbnQ7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBoZWFwIGFzIG9yZGVyZWQgYXJyYXkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBBcnJheSBjb25zaXN0aW5nIHRoZSBlbGVtZW50cyBvcmRlcmVkIGJ5IHtAbGluayBjb21wYXJhdG9yfS5cbiAgICAgKi9cbiAgICB0b0FycmF5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhKClcbiAgICAgICAgICAgIC5zb3J0KChhLGIpID0+IHRoaXMuX2NvbXBhcmF0b3IoYSwgYikgPyAtMSA6IDApXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBlbGVtZW50cyBvZiBjb250YWluZXIgYXJyYXkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBBcnJheSBjb25zaXN0aW5nIHRoZSBlbGVtZW50cy5cbiAgICAgKi9cbiAgICBkYXRhKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY29udGFpbmVyXG4gICAgICAgICAgICAubWFwKGQgPT4gZC5lbGVtZW50KVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGNvbnRhaW5lciBhcnJheS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFRoZSBjb250YWluZXIgYXJyYXkuXG4gICAgICovXG4gICAgcmF3X2RhdGEoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jb250YWluZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIHNpemUgb2YgdGhlIGhlYXAuXG4gICAgICogQHJldHVybnMge051bWJlcn1cbiAgICAgKi9cbiAgICBnZXQgbGVuZ3RoKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY29udGFpbmVyLmxlbmd0aDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGZhbHNlIGlmIHRoZSB0aGUgaGVhcCBoYXMgZW50cmllcywgdHJ1ZSBpZiB0aGUgaGVhcCBoYXMgbm8gZW50cmllcy5cbiAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn1cbiAgICAgKi9cbiAgICBnZXQgZW1wdHkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxlbmd0aCA9PT0gMDtcbiAgICB9XG59IiwiLyoqXG4gKiBAY2xhc3NcbiAqIEBhbGlhcyBEaXNqb2ludFNldFxuICogQHNlZSB7QGxpbmsgaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvRGlzam9pbnQtc2V0X2RhdGFfc3RydWN0dXJlfVxuICovXG5leHBvcnQgY2xhc3MgRGlzam9pbnRTZXQge1xuICAgIC8qKlxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBhbGlhcyBEaXNqb2ludFNldFxuICAgICAqIEBtZW1iZXJvZiBtb2R1bGU6ZGF0YXN0cnVjdHVyZVxuICAgICAqIEBwYXJhbSB7QXJyYXk9fSBlbGVtZW50cyBcbiAgICAgKiBAcmV0dXJucyB7RGlzam9pbnRTZXR9XG4gICAgICovXG4gICAgY29uc3RydWN0b3IoZWxlbWVudHMgPSBudWxsKSB7XG4gICAgICAgIHRoaXMuX2xpc3QgPSBuZXcgU2V0KCk7XG4gICAgICAgIGlmIChlbGVtZW50cykge1xuICAgICAgICAgICAgZm9yIChjb25zdCBlIG9mIGVsZW1lbnRzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tYWtlX3NldChlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBtYWtlX3NldCh4KSB7XG4gICAgICAgIGNvbnN0IGxpc3QgPSB0aGlzLl9saXN0O1xuICAgICAgICBpZiAoIWxpc3QuaGFzKHgpKSB7XG4gICAgICAgICAgICBsaXN0LmFkZCh4KTtcbiAgICAgICAgICAgIHguX19kaXNqb2ludF9zZXQgPSB7fTtcbiAgICAgICAgICAgIHguX19kaXNqb2ludF9zZXQucGFyZW50ID0geDtcbiAgICAgICAgICAgIHguX19kaXNqb2ludF9zZXQuY2hpbGRyZW4gPSBuZXcgU2V0KFt4XSk7XG4gICAgICAgICAgICB4Ll9fZGlzam9pbnRfc2V0LnNpemUgPSAxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGZpbmQoeCkge1xuICAgICAgICBjb25zdCBsaXN0ID0gdGhpcy5fbGlzdDtcbiAgICAgICAgaWYgKGxpc3QuaGFzKHgpKSB7XG4gICAgICAgICAgICBpZiAoeC5fX2Rpc2pvaW50X3NldC5wYXJlbnQgIT09IHgpIHtcbiAgICAgICAgICAgICAgICB4Ll9fZGlzam9pbnRfc2V0LmNoaWxkcmVuLmFkZCguLi54KTtcbiAgICAgICAgICAgICAgICB4Ll9fZGlzam9pbnRfc2V0LnBhcmVudCA9IHRoaXMuZmluZCh4Ll9fZGlzam9pbnRfc2V0LnBhcmVudCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHguX19kaXNqb2ludF9zZXQucGFyZW50O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4geDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdW5pb24oeCwgeSkge1xuICAgICAgICBsZXQgbm9kZV94ID0gdGhpcy5maW5kKHgpO1xuICAgICAgICBsZXQgbm9kZV95ID0gdGhpcy5maW5kKHkpO1xuXG4gICAgICAgIGlmIChub2RlX3ggPT09IG5vZGVfeSkgcmV0dXJuIHRoaXM7XG4gICAgICAgIGlmIChub2RlX3guX19kaXNqb2ludF9zZXQuc2l6ZSA8IG5vZGVfeS5fX2Rpc2pvaW50X3NldC5zaXplKSBbbm9kZV94LCBub2RlX3ldID0gW25vZGVfeSwgbm9kZV94XTtcblxuICAgICAgICBub2RlX3kuX19kaXNqb2ludF9zZXQucGFyZW50ID0gbm9kZV94O1xuICAgICAgICAvLyBrZWVwIHRyYWNrIG9mIGNoaWxkcmVuP1xuICAgICAgICBub2RlX3kuX19kaXNqb2ludF9zZXQuY2hpbGRyZW4uZm9yRWFjaChub2RlX3guX19kaXNqb2ludF9zZXQuY2hpbGRyZW4uYWRkLCBub2RlX3guX19kaXNqb2ludF9zZXQuY2hpbGRyZW4pO1xuICAgICAgICBub2RlX3guX19kaXNqb2ludF9zZXQuc2l6ZSArPSBub2RlX3kuX19kaXNqb2ludF9zZXQuc2l6ZTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG59IiwiaW1wb3J0IHsgZXVjbGlkZWFuIH0gZnJvbSBcIi4uL21ldHJpY3MvaW5kZXguanNcIjtcbmltcG9ydCB7IEhlYXAgfSBmcm9tIFwiLi4vZGF0YXN0cnVjdHVyZS9pbmRleC5qc1wiO1xuLyoqXG4gKiBAY2xhc3NcbiAqIEBhbGlhcyBCYWxsVHJlZVxuICovXG5leHBvcnQgY2xhc3MgQmFsbFRyZWUge1xuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlcyBhIEJhbGxUcmVlIHdpdGggZ2l2ZW4ge0BsaW5rIGVsZW1lbnRzfS5cbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAbWVtYmVyb2YgbW9kdWxlOmtublxuICAgICAqIEBhbGlhcyBCYWxsVHJlZVxuICAgICAqIEBwYXJhbSB7QXJyYXk9fSBlbGVtZW50cyAtIEVsZW1lbnRzIHdoaWNoIHNob3VsZCBiZSBhZGRlZCB0byB0aGUgQmFsbFRyZWVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbbWV0cmljID0gZXVjbGlkZWFuXSBtZXRyaWMgdG8gdXNlOiAoYSwgYikgPT4gZGlzdGFuY2VcbiAgICAgKiBAc2VlIHtAbGluayBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9CYWxsX3RyZWV9XG4gICAgICogQHNlZSB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL2ludmlzYWwvbm9vYmpzL2Jsb2IvbWFzdGVyL3NyYy90cmVlL0JhbGxUcmVlLmpzfVxuICAgICAqIEByZXR1cm5zIHtCYWxsVHJlZX1cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50cyA9IG51bGwsIG1ldHJpYyA9IGV1Y2xpZGVhbikge1xuICAgICAgICB0aGlzLl9Ob2RlID0gY2xhc3Mge1xuICAgICAgICAgICAgY29uc3RydWN0b3IocGl2b3QsIGNoaWxkMT1udWxsLCBjaGlsZDI9bnVsbCwgcmFkaXVzPW51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBpdm90ID0gcGl2b3Q7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGlsZDEgPSBjaGlsZDE7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGlsZDIgPSBjaGlsZDI7XG4gICAgICAgICAgICAgICAgdGhpcy5yYWRpdXMgPSByYWRpdXM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fTGVhZiA9IGNsYXNzIHtcbiAgICAgICAgICAgIGNvbnN0cnVjdG9yKHBvaW50cykge1xuICAgICAgICAgICAgICAgIHRoaXMucG9pbnRzID0gcG9pbnRzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuX21ldHJpYyA9IG1ldHJpYztcbiAgICAgICAgaWYgKGVsZW1lbnRzKSB7XG4gICAgICAgICAgICB0aGlzLmFkZChlbGVtZW50cyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogQHBhcmFtIHtBcnJheTwqPn0gZWxlbWVudHMgLSBuZXcgZWxlbWVudHMuXG4gICAgICogQHJldHVybnMge0JhbGxUcmVlfVxuICAgICAqL1xuICAgIGFkZChlbGVtZW50cykge1xuICAgICAgICBlbGVtZW50cyA9IGVsZW1lbnRzLm1hcCgoZWxlbWVudCwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB7aW5kZXg6IGluZGV4LCBlbGVtZW50OiBlbGVtZW50fVxuICAgICAgICB9KVxuICAgICAgICB0aGlzLl9yb290ID0gdGhpcy5fY29uc3RydWN0KGVsZW1lbnRzKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5PCo+fSBlbGVtZW50cyBcbiAgICAgKiBAcmV0dXJucyB7Tm9kZX0gcm9vdCBvZiBiYWxsdHJlZS5cbiAgICAgKi9cbiAgICBfY29uc3RydWN0KGVsZW1lbnRzKSB7XG4gICAgICAgIGlmIChlbGVtZW50cy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgdGhpcy5fTGVhZihlbGVtZW50cyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZXQgYyA9IHRoaXMuX2dyZWF0ZXN0X3NwcmVhZChlbGVtZW50cyk7XG4gICAgICAgICAgICBsZXQgc29ydGVkX2VsZW1lbnRzID0gZWxlbWVudHMuc29ydCgoYSwgYikgPT4gYS5lbGVtZW50W2NdIC0gYi5lbGVtZW50W2NdKTtcbiAgICAgICAgICAgIGxldCBuID0gc29ydGVkX2VsZW1lbnRzLmxlbmd0aDtcbiAgICAgICAgICAgIGxldCBwX2luZGV4ID0gTWF0aC5mbG9vcihuIC8gMik7XG4gICAgICAgICAgICBsZXQgcCA9IGVsZW1lbnRzW3BfaW5kZXhdO1xuICAgICAgICAgICAgbGV0IEwgPSBzb3J0ZWRfZWxlbWVudHMuc2xpY2UoMCwgcF9pbmRleCk7XG4gICAgICAgICAgICBsZXQgUiA9IHNvcnRlZF9lbGVtZW50cy5zbGljZShwX2luZGV4LCBuKTtcbiAgICAgICAgICAgIGxldCByYWRpdXMgPSBNYXRoLm1heCguLi5lbGVtZW50cy5tYXAoZCA9PiB0aGlzLl9tZXRyaWMocC5lbGVtZW50LCBkLmVsZW1lbnQpKSk7XG4gICAgICAgICAgICBsZXQgQlxuICAgICAgICAgICAgaWYgKEwubGVuZ3RoID4gMCAmJiBSLmxlbmd0aCA+IDApIHsgICAgICAgICBcbiAgICAgICAgICAgICAgICBCID0gbmV3IHRoaXMuX05vZGUocCwgdGhpcy5fY29uc3RydWN0KEwpLCB0aGlzLl9jb25zdHJ1Y3QoUiksIHJhZGl1cyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIEIgPSBuZXcgdGhpcy5fTGVhZihlbGVtZW50cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gQjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtOb2RlfSBCIFxuICAgICAqIEByZXR1cm5zIHtOdW1iZXJ9XG4gICAgICovXG4gICAgX2dyZWF0ZXN0X3NwcmVhZChCKSB7XG4gICAgICAgIGxldCBkID0gQlswXS5lbGVtZW50Lmxlbmd0aDtcbiAgICAgICAgbGV0IHN0YXJ0ID0gbmV3IEFycmF5KGQpO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZDsgKytpKSB7XG4gICAgICAgICAgICBzdGFydFtpXSA9IFtJbmZpbml0eSwgLUluZmluaXR5XTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBzcHJlYWQgPSBCLnJlZHVjZSgoYWNjLCBjdXJyZW50KSA9PiB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGQ7ICsraSkge1xuICAgICAgICAgICAgICAgIGFjY1tpXVswXSA9IE1hdGgubWluKGFjY1tpXVswXSwgY3VycmVudC5lbGVtZW50W2ldKTtcbiAgICAgICAgICAgICAgICBhY2NbaV1bMV0gPSBNYXRoLm1heChhY2NbaV1bMV0sIGN1cnJlbnQuZWxlbWVudFtpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICB9LCBzdGFydCk7XG4gICAgICAgIHNwcmVhZCA9IHNwcmVhZC5tYXAoZCA9PiBkWzFdIC0gZFswXSk7XG4gICAgICAgIFxuICAgICAgICBsZXQgYyA9IDA7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZDsgKytpKSB7XG4gICAgICAgICAgICBjID0gc3ByZWFkW2ldID4gc3ByZWFkW2NdID8gaSA6IGM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogQHBhcmFtIHsqfSB0IC0gcXVlcnkgZWxlbWVudC5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2sgPSA1XSAtIG51bWJlciBvZiBuZWFyZXN0IG5laWdoYm9ycyB0byByZXR1cm4uXG4gICAgICogQHJldHVybnMge0hlYXB9IC0gSGVhcCBjb25zaXN0cyBvZiB0aGUge0BsaW5rIGt9IG5lYXJlc3QgbmVpZ2hib3JzLlxuICAgICAqL1xuICAgIHNlYXJjaCh0LCBrID0gNSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc2VhcmNoKHQsIGssIG5ldyBIZWFwKG51bGwsIGQgPT4gdGhpcy5fbWV0cmljKGQuZWxlbWVudCwgdCksIFwibWF4XCIpLCB0aGlzLl9yb290KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdCAtIHF1ZXJ5IGVsZW1lbnQuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtrID0gNV0gLSBudW1iZXIgb2YgbmVhcmVzdCBuZWlnaGJvcnMgdG8gcmV0dXJuLlxuICAgICAqIEBwYXJhbSB7SGVhcH0gUSAtIEhlYXAgY29uc2lzdHMgb2YgdGhlIGN1cnJlbnRseSBmb3VuZCB7QGxpbmsga30gbmVhcmVzdCBuZWlnaGJvcnMuXG4gICAgICogQHBhcmFtIHtOb2RlfExlYWZ9IEIgXG4gICAgICovXG4gICAgX3NlYXJjaCh0LCBrLCBRLCBCKSB7XG4gICAgICAgIC8vIEIgaXMgTm9kZVxuICAgICAgICBpZiAoUS5sZW5ndGggPj0gayAmJiBCLnBpdm90ICYmIEIucmFkaXVzICYmIHRoaXMuX21ldHJpYyh0LCBCLnBpdm90LmVsZW1lbnQpIC0gQi5yYWRpdXMgPj0gUS5maXJzdC52YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIFE7XG4gICAgICAgIH0gXG4gICAgICAgIGlmIChCLmNoaWxkMSkgdGhpcy5fc2VhcmNoKHQsIGssIFEsIEIuY2hpbGQxKTtcbiAgICAgICAgaWYgKEIuY2hpbGQyKSB0aGlzLl9zZWFyY2godCwgaywgUSwgQi5jaGlsZDIpO1xuICAgICAgICBcbiAgICAgICAgLy8gQiBpcyBsZWFmXG4gICAgICAgIGlmIChCLnBvaW50cykge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIG4gPSBCLnBvaW50cy5sZW5ndGg7IGkgPCBuOyArK2kpIHtcbiAgICAgICAgICAgICAgICBsZXQgcCA9IEIucG9pbnRzW2ldO1xuICAgICAgICAgICAgICAgIGlmIChrID4gUS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgUS5wdXNoKHApO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIFEucHVzaChwKTtcbiAgICAgICAgICAgICAgICAgICAgUS5wb3AoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFE7XG4gICAgfVxufSIsImltcG9ydCB7IGV1Y2xpZGVhbiB9IGZyb20gXCIuLi9tZXRyaWNzL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBIZWFwIH0gZnJvbSBcIi4uL2RhdGFzdHJ1Y3R1cmUvaW5kZXguanNcIjtcbmltcG9ydCB7IGRpc3RhbmNlX21hdHJpeCwgTWF0cml4IH0gZnJvbSBcIi4uL21hdHJpeC9pbmRleC5qc1wiO1xuXG4vKipcbiAqIEBjbGFzc1xuICogQGFsaWFzIEtOTlxuICovXG5leHBvcnQgY2xhc3MgS05OIHtcbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZXMgYSBLTk4gbGlzdCB3aXRoIGdpdmVuIHtAbGluayBlbGVtZW50c30uXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQG1lbWJlcm9mIG1vZHVsZTprbm5cbiAgICAgKiBAYWxpYXMgS05OXG4gICAgICogQHBhcmFtIHtBcnJheT19IGVsZW1lbnRzIC0gRWxlbWVudHMgd2hpY2ggc2hvdWxkIGJlIGFkZGVkIHRvIHRoZSBLTk4gbGlzdFxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258XCJwcmVjb21wdXRlZFwifSBbbWV0cmljID0gZXVjbGlkZWFuXSBtZXRyaWMgaXMgZWl0aGVyIHByZWNvbXB1dGVkIG9yIGEgZnVuY3Rpb24gdG8gdXNlOiAoYSwgYikgPT4gZGlzdGFuY2VcbiAgICAgKiBAcmV0dXJucyB7S05OfVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnRzPW51bGwsIG1ldHJpYz1ldWNsaWRlYW4pIHtcbiAgICAgICAgdGhpcy5fbWV0cmljID0gbWV0cmljO1xuICAgICAgICB0aGlzLl9lbGVtZW50cyA9IGVsZW1lbnRzIGluc3RhbmNlb2YgTWF0cml4ID8gZWxlbWVudHMgOiBNYXRyaXguZnJvbShlbGVtZW50cyk7XG4gICAgICAgIGNvbnN0IE4gPSB0aGlzLl9lbGVtZW50cy5zaGFwZVswXTtcbiAgICAgICAgaWYgKG1ldHJpYyA9PT0gXCJwcmVjb21wdXRlZFwiKSB7XG4gICAgICAgICAgICB0aGlzLl9EID0gdGhpcy5fZWxlbWVudHMuY2xvbmUoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX0QgPSBkaXN0YW5jZV9tYXRyaXgodGhpcy5fZWxlbWVudHMsIG1ldHJpYyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5LTk4gPSBbXTtcbiAgICAgICAgZm9yIChsZXQgcm93ID0gMDsgcm93IDwgTjsgKytyb3cpIHtcbiAgICAgICAgICAgIGNvbnN0IGRpc3RhbmNlcyA9IHRoaXMuX0Qucm93KHJvdyk7XG4gICAgICAgICAgICBjb25zdCBIID0gbmV3IEhlYXAobnVsbCwgZCA9PiBkLnZhbHVlLCBcIm1pblwiKTtcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgTjsgKytqKSB7XG4gICAgICAgICAgICAgICAgSC5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGRpc3RhbmNlc1tqXSxcbiAgICAgICAgICAgICAgICAgICAgaW5kZXg6IGosXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLktOTi5wdXNoKEgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogQHBhcmFtIHtBcnJheXxOdW1iZXJ9IHQgLSBxdWVyeSBlbGVtZW50IG9yIGluZGV4LlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbayA9IDVdIC0gbnVtYmVyIG9mIG5lYXJlc3QgbmVpZ2hib3JzIHRvIHJldHVybi5cbiAgICAgKiBAcmV0dXJucyB7SGVhcH0gLSBIZWFwIGNvbnNpc3RzIG9mIHRoZSB7QGxpbmsga30gbmVhcmVzdCBuZWlnaGJvcnMuXG4gICAgICovXG4gICAgc2VhcmNoKHQsIGsgPSA1KSB7XG4gICAgICAgIGNvbnN0IG1ldHJpYyA9IHRoaXMuX21ldHJpYztcbiAgICAgICAgY29uc3QgS05OID0gdGhpcy5LTk47XG4gICAgICAgIGxldCBIO1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh0KSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX21ldHJpYyA9PSBcInByZWNvbXB1dGVkXCIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBcIlNlYXJjaCBieSBxdWVyeSBlbGVtZW50IGlzIG9ubHkgcG9zc2libGUgd2hlbiBub3QgdXNpbmcgYSBwcmVjb21wdXRlZCBkaXN0YW5jZSBtYXRyaXghXCJcbiAgICAgICAgICAgIH0gXG4gICAgICAgICAgICBjb25zdCBlbGVtZW50cyA9IHRoaXMuX2VsZW1lbnRzO1xuICAgICAgICAgICAgY29uc3QgTiA9IEtOTi5sZW5ndGg7XG4gICAgICAgICAgICBsZXQgbmVhcmVzdF9lbGVtZW50X2luZGV4ID0gbnVsbDtcbiAgICAgICAgICAgIGxldCBuZWFyZXN0X2Rpc3QgPSBJbmZpbml0eTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgTjsgKytpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IGVsZW1lbnRzLnJvdyhpKTtcbiAgICAgICAgICAgICAgICBjb25zdCBkaXN0ID0gbWV0cmljKHQsIGVsZW1lbnQpO1xuICAgICAgICAgICAgICAgIGlmIChkaXN0IDwgbmVhcmVzdF9kaXN0KSB7XG4gICAgICAgICAgICAgICAgICAgIG5lYXJlc3RfZWxlbWVudF9pbmRleCA9IGk7XG4gICAgICAgICAgICAgICAgICAgIG5lYXJlc3RfZGlzdCA9IGRpc3Q7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgSCA9IEtOTltuZWFyZXN0X2VsZW1lbnRfaW5kZXhdO1xuICAgICAgICB9IGVsc2UgaWYgKE51bWJlci5pc0ludGVnZXIodCkpIHtcbiAgICAgICAgICAgIEggPSBLTk5bdF1cbiAgICAgICAgfVxuXG4gICAgICAgIGxldCByZXN1bHQgPSBbXVxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGs7ICsraSkge1xuICAgICAgICAgICAgcmVzdWx0LnB1c2goSC5wb3AoKSlcbiAgICAgICAgfVxuICAgICAgICByZXN1bHQuZm9yRWFjaChyZXMgPT4gSC5wdXNoKHJlcy5lbGVtZW50KSlcbiAgICAgICAgcmV0dXJuIHJlc3VsdFxuICAgIH0gICAgXG59XG4iLCJpbXBvcnQgeyBldWNsaWRlYW4gfSBmcm9tIFwiLi4vbWV0cmljcy9pbmRleC5qc1wiO1xuaW1wb3J0IHsgTWF0cml4IH0gZnJvbSBcIi4uL21hdHJpeC9pbmRleC5qc1wiO1xuaW1wb3J0IHsgUmFuZG9taXplciB9IGZyb20gXCIuLi91dGlsL2luZGV4LmpzXCI7XG5cbi8qKlxuICogQGNsYXNzXG4gKiBAYWxpYXMgRFJcbiAqIEBib3Jyb3dzIERSI3BhcmFtZXRlciBhcyBEUiNwYXJhXG4gKiBAYm9ycm93cyBEUiNwYXJhbWV0ZXIgYXMgRFIjcFxuICovXG5leHBvcnQgY2xhc3MgRFIge1xuICAgIC8qKlxuICAgICAqIFRha2VzIHRoZSBkZWZhdWx0IHBhcmFtZXRlcnMgYW5kIHNlYWxzIHRoZW0sIHJlbWVtYmVycyB0aGUgdHlwZSBvZiBpbnB1dCB7QGxpbmsgWH0sIGFuZCBpbml0aWFsaXplcyB0aGUgcmFuZG9tIG51bWJlciBnZW5lcmF0b3IuXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQG1lbWJlcm9mIG1vZHVsZTpkaW1lbnNpb25hbGl0eV9yZWR1Y3Rpb25cbiAgICAgKiBAYWxpYXMgRFJcbiAgICAgKiBAcGFyYW0ge01hdHJpeHxBcnJheTxBcnJheTxOdW1iZXI+Pn0gWCAtIHRoZSBoaWdoLWRpbWVuc2lvbmFsIGRhdGEuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHBhcmFtZXRlcnMgLSBPYmplY3QgY29udGFpbmluZyBwYXJhbWV0ZXJpemF0aW9uIG9mIHRoZSBEUiBtZXRob2QuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtwYXJhbWV0ZXJzLmQgPSAyXSAtIHRoZSBkaW1lbnNpb25hbGl0eSBvZiB0aGUgcHJvamVjdGlvbi5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcGFyYW1ldGVycy5tZXRyaWMgPSBldWNsaWRlYW5dIC0gdGhlIG1ldHJpYyB3aGljaCBkZWZpbmVzIHRoZSBkaXN0YW5jZSBiZXR3ZWVuIHR3byBwb2ludHMuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtwYXJhbWV0ZXJzLnNlZWQgPSAxMjEyXSAtIHRoZSBzZWVkIHZhbHVlIGZvciB0aGUgcmFuZG9tIG51bWJlciBnZW5lcmF0b3IuXG4gICAgICogQHJldHVybnMge0RSfVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKFgsIGRlZmF1bHRfcGFyYW1ldGVycywgcGFyYW1ldGVycykge1xuICAgICAgICB0aGlzLl9wYXJhbWV0ZXJzID0gT2JqZWN0LmFzc2lnbihPYmplY3Quc2VhbChkZWZhdWx0X3BhcmFtZXRlcnMpLCBwYXJhbWV0ZXJzKTtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoWCkpIHtcbiAgICAgICAgICAgIHRoaXMuX3R5cGUgPSBcImFycmF5XCI7XG4gICAgICAgICAgICB0aGlzLlggPSBNYXRyaXguZnJvbShYKTtcbiAgICAgICAgfSBlbHNlIGlmIChYIGluc3RhbmNlb2YgTWF0cml4KSB7XG4gICAgICAgICAgICB0aGlzLl90eXBlID0gXCJtYXRyaXhcIjtcbiAgICAgICAgICAgIHRoaXMuWCA9IFg7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyB2YWxpZCB0eXBlIGZvciBYIVwiKTtcbiAgICAgICAgfVxuICAgICAgICBbdGhpcy5fTiwgdGhpcy5fRF0gPSB0aGlzLlguc2hhcGU7XG4gICAgICAgIHRoaXMuX3JhbmRvbWl6ZXIgPSBuZXcgUmFuZG9taXplcih0aGlzLl9wYXJhbWV0ZXJzLnNlZWQpO1xuICAgICAgICB0aGlzLl9pc19pbml0aWFsaXplZCA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgYW5kIGdldCBwYXJhbWV0ZXJzXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG5hbWUgLSBuYW1lIG9mIHRoZSBwYXJhbWV0ZXIuXG4gICAgICogQHBhcmFtIHthbnl9IFt2YWx1ZSA9IG51bGxdIC0gdmFsdWUgb2YgdGhlIHBhcmFtZXRlciB0byBzZXQuXG4gICAgICogQHJldHVybnMge0RSfGFueX0gLSBPbiBzZXR0aW5nIGEgcGFyYW1ldGVyLCB0aGlzIGZ1bmN0aW9uIHJldHVybnMgdGhlIERSIG9iamVjdC4gSWYgPGNvZGU+dmFsdWUgPT0gbnVsbDwvY29kZT4gdGhlbiByZXR1cm4gYWN0dWFsIHBhcmFtZXRlciB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IERSID0gbmV3IGRydWlkLlRTTkUoWCwge2Q6IDN9KTsgLy8gY3JlYXRlcyBhIG5ldyBEUiBvYmplY3QsIHdpdGggcGFyYW1ldGVyIGZvciA8Y29kZT5kPC9jb2RlPiA9IDMuXG4gICAgICogRFIucGFyYW1ldGVyKFwiZFwiKTsgLy8gcmV0dXJucyAzLFxuICAgICAqIERSLnBhcmFtZXRlcihcImRcIiwgMik7IC8vIHNldHMgcGFyYW1ldGVyIDxjb2RlPmQ8L2NvZGU+IHRvIDIgYW5kIHJldHVybnMgPGNvZGU+RFI8L2NvZGU+LlxuICAgICAqL1xuICAgIHBhcmFtZXRlcihuYW1lLCB2YWx1ZSA9IG51bGwpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9wYXJhbWV0ZXJzLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYCR7bmFtZX0gaXMgbm90IGEgdmFsaWQgcGFyYW1ldGVyIWApO1xuICAgICAgICB9XG4gICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5fcGFyYW1ldGVyc1tuYW1lXSA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5faXNfaW5pdGlhbGl6ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3BhcmFtZXRlcnNbbmFtZV07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwYXJhKG5hbWUsIHZhbHVlID0gbnVsbCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wYXJhbWV0ZXIobmFtZSwgdmFsdWUpO1xuICAgIH1cblxuICAgIHAobmFtZSwgdmFsdWUgPSBudWxsKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBhcmFtZXRlcihuYW1lLCB2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29tcHV0ZXMgdGhlIHByb2plY3Rpb24uXG4gICAgICogQHJldHVybnMge01hdHJpeH0gLSBSZXR1cm5zIHRoZSBwcm9qZWN0aW9uLlxuICAgICAqL1xuICAgIHRyYW5zZm9ybSgpIHtcbiAgICAgICAgdGhpcy5jaGVja19pbml0KCk7XG4gICAgICAgIHJldHVybiB0aGlzLnByb2plY3Rpb247XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29tcHV0ZXMgdGhlIHByb2plY3Rpb24uXG4gICAgICogQHJldHVybnMge0dlbmVyYXRvcn0gLSBBIGdlbmVyYXRvciB5aWVsZGluZyB0aGUgaW50ZXJtZWRpYXRlIHN0ZXBzIG9mIHRoZSBkaW1lbnNpb25hbGl0eSByZWR1Y3Rpb24gbWV0aG9kLlxuICAgICAqL1xuICAgICpnZW5lcmF0b3IoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIElmIHRoZSByZXNwZWN0aXZlIERSIG1ldGhvZCBoYXMgYW4gPGNvZGU+aW5pdDwvY29kZT4gZnVuY3Rpb24sIGNhbGwgaXQgYmVmb3JlIDxjb2RlPnRyYW5zZm9ybTwvY29kZT4uXG4gICAgICogQHJldHVybnMge0RSfVxuICAgICAqL1xuICAgIGNoZWNrX2luaXQoKSB7XG4gICAgICAgIGlmICghdGhpcy5faXNfaW5pdGlhbGl6ZWQgJiYgdHlwZW9mIHRoaXMuaW5pdCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICB0aGlzLmluaXQoKTtcbiAgICAgICAgICAgIHRoaXMuX2lzX2luaXRpYWxpemVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcmV0dXJucyB7TWF0cml4fEFycmF5fSBSZXR1cm5zIHRoZSBwcm9qZWN0aW9uLlxuICAgICAqL1xuICAgIGdldCBwcm9qZWN0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy5oYXNPd25Qcm9wZXJ0eShcIllcIikpIHtcbiAgICAgICAgICAgIHRoaXMuY2hlY2tfaW5pdCgpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3R5cGUgPT09IFwibWF0cml4XCIgPyB0aGlzLlkgOiB0aGlzLlkudG8yZEFycmF5O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGhlIGRhdGFzZXQgaXMgbm90IHRyYW5zZm9ybWVkIHlldCFcIik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSAgey4uLmFueX0gYXJncyAtIEFyZ3VtZW50cyB0aGUgdHJhbnNmb3JtIG1ldGhvZCBvZiB0aGUgcmVzcGVjdGl2ZSBEUiBtZXRob2QgdGFrZXMuXG4gICAgICogQHJldHVybnMge1Byb21pc2V9IC0gQSBwcm9taXNlIHlpZWxkaW5nIHRoZSBkaW1lbnNpb25hbGl0eSByZWR1Y2VkIGRhdGFzZXQuXG4gICAgICovXG4gICAgYXN5bmMgdHJhbnNmb3JtX2FzeW5jKC4uLmFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNmb3JtKC4uLmFyZ3MpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0gIHsuLi5hbnl9IGFyZ3MgLSBUYWtlcyB0aGUgc2FtZSBhcmd1bWVudHMgb2YgdGhlIGNvbnN0cnVjdG9yIG9mIHRoZSByZXNwZWN0aXZlIERSIG1ldGhvZC5cbiAgICAgKiBAcmV0dXJucyB7TWF0cml4fEFycmF5fSAtIFRoZSBkaW1lbnNpb25hbGl0eSByZWR1Y2VkIGRhdGFzZXQuXG4gICAgICovXG4gICAgc3RhdGljIHRyYW5zZm9ybSguLi5hcmdzKSB7XG4gICAgICAgIGxldCBkciA9IG5ldyB0aGlzKC4uLmFyZ3MpO1xuICAgICAgICByZXR1cm4gZHIudHJhbnNmb3JtKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSAgey4uLmFueX0gYXJncyAtIFRha2VzIHRoZSBzYW1lIGFyZ3VtZW50cyBvZiB0aGUgY29uc3RydWN0b3Igb2YgdGhlIHJlc3BlY3RpdmUgRFIgbWV0aG9kLlxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlfSAtIEEgcHJvbWlzZSB5aWVsZGluZyB0aGUgZGltZW5zaW9uYWxpdHkgcmVkdWNlZCBkYXRhc2V0LlxuICAgICAqL1xuICAgIHN0YXRpYyBhc3luYyB0cmFuc2Zvcm1fYXN5bmMoLi4uYXJncykge1xuICAgICAgICByZXR1cm4gdGhpcy50cmFuc2Zvcm0oLi4uYXJncyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSAgey4uLmFueX0gYXJncyAtIFRha2VzIHRoZSBzYW1lIGFyZ3VtZW50cyBvZiB0aGUgY29uc3RydWN0b3Igb2YgdGhlIHJlc3BlY3RpdmUgRFIgbWV0aG9kLlxuICAgICAqIEByZXR1cm5zIHtHZW5lcmF0b3J9IC0gQSBnZW5lcmF0b3IgeWllbGRpbmcgdGhlIGludGVybWVkaWF0ZSBzdGVwcyBvZiB0aGUgZGltZW5zaW9uYWxpdHkgcmVkdWN0aW9uIG1ldGhvZC5cbiAgICAgKi9cbiAgICBzdGF0aWMgKmdlbmVyYXRvciguLi5hcmdzKSB7XG4gICAgICAgIGNvbnN0IGRyID0gbmV3IHRoaXMoLi4uYXJncyk7XG4gICAgICAgIGNvbnN0IGdlbmVyYXRvciA9IGRyLmdlbmVyYXRvcigpO1xuICAgICAgICBmb3IgKGNvbnN0IHJlc3VsdCBvZiBnZW5lcmF0b3IpIHtcbiAgICAgICAgICAgIHlpZWxkIHJlc3VsdDtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCB7IHNpbXVsdGFuZW91c19wb3dlcml0ZXJhdGlvbiB9IGZyb20gXCIuLi9saW5lYXJfYWxnZWJyYS9pbmRleC5qc1wiO1xuaW1wb3J0IHsgTWF0cml4IH0gZnJvbSBcIi4uL21hdHJpeC9pbmRleC5qc1wiO1xuaW1wb3J0IHsgRFIgfSBmcm9tIFwiLi9EUi5qc1wiO1xuXG4vKipcbiAqIEBjbGFzc1xuICogQGFsaWFzIFBDQVxuICogQGF1Z21lbnRzIERSXG4gKi9cbmV4cG9ydCBjbGFzcyBQQ0EgZXh0ZW5kcyBEUiB7XG4gICAgLyoqXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQG1lbWJlcm9mIG1vZHVsZTpkaW1lbnNpb25hbGl0eV9yZWR1Y3Rpb25cbiAgICAgKiBAYWxpYXMgUENBXG4gICAgICogQHBhcmFtIHtNYXRyaXh8QXJyYXk8QXJyYXk8TnVtYmVyPj59IFggLSB0aGUgaGlnaC1kaW1lbnNpb25hbCBkYXRhLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwYXJhbWV0ZXJzIC0gT2JqZWN0IGNvbnRhaW5pbmcgcGFyYW1ldGVyaXphdGlvbiBvZiB0aGUgRFIgbWV0aG9kLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbcGFyYW1ldGVycy5kID0gMl0gLSB0aGUgZGltZW5zaW9uYWxpdHkgb2YgdGhlIHByb2plY3Rpb24uXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtwYXJhbWV0ZXJzLnNlZWQgPSAxMjEyXSAtIHRoZSBzZWVkIGZvciB0aGUgcmFuZG9tIG51bWJlciBnZW5lcmF0b3IuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtwYXJhbWV0ZXJzLmVpZ19hcmdzXSAtIFBhcmFtZXRlcnMgZm9yIHRoZSBlaWdlbmRlY29tcG9zaXRpb24gYWxnb3JpdGhtLlxuICAgICAqIEByZXR1cm5zIHtQQ0F9XG4gICAgICovXG4gICAgY29uc3RydWN0b3IoWCwgcGFyYW1ldGVycykge1xuICAgICAgICBzdXBlcihYLCB7IGQ6IDIsIHNlZWQ6IDEyMTIsIGVpZ19hcmdzOiB7fSB9LCBwYXJhbWV0ZXJzKTtcbiAgICAgICAgaWYgKCF0aGlzLl9wYXJhbWV0ZXJzLmVpZ19hcmdzLmhhc093blByb3BlcnR5KFwic2VlZFwiKSkge1xuICAgICAgICAgICAgdGhpcy5fcGFyYW1ldGVycy5laWdfYXJncy5zZWVkID0gdGhpcy5fcmFuZG9taXplcjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUcmFuc2Zvcm1zIHRoZSBpbnB1dGRhdGEge0BsaW5rIFh9IHRvIGRpbWVuc2lvbmFsaXR5IHtAbGluayBkfS4gSWYgcGFyYW1ldGVyIHtAbGluayBBfSBpcyBnaXZlbiwgdGhlbiBwcm9qZWN0IHtAbGluayBBfSB3aXRoIHRoZSBwcmluY2lwYWwgY29tcG9uZW50cyBvZiB7QGxpbmsgWH0uXG4gICAgICogQHBhcmFtIHtudWxsfE1hdHJpeHxBcnJheX0gW0EgPSBudWxsXSAtIElmIGdpdmVuLCB0aGUgZGF0YSB0byBwcm9qZWN0LlxuICAgICAqIEByZXR1cm5zIHtNYXRyaXh8QXJyYXl9IC0gVGhlIHByb2plY3RlZCBkYXRhLlxuICAgICAqL1xuICAgIHRyYW5zZm9ybShBID0gbnVsbCkge1xuICAgICAgICBjb25zdCBWID0gdGhpcy5wcmluY2lwYWxfY29tcG9uZW50cygpO1xuICAgICAgICBpZiAoQSA9PSBudWxsKSB7XG4gICAgICAgICAgICBjb25zdCBYID0gdGhpcy5YO1xuICAgICAgICAgICAgdGhpcy5ZID0gWC5kb3QoVik7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wcm9qZWN0aW9uO1xuICAgICAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoQSkpIHtcbiAgICAgICAgICAgIHJldHVybiBNYXRyaXguZnJvbShBKS5kb3QoVikuYXNBcnJheTtcbiAgICAgICAgfSBlbHNlIGlmIChBIGluc3RhbmNlb2YgTWF0cml4KSB7XG4gICAgICAgICAgICByZXR1cm4gQS5kb3QoVik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyB2YWxpZCB0eXBlIGZvciBBIVwiKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbXB1dGVzIHRoZSB7QGxpbmsgZH0gcHJpbmNpcGFsIGNvbXBvbmVudHMgb2YgTWF0cml4IHtAbGluayBYfS5cbiAgICAgKiBAcmV0dXJucyB7TWF0cml4fVxuICAgICAqL1xuICAgIHByaW5jaXBhbF9jb21wb25lbnRzKCkge1xuICAgICAgICBpZiAodGhpcy5WKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5WO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHsgZCwgZWlnX2FyZ3MgfSA9IHRoaXMuX3BhcmFtZXRlcnM7XG4gICAgICAgIGNvbnN0IFggPSB0aGlzLlg7XG4gICAgICAgIGNvbnN0IG1lYW5zID0gTWF0cml4LmZyb20oWC5tZWFuQ29scyk7XG4gICAgICAgIGNvbnN0IFhfY2VudCA9IFguc3ViKG1lYW5zKTtcbiAgICAgICAgY29uc3QgQyA9IFhfY2VudC50cmFuc3Bvc2UoKS5kb3QoWF9jZW50KTtcbiAgICAgICAgY29uc3QgeyBlaWdlbnZlY3RvcnM6IFYgfSA9IHNpbXVsdGFuZW91c19wb3dlcml0ZXJhdGlvbihDLCBkLCBlaWdfYXJncyk7XG4gICAgICAgIHRoaXMuViA9IE1hdHJpeC5mcm9tKFYpLnRyYW5zcG9zZSgpO1xuICAgICAgICByZXR1cm4gdGhpcy5WO1xuICAgIH1cblxuICAgIHN0YXRpYyBwcmluY2lwYWxfY29tcG9uZW50cyhYLCBwYXJhbWV0ZXJzKSB7XG4gICAgICAgIGNvbnN0IGRyID0gbmV3IHRoaXMoWCwgcGFyYW1ldGVycyk7XG4gICAgICAgIHJldHVybiBkci5wcmluY2lwYWxfY29tcG9uZW50cygpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IHNpbXVsdGFuZW91c19wb3dlcml0ZXJhdGlvbiB9IGZyb20gXCIuLi9saW5lYXJfYWxnZWJyYS9pbmRleC5qc1wiO1xuaW1wb3J0IHsgZGlzdGFuY2VfbWF0cml4LCBNYXRyaXggfSBmcm9tIFwiLi4vbWF0cml4L2luZGV4LmpzXCI7XG5pbXBvcnQgeyBldWNsaWRlYW4gfSBmcm9tIFwiLi4vbWV0cmljcy9pbmRleC5qc1wiO1xuaW1wb3J0IHsgRFIgfSBmcm9tIFwiLi9EUi5qc1wiO1xuXG4vKipcbiAqIEBjbGFzc1xuICogQGFsaWFzIE1EU1xuICogQGV4dGVuZHMgRFJcbiAqL1xuZXhwb3J0IGNsYXNzIE1EUyBleHRlbmRzIERSIHtcbiAgICAvKipcbiAgICAgKiBDbGFzc2ljYWwgTURTLlxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBtZW1iZXJvZiBtb2R1bGU6ZGltZW5zaW9uYWxpdHlfcmVkdWN0aW9uXG4gICAgICogQGFsaWFzIE1EU1xuICAgICAqIEBwYXJhbSB7TWF0cml4fSBYIC0gdGhlIGhpZ2gtZGltZW5zaW9uYWwgZGF0YS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcGFyYW1ldGVycyAtIE9iamVjdCBjb250YWluaW5nIHBhcmFtZXRlcml6YXRpb24gb2YgdGhlIERSIG1ldGhvZC5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3BhcmFtZXRlcnMuZCA9IDJdIC0gdGhlIGRpbWVuc2lvbmFsaXR5IG9mIHRoZSBwcm9qZWN0aW9uLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258XCJwcmVjb21wdXRlZFwifSBbcGFyYW1ldGVycy5tZXRyaWMgPSBldWNsaWRlYW5dIC0gdGhlIG1ldHJpYyB3aGljaCBkZWZpbmVzIHRoZSBkaXN0YW5jZSBiZXR3ZWVuIHR3byBwb2ludHMuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtwYXJhbWV0ZXJzLnNlZWQgPSAxMjEyXSAtIHRoZSBzZWVkIGZvciB0aGUgcmFuZG9tIG51bWJlciBnZW5lcmF0b3IuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtwYXJhbWV0ZXJzLmVpZ19hcmdzXSAtIFBhcmFtZXRlcnMgZm9yIHRoZSBlaWdlbmRlY29tcG9zaXRpb24gYWxnb3JpdGhtLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKFgsIHBhcmFtZXRlcnMpIHtcbiAgICAgICAgc3VwZXIoWCwgeyBkOiAyLCBtZXRyaWM6IGV1Y2xpZGVhbiwgc2VlZDogMTIxMiwgZWlnX2FyZ3M6IHt9IH0sIHBhcmFtZXRlcnMpO1xuICAgICAgICBpZiAoIXRoaXMuX3BhcmFtZXRlcnMuZWlnX2FyZ3MuaGFzT3duUHJvcGVydHkoXCJzZWVkXCIpKSB7XG4gICAgICAgICAgICB0aGlzLl9wYXJhbWV0ZXJzLmVpZ19hcmdzLnNlZWQgPSB0aGlzLl9yYW5kb21pemVyO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRyYW5zZm9ybXMgdGhlIGlucHV0ZGF0YSB7QGxpbmsgWH0gdG8gZGltZW5zaW9uYWxpdHkge0BsaW5rIGR9LlxuICAgICAqIEByZXR1cm5zIHtNYXRyaXh8QXJyYXl9XG4gICAgICovXG4gICAgdHJhbnNmb3JtKCkge1xuICAgICAgICBjb25zdCBYID0gdGhpcy5YO1xuICAgICAgICBjb25zdCByb3dzID0gWC5zaGFwZVswXTtcbiAgICAgICAgY29uc3QgeyBkLCBtZXRyaWMsIGVpZ19hcmdzIH0gPSB0aGlzLl9wYXJhbWV0ZXJzO1xuICAgICAgICBjb25zdCBBID0gbWV0cmljID09PSBcInByZWNvbXB1dGVkXCIgPyBYIDogZGlzdGFuY2VfbWF0cml4KFgsIG1ldHJpYyk7XG4gICAgICAgIGNvbnN0IGFpXyA9IEEubWVhbkNvbHM7XG4gICAgICAgIGNvbnN0IGFfaiA9IEEubWVhblJvd3M7XG4gICAgICAgIGNvbnN0IGFfXyA9IEEubWVhbjtcblxuICAgICAgICB0aGlzLl9kX1ggPSBBO1xuICAgICAgICBjb25zdCBCID0gbmV3IE1hdHJpeChyb3dzLCByb3dzLCAoaSwgaikgPT4gQS5lbnRyeShpLCBqKSAtIGFpX1tpXSAtIGFfaltqXSArIGFfXyk7XG5cbiAgICAgICAgY29uc3QgeyBlaWdlbnZlY3RvcnM6IFYgfSA9IHNpbXVsdGFuZW91c19wb3dlcml0ZXJhdGlvbihCLCBkLCBlaWdfYXJncyk7XG4gICAgICAgIHRoaXMuWSA9IE1hdHJpeC5mcm9tKFYpLnRyYW5zcG9zZSgpO1xuXG4gICAgICAgIHJldHVybiB0aGlzLnByb2plY3Rpb247XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHJldHVybnMge051bWJlcn0gLSB0aGUgc3RyZXNzIG9mIHRoZSBwcm9qZWN0aW9uLlxuICAgICAqL1xuICAgIHN0cmVzcygpIHtcbiAgICAgICAgY29uc3QgTiA9IHRoaXMuWC5zaGFwZVswXTtcbiAgICAgICAgY29uc3QgWSA9IHRoaXMuWTtcbiAgICAgICAgY29uc3QgZF9YID0gdGhpcy5fZF9YO1xuICAgICAgICBjb25zdCBkX1kgPSBuZXcgTWF0cml4KCk7XG4gICAgICAgIGRfWS5zaGFwZSA9IFtcbiAgICAgICAgICAgIE4sXG4gICAgICAgICAgICBOLFxuICAgICAgICAgICAgKGksIGopID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaSA8IGogPyBldWNsaWRlYW4oWS5yb3coaSksIFkucm93KGopKSA6IGRfWS5lbnRyeShqLCBpKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIF07XG4gICAgICAgIGxldCB0b3Bfc3VtID0gMDtcbiAgICAgICAgbGV0IGJvdHRvbV9zdW0gPSAwO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IE47ICsraSkge1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IGkgKyAxOyBqIDwgTjsgKytqKSB7XG4gICAgICAgICAgICAgICAgdG9wX3N1bSArPSBNYXRoLnBvdyhkX1guZW50cnkoaSwgaikgLSBkX1kuZW50cnkoaSwgaiksIDIpO1xuICAgICAgICAgICAgICAgIGJvdHRvbV9zdW0gKz0gTWF0aC5wb3coZF9YLmVudHJ5KGksIGopLCAyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gTWF0aC5zcXJ0KHRvcF9zdW0gLyBib3R0b21fc3VtKTtcbiAgICB9XG59XG4iLCIvKipcbiAqXG4gKiBAbWVtYmVyb2YgbW9kdWxlOm9wdGltaXphdGlvblxuICogQGFsaWFzIHBvd2VsbFxuICogQHBhcmFtIHtGdW5jdGlvbn0gZlxuICogQHBhcmFtIHtBcnJheX0geDBcbiAqIEBwYXJhbSB7TnVtYmVyfSBbbWF4X2l0ZXIgPSAzMDBdXG4gKiBAcmV0dXJucyB7QXJyYXl9XG4gKiBAc2VlIGh0dHA6Ly9vcHRpbWl6YXRpb24tanMuZ2l0aHViLmlvL29wdGltaXphdGlvbi1qcy9vcHRpbWl6YXRpb24uanMuaHRtbCNsaW5lNDM4XG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIChmLCB4MCwgbWF4X2l0ZXIgPSAzMDApIHtcbiAgICBjb25zdCBlcHNpbG9uID0gMWUtMjtcbiAgICBjb25zdCBuID0geDAubGVuZ3RoO1xuICAgIGxldCBhbHBoYSA9IDFlLTM7XG4gICAgbGV0IHBmeCA9IDEwMDAwO1xuICAgIGxldCB4ID0geDAuc2xpY2UoKTtcbiAgICBsZXQgZnggPSBmKHgpO1xuICAgIGxldCBjb252ZXJnZW5jZSA9IGZhbHNlO1xuXG4gICAgd2hpbGUgKG1heF9pdGVyLS0gPj0gMCAmJiAhY29udmVyZ2VuY2UpIHtcbiAgICAgICAgY29udmVyZ2VuY2UgPSB0cnVlO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG47ICsraSkge1xuICAgICAgICAgICAgeFtpXSArPSAxZS02O1xuICAgICAgICAgICAgbGV0IGZ4aSA9IGYoeCk7XG4gICAgICAgICAgICB4W2ldIC09IDFlLTY7XG4gICAgICAgICAgICBsZXQgZHggPSAoZnhpIC0gZngpIC8gMWUtNjtcbiAgICAgICAgICAgIGlmIChNYXRoLmFicyhkeCkgPiBlcHNpbG9uKSB7XG4gICAgICAgICAgICAgICAgY29udmVyZ2VuY2UgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHhbaV0gLT0gYWxwaGEgKiBkeDtcbiAgICAgICAgICAgIGZ4ID0gZih4KTtcbiAgICAgICAgfVxuICAgICAgICBhbHBoYSAqPSBwZnggPj0gZnggPyAxLjA1IDogMC40O1xuICAgICAgICBwZnggPSBmeDtcbiAgICB9XG4gICAgcmV0dXJuIHg7XG59XG4iLCJpbXBvcnQgeyBldWNsaWRlYW4gfSBmcm9tIFwiLi4vbWV0cmljcy9pbmRleC5qc1wiO1xuaW1wb3J0IHsgTWF0cml4IH0gZnJvbSBcIi4uL21hdHJpeC9pbmRleC5qc1wiO1xuLyoqXG4gKiBAY2xhc3NcbiAqIEBhbGlhcyBIaWVyYXJjaGljYWxfQ2x1c3RlcmluZ1xuICovXG5leHBvcnQgY2xhc3MgSGllcmFyY2hpY2FsX0NsdXN0ZXJpbmcge1xuICAgIC8qKlxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBtZW1iZXJvZiBtb2R1bGU6Y2x1c3RlcmluZ1xuICAgICAqIEBhbGlhcyBIaWVyYXJjaGljYWxfQ2x1c3RlcmluZ1xuICAgICAqIEB0b2RvIG5lZWRzIHJlc3RydWN0dXJpbmcuXG4gICAgICogQHBhcmFtIHtNYXRyaXh9IC0gRGF0YSBvciBkaXN0YW5jZSBtYXRyaXggaWYgbWV0cmljIGlzICdwcmVjb21wdXRlZCdcbiAgICAgKiBAcGFyYW0geyhcInNpbmdsZVwifFwiY29tcGxldGVcInxcImF2ZXJhZ2VcIil9IFtsaW5rYWdlID0gXCJjb21wbGV0ZVwiXVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258XCJwcmVjb21wdXRlZFwifSBbbWV0cmljID0gZXVjbGlkZWFuXVxuICAgICAqIEByZXR1cm5zIHtIaWVyYXJjaGljYWxfQ2x1c3RlcmluZ31cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihtYXRyaXgsIGxpbmthZ2UgPSBcImNvbXBsZXRlXCIsIG1ldHJpYyA9IGV1Y2xpZGVhbikge1xuICAgICAgICB0aGlzLl9pZCA9IDA7XG4gICAgICAgIHRoaXMuX21hdHJpeCA9IG1hdHJpeCBpbnN0YW5jZW9mIE1hdHJpeCA/IG1hdHJpeCA6IE1hdHJpeC5mcm9tKG1hdHJpeCk7XG4gICAgICAgIHRoaXMuX21ldHJpYyA9IG1ldHJpYztcbiAgICAgICAgdGhpcy5fbGlua2FnZSA9IGxpbmthZ2U7XG4gICAgICAgIGlmIChtZXRyaWMgPT09IFwicHJlY29tcHV0ZWRcIiAmJiB0aGlzLl9tYXRyaXguc2hhcGVbMF0gIT09IHRoaXMuX21hdHJpeC5zaGFwZVsxXSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSWYgbWV0cmljIGlzICdwcmVjb21wdXRlZCcsIHRoZW4gbWF0cml4IGhhcyB0byBiZSBzcXVhcmUhXCIpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaW5pdCgpO1xuICAgICAgICB0aGlzLnJvb3QgPSB0aGlzLmRvKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHZhbHVlIC0gdmFsdWUgd2hlcmUgdG8gY3V0IHRoZSB0cmVlLlxuICAgICAqIEBwYXJhbSB7KFwiZGlzdGFuY2VcInxcImRlcHRoXCIpfSBbdHlwZSA9IFwiZGlzdGFuY2VcIl0gLSB0eXBlIG9mIHZhbHVlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheTxBcnJheT59IC0gQXJyYXkgb2YgY2x1c3RlcnMgd2l0aCB0aGUgaW5kaWNlcyBvZiB0aGUgcm93cyBpbiBnaXZlbiB7QGxpbmsgbWF0cml4fS5cbiAgICAgKi9cbiAgICBnZXRfY2x1c3RlcnModmFsdWUsIHR5cGUgPSBcImRpc3RhbmNlXCIpIHtcbiAgICAgICAgbGV0IGNsdXN0ZXJzID0gW107XG4gICAgICAgIGxldCBhY2Nlc3NvcjtcbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICBjYXNlIFwiZGlzdGFuY2VcIjpcbiAgICAgICAgICAgICAgICBhY2Nlc3NvciA9IChkKSA9PiBkLmRpc3Q7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiZGVwdGhcIjpcbiAgICAgICAgICAgICAgICBhY2Nlc3NvciA9IChkKSA9PiBkLmRlcHRoO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIHR5cGVcIik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdHJhdmVyc2UodGhpcy5yb290LCBhY2Nlc3NvciwgdmFsdWUsIGNsdXN0ZXJzKTtcbiAgICAgICAgcmV0dXJuIGNsdXN0ZXJzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHt9IG5vZGVcbiAgICAgKiBAcGFyYW0geyp9IGZcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlXG4gICAgICogQHBhcmFtIHsqfSByZXN1bHRcbiAgICAgKi9cbiAgICBfdHJhdmVyc2Uobm9kZSwgZiwgdmFsdWUsIHJlc3VsdCkge1xuICAgICAgICBpZiAoZihub2RlKSA8PSB2YWx1ZSkge1xuICAgICAgICAgICAgcmVzdWx0LnB1c2gobm9kZS5sZWF2ZXMoKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl90cmF2ZXJzZShub2RlLmxlZnQsIGYsIHZhbHVlLCByZXN1bHQpO1xuICAgICAgICAgICAgdGhpcy5fdHJhdmVyc2Uobm9kZS5yaWdodCwgZiwgdmFsdWUsIHJlc3VsdCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBjb21wdXRlcyB0aGUgdHJlZS5cbiAgICAgKi9cbiAgICBpbml0KCkge1xuICAgICAgICBjb25zdCBtZXRyaWMgPSB0aGlzLl9tZXRyaWM7XG4gICAgICAgIGNvbnN0IEEgPSB0aGlzLl9tYXRyaXg7XG4gICAgICAgIGNvbnN0IG4gPSAodGhpcy5fbiA9IEEuc2hhcGVbMF0pO1xuICAgICAgICBjb25zdCBkX21pbiA9ICh0aGlzLl9kX21pbiA9IG5ldyBGbG9hdDY0QXJyYXkobikpO1xuICAgICAgICBsZXQgZGlzdGFuY2VfbWF0cml4O1xuICAgICAgICBpZiAobWV0cmljICE9PSBcInByZWNvbXB1dGVkXCIpIHtcbiAgICAgICAgICAgIGRpc3RhbmNlX21hdHJpeCA9IG5ldyBNYXRyaXgobiwgbiwgMCk7IC8vbmV3IEFycmF5KG4pO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuOyArK2kpIHtcbiAgICAgICAgICAgICAgICBkX21pbltpXSA9IDA7XG4gICAgICAgICAgICAgICAgLy9kaXN0YW5jZV9tYXRyaXhbaV0gPSBuZXcgRmxvYXQ2NEFycmF5KG4pO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgbjsgKytqKSB7XG4gICAgICAgICAgICAgICAgICAgIGRpc3RhbmNlX21hdHJpeC5zZXRfZW50cnkoaSwgaiwgaSA9PT0gaiA/IEluZmluaXR5IDogbWV0cmljKEEucm93KGkpLCBBLnJvdyhqKSkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGlzdGFuY2VfbWF0cml4LmVudHJ5KGksIGRfbWluW2ldKSA+IGRpc3RhbmNlX21hdHJpeC5lbnRyeShpLCBqKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZF9taW5baV0gPSBqO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGlzdGFuY2VfbWF0cml4ID0gdGhpcy5fbWF0cml4LmNsb25lKCk7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG47ICsraSkge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgbjsgKytqKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpID09PSBqKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXN0YW5jZV9tYXRyaXguc2V0X2VudHJ5KGksIGosIEluZmluaXR5KTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChkaXN0YW5jZV9tYXRyaXguZW50cnkoaSwgZF9taW5baV0pID4gZGlzdGFuY2VfbWF0cml4LmVudHJ5KGksIGopKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkX21pbltpXSA9IGo7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZGlzdGFuY2VfbWF0cml4ID0gZGlzdGFuY2VfbWF0cml4O1xuICAgICAgICBjb25zdCBjbHVzdGVycyA9ICh0aGlzLl9jbHVzdGVycyA9IG5ldyBBcnJheShuKSk7XG4gICAgICAgIGNvbnN0IGNfc2l6ZSA9ICh0aGlzLl9jX3NpemUgPSBuZXcgVWludDE2QXJyYXkobikpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG47ICsraSkge1xuICAgICAgICAgICAgY2x1c3RlcnNbaV0gPSBbXTtcbiAgICAgICAgICAgIGNsdXN0ZXJzW2ldWzBdID0gbmV3IENsdXN0ZXIodGhpcy5faWQrKywgbnVsbCwgbnVsbCwgMCwgQS5yb3coaSksIGksIDEsIDApO1xuICAgICAgICAgICAgY19zaXplW2ldID0gMTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBjb21wdXRlcyB0aGUgdHJlZS5cbiAgICAgKi9cbiAgICBkbygpIHtcbiAgICAgICAgY29uc3QgbiA9IHRoaXMuX247XG4gICAgICAgIGNvbnN0IGRfbWluID0gdGhpcy5fZF9taW47XG4gICAgICAgIGNvbnN0IEQgPSB0aGlzLl9kaXN0YW5jZV9tYXRyaXg7XG4gICAgICAgIGNvbnN0IGNsdXN0ZXJzID0gdGhpcy5fY2x1c3RlcnM7XG4gICAgICAgIGNvbnN0IGNfc2l6ZSA9IHRoaXMuX2Nfc2l6ZTtcbiAgICAgICAgY29uc3QgbGlua2FnZSA9IHRoaXMuX2xpbmthZ2U7XG4gICAgICAgIGxldCByb290ID0gbnVsbDtcbiAgICAgICAgZm9yIChsZXQgcCA9IDAsIHBfbWF4ID0gbiAtIDE7IHAgPCBwX21heDsgKytwKSB7XG4gICAgICAgICAgICBsZXQgYzEgPSAwO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuOyArK2kpIHtcbiAgICAgICAgICAgICAgICBsZXQgRF9pX21pbiA9IEQuZW50cnkoaSwgZF9taW5baV0pO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSBpICsgMTsgaiA8IG47ICsraikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoRF9pX21pbiA+IEQuZW50cnkoaSwgaikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRfbWluW2ldID0gajtcbiAgICAgICAgICAgICAgICAgICAgICAgIERfaV9taW4gPSBELmVudHJ5KGksIGRfbWluW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbjsgKytpKSB7XG4gICAgICAgICAgICAgICAgaWYgKEQuZW50cnkoaSwgZF9taW5baV0pIDwgRC5lbnRyeShjMSwgZF9taW5bYzFdKSkge1xuICAgICAgICAgICAgICAgICAgICBjMSA9IGk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IGMyID0gZF9taW5bYzFdO1xuICAgICAgICAgICAgbGV0IGMxX2NsdXN0ZXIgPSBjbHVzdGVyc1tjMV1bMF07XG4gICAgICAgICAgICBsZXQgYzJfY2x1c3RlciA9IGNsdXN0ZXJzW2MyXVswXTtcbiAgICAgICAgICAgIGxldCBjMV9jbHVzdGVyX2luZGljZXMgPSBjMV9jbHVzdGVyLmlzTGVhZiA/IFtjMV9jbHVzdGVyLmluZGV4XSA6IGMxX2NsdXN0ZXIuaW5kZXg7XG4gICAgICAgICAgICBsZXQgYzJfY2x1c3Rlcl9pbmRpY2VzID0gYzJfY2x1c3Rlci5pc0xlYWYgPyBbYzJfY2x1c3Rlci5pbmRleF0gOiBjMl9jbHVzdGVyLmluZGV4O1xuICAgICAgICAgICAgbGV0IGluZGljZXMgPSBjMV9jbHVzdGVyX2luZGljZXMuY29uY2F0KGMyX2NsdXN0ZXJfaW5kaWNlcyk7XG4gICAgICAgICAgICBsZXQgbmV3X2NsdXN0ZXIgPSBuZXcgQ2x1c3Rlcih0aGlzLl9pZCsrLCBjMV9jbHVzdGVyLCBjMl9jbHVzdGVyLCBELmVudHJ5KGMxLCBjMiksIG51bGwsIGluZGljZXMpO1xuICAgICAgICAgICAgYzFfY2x1c3Rlci5wYXJlbnQgPSBuZXdfY2x1c3RlcjtcbiAgICAgICAgICAgIGMyX2NsdXN0ZXIucGFyZW50ID0gbmV3X2NsdXN0ZXI7XG4gICAgICAgICAgICBjbHVzdGVyc1tjMV0udW5zaGlmdChuZXdfY2x1c3Rlcik7XG4gICAgICAgICAgICBjX3NpemVbYzFdICs9IGNfc2l6ZVtjMl07XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IG47ICsraikge1xuICAgICAgICAgICAgICAgIGNvbnN0IERfYzFfaiA9IEQuZW50cnkoYzEsIGopO1xuICAgICAgICAgICAgICAgIGNvbnN0IERfYzJfaiA9IEQuZW50cnkoYzIsIGopO1xuICAgICAgICAgICAgICAgIGxldCB2YWx1ZTtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGxpbmthZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInNpbmdsZVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBNYXRoLm1pbihEX2MxX2osIERfYzJfaik7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImNvbXBsZXRlXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IE1hdGgubWF4KERfYzFfaiwgRF9jMl9qKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiYXZlcmFnZVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSAoY19zaXplW2MxXSAqIERfYzFfaiArIGNfc2l6ZVtjMl0gKiBEX2MyX2opIC8gKGNfc2l6ZVtjMV0gKyBjX3NpemVbal0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIEQuc2V0X2VudHJ5KGosIGMxLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgRC5zZXRfZW50cnkoYzEsIGosIHZhbHVlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgRC5zZXRfZW50cnkoYzEsIGMxLCBJbmZpbml0eSk7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG47ICsraSkge1xuICAgICAgICAgICAgICAgIEQuc2V0X2VudHJ5KGksIGMyLCBJbmZpbml0eSk7XG4gICAgICAgICAgICAgICAgRC5zZXRfZW50cnkoYzIsIGksIEluZmluaXR5KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLyogZm9yIChsZXQgaiA9IDA7IGogPCBuOyArK2opIHtcbiAgICAgICAgICAgICAgICBpZiAoZF9taW5bal0gPT09IGMyKSB7XG4gICAgICAgICAgICAgICAgICAgIGRfbWluW2pdID0gYzE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChELmVudHJ5KGMxLCBqKSA8IEQuZW50cnkoYzEsIGRfbWluW2MxXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgZF9taW5bYzFdID0gajtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9ICovXG4gICAgICAgICAgICByb290ID0gbmV3X2NsdXN0ZXI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJvb3Q7XG4gICAgfVxufVxuXG5jbGFzcyBDbHVzdGVyIHtcbiAgICBjb25zdHJ1Y3RvcihpZCwgbGVmdCwgcmlnaHQsIGRpc3QsIGNlbnRyb2lkLCBpbmRleCwgc2l6ZSwgZGVwdGgpIHtcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xuICAgICAgICB0aGlzLmxlZnQgPSBsZWZ0O1xuICAgICAgICB0aGlzLnJpZ2h0ID0gcmlnaHQ7XG4gICAgICAgIHRoaXMuZGlzdCA9IGRpc3Q7XG4gICAgICAgIHRoaXMuaW5kZXggPSBpbmRleDtcbiAgICAgICAgdGhpcy5zaXplID0gc2l6ZSA/PyBsZWZ0LnNpemUgKyByaWdodC5zaXplO1xuICAgICAgICB0aGlzLmRlcHRoID0gZGVwdGggPz8gMSArIE1hdGgubWF4KGxlZnQuZGVwdGgsIHJpZ2h0LmRlcHRoKTtcbiAgICAgICAgdGhpcy5jZW50cm9pZCA9IGNlbnRyb2lkID8/IHRoaXMuX2NhbGN1bGF0ZV9jZW50cm9pZChsZWZ0LCByaWdodCk7XG4gICAgICAgIHRoaXMucGFyZW50ID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgX2NhbGN1bGF0ZV9jZW50cm9pZChsZWZ0LCByaWdodCkge1xuICAgICAgICBjb25zdCBsX3NpemUgPSBsZWZ0LnNpemU7XG4gICAgICAgIGNvbnN0IHJfc2l6ZSA9IHJpZ2h0LnNpemU7XG4gICAgICAgIGNvbnN0IGxfY2VudHJvaWQgPSBsZWZ0LmNlbnRyb2lkO1xuICAgICAgICBjb25zdCByX2NlbnRyb2lkID0gcmlnaHQuY2VudHJvaWQ7XG4gICAgICAgIGNvbnN0IHNpemUgPSB0aGlzLnNpemU7XG4gICAgICAgIGNvbnN0IG4gPSBsZWZ0LmNlbnRyb2lkLmxlbmd0aDtcbiAgICAgICAgY29uc3QgbmV3X2NlbnRyb2lkID0gbmV3IEZsb2F0NjRBcnJheShuKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuOyArK2kpIHtcbiAgICAgICAgICAgIG5ld19jZW50cm9pZFtpXSA9IChsX3NpemUgKiBsX2NlbnRyb2lkW2ldICsgcl9zaXplICogcl9jZW50cm9pZFtpXSkgLyBzaXplO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXdfY2VudHJvaWQ7XG4gICAgfVxuXG4gICAgZ2V0IGlzTGVhZigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGVwdGggPT09IDA7XG4gICAgfVxuXG4gICAgbGVhdmVzKCkge1xuICAgICAgICBpZiAodGhpcy5pc0xlYWYpIHJldHVybiBbdGhpc107XG4gICAgICAgIGNvbnN0IGxlZnQgPSB0aGlzLmxlZnQ7XG4gICAgICAgIGNvbnN0IHJpZ2h0ID0gdGhpcy5yaWdodDtcbiAgICAgICAgcmV0dXJuIChsZWZ0LmlzTGVhZiA/IFtsZWZ0XSA6IGxlZnQubGVhdmVzKCkpLmNvbmNhdChyaWdodC5pc0xlYWYgPyBbcmlnaHRdIDogcmlnaHQubGVhdmVzKCkpO1xuICAgIH1cblxuICAgIGRlc2NlbmRhbnRzKCkge1xuICAgICAgICBpZiAodGhpcy5pc0xlYWYpIHJldHVybiBbdGhpc107XG4gICAgICAgIGNvbnN0IGxlZnRfZGVzY2VuZGFudHMgPSB0aGlzLmxlZnQuZGVzY2VuZGFudHMoKTtcbiAgICAgICAgY29uc3QgcmlnaHRfZGVzY2VuZGFudHMgPSB0aGlzLnJpZ2h0LmRlc2NlbmRhbnRzKCk7XG4gICAgICAgIHJldHVybiBsZWZ0X2Rlc2NlbmRhbnRzLmNvbmNhdChyaWdodF9kZXNjZW5kYW50cykuY29uY2F0KFt0aGlzXSk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgZXVjbGlkZWFuIH0gZnJvbSBcIi4uL21ldHJpY3MvaW5kZXguanNcIjtcbmltcG9ydCB7IFJhbmRvbWl6ZXIgfSBmcm9tIFwiLi4vdXRpbC9pbmRleC5qc1wiO1xuaW1wb3J0IHsgbGluc3BhY2UsIE1hdHJpeCB9IGZyb20gXCIuLi9tYXRyaXgvaW5kZXguanNcIjtcbmltcG9ydCB7IG1pbiB9IGZyb20gXCIuLi91dGlsL2luZGV4LmpzXCI7XG4vKipcbiAqIEBjbGFzc1xuICogQGFsaWFzIEtNZWRvaWRzXG4gKi9cbmV4cG9ydCBjbGFzcyBLTWVkb2lkcyB7XG4gICAgLyoqXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQG1lbWJlcm9mIG1vZHVsZTpjbHVzdGVyaW5nXG4gICAgICogQGFsaWFzIEtNZWRvaWRzXG4gICAgICogQHRvZG8gbmVlZHMgcmVzdHJ1Y3R1cmluZy4gXG4gICAgICogQHBhcmFtIHtNYXRyaXh9IG1hdHJpeCAtIGRhdGEgbWF0cml4XG4gICAgICogQHBhcmFtIHtOdW1iZXJzfSBLIC0gbnVtYmVyIG9mIGNsdXN0ZXJzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFttYXhfaXRlcj1udWxsXSAtIG1heGltdW0gbnVtYmVyIG9mIGl0ZXJhdGlvbnMuIERlZmF1bHQgaXMgMTAgKiBNYXRoLmxvZzEwKE4pXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW21ldHJpYyA9IGV1Y2xpZGVhbl0gLSBtZXRyaWMgZGVmaW5pbmcgdGhlIGRpc3NpbWlsYXJpdHkgXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtzZWVkID0gMTIxMl0gLSBzZWVkIHZhbHVlIGZvciByYW5kb20gbnVtYmVyIGdlbmVyYXRvclxuICAgICAqIEByZXR1cm5zIHtLTWVkb2lkc31cbiAgICAgKiBAc2VlIHtAbGluayBodHRwczovL2xpbmsuc3ByaW5nZXIuY29tL2NoYXB0ZXIvMTAuMTAwNy85NzgtMy0wMzAtMzIwNDctOF8xNn0gRmFzdGVyIGstTWVkb2lkcyBDbHVzdGVyaW5nOiBJbXByb3ZpbmcgdGhlIFBBTSwgQ0xBUkEsIGFuZCBDTEFSQU5TIEFsZ29yaXRobXNcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihtYXRyaXgsIEssIG1heF9pdGVyPW51bGwsIG1ldHJpYyA9IGV1Y2xpZGVhbiwgc2VlZD0xMjEyKSB7XG4gICAgICAgIHRoaXMuX21ldHJpYyA9IG1ldHJpYztcbiAgICAgICAgdGhpcy5fbWF0cml4ID0gbWF0cml4O1xuICAgICAgICB0aGlzLl9BID0gdGhpcy5fbWF0cml4LnRvMmRBcnJheTtcbiAgICAgICAgdGhpcy5fSyA9IEs7XG4gICAgICAgIGNvbnN0IFtOLCBEXSA9IG1hdHJpeC5zaGFwZTtcbiAgICAgICAgdGhpcy5fTiA9IE47XG4gICAgICAgIHRoaXMuX0QgPSBEO1xuICAgICAgICB0aGlzLl9tYXhfaXRlciA9IG1heF9pdGVyIHx8IDEwICogTWF0aC5sb2cxMChOKSBcbiAgICAgICAgdGhpcy5fZGlzdGFuY2VfbWF0cml4ID0gbmV3IE1hdHJpeChOLCBOLCBcInplcm9zXCIpO1xuICAgICAgICAvKiBmb3IgKGxldCBpID0gMTsgaSA8IE47ICsraSkge1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IGkgKyAxOyBqIDwgTjsgKytqKSB7XG4gICAgICAgICAgICAgICAgbGV0IGRpc3QgPSBtZXRyaWModGhpcy5fQVtpXSwgdGhpcy5fQVtqXSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fZGlzdGFuY2VfbWF0cml4LnNldF9lbnRyeShpLCBqLCBkaXN0KTtcbiAgICAgICAgICAgICAgICB0aGlzLl9kaXN0YW5jZV9tYXRyaXguc2V0X2VudHJ5KGosIGksIGRpc3QpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0gKi9cbiAgICAgICAgaWYgKEsgPiBOKSBLID0gTjtcbiAgICAgICAgdGhpcy5fcmFuZG9taXplciA9IG5ldyBSYW5kb21pemVyKHNlZWQpO1xuICAgICAgICB0aGlzLl9jbHVzdGVycyA9IG5ldyBBcnJheShOKS5maWxsKHVuZGVmaW5lZCk7XG4gICAgICAgIHRoaXMuX2NsdXN0ZXJfbWVkb2lkcyA9IHRoaXMuX2dldF9yYW5kb21fbWVkb2lkcyhLKTtcbiAgICAgICAgLy9pZiAoaW5pdCkgdGhpcy5pbml0KEssIHRoaXMuX2NsdXN0ZXJfbWVkb2lkcyk7XG4gICAgICAgIHRoaXMuX2lzX2luaXRpYWxpemVkID0gZmFsc2U7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEByZXR1cm5zIHtBcnJheTxBcnJheT59IC0gQXJyYXkgb2YgY2x1c3RlcnMgd2l0aCB0aGUgaW5kaWNlcyBvZiB0aGUgcm93cyBpbiBnaXZlbiB7QGxpbmsgbWF0cml4fS4gXG4gICAgICovXG4gICAgZ2V0X2NsdXN0ZXJzKCkge1xuICAgICAgICBjb25zdCBLID0gdGhpcy5fSztcbiAgICAgICAgY29uc3QgQSA9IHRoaXMuX0E7XG4gICAgICAgIGlmICghdGhpcy5faXNfaW5pdGlhbGl6ZWQpIHtcbiAgICAgICAgICAgIHRoaXMuaW5pdChLLCB0aGlzLl9jbHVzdGVyX21lZG9pZHMpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IG5ldyBBcnJheShLKS5maWxsKCkubWFwKCgpID0+IG5ldyBBcnJheSgpKTtcbiAgICAgICAgQS5mb3JFYWNoKCh4X2osIGopID0+IHtcbiAgICAgICAgICAgIHJlc3VsdFt0aGlzLl9uZWFyZXN0X21lZG9pZCh4X2osIGopLmluZGV4X25lYXJlc3RdLnB1c2goaik7XG4gICAgICAgIH0pXG4gICAgICAgIHJlc3VsdC5tZWRvaWRzID0gdGhpcy5fY2x1c3Rlcl9tZWRvaWRzO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIGFzeW5jKiBnZW5lcmF0b3IoKSB7XG4gICAgICAgIGNvbnN0IG1heF9pdGVyID0gdGhpcy5fbWF4X2l0ZXI7XG4gICAgICAgIHlpZWxkIHRoaXMuZ2V0X2NsdXN0ZXJzKClcbiAgICAgICAgbGV0IGZpbmlzaCA9IGZhbHNlO1xuICAgICAgICBsZXQgaSA9IDBcbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgZmluaXNoID0gdGhpcy5faXRlcmF0aW9uKCk7XG4gICAgICAgICAgICB5aWVsZCB0aGlzLmdldF9jbHVzdGVycygpO1xuICAgICAgICB9IHdoaWxlICghZmluaXNoICYmICsraSA8IG1heF9pdGVyKVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFsZ29yaXRobSAxLiBGYXN0UEFNMTogSW1wcm92ZWQgU1dBUCBhbGdvcml0aG1cbiAgICAgKi9cbiAgICAvKiBfaXRlcmF0aW9uXzEoKSB7XG4gICAgICAgIGNvbnN0IEEgPSB0aGlzLl9BO1xuICAgICAgICBjb25zdCBOID0gdGhpcy5fTjtcbiAgICAgICAgY29uc3QgSyA9IHRoaXMuX0s7XG4gICAgICAgIGNvbnN0IG1lZG9pZHMgPSB0aGlzLl9jbHVzdGVyX21lZG9pZHM7XG4gICAgICAgIGxldCBEZWx0YVREID0gMDtcbiAgICAgICAgbGV0IG0wID0gbnVsbDtcbiAgICAgICAgbGV0IHgwID0gbnVsbDtcbiAgICAgICAgQS5mb3JFYWNoKCh4X2osIGopID0+IHtcbiAgICAgICAgICAgIGlmIChtZWRvaWRzLmZpbmRJbmRleChtID0+IG0gPT09IGopIDwgMCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5lYXJlc3RfbWVkb2lkID0gdGhpcy5fbmVhcmVzdF9tZWRvaWQoeF9qLCBqKTtcbiAgICAgICAgICAgICAgICBjb25zdCBkX2ogPSBuZWFyZXN0X21lZG9pZC5kaXN0YW5jZV9uZWFyZXN0OyAvLyBkaXN0YW5jZSB0byBjdXJyZW50IG1lZG9pZFxuICAgICAgICAgICAgICAgIGNvbnN0IGRlbHRhVEQgPSBuZXcgQXJyYXkoSykuZmlsbCgtZF9qKTsgLy8gY2hhbmdlIGlmIG1ha2luZyBqIGEgbWVkb2lkXG4gICAgICAgICAgICAgICAgQS5mb3JFYWNoKCh4X28sIG8pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZGlzYW5jZSB0byBuZXcgbWVkb2lkXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRfb2ogPSB0aGlzLl9nZXRfZGlzdGFuY2UobywgaiwgeF9vLCB4X2opO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBcImluZGV4X25lYXJlc3RcIjogbixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiZGlzdGFuY2VfbmVhcmVzdFwiOiBkX24sXG4gICAgICAgICAgICAgICAgICAgICAgICBcImRpc3RhbmNlX3NlY29uZFwiOiBkX3MsXG4gICAgICAgICAgICAgICAgICAgIH0gPSB0aGlzLl9uZWFyZXN0X21lZG9pZCh4X28sIG8pOyBcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2x1c3RlcnNbb10gPSBuOyAvLyBjYWNoZWQgdmFsdWVzXG4gICAgICAgICAgICAgICAgICAgIGRlbHRhVERbbl0gKz0gTWF0aC5taW4oZF9vaiwgZF9zKSAtIGRfbjsgLy8gbG9zcyBjaGFuZ2VcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRfb2ogPCBkX24pIHsgLy8gcmVhc3NpZ25tZW50IGNoZWNrXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWx0YVRELmZvckVhY2goKGRfaSwgaSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuICE9PSBpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbHRhVERbaV0gPSBkX2kgKyBkX29qIC0gZF9uOyAvLyB1cGRhdGUgbG9zcyBjaGFuZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIC8vIGNob29zZSBiZXN0IG1lZG9pZCBpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGkgPSBkZWx0YVREXG4gICAgICAgICAgICAgICAgICAgIC5tYXAoKGQsIGkpID0+IFtkLCBpXSlcbiAgICAgICAgICAgICAgICAgICAgLnNvcnQoKGQxLCBkMikgPT4gZDFbMF0gLSBkMlswXSlbMF1bMV07XG4gICAgICAgICAgICAgICAgY29uc3QgZGVsdGFURF9pID0gZGVsdGFURFtpXTtcbiAgICAgICAgICAgICAgICAvLyBzdG9yZVxuICAgICAgICAgICAgICAgIGlmIChkZWx0YVREX2kgPCBEZWx0YVREKSB7XG4gICAgICAgICAgICAgICAgICAgIERlbHRhVEQgPSBkZWx0YVREX2k7XG4gICAgICAgICAgICAgICAgICAgIG0wID0gaTtcbiAgICAgICAgICAgICAgICAgICAgeDAgPSBqO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKERlbHRhVEQgPj0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWUgLy8gYnJlYWsgbG9vcCBpZiBEZWx0YVREID49IDBcbiAgICAgICAgfVxuICAgICAgICAvLyBzd2FwIHJvbGVzIG9mIG1lZG9pZCBtIGFuZCBub24tbWVkb2lkIHg7XG4gICAgICAgIG1lZG9pZHNbbTBdID0geDA7XG4gICAgICAgIHRoaXMuX2NsdXN0ZXJfbWVkb2lkcyA9IG1lZG9pZHM7XG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgIH0gKi9cblxuICAgIC8qKiBBbGdvcml0aG0gMi4gRmFzdFBBTTI6IFNXQVAgd2l0aCBtdWx0aXBsZSBjYW5kaWRhdGVzXG4gICAgICogXG4gICAgICovXG4gICAgX2l0ZXJhdGlvbigpIHtcbiAgICAgICAgY29uc3QgQSA9IHRoaXMuX0E7XG4gICAgICAgIGNvbnN0IEsgPSB0aGlzLl9LO1xuICAgICAgICBjb25zdCBtZWRvaWRzID0gdGhpcy5fY2x1c3Rlcl9tZWRvaWRzO1xuICAgICAgICBjb25zdCBjYWNoZSA9IEEubWFwKCh4X28sIG8pID0+IHRoaXMuX25lYXJlc3RfbWVkb2lkKHhfbywgbykpO1xuICAgICAgICAvLyBlbXB0eSBiZXN0IGNhbmRpZGF0ZXMgYXJyYXlcbiAgICAgICAgY29uc3QgRGVsdGFURCA9IG5ldyBBcnJheShLKS5maWxsKDApO1xuICAgICAgICBjb25zdCB4cyA9IG5ldyBBcnJheShLKS5maWxsKG51bGwpO1xuICAgICAgICBBLmZvckVhY2goKHhfaiwgaikgPT4ge1xuICAgICAgICAgICAgaWYgKG1lZG9pZHMuZmluZEluZGV4KG0gPT4gbSA9PT0gaikgPCAwKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZF9qID0gY2FjaGVbal0uZGlzdGFuY2VfbmVhcmVzdDsgLy8gZGlzdGFuY2UgdG8gY3VycmVudCBtZWRvaWRcbiAgICAgICAgICAgICAgICBjb25zdCBkZWx0YVREID0gbmV3IEFycmF5KEspLmZpbGwoLWRfaik7IC8vIGNoYW5nZSBpZiBtYWtpbmcgaiBhIG1lZG9pZFxuICAgICAgICAgICAgICAgIEEuZm9yRWFjaCgoeF9vLCBvKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChqID09PSBvKSByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRfb2ogPSB0aGlzLl9nZXRfZGlzdGFuY2UobywgaiwgeF9vLCB4X2opOyAvLyBkaXN0YW5jZSB0byBuZXcgbWVkb2lkXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHtcImluZGV4X25lYXJlc3RcIjogbiwgXCJkaXN0YW5jZV9uZWFyZXN0XCI6IGRfbiwgXCJkaXN0YW5jZV9zZWNvbmRcIjogZF9zfSA9IGNhY2hlW29dOyAvLyBjYWNoZWRcbiAgICAgICAgICAgICAgICAgICAgZGVsdGFURFtuXSArPSBNYXRoLm1pbihkX29qLCBkX3MpIC0gZF9uOyAvLyBsb3NzIGNoYW5nZSBmb3IgeF9vXG4gICAgICAgICAgICAgICAgICAgIC8vIFJlYXNzaWdubWVudCBjaGVja1xuICAgICAgICAgICAgICAgICAgICBpZiAoZF9vaiA8IGRfbikgeyBcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHVwZGF0ZSBsb3NzIGNoYW5nZVxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBLOyArK2kpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSAhPT0gbikgZGVsdGFURFtpXSArPSBkX29qIC0gZF9uO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgLy8gcmVtZW1iZXIgYmVzdCBzd2FwIGZvciBpO1xuICAgICAgICAgICAgICAgIGRlbHRhVERcbiAgICAgICAgICAgICAgICAgICAgLm1hcCgoZCwgaSkgPT4gW2QsIGldKVxuICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKChbZCwgaV0pID0+IGQgPCBEZWx0YVREW2ldKVxuICAgICAgICAgICAgICAgICAgICAuZm9yRWFjaCgoW2QsIGldKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZCA8IERlbHRhVERbaV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWx0YVREW2ldID0gZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB4c1tpXSA9IGo7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIC8vIHN0b3AgaWYgbm8gaW1wcm92ZW1lbnRzIHdlcmUgZm91bmRcbiAgICAgICAgaWYgKG1pbihEZWx0YVREKSA+PSAwKSByZXR1cm4gdHJ1ZTsgXG5cbiAgICAgICAgLy8gZXhlY3V0ZSBhbGwgaW1wcm92ZW1lbnRzXG4gICAgICAgIHdoaWxlIChtaW4oRGVsdGFURCkgPCAwKSB7XG4gICAgICAgICAgICAvLyBzd2FwIHJvbGVzIG9mIG1lZG9pZCBtX2kgYW5kIG5vbl9tZWRvaWQgeHNfaVxuICAgICAgICAgICAgY29uc3QgaSA9IERlbHRhVERcbiAgICAgICAgICAgICAgICAubWFwKChkLCBpKSA9PiBbZCwgaV0pXG4gICAgICAgICAgICAgICAgLnNvcnQoKFthXSwgW2JdKSA9PiBhIC0gYilbMF1bMV07XG4gICAgICAgICAgICBpZiAobWVkb2lkcy5maWx0ZXIobSA9PiBtID09IHhzW2ldKS5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgICAgIG1lZG9pZHNbaV0gPSB4c1tpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGRpc2FibGUgdGhlIHN3YXAganVzdCBwZXJmb3JtZWRcbiAgICAgICAgICAgIERlbHRhVERbaV0gPSAwOyBcbiAgICAgICAgICAgIC8vIHJlY29tcHV0ZSBURCBmb3IgcmVtYWluaW5nIHN3YXAgY2FuZGlkYXRlc1xuICAgICAgICAgICAgRGVsdGFURFxuICAgICAgICAgICAgICAgIC5tYXAoKGRfaiwgaikgPT4gW2Rfaiwgal0pXG4gICAgICAgICAgICAgICAgLmZpbHRlcigoW2Rfal0pID0+IGRfaiA8IDApXG4gICAgICAgICAgICAgICAgLmZvckVhY2goKFtfLCBqXSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB4X2ogPSBBW2pdO1xuICAgICAgICAgICAgICAgICAgICBsZXQgc3VtID0gMDtcbiAgICAgICAgICAgICAgICAgICAgQS5mb3JFYWNoKCh4X28sIG8pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZWRvaWRzLmZpbmRJbmRleChtID0+IG0gIT0gaiAmJiBtID09IG8pID49IDApIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpID09IGopIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjYWNoZVtvXS5pbmRleF9uZWFyZXN0ID09PSBtZWRvaWRzW2pdKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1bSArPSAoTWF0aC5taW4odGhpcy5fZ2V0X2Rpc3RhbmNlKG8sIGosIHhfbywgeF9qKSwgY2FjaGVbb10uZGlzdGFuY2Vfc2Vjb25kKSAtIGNhY2hlW29dLmRpc3RhbmNlX25lYXJlc3QpOyBcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1bSArPSAoTWF0aC5taW4odGhpcy5fZ2V0X2Rpc3RhbmNlKG8sIGosIHhfbywgeF9qKSAtIGNhY2hlW29dLmRpc3RhbmNlX25lYXJlc3QsIDApKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIERlbHRhVERbal0gPSBzdW07XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9jbHVzdGVyX21lZG9pZHMgPSBtZWRvaWRzO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgX2dldF9kaXN0YW5jZShpLCBqLCB4X2k9bnVsbCwgeF9qPW51bGwpIHtcbiAgICAgICAgaWYgKGkgPT09IGopIHJldHVybiAwO1xuICAgICAgICBjb25zdCBEID0gdGhpcy5fZGlzdGFuY2VfbWF0cml4O1xuICAgICAgICBjb25zdCBBID0gdGhpcy5fQTtcbiAgICAgICAgY29uc3QgbWV0cmljID0gdGhpcy5fbWV0cmljO1xuICAgICAgICBsZXQgZF9paiA9IEQuZW50cnkoaSwgaik7XG4gICAgICAgIGlmIChkX2lqID09PSAwKSB7XG4gICAgICAgICAgICBkX2lqID0gbWV0cmljKHhfaSB8fCBBW2ldLCB4X2ogfHwgQVtqXSk7XG4gICAgICAgICAgICBELnNldF9lbnRyeShpLCBqLCBkX2lqKTtcbiAgICAgICAgICAgIEQuc2V0X2VudHJ5KGosIGksIGRfaWopO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkX2lqO1xuICAgIH1cblxuICAgIF9uZWFyZXN0X21lZG9pZCh4X2osIGopIHtcbiAgICAgICAgY29uc3QgbWVkb2lkcyA9IHRoaXMuX2NsdXN0ZXJfbWVkb2lkcztcbiAgICAgICAgY29uc3QgQSA9IHRoaXMuX0E7XG4gICAgICAgIGNvbnN0IFtuZWFyZXN0LCBzZWNvbmRdID0gbWVkb2lkc1xuICAgICAgICAgICAgLm1hcCgobSwgaSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHhfbSA9IEFbbV07IFxuICAgICAgICAgICAgICAgIHJldHVybiBbdGhpcy5fZ2V0X2Rpc3RhbmNlKGosIG0sIHhfaiwgeF9tKSwgaV07XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLnNvcnQoKG0xLCBtMikgPT4gbTFbMF0gLSBtMlswXSk7XG4gICAgICAgIFxuICAgICAgICByZXR1cm4geyBcbiAgICAgICAgICAgIFwiZGlzdGFuY2VfbmVhcmVzdFwiOiBuZWFyZXN0WzBdLCBcbiAgICAgICAgICAgIFwiaW5kZXhfbmVhcmVzdFwiOiBuZWFyZXN0WzFdLFxuICAgICAgICAgICAgXCJkaXN0YW5jZV9zZWNvbmRcIjogc2Vjb25kWzBdLFxuICAgICAgICAgICAgXCJpbmRleF9zZWNvbmRcIjogc2Vjb25kWzFdLFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbXB1dGVzIHtAbGluayBLfSBjbHVzdGVycyBvdXQgb2YgdGhlIHtAbGluayBtYXRyaXh9LlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBLIC0gbnVtYmVyIG9mIGNsdXN0ZXJzLlxuICAgICAqL1xuICAgIGluaXQoSywgY2x1c3Rlcl9tZWRvaWRzKSB7XG4gICAgICAgIGlmICghSykgSyA9IHRoaXMuX0s7XG4gICAgICAgIGlmICghY2x1c3Rlcl9tZWRvaWRzKSBjbHVzdGVyX21lZG9pZHMgPSB0aGlzLl9nZXRfcmFuZG9tX21lZG9pZHMoSyk7XG4gICAgICAgIGNvbnN0IG1heF9pdGVyID0gdGhpcy5fbWF4X2l0ZXI7XG4gICAgICAgIGxldCBmaW5pc2ggPSBmYWxzZTtcbiAgICAgICAgbGV0IGkgPSAwXG4gICAgICAgIGRvIHtcbiAgICAgICAgICAgIGZpbmlzaCA9IHRoaXMuX2l0ZXJhdGlvbigpO1xuICAgICAgICB9IHdoaWxlICghZmluaXNoICYmICsraSA8IG1heF9pdGVyKVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBbGdvcml0aG0gMy4gRmFzdFBBTSBMQUI6IExpbmVhciBBcHByb3hpbWF0ZSBCVUlMRCBpbml0aWFsaXphdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gSyAtIG51bWJlciBvZiBjbHVzdGVyc1xuICAgICAqIFxuICAgICAqL1xuICAgIF9nZXRfcmFuZG9tX21lZG9pZHMoSykge1xuICAgICAgICBjb25zdCBOID0gdGhpcy5fTjtcbiAgICAgICAgY29uc3QgQSA9IHRoaXMuX0E7XG4gICAgICAgIGNvbnN0IGluZGljZXMgPSBsaW5zcGFjZSgwLCBOIC0gMSk7XG4gICAgICAgIGNvbnN0IHJhbmRvbWl6ZXIgPSB0aGlzLl9yYW5kb21pemVyO1xuICAgICAgICBjb25zdCBuID0gTWF0aC5taW4oTiwgMTAgKyBNYXRoLmNlaWwoTWF0aC5zcXJ0KE4pKSk7XG4gICAgICAgIGNvbnN0IFREID0gbmV3IEFycmF5KG4pLmZpbGwoSW5maW5pdHkpO1xuICAgICAgICBjb25zdCBtZWRvaWRzID0gW107XG4gICAgICAgIC8vIGZpcnN0IG1lZG9pZFxuICAgICAgICBsZXQgVEQwID0gSW5maW5pdHk7XG4gICAgICAgIGxldCBTID0gcmFuZG9taXplci5jaG9pY2UoaW5kaWNlcywgbik7XG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgbjsgKytqKSB7XG4gICAgICAgICAgICBjb25zdCBTX2ogPSBTW2pdO1xuICAgICAgICAgICAgY29uc3QgeF9qID0gQVtTX2pdO1xuICAgICAgICAgICAgZm9yIChsZXQgbyA9IDA7IG8gPCBuOyArK28pIHtcbiAgICAgICAgICAgICAgICBpZiAobyA9PT0gaikgY29udGludWU7XG4gICAgICAgICAgICAgICAgY29uc3QgeF9vID0gQVtTW29dXTtcbiAgICAgICAgICAgICAgICBURFtqXSArPSB0aGlzLl9nZXRfZGlzdGFuY2UoaiwgbywgeF9qLCB4X28pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKFREW2pdIDwgVEQwKSB7XG4gICAgICAgICAgICAgICAgVEQwID0gVERbal07IC8vIHNtYWxsZXN0IGRpc3RhbmNlIHN1bVxuICAgICAgICAgICAgICAgIG1lZG9pZHMucHVzaChTX2opO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIG90aGVyIG1lZG9pZHNcbiAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCBLOyArK2kpIHtcbiAgICAgICAgICAgIGxldCBEZWx0YVREID0gSW5maW5pdHk7XG4gICAgICAgICAgICBTID0gcmFuZG9taXplci5jaG9pY2UoaW5kaWNlcy5maWx0ZXIoaW5kZXggPT4gbWVkb2lkcy5maW5kSW5kZXgoZCA9PiBkID09PSBpbmRleCkgPCAwKSwgbik7XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IG47ICsraikge1xuICAgICAgICAgICAgICAgIGxldCBkZWx0YVREID0gMDtcbiAgICAgICAgICAgICAgICBjb25zdCBTX2ogPSBTW2pdO1xuICAgICAgICAgICAgICAgIGNvbnN0IHhfaiA9IEFbU19qXTtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBvID0gMDsgbyA8IG47ICsrbykge1xuICAgICAgICAgICAgICAgICAgICBpZiAobyA9PT0gaikgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IFNfbyA9IFNbb107XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHhfbyA9IEFbU19vXTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGRlbHRhID0gdGhpcy5fZ2V0X2Rpc3RhbmNlKFNfaiwgU19vLCB4X2osIHhfbykgLSBtaW4obWVkb2lkcy5tYXAobSA9PiB0aGlzLl9nZXRfZGlzdGFuY2UoU19vLCBtLCB4X28pKSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkZWx0YSA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbHRhVEQgPSBkZWx0YVREICsgZGVsdGE7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gYmVzdCByZWR1Y3Rpb25cbiAgICAgICAgICAgICAgICBpZiAoZGVsdGFURCA8IERlbHRhVEQpIHtcbiAgICAgICAgICAgICAgICAgICAgRGVsdGFURCA9IGRlbHRhVEQ7XG4gICAgICAgICAgICAgICAgICAgIG1lZG9pZHMucHVzaChTX2opO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFREMCArPSBEZWx0YVREO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZWRvaWRzLnNsaWNlKDAsIEspO1xuICAgIH1cbiAgICBcbn1cbiIsImltcG9ydCB7IE1hdHJpeCB9IGZyb20gXCIuLi9tYXRyaXgvaW5kZXguanNcIjtcbmltcG9ydCB7IGV1Y2xpZGVhbiB9IGZyb20gXCIuLi9tZXRyaWNzL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBEUiB9IGZyb20gXCIuL0RSLmpzXCI7XG4vKipcbiAqIEBjbGFzc1xuICogQGFsaWFzIEZBU1RNQVBcbiAqIEBleHRlbmRzIERSXG4gKi9cbmV4cG9ydCBjbGFzcyBGQVNUTUFQIGV4dGVuZHMgRFIge1xuICAgIC8qKlxuICAgICAqIEZhc3RNYXA6IGEgZmFzdCBhbGdvcml0aG0gZm9yIGluZGV4aW5nLCBkYXRhLW1pbmluZyBhbmQgdmlzdWFsaXphdGlvbiBvZiB0cmFkaXRpb25hbCBhbmQgbXVsdGltZWRpYSBkYXRhc2V0c1xuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBtZW1iZXJvZiBtb2R1bGU6ZGltZW5zaW9uYWxpdHlfcmVkdWN0aW9uXG4gICAgICogQGFsaWFzIEZBU1RNQVBcbiAgICAgKiBAcGFyYW0ge01hdHJpeH0gWCAtIHRoZSBoaWdoLWRpbWVuc2lvbmFsIGRhdGEuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHBhcmFtZXRlcnMgLSBPYmplY3QgY29udGFpbmluZyBwYXJhbWV0ZXJpemF0aW9uIG9mIHRoZSBEUiBtZXRob2QuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtwYXJhbWV0ZXJzLmQgPSAyXSAtIHRoZSBkaW1lbnNpb25hbGl0eSBvZiB0aGUgcHJvamVjdGlvbi5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcGFyYW1ldGVycy5tZXRyaWMgPSBldWNsaWRlYW5dIC0gdGhlIG1ldHJpYyB3aGljaCBkZWZpbmVzIHRoZSBkaXN0YW5jZSBiZXR3ZWVuIHR3byBwb2ludHMuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtwYXJhbWV0ZXJzLnNlZWQgPSAxMjEyXSAtIHRoZSBkaW1lbnNpb25hbGl0eSBvZiB0aGUgcHJvamVjdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7RkFTVE1BUH1cbiAgICAgKiBAc2VlIHtAbGluayBodHRwczovL2RvaS5vcmcvMTAuMTE0NS8yMjM3ODQuMjIzODEyfVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKFgsIHBhcmFtZXRlcnMpIHtcbiAgICAgICAgc3VwZXIoWCwgeyBkOiAyLCBtZXRyaWM6IGV1Y2xpZGVhbiwgc2VlZDogMTIxMiB9LCBwYXJhbWV0ZXJzKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hvb3NlcyB0d28gcG9pbnRzIHdoaWNoIGFyZSB0aGUgbW9zdCBkaXN0YW50IGluIHRoZSBhY3R1YWwgcHJvamVjdGlvbi5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGRpc3RcbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IEFuIGFycmF5IGNvbnNpc3Rpbmcgb2YgZmlyc3QgaW5kZXgsIHNlY29uZCBpbmRleCwgYW5kIGRpc3RhbmNlIGJldHdlZW4gdGhlIHR3byBwb2ludHMuXG4gICAgICovXG4gICAgX2Nob29zZV9kaXN0YW50X29iamVjdHMoZGlzdCkge1xuICAgICAgICBjb25zdCBYID0gdGhpcy5YO1xuICAgICAgICBjb25zdCBOID0gWC5zaGFwZVswXTtcbiAgICAgICAgbGV0IGFfaW5kZXggPSAodGhpcy5fcmFuZG9taXplci5yYW5kb21faW50ICUgTikgLSAxO1xuICAgICAgICBsZXQgYl9pbmRleCA9IG51bGw7XG4gICAgICAgIGxldCBtYXhfZGlzdCA9IC1JbmZpbml0eTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBOOyArK2kpIHtcbiAgICAgICAgICAgIGNvbnN0IGRfYWkgPSBkaXN0KGFfaW5kZXgsIGkpO1xuICAgICAgICAgICAgaWYgKGRfYWkgPiBtYXhfZGlzdCkge1xuICAgICAgICAgICAgICAgIG1heF9kaXN0ID0gZF9haTtcbiAgICAgICAgICAgICAgICBiX2luZGV4ID0gaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBtYXhfZGlzdCA9IC1JbmZpbml0eTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBOOyArK2kpIHtcbiAgICAgICAgICAgIGNvbnN0IGRfYmkgPSBkaXN0KGJfaW5kZXgsIGkpO1xuICAgICAgICAgICAgaWYgKGRfYmkgPiBtYXhfZGlzdCkge1xuICAgICAgICAgICAgICAgIG1heF9kaXN0ID0gZF9iaTtcbiAgICAgICAgICAgICAgICBhX2luZGV4ID0gaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW2FfaW5kZXgsIGJfaW5kZXgsIG1heF9kaXN0XTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyB0aGUgcHJvamVjdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7TWF0cml4fSBUaGUge0BsaW5rIGR9LWRpbWVuc2lvbmFsIHByb2plY3Rpb24gb2YgdGhlIGRhdGEgbWF0cml4IHtAbGluayBYfS5cbiAgICAgKi9cbiAgICB0cmFuc2Zvcm0oKSB7XG4gICAgICAgIGNvbnN0IFggPSB0aGlzLlg7XG4gICAgICAgIGNvbnN0IE4gPSBYLnNoYXBlWzBdO1xuICAgICAgICBjb25zdCB7IGQsIG1ldHJpYyB9ID0gdGhpcy5fcGFyYW1ldGVycztcbiAgICAgICAgY29uc3QgWSA9IG5ldyBNYXRyaXgoTiwgZCwgMCk7XG4gICAgICAgIGxldCBkaXN0ID0gKGEsIGIpID0+IG1ldHJpYyhYLnJvdyhhKSwgWC5yb3coYikpO1xuXG4gICAgICAgIGZvciAobGV0IF9jb2wgPSAwOyBfY29sIDwgZDsgKytfY29sKSB7XG4gICAgICAgICAgICBsZXQgb2xkX2Rpc3QgPSBkaXN0O1xuICAgICAgICAgICAgLy8gY2hvb3NlIHBpdm90IG9iamVjdHNcbiAgICAgICAgICAgIGNvbnN0IFthX2luZGV4LCBiX2luZGV4LCBkX2FiXSA9IHRoaXMuX2Nob29zZV9kaXN0YW50X29iamVjdHMoZGlzdCk7XG4gICAgICAgICAgICBpZiAoZF9hYiAhPT0gMCkge1xuICAgICAgICAgICAgICAgIC8vIHByb2plY3QgdGhlIG9iamVjdHMgb24gdGhlIGxpbmUgKE9fYSwgT19iKVxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgTjsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRfYWkgPSBkaXN0KGFfaW5kZXgsIGkpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBkX2JpID0gZGlzdChiX2luZGV4LCBpKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeV9pID0gKGRfYWkgKiogMiArIGRfYWIgKiogMiAtIGRfYmkgKiogMikgLyAoMiAqIGRfYWIpO1xuICAgICAgICAgICAgICAgICAgICBZLnNldF9lbnRyeShpLCBfY29sLCB5X2kpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBjb25zaWRlciB0aGUgcHJvamVjdGlvbnMgb2YgdGhlIG9iamVjdHMgb24gYVxuICAgICAgICAgICAgICAgIC8vIGh5cGVycGxhbmUgcGVycGVuZGljbHVhciB0byB0aGUgbGluZSAoYSwgYik7XG4gICAgICAgICAgICAgICAgLy8gdGhlIGRpc3RhbmNlIGZ1bmN0aW9uIEQnKCkgYmV0d2VlbiB0d29cbiAgICAgICAgICAgICAgICAvLyBwcm9qZWN0aW9ucyBpcyBnaXZlbiBieSBFcS40XG4gICAgICAgICAgICAgICAgZGlzdCA9IChhLCBiKSA9PiBNYXRoLnNxcnQob2xkX2Rpc3QoYSwgYikgKiogMiAtIChZLmVudHJ5KGEsIF9jb2wpIC0gWS5lbnRyeShiLCBfY29sKSkgKiogMik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gcmV0dXJuIGVtYmVkZGluZy5cbiAgICAgICAgdGhpcy5ZID0gWTtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvamVjdGlvbjtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBzaW11bHRhbmVvdXNfcG93ZXJpdGVyYXRpb24gfSBmcm9tIFwiLi4vbGluZWFyX2FsZ2VicmEvaW5kZXguanNcIjtcbmltcG9ydCB7IE1hdHJpeCB9IGZyb20gXCIuLi9tYXRyaXgvaW5kZXguanNcIjtcbmltcG9ydCB7IEhlYXAgfSBmcm9tIFwiLi4vZGF0YXN0cnVjdHVyZS9pbmRleC5qc1wiO1xuaW1wb3J0IHsgRFIgfSBmcm9tIFwiLi9EUi5qc1wiO1xuaW1wb3J0IGV1Y2xpZGVhbiBmcm9tIFwiLi4vbWV0cmljcy9ldWNsaWRlYW4uanNcIjtcblxuLyoqXG4gKiBAY2xhc3NcbiAqIEBhbGlhcyBJU09NQVBcbiAqIEBleHRlbmRzIERSXG4gKi9cbmV4cG9ydCBjbGFzcyBJU09NQVAgZXh0ZW5kcyBEUiB7XG4gICAgLyoqXG4gICAgICogSXNvbWV0cmljIGZlYXR1cmUgbWFwcGluZyAoSVNPTUFQKS5cbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAbWVtYmVyb2YgbW9kdWxlOmRpbWVuc2lvbmFsaXR5X3JlZHVjdGlvblxuICAgICAqIEBhbGlhcyBJU09NQVBcbiAgICAgKiBAcGFyYW0ge01hdHJpeH0gWCAtIHRoZSBoaWdoLWRpbWVuc2lvbmFsIGRhdGEuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHBhcmFtZXRlcnMgLSBPYmplY3QgY29udGFpbmluZyBwYXJhbWV0ZXJpemF0aW9uIG9mIHRoZSBEUiBtZXRob2QuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHBhcmFtZXRlcnMubmVpZ2hib3JzIC0gdGhlIG51bWJlciBvZiBuZWlnaGJvcnMge0BsaW5rIElTT01BUH0gc2hvdWxkIHVzZSB0byBwcm9qZWN0IHRoZSBkYXRhLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbcGFyYW1ldGVycy5kID0gMl0gLSB0aGUgZGltZW5zaW9uYWxpdHkgb2YgdGhlIHByb2plY3Rpb24uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3BhcmFtZXRlcnMubWV0cmljID0gZXVjbGlkZWFuXSAtIHRoZSBtZXRyaWMgd2hpY2ggZGVmaW5lcyB0aGUgZGlzdGFuY2UgYmV0d2VlbiB0d28gcG9pbnRzLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbcGFyYW1ldGVycy5zZWVkID0gMTIxMl0gLSB0aGUgc2VlZCBmb3IgdGhlIHJhbmRvbSBudW1iZXIgZ2VuZXJhdG9yLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbcGFyYW1ldGVycy5laWdfYXJnc10gLSBQYXJhbWV0ZXJzIGZvciB0aGUgZWlnZW5kZWNvbXBvc2l0aW9uIGFsZ29yaXRobS5cbiAgICAgKiBAc2VlIHtAbGluayBodHRwczovL2RvaS5vcmcvMTAuMTEyNi9zY2llbmNlLjI5MC41NTAwLjIzMTl9XG4gICAgICovXG4gICAgY29uc3RydWN0b3IoWCwgcGFyYW1ldGVycykge1xuICAgICAgICBzdXBlcihYLCB7IG5laWdoYm9yczogdW5kZWZpbmVkLCBkOiAyLCBtZXRyaWM6IGV1Y2xpZGVhbiwgc2VlZDogMTIxMiwgZWlnX2FyZ3M6IHt9IH0sIHBhcmFtZXRlcnMpO1xuICAgICAgICB0aGlzLnBhcmFtZXRlcihcIm5laWdoYm9yc1wiLCBNYXRoLm1pbih0aGlzLl9wYXJhbWV0ZXJzLm5laWdoYm9ycyA/PyBNYXRoLm1heChNYXRoLmZsb29yKHRoaXMuWC5zaGFwZVswXSAvIDEwKSwgMiksIHRoaXMuX04gLSAxKSk7XG4gICAgICAgIGlmICghdGhpcy5fcGFyYW1ldGVycy5laWdfYXJncy5oYXNPd25Qcm9wZXJ0eShcInNlZWRcIikpIHtcbiAgICAgICAgICAgIHRoaXMuX3BhcmFtZXRlcnMuZWlnX2FyZ3Muc2VlZCA9IHRoaXMuX3JhbmRvbWl6ZXI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29tcHV0ZXMgdGhlIHByb2plY3Rpb24uXG4gICAgICogQHJldHVybnMge01hdHJpeH0gUmV0dXJucyB0aGUgcHJvamVjdGlvbi5cbiAgICAgKi9cbiAgICB0cmFuc2Zvcm0oKSB7XG4gICAgICAgIHRoaXMuY2hlY2tfaW5pdCgpO1xuICAgICAgICBjb25zdCBYID0gdGhpcy5YO1xuICAgICAgICBjb25zdCByb3dzID0gdGhpcy5fTjtcbiAgICAgICAgY29uc3QgeyBkLCBtZXRyaWMsIGVpZ19hcmdzLCBuZWlnaGJvcnMgfSA9IHRoaXMuX3BhcmFtZXRlcnM7XG4gICAgICAgIC8vIFRPRE86IG1ha2Uga25uIGV4dGVybiBhbmQgcGFyYW1ldGVyIGZvciBjb25zdHJ1Y3RvciBvciB0cmFuc2Zvcm0/XG4gICAgICAgIGNvbnN0IEQgPSBuZXcgTWF0cml4KCk7XG4gICAgICAgIEQuc2hhcGUgPSBbcm93cywgcm93cywgKGksIGopID0+IChpIDw9IGogPyBtZXRyaWMoWC5yb3coaSksIFgucm93KGopKSA6IEQuZW50cnkoaiwgaSkpXTtcbiAgICAgICAgY29uc3Qga05lYXJlc3ROZWlnaGJvcnMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByb3dzOyArK2kpIHtcbiAgICAgICAgICAgIGNvbnN0IHJvdyA9IFtdO1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCByb3dzOyArK2opIHtcbiAgICAgICAgICAgICAgICByb3cucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIGluZGV4OiBqLFxuICAgICAgICAgICAgICAgICAgICBkaXN0YW5jZTogRC5lbnRyeShpLCBqKSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IEggPSBuZXcgSGVhcChyb3csIChkKSA9PiBkLmRpc3RhbmNlLCBcIm1pblwiKTtcbiAgICAgICAgICAgIGtOZWFyZXN0TmVpZ2hib3JzLnB1c2goSC50b0FycmF5KCkuc2xpY2UoMSwgbmVpZ2hib3JzICsgMSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgLypEID0gZGlqa3N0cmEoa05lYXJlc3ROZWlnaGJvcnMpOyovXG4gICAgICAgIC8vIGNvbXB1dGUgc2hvcnRlc3QgcGF0aHNcbiAgICAgICAgLy8gVE9ETzogbWFrZSBleHRlcm5cbiAgICAgICAgLyoqIEBzZWUge0BsaW5rIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0Zsb3lkJUUyJTgwJTkzV2Fyc2hhbGxfYWxnb3JpdGhtfSAqL1xuICAgICAgICBjb25zdCBHID0gbmV3IE1hdHJpeChyb3dzLCByb3dzLCAoaSwgaikgPT4ge1xuICAgICAgICAgICAgY29uc3Qgb3RoZXIgPSBrTmVhcmVzdE5laWdoYm9yc1tpXS5maW5kKChuKSA9PiBuLmluZGV4ID09PSBqKTtcbiAgICAgICAgICAgIHJldHVybiBvdGhlciA/IG90aGVyLmRpc3RhbmNlIDogSW5maW5pdHk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcm93czsgKytpKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHJvd3M7ICsraikge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGsgPSAwOyBrIDwgcm93czsgKytrKSB7XG4gICAgICAgICAgICAgICAgICAgIEcuc2V0X2VudHJ5KGksIGosIE1hdGgubWluKEcuZW50cnkoaSwgaiksIEcuZW50cnkoaSwgaykgKyBHLmVudHJ5KGssIGopKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGFpXyA9IG5ldyBGbG9hdDY0QXJyYXkocm93cyk7XG4gICAgICAgIGxldCBhX2ogPSBuZXcgRmxvYXQ2NEFycmF5KHJvd3MpO1xuICAgICAgICBsZXQgYV9fID0gMDtcbiAgICAgICAgY29uc3QgQSA9IG5ldyBNYXRyaXgocm93cywgcm93cywgKGksIGopID0+IHtcbiAgICAgICAgICAgIGxldCB2YWwgPSBHLmVudHJ5KGksIGopO1xuICAgICAgICAgICAgdmFsID0gdmFsID09PSBJbmZpbml0eSA/IDAgOiB2YWw7XG4gICAgICAgICAgICBhaV9baV0gKz0gdmFsO1xuICAgICAgICAgICAgYV9qW2pdICs9IHZhbDtcbiAgICAgICAgICAgIGFfXyArPSB2YWw7XG4gICAgICAgICAgICByZXR1cm4gdmFsO1xuICAgICAgICB9KTtcblxuICAgICAgICBhaV8gPSBhaV8ubWFwKCh2KSA9PiB2IC8gcm93cyk7XG4gICAgICAgIGFfaiA9IGFfai5tYXAoKHYpID0+IHYgLyByb3dzKTtcbiAgICAgICAgYV9fIC89IHJvd3MgKiogMjtcbiAgICAgICAgY29uc3QgQiA9IG5ldyBNYXRyaXgocm93cywgcm93cywgKGksIGopID0+IEEuZW50cnkoaSwgaikgLSBhaV9baV0gLSBhX2pbal0gKyBhX18pO1xuXG4gICAgICAgIC8vIGNvbXB1dGUgZCBlaWdlbnZlY3RvcnNcbiAgICAgICAgY29uc3QgeyBlaWdlbnZlY3RvcnM6IFYgfSA9IHNpbXVsdGFuZW91c19wb3dlcml0ZXJhdGlvbihCLCBkLCBlaWdfYXJncyk7XG4gICAgICAgIHRoaXMuWSA9IE1hdHJpeC5mcm9tKFYpLnRyYW5zcG9zZSgpO1xuICAgICAgICAvLyByZXR1cm4gZW1iZWRkaW5nXG4gICAgICAgIHJldHVybiB0aGlzLnByb2plY3Rpb247XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgZXVjbGlkZWFuIH0gZnJvbSBcIi4uL21ldHJpY3MvaW5kZXguanNcIjtcbmltcG9ydCB7IFJhbmRvbWl6ZXIgfSBmcm9tIFwiLi4vdXRpbC9pbmRleC5qc1wiO1xuaW1wb3J0IHsgSGVhcCB9IGZyb20gXCIuLi9kYXRhc3RydWN0dXJlL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBsaW5zcGFjZSB9IGZyb20gXCIuLi9tYXRyaXgvaW5kZXguanNcIjtcblxuLyoqXG4gKiBAY2xhc3NcbiAqIEBhbGlhcyBLTWVhbnNcbiAqL1xuZXhwb3J0IGNsYXNzIEtNZWFucyB7XG4gICAgLyoqXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQG1lbWJlcm9mIG1vZHVsZTpjbHVzdGVyaW5nXG4gICAgICogQGFsaWFzIEtNZWFuc1xuICAgICAqIEB0b2RvIG5lZWRzIHJlc3RydWN0dXJpbmcuIFxuICAgICAqIEBwYXJhbSB7TWF0cml4fSBtYXRyaXggXG4gICAgICogQHBhcmFtIHtOdW1iZXJzfSBLIFxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFttZXRyaWMgPSBldWNsaWRlYW5dIFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbc2VlZCA9IDE5ODddXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbaW5pdCA9IHRydWVdXG4gICAgICogQHJldHVybnMge0tNZWFuc31cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihtYXRyaXgsIEssIG1ldHJpYyA9IGV1Y2xpZGVhbiwgc2VlZD0xOTg3LCBpbml0ID0gdHJ1ZSkge1xuICAgICAgICB0aGlzLl9tZXRyaWMgPSBtZXRyaWM7XG4gICAgICAgIHRoaXMuX21hdHJpeCA9IG1hdHJpeDtcbiAgICAgICAgdGhpcy5fSyA9IEs7XG4gICAgICAgIGNvbnN0IFtOLCBEXSA9IG1hdHJpeC5zaGFwZTtcbiAgICAgICAgdGhpcy5fTiA9IE47XG4gICAgICAgIHRoaXMuX0QgPSBEO1xuICAgICAgICBpZiAoSyA+IE4pIEsgPSBOO1xuICAgICAgICB0aGlzLl9yYW5kb21pemVyID0gbmV3IFJhbmRvbWl6ZXIoc2VlZCk7XG4gICAgICAgIHRoaXMuX2NsdXN0ZXJzID0gbmV3IEFycmF5KE4pLmZpbGwodW5kZWZpbmVkKTtcbiAgICAgICAgdGhpcy5fY2x1c3Rlcl9jZW50cm9pZHMgPSB0aGlzLl9nZXRfcmFuZG9tX2NlbnRyb2lkcyhLKTtcbiAgICAgICAgaWYgKGluaXQpIHRoaXMuaW5pdChLLCB0aGlzLl9jbHVzdGVyX2NlbnRyb2lkcyk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEByZXR1cm5zIHtBcnJheTxBcnJheT59IC0gQXJyYXkgb2YgY2x1c3RlcnMgd2l0aCB0aGUgaW5kaWNlcyBvZiB0aGUgcm93cyBpbiBnaXZlbiB7QGxpbmsgbWF0cml4fS4gXG4gICAgICovXG4gICAgZ2V0X2NsdXN0ZXJzKCkge1xuICAgICAgICBjb25zdCBLID0gdGhpcy5fSztcbiAgICAgICAgY29uc3QgY2x1c3RlcnMgPSB0aGlzLl9jbHVzdGVycztcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gbmV3IEFycmF5KEspLmZpbGwoKS5tYXAoKCkgPT4gbmV3IEFycmF5KCkpO1xuICAgICAgICBjbHVzdGVycy5mb3JFYWNoKChjLCBpKSA9PiByZXN1bHRbY10ucHVzaChpKSk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBwb2ludHMgXG4gICAgICogQHBhcmFtIHtBcnJheX0gY2FuZGlkYXRlcyBcbiAgICAgKi9cbiAgICBfZnVydGhlc3RfcG9pbnQocG9pbnRzLCBjYW5kaWRhdGVzKSB7XG4gICAgICAgIGNvbnN0IEEgPSB0aGlzLl9tYXRyaXg7XG4gICAgICAgIGNvbnN0IG1ldHJpYyA9IHRoaXMuX21ldHJpYztcbiAgICAgICAgbGV0IGkgPSBwb2ludHMubGVuZ3RoO1xuICAgICAgICBsZXQgSCA9IEhlYXAuaGVhcGlmeShcbiAgICAgICAgICAgIGNhbmRpZGF0ZXMsIFxuICAgICAgICAgICAgKGQpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBBZCA9IEEucm93KGQpXG4gICAgICAgICAgICAgICAgbGV0IHN1bSA9IDA7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBpOyArK2opIHtcbiAgICAgICAgICAgICAgICAgICAgc3VtICs9IG1ldHJpYyhBZCwgcG9pbnRzW2pdKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gc3VtO1xuICAgICAgICAgICAgfSwgXG4gICAgICAgICAgICBcIm1heFwiXG4gICAgICAgIClcbiAgICAgICAgcmV0dXJuIEgucG9wKCkuZWxlbWVudDtcbiAgICB9XG5cbiAgICBfZ2V0X3JhbmRvbV9jZW50cm9pZHMoSykge1xuICAgICAgICBjb25zdCBOID0gdGhpcy5fTjtcbiAgICAgICAgY29uc3QgcmFuZG9taXplciA9IHRoaXMuX3JhbmRvbWl6ZXI7XG4gICAgICAgIGNvbnN0IEEgPSB0aGlzLl9tYXRyaXg7XG4gICAgICAgIGNvbnN0IGNsdXN0ZXJfY2VudHJvaWRzID0gbmV3IEFycmF5KEspLmZpbGwoKVxuICAgICAgICBjb25zdCBpbmRpY2VzID0gbGluc3BhY2UoMCwgTiAtIDEpO1xuICAgICAgICBjb25zdCByYW5kb21fcG9pbnQgPSByYW5kb21pemVyLnJhbmRvbV9pbnQgJSAoTiAtIDEpO1xuICAgICAgICBjbHVzdGVyX2NlbnRyb2lkc1swXSA9IEEucm93KHJhbmRvbV9wb2ludCk7XG4gICAgICAgIGNvbnN0IGluaXRfcG9pbnRzID0gW3JhbmRvbV9wb2ludF07XG4gICAgICAgIGNvbnN0IHNhbXBsZV9zaXplID0gTWF0aC5mbG9vcigoTiAtIEspIC8gSyk7Ly8gLyBLXG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgSzsgKytpKSB7XG4gICAgICAgICAgICAvLyBzYW1wbGluZyArIGttZWFucysrIGltcHJvdmVtZW50P1xuICAgICAgICAgICAgY29uc3Qgc2FtcGxlID0gcmFuZG9taXplci5jaG9pY2UoaW5kaWNlcy5maWx0ZXIoZCA9PiBpbml0X3BvaW50cy5pbmRleE9mKGQpID09IC0xKSwgc2FtcGxlX3NpemUpO1xuICAgICAgICAgICAgY29uc3QgZnVydGhlc3RfcG9pbnQgPSB0aGlzLl9mdXJ0aGVzdF9wb2ludChjbHVzdGVyX2NlbnRyb2lkcy5zbGljZSgwLCBpKSwgc2FtcGxlKTtcbiAgICAgICAgICAgIGluaXRfcG9pbnRzLnB1c2goZnVydGhlc3RfcG9pbnQpO1xuICAgICAgICAgICAgY2x1c3Rlcl9jZW50cm9pZHNbaV0gPSBBLnJvdyhmdXJ0aGVzdF9wb2ludCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNsdXN0ZXJfY2VudHJvaWRzO1xuICAgIH1cblxuICAgIF9pdGVyYXRpb24oY2x1c3Rlcl9jZW50cm9pZHMpIHtcbiAgICAgICAgY29uc3QgSyA9IGNsdXN0ZXJfY2VudHJvaWRzLmxlbmd0aDtcbiAgICAgICAgY29uc3QgTiA9IHRoaXMuX047XG4gICAgICAgIGNvbnN0IEQgPSB0aGlzLl9EO1xuICAgICAgICBjb25zdCBBID0gdGhpcy5fbWF0cml4O1xuICAgICAgICBjb25zdCBtZXRyaWMgPSB0aGlzLl9tZXRyaWM7XG4gICAgICAgIGNvbnN0IGNsdXN0ZXJzID0gdGhpcy5fY2x1c3RlcnM7XG4gICAgICAgIGxldCBjbHVzdGVyc19jaGFuZ2VkID0gZmFsc2U7XG4gICAgICAgIC8vIGZpbmQgbmVhcmVzdCBjbHVzdGVyIGNlbnRyb2lkLlxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IE47ICsraSkge1xuICAgICAgICAgICAgY29uc3QgQWkgPSBBLnJvdyhpKVxuICAgICAgICAgICAgbGV0IG1pbl9kaXN0ID0gSW5maW5pdHk7XG4gICAgICAgICAgICBsZXQgbWluX2NsdXN0ZXIgPSBudWxsO1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBLOyArK2opIHtcbiAgICAgICAgICAgICAgICBsZXQgZCA9IG1ldHJpYyhjbHVzdGVyX2NlbnRyb2lkc1tqXSwgQWkpO1xuICAgICAgICAgICAgICAgIGlmIChkIDwgbWluX2Rpc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgbWluX2Rpc3QgPSBkO1xuICAgICAgICAgICAgICAgICAgICBtaW5fY2x1c3RlciA9IGo7IFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjbHVzdGVyc1tpXSAhPT0gbWluX2NsdXN0ZXIpIHtcbiAgICAgICAgICAgICAgICBjbHVzdGVyc19jaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNsdXN0ZXJzW2ldID0gbWluX2NsdXN0ZXI7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdXBkYXRlIGNsdXN0ZXIgY2VudHJvaWRcbiAgICAgICAgLy8gcmVzZXQgY2x1c3RlciBjZW50cm9pZHMgdG8gMFxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IEs7ICsraSkge1xuICAgICAgICAgICAgY29uc3QgY2VudHJvaWQgPSBjbHVzdGVyX2NlbnRyb2lkc1tpXTtcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgRDsgKytqKSB7XG4gICAgICAgICAgICAgICAgY2VudHJvaWRbal0gPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIGNvbXB1dGUgY2VudHJvaWRcbiAgICAgICAgdGhpcy5fY29tcHV0ZV9jZW50cm9pZChjbHVzdGVyX2NlbnRyb2lkcyk7XG5cbiAgICAgICAgcmV0dXJuIHsgICBcbiAgICAgICAgICAgIFwiY2x1c3RlcnNfY2hhbmdlZFwiOiBjbHVzdGVyc19jaGFuZ2VkLFxuICAgICAgICAgICAgXCJjbHVzdGVyX2NlbnRyb2lkc1wiOiBjbHVzdGVyX2NlbnRyb2lkc1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIF9jb21wdXRlX2NlbnRyb2lkKGNsdXN0ZXJfY2VudHJvaWRzKSB7XG4gICAgICAgIGNvbnN0IEsgPSBjbHVzdGVyX2NlbnRyb2lkcy5sZW5ndGg7XG4gICAgICAgIGNvbnN0IE4gPSB0aGlzLl9OO1xuICAgICAgICBjb25zdCBEID0gdGhpcy5fRDtcbiAgICAgICAgY29uc3QgQSA9IHRoaXMuX21hdHJpeDtcbiAgICAgICAgY29uc3QgY2x1c3RlcnMgPSB0aGlzLl9jbHVzdGVycztcbiAgICAgICAgY29uc3QgY2x1c3Rlcl9jb3VudGVyID0gbmV3IEFycmF5KEspLmZpbGwoMCk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBOOyArK2kpIHtcbiAgICAgICAgICAgIGNvbnN0IEFpID0gQS5yb3coaSk7XG4gICAgICAgICAgICBjb25zdCBjaSA9IGNsdXN0ZXJzW2ldO1xuICAgICAgICAgICAgY2x1c3Rlcl9jb3VudGVyW2NpXSsrO1xuICAgICAgICAgICAgY29uc3QgY2VudHJvaWQgPSBjbHVzdGVyX2NlbnRyb2lkc1tjaV07XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IEQ7ICsraikge1xuICAgICAgICAgICAgICAgIGNlbnRyb2lkW2pdICs9IEFpW2pdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgSzsgKytpKSB7XG4gICAgICAgICAgICBjb25zdCBuID0gY2x1c3Rlcl9jb3VudGVyW2ldO1xuICAgICAgICAgICAgY2x1c3Rlcl9jZW50cm9pZHNbaV0gPSBjbHVzdGVyX2NlbnRyb2lkc1tpXS5tYXAoYyA9PiBjIC8gbik7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29tcHV0ZXMge0BsaW5rIEt9IGNsdXN0ZXJzIG91dCBvZiB0aGUge0BsaW5rIG1hdHJpeH0uXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IEsgLSBudW1iZXIgb2YgY2x1c3RlcnMuXG4gICAgICovXG4gICAgaW5pdChLLCBjbHVzdGVyX2NlbnRyb2lkcykge1xuICAgICAgICBpZiAoIUspIEsgPSB0aGlzLl9LO1xuICAgICAgICBpZiAoIWNsdXN0ZXJfY2VudHJvaWRzKSBjbHVzdGVyX2NlbnRyb2lkcyA9IHRoaXMuX2dldF9yYW5kb21fY2VudHJvaWRzKEspO1xuICAgICAgICBsZXQgY2x1c3RlcnNfY2hhbmdlZCA9IGZhbHNlO1xuICAgICAgICBkbyB7XG4gICAgICAgICAgICBjb25zdCBpdGVyYXRpb25fcmVzdWx0ID0gdGhpcy5faXRlcmF0aW9uKGNsdXN0ZXJfY2VudHJvaWRzKVxuICAgICAgICAgICAgY2x1c3Rlcl9jZW50cm9pZHMgPSBpdGVyYXRpb25fcmVzdWx0LmNsdXN0ZXJfY2VudHJvaWRzO1xuICAgICAgICAgICAgY2x1c3RlcnNfY2hhbmdlZCA9IGl0ZXJhdGlvbl9yZXN1bHQuY2x1c3RlcnNfY2hhbmdlZDtcbiAgICAgICAgfSB3aGlsZSAoY2x1c3RlcnNfY2hhbmdlZClcbiAgICB9XG4gICAgXG59XG4iLCJpbXBvcnQgeyBNYXRyaXggfSBmcm9tIFwiLi4vbWF0cml4L2luZGV4LmpzXCI7XG5pbXBvcnQgeyBzaW11bHRhbmVvdXNfcG93ZXJpdGVyYXRpb24gfSBmcm9tIFwiLi4vbGluZWFyX2FsZ2VicmEvaW5kZXguanNcIjtcbmltcG9ydCB7IERSIH0gZnJvbSBcIi4vRFIuanNcIjtcblxuLyoqXG4gKiBAY2xhc3NcbiAqIEBhbGlhcyBMREFcbiAqIEBleHRlbmRzIERSXG4gKi9cbmV4cG9ydCBjbGFzcyBMREEgZXh0ZW5kcyBEUiB7XG4gICAgLyoqXG4gICAgICogTGluZWFyIERpc2NyaW1pbmFudCBBbmFseXNpcy5cbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAbWVtYmVyb2YgbW9kdWxlOmRpbWVuc2lvbmFsaXR5X3JlZHVjdGlvblxuICAgICAqIEBhbGlhcyBMREFcbiAgICAgKiBAcGFyYW0ge01hdHJpeH0gWCAtIFRoZSBoaWdoLWRpbWVuc2lvbmFsIGRhdGEuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHBhcmFtZXRlcnMgLSBPYmplY3QgY29udGFpbmluZyBwYXJhbWV0ZXJpemF0aW9uIG9mIHRoZSBEUiBtZXRob2QuXG4gICAgICogQHBhcmFtIHtBcnJheX0gcGFyYW1ldGVycy5sYWJlbHMgLSBUaGUgbGFiZWxzIC8gY2xhc3NlcyBmb3IgZWFjaCBkYXRhIHBvaW50LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcGFyYW1ldGVycy5kID0gMl0gLSBUaGUgZGltZW5zaW9uYWxpdHkgb2YgdGhlIHByb2plY3Rpb24uXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtwYXJhbWV0ZXJzLnNlZWQgPSAxMjEyXSAtIHRoZSBzZWVkIGZvciB0aGUgcmFuZG9tIG51bWJlciBnZW5lcmF0b3IuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtwYXJhbWV0ZXJzLmVpZ19hcmdzXSAtIFBhcmFtZXRlcnMgZm9yIHRoZSBlaWdlbmRlY29tcG9zaXRpb24gYWxnb3JpdGhtLlxuICAgICAqIEBzZWUge0BsaW5rIGh0dHBzOi8vb25saW5lbGlicmFyeS53aWxleS5jb20vZG9pLzEwLjExMTEvai4xNDY5LTE4MDkuMTkzNi50YjAyMTM3Lnh9XG4gICAgICovXG4gICAgY29uc3RydWN0b3IoWCwgcGFyYW1ldGVycykge1xuICAgICAgICBzdXBlcihYLCB7IGxhYmVsczogbnVsbCwgZDogMiwgc2VlZDogMTIxMiwgZWlnX2FyZ3M6IHt9IH0sIHBhcmFtZXRlcnMpO1xuICAgICAgICBpZiAoIXRoaXMuX3BhcmFtZXRlcnMuZWlnX2FyZ3MuaGFzT3duUHJvcGVydHkoXCJzZWVkXCIpKSB7XG4gICAgICAgICAgICB0aGlzLl9wYXJhbWV0ZXJzLmVpZ19hcmdzLnNlZWQgPSB0aGlzLl9yYW5kb21pemVyO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRyYW5zZm9ybXMgdGhlIGlucHV0ZGF0YSB7QGxpbmsgWH0gdG8gZGltZW5pb25hbGl0eSB7QGxpbmsgZH0uXG4gICAgICovXG4gICAgdHJhbnNmb3JtKCkge1xuICAgICAgICBjb25zdCBYID0gdGhpcy5YO1xuICAgICAgICBjb25zdCBbcm93cywgY29sc10gPSBYLnNoYXBlO1xuICAgICAgICBjb25zdCB7IGQsIGxhYmVscywgZWlnX2FyZ3MgfSA9IHRoaXMuX3BhcmFtZXRlcnM7XG4gICAgICAgIGlmIChsYWJlbHMgPT09IG51bGwgfHwgbGFiZWxzLmxlbmd0aCAhPSByb3dzKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJMREEgbmVlZHMgcGFyYW1ldGVyIGxhYmVsIHRvIGV2ZXJ5IGRhdGFwb2ludCB0byB3b3JrIVwiKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB1bmlxdWVfbGFiZWxzID0ge307XG4gICAgICAgIGxldCBsYWJlbF9pZCA9IDA7XG4gICAgICAgIGxhYmVscy5mb3JFYWNoKChsLCBpKSA9PiB7XG4gICAgICAgICAgICBpZiAobCBpbiB1bmlxdWVfbGFiZWxzKSB7XG4gICAgICAgICAgICAgICAgdW5pcXVlX2xhYmVsc1tsXS5jb3VudCsrO1xuICAgICAgICAgICAgICAgIHVuaXF1ZV9sYWJlbHNbbF0ucm93cy5wdXNoKFgucm93KGkpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdW5pcXVlX2xhYmVsc1tsXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6IGxhYmVsX2lkKyssXG4gICAgICAgICAgICAgICAgICAgIGNvdW50OiAxLFxuICAgICAgICAgICAgICAgICAgICByb3dzOiBbWC5yb3coaSldLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGNyZWF0ZSBYX21lYW4gYW5kIHZlY3RvciBtZWFucztcbiAgICAgICAgY29uc3QgWF9tZWFuID0gWC5tZWFuO1xuICAgICAgICBjb25zdCBWX21lYW4gPSBuZXcgTWF0cml4KGxhYmVsX2lkLCBjb2xzKTtcbiAgICAgICAgZm9yIChjb25zdCBsYWJlbCBpbiB1bmlxdWVfbGFiZWxzKSB7XG4gICAgICAgICAgICBjb25zdCBWID0gTWF0cml4LmZyb20odW5pcXVlX2xhYmVsc1tsYWJlbF0ucm93cyk7XG4gICAgICAgICAgICBjb25zdCB2X21lYW4gPSBWLm1lYW5Db2xzO1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBjb2xzOyArK2opIHtcbiAgICAgICAgICAgICAgICBWX21lYW4uc2V0X2VudHJ5KHVuaXF1ZV9sYWJlbHNbbGFiZWxdLmlkLCBqLCB2X21lYW5bal0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIHNjYXR0ZXJfYmV0d2VlblxuICAgICAgICBsZXQgU19iID0gbmV3IE1hdHJpeChjb2xzLCBjb2xzKTtcbiAgICAgICAgZm9yIChjb25zdCBsYWJlbCBpbiB1bmlxdWVfbGFiZWxzKSB7XG4gICAgICAgICAgICBjb25zdCB2ID0gVl9tZWFuLnJvdyh1bmlxdWVfbGFiZWxzW2xhYmVsXS5pZCk7XG4gICAgICAgICAgICBjb25zdCBtID0gbmV3IE1hdHJpeChjb2xzLCAxLCAoaikgPT4gdltqXSAtIFhfbWVhbik7XG4gICAgICAgICAgICBjb25zdCBOID0gdW5pcXVlX2xhYmVsc1tsYWJlbF0uY291bnQ7XG4gICAgICAgICAgICBTX2IgPSBTX2IuYWRkKG0uZG90KG0udHJhbnNwb3NlKCkpLm11bHQoTikpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gc2NhdHRlcl93aXRoaW5cbiAgICAgICAgbGV0IFNfdyA9IG5ldyBNYXRyaXgoY29scywgY29scyk7XG4gICAgICAgIGZvciAoY29uc3QgbGFiZWwgaW4gdW5pcXVlX2xhYmVscykge1xuICAgICAgICAgICAgY29uc3QgdiA9IFZfbWVhbi5yb3codW5pcXVlX2xhYmVsc1tsYWJlbF0uaWQpO1xuICAgICAgICAgICAgY29uc3QgbSA9IG5ldyBNYXRyaXgoY29scywgMSwgKGopID0+IHZbal0pO1xuICAgICAgICAgICAgY29uc3QgUiA9IHVuaXF1ZV9sYWJlbHNbbGFiZWxdLnJvd3M7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMCwgbiA9IHVuaXF1ZV9sYWJlbHNbbGFiZWxdLmNvdW50OyBpIDwgbjsgKytpKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgcm93X3YgPSBuZXcgTWF0cml4KGNvbHMsIDEsIChqLCBfKSA9PiBSW2ldW2pdIC0gbS5lbnRyeShqLCAwKSk7XG4gICAgICAgICAgICAgICAgU193ID0gU193LmFkZChyb3dfdi5kb3Qocm93X3YudHJhbnNwb3NlKCkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGxldCB7IGVpZ2VudmVjdG9yczogViB9ID0gc2ltdWx0YW5lb3VzX3Bvd2VyaXRlcmF0aW9uKFNfdy5pbnZlcnNlKCkuZG90KFNfYiksIGQsIGVpZ19hcmdzKTtcbiAgICAgICAgViA9IE1hdHJpeC5mcm9tKFYpLnRyYW5zcG9zZSgpO1xuICAgICAgICB0aGlzLlkgPSBYLmRvdChWKTtcblxuICAgICAgICAvLyByZXR1cm4gZW1iZWRkaW5nXG4gICAgICAgIHJldHVybiB0aGlzLnByb2plY3Rpb247XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgTWF0cml4IH0gZnJvbSBcIi4uL21hdHJpeC9pbmRleC5qc1wiO1xuaW1wb3J0IHsgZXVjbGlkZWFuIH0gZnJvbSBcIi4uL21ldHJpY3MvaW5kZXguanNcIjtcbmltcG9ydCB7IHNpbXVsdGFuZW91c19wb3dlcml0ZXJhdGlvbiB9IGZyb20gXCIuLi9saW5lYXJfYWxnZWJyYS9pbmRleC5qc1wiO1xuaW1wb3J0IHsga19uZWFyZXN0X25laWdoYm9ycyB9IGZyb20gXCIuLi9tYXRyaXgvaW5kZXguanNcIjtcbmltcG9ydCB7IG5ldW1haXJfc3VtIH0gZnJvbSBcIi4uL251bWVyaWNhbC9pbmRleC5qc1wiO1xuaW1wb3J0IHsgRFIgfSBmcm9tIFwiLi9EUi5qc1wiO1xuXG4vKipcbiAqIEBjbGFzc1xuICogQGFsaWFzIExMRVxuICogQGV4dGVuZHMgRFJcbiAqL1xuZXhwb3J0IGNsYXNzIExMRSBleHRlbmRzIERSIHtcbiAgICAvKipcbiAgICAgKiBMb2NhbGx5IExpbmVhciBFbWJlZGRpbmcuXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQG1lbWJlcm9mIG1vZHVsZTpkaW1lbnNpb25hbGl0eV9yZWR1Y3Rpb25cbiAgICAgKiBAYWxpYXMgTExFXG4gICAgICogQHBhcmFtIHtNYXRyaXh9IFggLSB0aGUgaGlnaC1kaW1lbnNpb25hbCBkYXRhLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwYXJhbWV0ZXJzIC0gT2JqZWN0IGNvbnRhaW5pbmcgcGFyYW1ldGVyaXphdGlvbiBvZiB0aGUgRFIgbWV0aG9kLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBuZWlnaGJvcnMgLSB0aGUgbGFiZWwgLyBjbGFzcyBvZiBlYWNoIGRhdGEgcG9pbnQuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtkID0gMl0gLSB0aGUgZGltZW5zaW9uYWxpdHkgb2YgdGhlIHByb2plY3Rpb24uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW21ldHJpYyA9IGV1Y2xpZGVhbl0gLSB0aGUgbWV0cmljIHdoaWNoIGRlZmluZXMgdGhlIGRpc3RhbmNlIGJldHdlZW4gdHdvIHBvaW50cy5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3NlZWQgPSAxMjEyXSAtIHRoZSBkaW1lbnNpb25hbGl0eSBvZiB0aGUgcHJvamVjdGlvbi5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3BhcmFtZXRlcnMuZWlnX2FyZ3NdIC0gUGFyYW1ldGVycyBmb3IgdGhlIGVpZ2VuZGVjb21wb3NpdGlvbiBhbGdvcml0aG0uXG4gICAgICogQHNlZSB7QGxpbmsgaHR0cHM6Ly9kb2kub3JnLzEwLjExMjYvc2NpZW5jZS4yOTAuNTUwMC4yMzIzfVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKFgsIHBhcmFtZXRlcnMpIHtcbiAgICAgICAgc3VwZXIoWCwgeyBuZWlnaGJvcnM6IHVuZGVmaW5lZCwgZDogMiwgbWV0cmljOiBldWNsaWRlYW4sIHNlZWQ6IDEyMTIsIGVpZ19hcmdzOiB7fSB9LCBwYXJhbWV0ZXJzKTtcbiAgICAgICAgdGhpcy5wYXJhbWV0ZXIoXCJuZWlnaGJvcnNcIiwgTWF0aC5taW4ocGFyYW1ldGVycy5uZWlnaGJvcnMgPz8gTWF0aC5tYXgoTWF0aC5mbG9vcih0aGlzLl9OIC8gMTApLCAyKSwgdGhpcy5fTiAtIDEpKTtcbiAgICAgICAgaWYgKCF0aGlzLl9wYXJhbWV0ZXJzLmVpZ19hcmdzLmhhc093blByb3BlcnR5KFwic2VlZFwiKSkge1xuICAgICAgICAgICAgdGhpcy5fcGFyYW1ldGVycy5laWdfYXJncy5zZWVkID0gdGhpcy5fcmFuZG9taXplcjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUcmFuc2Zvcm1zIHRoZSBpbnB1dGRhdGEge0BsaW5rIFh9IHRvIGRpbWVuaW9uYWxpdHkge0BsaW5rIGR9LlxuICAgICAqL1xuICAgIHRyYW5zZm9ybSgpIHtcbiAgICAgICAgY29uc3QgWCA9IHRoaXMuWDtcbiAgICAgICAgY29uc3Qgcm93cyA9IHRoaXMuX047XG4gICAgICAgIGNvbnN0IGNvbHMgPSB0aGlzLl9EO1xuICAgICAgICBjb25zdCB7IG5laWdoYm9ycywgZCwgZWlnX2FyZ3MsIG1ldHJpYyB9ID0gdGhpcy5fcGFyYW1ldGVycztcbiAgICAgICAgY29uc3Qgbk4gPSBrX25lYXJlc3RfbmVpZ2hib3JzKFgsIG5laWdoYm9ycywgbWV0cmljKTtcbiAgICAgICAgY29uc3QgTyA9IG5ldyBNYXRyaXgobmVpZ2hib3JzLCAxLCAxKTtcbiAgICAgICAgY29uc3QgVyA9IG5ldyBNYXRyaXgocm93cywgcm93cyk7XG5cbiAgICAgICAgZm9yIChsZXQgcm93ID0gMDsgcm93IDwgcm93czsgKytyb3cpIHtcbiAgICAgICAgICAgIGNvbnN0IG5OX3JvdyA9IG5OW3Jvd107XG4gICAgICAgICAgICBjb25zdCBaID0gbmV3IE1hdHJpeChuZWlnaGJvcnMsIGNvbHMsIChpLCBqKSA9PiBYLmVudHJ5KG5OX3Jvd1tpXS5qLCBqKSAtIFguZW50cnkocm93LCBqKSk7XG4gICAgICAgICAgICBjb25zdCBDID0gWi5kb3QoWi5UKTtcbiAgICAgICAgICAgIGlmIChuZWlnaGJvcnMgPiBjb2xzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgQ190cmFjZSA9IG5ldW1haXJfc3VtKEMuZGlhZykgLyAxMDAwO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgbmVpZ2hib3JzOyArK2opIHtcbiAgICAgICAgICAgICAgICAgICAgQy5zZXRfZW50cnkoaiwgaiwgQy5lbnRyeShqLCBqKSArIENfdHJhY2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHJlY29uc3RydWN0O1xuICAgICAgICAgICAgbGV0IHcgPSBNYXRyaXguc29sdmVfQ0coQywgTywgdGhpcy5fcmFuZG9taXplcik7XG4gICAgICAgICAgICB3ID0gdy5kaXZpZGUody5zdW0pO1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBuZWlnaGJvcnM7ICsraikge1xuICAgICAgICAgICAgICAgIFcuc2V0X2VudHJ5KHJvdywgbk5fcm93W2pdLmosIHcuZW50cnkoaiwgMCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIGNvbXAgZW1iZWRkaW5nXG4gICAgICAgIGNvbnN0IEkgPSBuZXcgTWF0cml4KHJvd3MsIHJvd3MsIFwiaWRlbnRpdHlcIik7XG4gICAgICAgIGNvbnN0IElXID0gSS5zdWIoVyk7XG4gICAgICAgIGNvbnN0IE0gPSBJVy5ULmRvdChJVyk7XG4gICAgICAgIGNvbnN0IHsgZWlnZW52ZWN0b3JzOiBWIH0gPSBzaW11bHRhbmVvdXNfcG93ZXJpdGVyYXRpb24oTS5ULmludmVyc2UoKSwgZCArIDEsIGVpZ19hcmdzKTtcbiAgICAgICAgdGhpcy5ZID0gTWF0cml4LmZyb20oVi5zbGljZSgxLCAxICsgZCkpLlQ7XG5cbiAgICAgICAgLy8gcmV0dXJuIGVtYmVkZGluZ1xuICAgICAgICByZXR1cm4gdGhpcy5wcm9qZWN0aW9uO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IE1hdHJpeCB9IGZyb20gXCIuLi9tYXRyaXgvaW5kZXguanNcIjtcbmltcG9ydCB7IERSIH0gZnJvbSBcIi4vRFIuanNcIjtcbmltcG9ydCB7IE1EUyB9IGZyb20gXCIuL01EUy5qc1wiO1xuaW1wb3J0IHsgS01lZG9pZHMgfSBmcm9tIFwiLi4vY2x1c3RlcmluZy9pbmRleC5qc1wiO1xuaW1wb3J0IHsgZXVjbGlkZWFuIH0gZnJvbSBcIi4uL21ldHJpY3MvaW5kZXguanNcIjtcbmltcG9ydCB7IEJhbGxUcmVlIH0gZnJvbSBcIi4uL2tubi9pbmRleC5qc1wiO1xuLyoqXG4gKiBAY2xhc3NcbiAqIEBhbGlhcyBMU1BcbiAqIEBleHRlbmRzIERSXG4gKi9cbmV4cG9ydCBjbGFzcyBMU1AgZXh0ZW5kcyBEUiB7XG4gICAgLyoqXG4gICAgICogTGVhc3QgU3F1YXJlcyBQcm9qZWN0aW9uLlxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBtZW1iZXJvZiBtb2R1bGU6ZGltZW5zaW9uYWxpdHlfcmVkdWN0aW9uXG4gICAgICogQGFsaWFzIExTUFxuICAgICAqIEBwYXJhbSB7TWF0cml4fSBYIC0gdGhlIGhpZ2gtZGltZW5zaW9uYWwgZGF0YS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcGFyYW1ldGVycyAtIE9iamVjdCBjb250YWluaW5nIHBhcmFtZXRlcml6YXRpb24gb2YgdGhlIERSIG1ldGhvZC5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3BhcmFtZXRlcnMubmVpZ2hib3JzID0gTWF0aC5tYXgoTWF0aC5mbG9vcihOIC8gMTApLCAyKV0gLSBudW1iZXIgb2YgbmVpZ2hib3JzIHRvIGNvbnNpZGVyLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbcGFyYW1ldGVycy5jb250cm9sX3BvaW50cyA9IE1hdGguY2VpbChNYXRoLnNxcnQoTikpXSAtIG51bWJlciBvZiBjb250cm9scG9pbnRzXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtwYXJhbWV0ZXJzLmQgPSAyXSAtIHRoZSBkaW1lbnNpb25hbGl0eSBvZiB0aGUgcHJvamVjdGlvbi5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcGFyYW1ldGVycy5tZXRyaWMgPSBldWNsaWRlYW5dIC0gdGhlIG1ldHJpYyB3aGljaCBkZWZpbmVzIHRoZSBkaXN0YW5jZSBiZXR3ZWVuIHR3byBwb2ludHMuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtwYXJhbWV0ZXJzLnNlZWQgPSAxMjEyXSAtIHRoZSBzZWVkIGZvciB0aGUgcmFuZG9tIG51bWJlciBnZW5lcmF0b3IuXG4gICAgICogQHJldHVybnMge0xTUH1cbiAgICAgKiBAc2VlIHtAbGluayBodHRwczovL2llZWV4cGxvcmUuaWVlZS5vcmcvZG9jdW1lbnQvNDM3ODM3MH1cbiAgICAgKiBAdG9kbyBhY2NlcHQgcHJlY29tcHV0ZWQgZGlzdGFuY2UgbWF0cml4LlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKFgsIHBhcmFtZXRlcnMpIHtcbiAgICAgICAgc3VwZXIoWCwgeyBuZWlnaGJvcnM6IHVuZGVmaW5lZCwgY29udHJvbF9wb2ludHM6IHVuZGVmaW5lZCwgZDogMiwgbWV0cmljOiBldWNsaWRlYW4sIHNlZWQ6IDEyMTIgfSwgcGFyYW1ldGVycyk7XG4gICAgICAgIHRoaXMucGFyYW1ldGVyKFwibmVpZ2hib3JzXCIsIE1hdGgubWluKHBhcmFtZXRlcnMubmVpZ2hib3JzID8/IE1hdGgubWF4KE1hdGguZmxvb3IodGhpcy5fTiAvIDEwKSwgMiksIHRoaXMuX04gLSAxKSk7XG4gICAgICAgIHRoaXMucGFyYW1ldGVyKFwiY29udHJvbF9wb2ludHNcIiwgTWF0aC5taW4ocGFyYW1ldGVycy5jb250cm9sX3BvaW50cyA/PyBNYXRoLmNlaWwoTWF0aC5zcXJ0KHRoaXMuX04pKSwgdGhpcy5fTiAtIDEpKTtcbiAgICAgICAgdGhpcy5faXNfaW5pdGlhbGl6ZWQgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0RSfSBEUiAtIG1ldGhvZCB1c2VkIGZvciBwb3NpdGlvbiBjb250cm9sIHBvaW50cy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gRFJfcGFyYW1ldGVycyAtIE9iamVjdCBjb250YWluaW5nIHBhcmFtZXRlcnMgZm9yIHRoZSBEUiBtZXRob2Qgd2hpY2ggcHJvamVjdHMgdGhlIGNvbnRyb2wgcG9pbnRzXG4gICAgICogQHJldHVybnMge0xTUH1cbiAgICAgKi9cbiAgICBpbml0KERSID0gTURTLCBEUl9wYXJhbWV0ZXJzID0ge30sIEtOTiA9IEJhbGxUcmVlKSB7XG4gICAgICAgIGlmICh0aGlzLl9pc19pbml0aWFsaXplZCkgcmV0dXJuIHRoaXM7XG4gICAgICAgIGNvbnN0IFggPSB0aGlzLlg7XG4gICAgICAgIGNvbnN0IE4gPSB0aGlzLl9OO1xuICAgICAgICBjb25zdCBLID0gdGhpcy5wYXJhbWV0ZXIoXCJuZWlnaGJvcnNcIik7XG4gICAgICAgIGNvbnN0IGQgPSB0aGlzLnBhcmFtZXRlcihcImRcIik7XG4gICAgICAgIGNvbnN0IHNlZWQgPSB0aGlzLnBhcmFtZXRlcihcInNlZWRcIik7XG4gICAgICAgIGNvbnN0IG1ldHJpYyA9IHRoaXMucGFyYW1ldGVyKFwibWV0cmljXCIpO1xuICAgICAgICBEUl9wYXJhbWV0ZXJzID0gT2JqZWN0LmFzc2lnbih7ZCwgbWV0cmljLCBzZWVkIH0sIERSX3BhcmFtZXRlcnMpO1xuICAgICAgICBjb25zdCBuYyA9IHRoaXMucGFyYW1ldGVyKFwiY29udHJvbF9wb2ludHNcIik7XG4gICAgICAgIGNvbnN0IGNvbnRyb2xfcG9pbnRzID0gbmV3IEtNZWRvaWRzKFgsIG5jLCBudWxsLCBtZXRyaWMpLmdldF9jbHVzdGVycygpLm1lZG9pZHM7XG4gICAgICAgIGNvbnN0IEMgPSBuZXcgTWF0cml4KG5jLCBOLCBcInplcm9zXCIpO1xuICAgICAgICBjb250cm9sX3BvaW50cy5mb3JFYWNoKChjX2ksIGkpID0+IHtcbiAgICAgICAgICAgIEMuc2V0X2VudHJ5KGksIGNfaSwgMSk7XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBZX0MgPSBuZXcgRFIoTWF0cml4LmZyb20oY29udHJvbF9wb2ludHMubWFwKChjX2kpID0+IFgucm93KGNfaSkpKSwgRFJfcGFyYW1ldGVycykudHJhbnNmb3JtKCk7XG5cbiAgICAgICAgY29uc3QgWEEgPSBYLnRvMmRBcnJheTtcbiAgICAgICAgY29uc3Qga25uID0gbmV3IEtOTihYQSwgbWV0cmljKTtcbiAgICAgICAgY29uc3QgTCA9IG5ldyBNYXRyaXgoTiwgTiwgXCJJXCIpO1xuICAgICAgICBjb25zdCBhbHBoYSA9IC0xIC8gSztcbiAgICAgICAgWEEuZm9yRWFjaCgoeF9pLCBpKSA9PiB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHsgaW5kZXg6IGogfSBvZiBrbm4uc2VhcmNoKHhfaSwgSykuaXRlcmF0ZSgpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGkgPT09IGopIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIEwuc2V0X2VudHJ5KGksIGosIGFscGhhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IEEgPSBMLmNvbmNhdChDLCBcInZlcnRpY2FsXCIpO1xuXG4gICAgICAgIGNvbnN0IHogPSBuZXcgTWF0cml4KE4sIGQsIFwiemVyb3NcIik7XG4gICAgICAgIGNvbnN0IGIgPSB6LmNvbmNhdChZX0MsIFwidmVydGljYWxcIik7XG5cbiAgICAgICAgdGhpcy5fQSA9IEE7XG4gICAgICAgIHRoaXMuX2IgPSBiO1xuICAgICAgICB0aGlzLl9pc19pbml0aWFsaXplZCA9IHRydWU7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbXB1dGVzIHRoZSBwcm9qZWN0aW9uLlxuICAgICAqIEByZXR1cm5zIHtNYXRyaXh9IFJldHVybnMgdGhlIHByb2plY3Rpb24uXG4gICAgICovXG4gICAgdHJhbnNmb3JtKCkge1xuICAgICAgICB0aGlzLmNoZWNrX2luaXQoKTtcbiAgICAgICAgY29uc3QgQSA9IHRoaXMuX0E7XG4gICAgICAgIGNvbnN0IEFUID0gQS5UO1xuICAgICAgICBjb25zdCBiID0gdGhpcy5fYjtcbiAgICAgICAgY29uc3QgQVRBID0gQVQuZG90KEEpO1xuICAgICAgICBjb25zdCBBVGIgPSBBVC5kb3QoYik7XG4gICAgICAgIHRoaXMuWSA9IE1hdHJpeC5zb2x2ZV9DRyhBVEEsIEFUYiwgdGhpcy5fcmFuZG9taXplcik7XG4gICAgICAgIHJldHVybiB0aGlzLnByb2plY3Rpb247XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgTWF0cml4LCBrX25lYXJlc3RfbmVpZ2hib3JzIH0gZnJvbSBcIi4uL21hdHJpeC9pbmRleC5qc1wiO1xuaW1wb3J0IHsgZXVjbGlkZWFuIH0gZnJvbSBcIi4uL21ldHJpY3MvaW5kZXguanNcIjtcbmltcG9ydCB7IHNpbXVsdGFuZW91c19wb3dlcml0ZXJhdGlvbiB9IGZyb20gXCIuLi9saW5lYXJfYWxnZWJyYS9pbmRleC5qc1wiO1xuaW1wb3J0IHsgRFIgfSBmcm9tIFwiLi9EUi5qc1wiO1xuXG4vKipcbiAqIEBjbGFzc1xuICogQGFsaWFzIExUU0FcbiAqIEBleHRlbmRzIERSXG4gKi9cbmV4cG9ydCBjbGFzcyBMVFNBIGV4dGVuZHMgRFIge1xuICAgIC8qKlxuICAgICAqIExvY2FsIFRhbmdlbnQgU3BhY2UgQWxpZ25tZW50XG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQG1lbWJlcm9mIG1vZHVsZTpkaW1lbnNpb25hbGl0eV9yZWR1Y3Rpb25cbiAgICAgKiBAYWxpYXMgTFRTQVxuICAgICAqIEBwYXJhbSB7TWF0cml4fSBYIC0gdGhlIGhpZ2gtZGltZW5zaW9uYWwgZGF0YS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcGFyYW1ldGVycyAtIE9iamVjdCBjb250YWluaW5nIHBhcmFtZXRlcml6YXRpb24gb2YgdGhlIERSIG1ldGhvZC5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gcGFyYW1ldGVycy5uZWlnaGJvcnMgLSB0aGUgbnVtYmVyIG9mIG5laWdoYm9ycyB7QGxpbmsgTFRTQX0gc2hvdWxkIHVzZSB0byBwcm9qZWN0IHRoZSBkYXRhLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbcGFyYW1ldGVycy5kID0gMl0gLSB0aGUgZGltZW5zaW9uYWxpdHkgb2YgdGhlIHByb2plY3Rpb24uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3BhcmFtZXRlcnMubWV0cmljID0gZXVjbGlkZWFuXSAtIHRoZSBtZXRyaWMgd2hpY2ggZGVmaW5lcyB0aGUgZGlzdGFuY2UgYmV0d2VlbiB0d28gcG9pbnRzLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbcGFyYW1ldGVycy5zZWVkID0gMTIxMl0gLSB0aGUgc2VlZCBmb3IgdGhlIHJhbmRvbSBudW1iZXIgZ2VuZXJhdG9yLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbcGFyYW1ldGVycy5laWdfYXJnc10gLSBQYXJhbWV0ZXJzIGZvciB0aGUgZWlnZW5kZWNvbXBvc2l0aW9uIGFsZ29yaXRobS5cbiAgICAgKiBAc2VlIHtAbGluayBodHRwczovL2VwdWJzLnNpYW0ub3JnL2RvaS9hYnMvMTAuMTEzNy9TMTA2NDgyNzUwMjQxOTE1NH1cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihYLCBwYXJhbWV0ZXJzKSB7XG4gICAgICAgIHN1cGVyKFgsIHsgbmVpZ2hib3JzOiB1bmRlZmluZWQsIGQ6IDIsIG1ldHJpYzogZXVjbGlkZWFuLCBzZWVkOiAxMjEyLCBlaWdfYXJnczoge30gfSwgcGFyYW1ldGVycyk7XG4gICAgICAgIHRoaXMucGFyYW1ldGVyKFwibmVpZ2hib3JzXCIsIE1hdGgubWluKHBhcmFtZXRlcnMubmVpZ2hib3JzID8/IE1hdGgubWF4KE1hdGguZmxvb3IodGhpcy5fTiAvIDEwKSwgMiksIHRoaXMuX04gLSAxKSk7XG4gICAgICAgIGlmICghdGhpcy5fcGFyYW1ldGVycy5laWdfYXJncy5oYXNPd25Qcm9wZXJ0eShcInNlZWRcIikpIHtcbiAgICAgICAgICAgIHRoaXMuX3BhcmFtZXRlcnMuZWlnX2FyZ3Muc2VlZCA9IHRoaXMuX3JhbmRvbWl6ZXI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX0QgPD0gdGhpcy5wYXJhbWV0ZXIoXCJkXCIpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYERpbWVuc2lvbmFsaXR5IG9mIFggKEQgPSAke3RoaXMuX0R9KSBtdXN0IGJlIGdyZWF0ZXIgdGhhbiB0aGUgcmVxdWlyZWQgZGltZW5zaW9uYWxpdHkgb2YgdGhlIHJlc3VsdCAoZCA9ICR7dGhpcy5wYXJhbWV0ZXIoXCJkXCIpfSkhYCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVHJhbnNmb3JtcyB0aGUgaW5wdXRkYXRhIHtAbGluayBYfSB0byBkaW1lbmlvbmFsaXR5IHtAbGluayBkfS5cbiAgICAgKi9cbiAgICB0cmFuc2Zvcm0oKSB7XG4gICAgICAgIGNvbnN0IFggPSB0aGlzLlg7XG4gICAgICAgIGNvbnN0IFtyb3dzLCBEXSA9IFguc2hhcGU7XG4gICAgICAgIGNvbnN0IHsgZCwgbmVpZ2hib3JzLCBtZXRyaWMsIGVpZ19hcmdzIH0gPSB0aGlzLl9wYXJhbWV0ZXJzO1xuICAgICAgICAvLyAxLjEgZGV0ZXJtaW5lIGsgbmVhcmVzdCBuZWlnaGJvcnNcbiAgICAgICAgY29uc3Qgbk4gPSBrX25lYXJlc3RfbmVpZ2hib3JzKFgsIG5laWdoYm9ycywgbWV0cmljKTtcbiAgICAgICAgLy8gY2VudGVyIG1hdHJpeFxuICAgICAgICBjb25zdCBPID0gbmV3IE1hdHJpeChELCBELCBcImNlbnRlclwiKTtcbiAgICAgICAgY29uc3QgQiA9IG5ldyBNYXRyaXgocm93cywgcm93cywgMCk7XG5cbiAgICAgICAgZm9yIChsZXQgcm93ID0gMDsgcm93IDwgcm93czsgKytyb3cpIHtcbiAgICAgICAgICAgIC8vIDEuMiBjb21wdXRlIHRoZSBkIGxhcmdlc3QgZWlnZW52ZWN0b3JzIG9mIHRoZSBjb3JyZWxhdGlvbiBtYXRyaXhcbiAgICAgICAgICAgIGNvbnN0IElfaSA9IFtyb3csIC4uLm5OW3Jvd10ubWFwKChuKSA9PiBuLmopXTtcbiAgICAgICAgICAgIGxldCBYX2kgPSBNYXRyaXguZnJvbShJX2kubWFwKChuKSA9PiBYLnJvdyhuKSkpO1xuICAgICAgICAgICAgLy8gY2VudGVyIFhfaVxuICAgICAgICAgICAgWF9pID0gWF9pLmRvdChPKTtcbiAgICAgICAgICAgIC8vIGNvcnJlbGF0aW9uIG1hdHJpeFxuICAgICAgICAgICAgY29uc3QgQyA9IFhfaS5kb3QoWF9pLnRyYW5zcG9zZSgpKTtcbiAgICAgICAgICAgIGNvbnN0IHsgZWlnZW52ZWN0b3JzOiBnIH0gPSBzaW11bHRhbmVvdXNfcG93ZXJpdGVyYXRpb24oQywgZCwgZWlnX2FyZ3MpO1xuICAgICAgICAgICAgLy9nLnB1c2gobGluc3BhY2UoMCwgaykubWFwKF8gPT4gMSAvIE1hdGguc3FydChrICsgMSkpKTtcbiAgICAgICAgICAgIGNvbnN0IEdfaV90ID0gTWF0cml4LmZyb20oZyk7XG4gICAgICAgICAgICAvLyAyLiBDb25zdHJ1Y3RpbmcgYWxpZ25tZW50IG1hdHJpeFxuICAgICAgICAgICAgY29uc3QgV19pID0gR19pX3QudHJhbnNwb3NlKClcbiAgICAgICAgICAgICAgICAuZG90KEdfaV90KVxuICAgICAgICAgICAgICAgIC5hZGQoMSAvIE1hdGguc3FydChuZWlnaGJvcnMgKyAxKSk7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5laWdoYm9ycyArIDE7ICsraSkge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgbmVpZ2hib3JzICsgMTsgKytqKSB7XG4gICAgICAgICAgICAgICAgICAgIEIuc2V0X2VudHJ5KElfaVtpXSwgSV9pW2pdLCBCLmVudHJ5KElfaVtpXSwgSV9pW2pdKSAtIChpID09PSBqID8gMSA6IDApICsgV19pLmVudHJ5KGksIGopKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyAzLiBBbGlnbmluZyBnbG9iYWwgY29vcmRpbmF0ZXNcbiAgICAgICAgY29uc3QgeyBlaWdlbnZlY3RvcnM6IFkgfSA9IHNpbXVsdGFuZW91c19wb3dlcml0ZXJhdGlvbihCLCBkICsgMSwgZWlnX2FyZ3MpO1xuICAgICAgICB0aGlzLlkgPSBNYXRyaXguZnJvbShZLnNsaWNlKDEpKS50cmFuc3Bvc2UoKTtcblxuICAgICAgICAvLyByZXR1cm4gZW1iZWRkaW5nXG4gICAgICAgIHJldHVybiB0aGlzLnByb2plY3Rpb247XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgZXVjbGlkZWFuIH0gZnJvbSBcIi4uL21ldHJpY3MvaW5kZXguanNcIjtcbmltcG9ydCB7IEhlYXAgfSBmcm9tIFwiLi4vZGF0YXN0cnVjdHVyZS9pbmRleC5qc1wiO1xuXG4vKipcbiAqIEBjbGFzc1xuICogQGFsaWFzIE9QVElDU1xuICovXG5leHBvcnQgY2xhc3MgT1BUSUNTIHtcbiAgICAvKipcbiAgICAgKiAqKk8qKnJkZXJpbmcgKipQKipvaW50cyAqKlQqKm8gKipJKipkZW50aWZ5IHRoZSAqKkMqKmx1c3RlcmluZyAqKlMqKnRydWN0dXJlLlxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBtZW1iZXJvZiBtb2R1bGU6Y2x1c3RlcmluZ1xuICAgICAqIEBhbGlhcyBPUFRJQ1NcbiAgICAgKiBAdG9kbyBuZWVkcyByZXN0cnVjdHVyaW5nLiBcbiAgICAgKiBAcGFyYW0ge01hdHJpeH0gbWF0cml4IC0gdGhlIGRhdGEuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGVwc2lsb24gLSB0aGUgbWluaW11bSBkaXN0YW5jZSB3aGljaCBkZWZpbmVzIHdoZXRoZXIgYSBwb2ludCBpcyBhIG5laWdoYm9yIG9yIG5vdC5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gbWluX3BvaW50cyAtIHRoZSBtaW5pbXVtIG51bWJlciBvZiBwb2ludHMgd2hpY2ggYSBwb2ludCBuZWVkcyB0byBjcmVhdGUgYSBjbHVzdGVyLiAoU2hvdWxkIGJlIGhpZ2hlciB0aGFuIDEsIGVsc2UgZWFjaCBwb2ludCBjcmVhdGVzIGEgY2x1c3Rlci4pXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW21ldHJpYyA9IGV1Y2xpZGVhbl0gLSB0aGUgZGlzdGFuY2UgbWV0cmljIHdoaWNoIGRlZmluZXMgdGhlIGRpc3RhbmNlIGJldHdlZW4gdHdvIHBvaW50cyBvZiB0aGUge0BsaW5rIG1hdHJpeH0uXG4gICAgICogQHJldHVybnMge09QVElDU31cbiAgICAgKiBAc2VlIHtAbGluayBodHRwczovL3d3dy5kYnMuaWZpLmxtdS5kZS9QdWJsaWthdGlvbmVuL1BhcGVycy9PUFRJQ1MucGRmfVxuICAgICAqIEBzZWUge0BsaW5rIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL09QVElDU19hbGdvcml0aG19XG4gICAgICovXG4gICAgY29uc3RydWN0b3IobWF0cml4LCBlcHNpbG9uLCBtaW5fcG9pbnRzLCBtZXRyaWMgPSBldWNsaWRlYW4pIHtcbiAgICAgICAgdGhpcy5fbWF0cml4ID0gbWF0cml4O1xuICAgICAgICB0aGlzLl9lcHNpbG9uID0gZXBzaWxvbjtcbiAgICAgICAgdGhpcy5fbWluX3BvaW50cyA9IG1pbl9wb2ludHM7XG4gICAgICAgIHRoaXMuX21ldHJpYyA9IG1ldHJpYztcblxuICAgICAgICB0aGlzLl9vcmRlcmVkX2xpc3QgPSBbXTtcbiAgICAgICAgdGhpcy5fY2x1c3RlcnMgPSBbXTtcbiAgICAgICAgdGhpcy5fREIgPSBuZXcgQXJyYXkobWF0cml4LnNoYXBlWzBdKS5maWxsKCk7XG4gICAgICAgIHRoaXMuaW5pdCgpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyB0aGUgY2x1c3RlcmluZy5cbiAgICAgKi9cbiAgICBpbml0KCkge1xuICAgICAgICBjb25zdCBvcmRlcmVkX2xpc3QgPSB0aGlzLl9vcmRlcmVkX2xpc3Q7XG4gICAgICAgIGNvbnN0IG1hdHJpeCA9IHRoaXMuX21hdHJpeDtcbiAgICAgICAgY29uc3QgTiA9IG1hdHJpeC5zaGFwZVswXTtcbiAgICAgICAgY29uc3QgREIgPSB0aGlzLl9EQjtcbiAgICAgICAgY29uc3QgY2x1c3RlcnMgPSB0aGlzLl9jbHVzdGVycztcbiAgICAgICAgbGV0IGNsdXN0ZXJfaW5kZXggPSB0aGlzLl9jbHVzdGVyX2luZGV4ID0gMDtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IE47ICsraSkge1xuICAgICAgICAgICAgREJbaV0gPSB7XG4gICAgICAgICAgICAgICAgXCJlbGVtZW50XCI6IG1hdHJpeC5yb3coaSksXG4gICAgICAgICAgICAgICAgXCJpbmRleFwiOiBpLFxuICAgICAgICAgICAgICAgIFwicmVhY2hhYmlsaXR5X2Rpc3RhbmNlXCI6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICBcInByb2Nlc3NlZFwiOiBmYWxzZSxcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IHAgb2YgREIpIHtcbiAgICAgICAgICAgIGlmIChwLnByb2Nlc3NlZCkgY29udGludWU7XG4gICAgICAgICAgICBwLm5laWdoYm9ycyA9IHRoaXMuX2dldF9uZWlnaGJvcnMocCk7XG4gICAgICAgICAgICBwLnByb2Nlc3NlZCA9IHRydWU7XG4gICAgICAgICAgICBjbHVzdGVycy5wdXNoKFtwLmluZGV4XSlcbiAgICAgICAgICAgIGNsdXN0ZXJfaW5kZXggPSBjbHVzdGVycy5sZW5ndGggLSAxO1xuICAgICAgICAgICAgb3JkZXJlZF9saXN0LnB1c2gocCk7XG4gICAgICAgICAgICBpZiAodGhpcy5fY29yZV9kaXN0YW5jZShwKSAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzZWVkcyA9IG5ldyBIZWFwKG51bGwsIGQgPT4gZC5yZWFjaGFiaWxpdHlfZGlzdGFuY2UsIFwibWluXCIpXG4gICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlKHAsIHNlZWRzKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9leHBhbmRfY2x1c3RlcihzZWVkcywgY2x1c3RlcnNbY2x1c3Rlcl9pbmRleF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHAgLSBhIHBvaW50IG9mIHtAbGluayBtYXRyaXh9LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gQW4gYXJyYXkgY29uc2lzdGluZyBvZiB0aGUge0BsaW5rIGVwc2lsb259LW5laWdoYm9yaG9vZCBvZiB7QGxpbmsgcH0uXG4gICAgICovXG4gICAgX2dldF9uZWlnaGJvcnMocCkge1xuICAgICAgICBpZiAoXCJuZWlnaGJvcnNcIiBpbiBwKSByZXR1cm4gcC5uZWlnaGJvcnM7XG4gICAgICAgIGNvbnN0IERCID0gdGhpcy5fREI7XG4gICAgICAgIGNvbnN0IG1ldHJpYyA9IHRoaXMuX21ldHJpYztcbiAgICAgICAgY29uc3QgZXBzaWxvbiA9IHRoaXMuX2Vwc2lsb247XG4gICAgICAgIGNvbnN0IG5laWdoYm9ycyA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IHEgb2YgREIpIHtcbiAgICAgICAgICAgIGlmIChxLmluZGV4ID09IHAuaW5kZXgpIGNvbnRpbnVlO1xuICAgICAgICAgICAgaWYgKG1ldHJpYyhwLmVsZW1lbnQsIHEuZWxlbWVudCkgPCBlcHNpbG9uKSB7XG4gICAgICAgICAgICAgICAgbmVpZ2hib3JzLnB1c2gocSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5laWdoYm9ycztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwIC0gYSBwb2ludCBvZiB7QGxpbmsgbWF0cml4fS5cbiAgICAgKiBAcmV0dXJucyB7TnVtYmVyfSBUaGUgZGlzdGFuY2UgdG8gdGhlIHtAbGluayBtaW5fcG9pbnRzfS10aCBuZWFyZXN0IHBvaW50IG9mIHtAbGluayBwfSwgb3IgdW5kZWZpbmVkIGlmIHRoZSB7QGxpbmsgZXBzaWxvbn0tbmVpZ2hib3Job29kIGhhcyBmZXdlciBlbGVtZW50cyB0aGFuIHtAbGluayBtaW5fcG9pbnRzfS5cbiAgICAgKi9cbiAgICBfY29yZV9kaXN0YW5jZShwKSB7XG4gICAgICAgIGNvbnN0IG1pbl9wb2ludHMgPSB0aGlzLl9taW5fcG9pbnRzO1xuICAgICAgICBjb25zdCBtZXRyaWMgPSB0aGlzLl9tZXRyaWM7XG4gICAgICAgIGlmIChwLm5laWdoYm9ycyAmJiBwLm5laWdoYm9ycy5sZW5ndGggPD0gbWluX3BvaW50cykge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWV0cmljKHAuZWxlbWVudCwgcC5uZWlnaGJvcnNbbWluX3BvaW50c10uZWxlbWVudCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgcmVhY2hhYmlsaXR5IGRpc3RhbmNlIG9mIHRoZSBwb2ludHMuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcCBcbiAgICAgKiBAcGFyYW0ge0hlYXB9IHNlZWRzIFxuICAgICAqL1xuICAgIF91cGRhdGUocCwgc2VlZHMpIHtcbiAgICAgICAgY29uc3QgbWV0cmljID0gdGhpcy5fbWV0cmljO1xuICAgICAgICBjb25zdCBjb3JlX2Rpc3RhbmNlID0gdGhpcy5fY29yZV9kaXN0YW5jZShwKTtcbiAgICAgICAgY29uc3QgbmVpZ2hib3JzID0gdGhpcy5fZ2V0X25laWdoYm9ycyhwKTsvL3AubmVpZ2hib3JzO1xuICAgICAgICBmb3IgKGNvbnN0IHEgb2YgbmVpZ2hib3JzKSB7XG4gICAgICAgICAgICBpZiAocS5wcm9jZXNzZWQpIGNvbnRpbnVlO1xuICAgICAgICAgICAgY29uc3QgbmV3X3JlYWNoYWJpbGl0eV9kaXN0YW5jZSA9IE1hdGgubWF4KGNvcmVfZGlzdGFuY2UsIG1ldHJpYyhwLmVsZW1lbnQsIHEuZWxlbWVudCkpO1xuICAgICAgICAgICAgLy9pZiAocS5yZWFjaGFiaWxpdHlfZGlzdGFuY2UgPT0gdW5kZWZpbmVkKSB7IC8vIHEgaXMgbm90IGluIHNlZWRzXG4gICAgICAgICAgICBpZiAoc2VlZHMucmF3X2RhdGEoKS5maW5kSW5kZXgoZCA9PiBkLmVsZW1lbnQgPT0gcSkgPCAwKSB7XG4gICAgICAgICAgICAgICAgcS5yZWFjaGFiaWxpdHlfZGlzdGFuY2UgPSBuZXdfcmVhY2hhYmlsaXR5X2Rpc3RhbmNlO1xuICAgICAgICAgICAgICAgIHNlZWRzLnB1c2gocSk7XG4gICAgICAgICAgICB9IGVsc2UgeyAvLyBxIGlzIGluIHNlZWRzXG4gICAgICAgICAgICAgICAgaWYgKG5ld19yZWFjaGFiaWxpdHlfZGlzdGFuY2UgPCBxLnJlYWNoYWJpbGl0eV9kaXN0YW5jZSkge1xuICAgICAgICAgICAgICAgICAgICBxLnJlYWNoYWJpbGl0eV9kaXN0YW5jZSA9IG5ld19yZWFjaGFiaWxpdHlfZGlzdGFuY2U7XG4gICAgICAgICAgICAgICAgICAgIHNlZWRzID0gSGVhcC5oZWFwaWZ5KHNlZWRzLmRhdGEoKSwgZCA9PiBkLnJlYWNoYWJpbGl0eV9kaXN0YW5jZSwgXCJtaW5cIik7IC8vIHNlZWRzIGNoYW5nZSBrZXkgPS9cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFeHBhbmRzIHRoZSB7QGxpbmsgY2x1c3Rlcn0gd2l0aCBwb2ludHMgaW4ge0BsaW5rIHNlZWRzfS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7SGVhcH0gc2VlZHMgXG4gICAgICogQHBhcmFtIHtBcnJheX0gY2x1c3RlciBcbiAgICAgKi9cbiAgICBfZXhwYW5kX2NsdXN0ZXIoc2VlZHMsIGNsdXN0ZXIpIHtcbiAgICAgICAgY29uc3Qgb3JkZXJlZF9saXN0ID0gdGhpcy5fb3JkZXJlZF9saXN0O1xuICAgICAgICB3aGlsZSAoIXNlZWRzLmVtcHR5KSB7XG4gICAgICAgICAgICBjb25zdCBxID0gc2VlZHMucG9wKCkuZWxlbWVudDtcbiAgICAgICAgICAgIHEubmVpZ2hib3JzID0gdGhpcy5fZ2V0X25laWdoYm9ycyhxKTtcbiAgICAgICAgICAgIHEucHJvY2Vzc2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIGNsdXN0ZXIucHVzaChxLmluZGV4KTtcbiAgICAgICAgICAgIG9yZGVyZWRfbGlzdC5wdXNoKHEpO1xuICAgICAgICAgICAgaWYgKHRoaXMuX2NvcmVfZGlzdGFuY2UocSkgIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlKHEsIHNlZWRzKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9leHBhbmRfY2x1c3RlcihzZWVkcywgY2x1c3Rlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGFuIGFycmF5IG9mIGNsdXN0ZXJzLlxuICAgICAqIEByZXR1cm5zIHtBcnJheTxBcnJheT59IEFycmF5IG9mIGNsdXN0ZXJzIHdpdGggdGhlIGluZGljZXMgb2YgdGhlIHJvd3MgaW4gZ2l2ZW4ge0BsaW5rIG1hdHJpeH0uXG4gICAgICovXG4gICAgZ2V0X2NsdXN0ZXJzKCkge1xuICAgICAgICBjb25zdCBjbHVzdGVycyA9IFtdO1xuICAgICAgICBjb25zdCBvdXRsaWVycyA9IFtdO1xuICAgICAgICBjb25zdCBtaW5fcG9pbnRzID0gdGhpcy5fbWluX3BvaW50cztcbiAgICAgICAgZm9yIChjb25zdCBjbHVzdGVyIG9mIHRoaXMuX2NsdXN0ZXJzKSB7XG4gICAgICAgICAgICBpZiAoY2x1c3Rlci5sZW5ndGggPCBtaW5fcG9pbnRzKSB7XG4gICAgICAgICAgICAgICAgb3V0bGllcnMucHVzaCguLi5jbHVzdGVyKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY2x1c3RlcnMucHVzaChjbHVzdGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjbHVzdGVycy5wdXNoKG91dGxpZXJzKTtcbiAgICAgICAgcmV0dXJuIGNsdXN0ZXJzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBhbiBhcnJheSwgd2hlcmUgdGhlIGl0aCBlbnRyeSBkZWZpbmVzIHRoZSBjbHVzdGVyIGFmZmlybWF0aW9uIG9mIHRoZSBpdGggcG9pbnQgb2Yge0BsaW5rIG1hdHJpeH0uICgtMSBzdGFuZHMgZm9yIG91dGxpZXIpXG4gICAgICovXG4gICAgZ2V0X2NsdXN0ZXJfYWZmaXJtYXRpb24oKSB7XG4gICAgICAgIGNvbnN0IE4gPSB0aGlzLl9tYXRyaXguc2hhcGVbMF07XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IG5ldyBBcnJheShOKS5maWxsKCk7XG4gICAgICAgIGNvbnN0IGNsdXN0ZXJzID0gdGhpcy5nZXRfY2x1c3RlcnMoKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIG4gPSBjbHVzdGVycy5sZW5ndGg7IGkgPCBuOyArK2kpIHtcbiAgICAgICAgICAgIGNvbnN0IGNsdXN0ZXIgPSBjbHVzdGVyc1tpXVxuICAgICAgICAgICAgZm9yIChjb25zdCBpbmRleCBvZiBjbHVzdGVyKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0W2luZGV4XSA9IChpIDwgbiAtIDEpID8gaSA6IC0xO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgTWF0cml4IH0gZnJvbSBcIi4uL21hdHJpeC9pbmRleC5qc1wiO1xuaW1wb3J0IHsgZXVjbGlkZWFuIH0gZnJvbSBcIi4uL21ldHJpY3MvaW5kZXguanNcIjtcbmltcG9ydCB7IERSIH0gZnJvbSBcIi4vRFIuanNcIjtcbmltcG9ydCB7IFBDQSwgTURTIH0gZnJvbSBcIi4vaW5kZXguanNcIjtcbmltcG9ydCB7IGRpc3RhbmNlX21hdHJpeCB9IGZyb20gXCIuLi9tYXRyaXgvaW5kZXguanNcIjtcblxuLyoqXG4gKiBAY2xhc3NcbiAqIEBhbGlhcyBTQU1NT05cbiAqIEBleHRlbmRzIERSXG4gKi9cbmV4cG9ydCBjbGFzcyBTQU1NT04gZXh0ZW5kcyBEUiB7XG4gICAgLyoqXG4gICAgICogU0FNTU9OJ3MgTWFwcGluZ1xuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBtZW1iZXJvZiBtb2R1bGU6ZGltZW5zaW9uYWxpdHlfcmVkdWN0aW9uXG4gICAgICogQGFsaWFzIFNBTU1PTlxuICAgICAqIEBwYXJhbSB7TWF0cml4fSBYIC0gdGhlIGhpZ2gtZGltZW5zaW9uYWwgZGF0YS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcGFyYW1ldGVycyAtIE9iamVjdCBjb250YWluaW5nIHBhcmFtZXRlcml6YXRpb24gb2YgdGhlIERSIG1ldGhvZC5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3BhcmFtZXRlcnMuZCA9IDJdIC0gdGhlIGRpbWVuc2lvbmFsaXR5IG9mIHRoZSBwcm9qZWN0aW9uLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258XCJwcmVjb21wdXRlZFwifSBbcGFyYW1ldGVycy5tZXRyaWMgPSBldWNsaWRlYW5dIC0gdGhlIG1ldHJpYyB3aGljaCBkZWZpbmVzIHRoZSBkaXN0YW5jZSBiZXR3ZWVuIHR3byBwb2ludHMuXG4gICAgICogQHBhcmFtIHtcIlBDQVwifFwiTURTXCJ8XCJyYW5kb21cIn0gW3BhcmFtZXRlcnMuaW5pdCA9IFwicmFuZG9tXCJdIC0gRWl0aGVyIFwiUENBXCIgb3IgXCJNRFNcIiwgd2l0aCB3aGljaCBTQU1NT04gaW5pdGlhbGlhdGVzIHRoZSBwcm9qZWN0aW9uLiBXaXRoIFwicmFuZG9tXCIgYSByYW5kb20gbWF0cml4IGdldHMgdXNlZCBhcyBzdGFydGluZyBwb2ludC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW3BhcmFtZXRlcnMuaW5pdF9wYXJhbWV0ZXJzXSAtIFBhcmFtZXRlcnMgZm9yIHRoZSB7QGxpbmsgaW5pdH0tRFIgbWV0aG9kLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbcGFyYW1ldGVycy5zZWVkID0gMTIxMl0gLSB0aGUgc2VlZCBmb3IgdGhlIHJhbmRvbSBudW1iZXIgZ2VuZXJhdG9yLlxuICAgICAqIEByZXR1cm5zIHtTQU1NT059XG4gICAgICogQHNlZSB7QGxpbmsgaHR0cHM6Ly9hcnhpdi5vcmcvcGRmLzIwMDkuMDE1MTIucGRmfVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKFgsIHBhcmFtZXRlcnMpIHtcbiAgICAgICAgc3VwZXIoWCwgeyBtYWdpYzogMC4xLCBkOiAyLCBtZXRyaWM6IGV1Y2xpZGVhbiwgc2VlZDogMTIxMiwgaW5pdF9EUjogXCJyYW5kb21cIiwgaW5pdF9wYXJhbWV0ZXJzOiB7fSB9LCBwYXJhbWV0ZXJzKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogaW5pdGlhbGl6ZXMgdGhlIHByb2plY3Rpb24uXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBpbml0KCkge1xuICAgICAgICBjb25zdCBOID0gdGhpcy5YLnNoYXBlWzBdO1xuICAgICAgICBjb25zdCB7IGQsIG1ldHJpYywgaW5pdF9EUjogaW5pdF9EUiwgaW5pdF9wYXJhbWV0ZXJzOiBEUl9wYXJhbWV0ZXJzIH0gPSB0aGlzLl9wYXJhbWV0ZXJzO1xuICAgICAgICBpZiAoaW5pdF9EUiA9PT0gXCJyYW5kb21cIikge1xuICAgICAgICAgICAgY29uc3QgcmFuZG9taXplciA9IHRoaXMuX3JhbmRvbWl6ZXI7XG4gICAgICAgICAgICB0aGlzLlkgPSBuZXcgTWF0cml4KE4sIGQsICgpID0+IHJhbmRvbWl6ZXIucmFuZG9tKTtcbiAgICAgICAgfSBlbHNlIGlmIChbXCJQQ0FcIiwgXCJNRFNcIl0uaW5jbHVkZXMoaW5pdF9EUikpIHtcbiAgICAgICAgICAgIHRoaXMuWSA9IE1hdHJpeC5mcm9tKGluaXRfRFIgPT0gXCJQQ0FcIiA/IFBDQS50cmFuc2Zvcm0odGhpcy5YLCBEUl9wYXJhbWV0ZXJzKSA6IE1EUy50cmFuc2Zvcm0odGhpcy5YLCBEUl9wYXJhbWV0ZXJzKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2luaXRfRFIgbmVlZHMgdG8gYmUgZWl0aGVyIFwicmFuZG9tXCIgb3IgYSBEUiBtZXRob2QhJylcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRpc3RhbmNlX21hdHJpeCA9IG1ldHJpYyA9PSBcInByZWNvbXB1dGVkXCIgPyBNYXRyaXguZnJvbSh0aGlzLlgpIDogZGlzdGFuY2VfbWF0cml4KHRoaXMuWCwgbWV0cmljKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVHJhbnNmb3JtcyB0aGUgaW5wdXRkYXRhIHtAbGluayBYfSB0byBkaW1lbmlvbmFsaXR5IDIuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFttYXhfaXRlcj0yMDBdIC0gTWF4aW11bSBudW1iZXIgb2YgaXRlcmF0aW9uIHN0ZXBzLlxuICAgICAqIEByZXR1cm5zIHtNYXRyaXh8QXJyYXl9IC0gVGhlIHByb2plY3Rpb24gb2Yge0BsaW5rIFh9LlxuICAgICAqL1xuICAgIHRyYW5zZm9ybShtYXhfaXRlciA9IDIwMCkge1xuICAgICAgICBpZiAoIXRoaXMuX2lzX2luaXRpYWxpemVkKSB0aGlzLmluaXQoKTtcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBtYXhfaXRlcjsgKytqKSB7XG4gICAgICAgICAgICB0aGlzLl9zdGVwKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMucHJvamVjdGlvbjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUcmFuc2Zvcm1zIHRoZSBpbnB1dGRhdGEge0BsaW5rIFh9IHRvIGRpbWVuaW9uYWxpdHkgMi5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW21heF9pdGVyPTIwMF0gLSBNYXhpbXVtIG51bWJlciBvZiBpdGVyYXRpb24gc3RlcHMuXG4gICAgICogQHJldHVybnMge0dlbmVyYXRvcn0gLSBBIGdlbmVyYXRvciB5aWVsZGluZyB0aGUgaW50ZXJtZWRpYXRlIHN0ZXBzIG9mIHRoZSBwcm9qZWN0aW9uIG9mIHtAbGluayBYfS5cbiAgICAgKi9cbiAgICAqZ2VuZXJhdG9yKG1heF9pdGVyID0gMjAwKSB7XG4gICAgICAgIGlmICghdGhpcy5faXNfaW5pdGlhbGl6ZWQpIHRoaXMuaW5pdCgpO1xuXG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgbWF4X2l0ZXI7ICsraikge1xuICAgICAgICAgICAgdGhpcy5fc3RlcCgpO1xuICAgICAgICAgICAgeWllbGQgdGhpcy5wcm9qZWN0aW9uO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMucHJvamVjdGlvbjtcbiAgICB9XG5cbiAgICBfc3RlcCgpIHtcbiAgICAgICAgY29uc3QgTUFHSUMgPSB0aGlzLnBhcmFtZXRlcihcIm1hZ2ljXCIpO1xuICAgICAgICBjb25zdCBEID0gdGhpcy5kaXN0YW5jZV9tYXRyaXg7XG4gICAgICAgIGNvbnN0IE4gPSB0aGlzLlguc2hhcGVbMF07XG4gICAgICAgIGNvbnN0IHsgZCwgbWV0cmljIH0gPSB0aGlzLl9wYXJhbWV0ZXJzO1xuICAgICAgICBsZXQgWSA9IHRoaXMuWTtcblxuICAgICAgICBsZXQgRyA9IG5ldyBNYXRyaXgoTiwgZCwgMCk7XG5cbiAgICAgICAgbGV0IHN1bSA9IG5ldyBGbG9hdDY0QXJyYXkoZCk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgTjsgKytpKSB7XG4gICAgICAgICAgICBsZXQgZTEgPSBuZXcgRmxvYXQ2NEFycmF5KGQpO1xuICAgICAgICAgICAgbGV0IGUyID0gbmV3IEZsb2F0NjRBcnJheShkKTtcbiAgICAgICAgICAgIGNvbnN0IFlpID0gWS5yb3coaSk7XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IE47ICsraikge1xuICAgICAgICAgICAgICAgIGlmIChpID09PSBqKSBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjb25zdCBZaiA9IFkucm93KGopO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRlbHRhID0gbmV3IEZsb2F0NjRBcnJheShkKTtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBrID0gMDsgayA8IGQ7ICsraykge1xuICAgICAgICAgICAgICAgICAgICBkZWx0YVtrXSA9IFlpW2tdIC0gWWpba107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IGRZID0gbWV0cmljKFlpLCBZaik7XG4gICAgICAgICAgICAgICAgY29uc3QgZFggPSBELmVudHJ5KGksIGopO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRxID0gZFggLSBkWTtcbiAgICAgICAgICAgICAgICBjb25zdCBkciA9IE1hdGgubWF4KGRYICogZFksIDFlLTIpO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGsgPSAwOyBrIDwgZDsgKytrKSB7XG4gICAgICAgICAgICAgICAgICAgIGUxW2tdICs9IChkZWx0YVtrXSAqIGRxKSAvIGRyO1xuICAgICAgICAgICAgICAgICAgICBlMltrXSArPSAoZHEgLSAoTWF0aC5wb3coZGVsdGFba10sIDIpICogKDEgKyBkcSAvIGRZKSkgLyBkWSkgLyBkcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGxldCBrID0gMDsgayA8IGQ7ICsraykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHZhbCA9IFkuZW50cnkoaSwgaykgKyAoKE1BR0lDICogZTFba10pIC8gTWF0aC5hYnMoZTJba10pIHx8IDApO1xuICAgICAgICAgICAgICAgIEcuc2V0X2VudHJ5KGksIGssIHZhbCk7XG4gICAgICAgICAgICAgICAgc3VtW2tdICs9IHZhbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBrID0gMDsgayA8IGQ7ICsraykge1xuICAgICAgICAgICAgc3VtW2tdIC89IE47XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IE47ICsraSkge1xuICAgICAgICAgICAgZm9yIChsZXQgayA9IDA7IGsgPCBkOyArK2spIHtcbiAgICAgICAgICAgICAgICBZLnNldF9lbnRyeShpLCBrLCBHLmVudHJ5KGksIGspIC0gc3VtW2tdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gWTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBNYXRyaXggfSBmcm9tIFwiLi4vbWF0cml4L2luZGV4LmpzXCI7XG5pbXBvcnQgeyBldWNsaWRlYW4gfSBmcm9tIFwiLi4vbWV0cmljcy9pbmRleC5qc1wiO1xuaW1wb3J0IHsgRFIgfSBmcm9tIFwiLi9EUi5qc1wiO1xuXG4vKipcbiAqIEBjbGFzc1xuICogQGFsaWFzIFRTTkVcbiAqIEBleHRlbmRzIERSXG4gKi9cbmV4cG9ydCBjbGFzcyBUU05FIGV4dGVuZHMgRFIge1xuICAgIC8qKlxuICAgICAqXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQG1lbWJlcm9mIG1vZHVsZTpkaW1lbnNpb25hbGl0eV9yZWR1Y3Rpb25cbiAgICAgKiBAYWxpYXMgVFNORVxuICAgICAqIEBwYXJhbSB7TWF0cml4fSBYIC0gdGhlIGhpZ2gtZGltZW5zaW9uYWwgZGF0YS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcGFyYW1ldGVycyAtIE9iamVjdCBjb250YWluaW5nIHBhcmFtZXRlcml6YXRpb24gb2YgdGhlIERSIG1ldGhvZC5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3BhcmFtZXRlcnMucGVycGxleGl0eSA9IDUwXSAtIHBlcnBsZXhpdHkuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtwYXJhbWV0ZXJzLmVwc2lsb24gPSAxMF0gLSBsZWFybmluZyBwYXJhbWV0ZXIuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtwYXJhbWV0ZXJzLmQgPSAyXSAtIHRoZSBkaW1lbnNpb25hbGl0eSBvZiB0aGUgcHJvamVjdGlvbi5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufFwicHJlY29tcHV0ZWRcIn0gW3BhcmFtZXRlcnMubWV0cmljID0gZXVjbGlkZWFuXSAtIHRoZSBtZXRyaWMgd2hpY2ggZGVmaW5lcyB0aGUgZGlzdGFuY2UgYmV0d2VlbiB0d28gcG9pbnRzLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbcGFyYW1ldGVycy5zZWVkID0gMTIxMl0gLSB0aGUgc2VlZCBmb3IgdGhlIHJhbmRvbSBudW1iZXIgZ2VuZXJhdG9yLlxuICAgICAqIEByZXR1cm5zIHtUU05FfVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKFgsIHBhcmFtZXRlcnMpIHtcbiAgICAgICAgc3VwZXIoWCwgeyBwZXJwbGV4aXR5OiA1MCwgZXBzaWxvbjogMTAsIGQ6IDIsIG1ldHJpYzogZXVjbGlkZWFuLCBzZWVkOiAxMjEyIH0sIHBhcmFtZXRlcnMpO1xuICAgICAgICBbdGhpcy5fTiwgdGhpcy5fRF0gPSB0aGlzLlguc2hhcGU7XG4gICAgICAgIHRoaXMuX2l0ZXIgPSAwO1xuICAgICAgICB0aGlzLlkgPSBuZXcgTWF0cml4KHRoaXMuX04sIHRoaXMucGFyYW1ldGVyKFwiZFwiKSwgKCkgPT4gdGhpcy5fcmFuZG9taXplci5yYW5kb20pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7TWF0cml4fSBkaXN0YW5jZV9tYXRyaXggLSBhY2NlcHRzIGEgcHJlY29tcHV0ZWQgZGlzdGFuY2UgbWF0cml4XG4gICAgICogQHJldHVybnMge1RTTkV9XG4gICAgICovXG4gICAgaW5pdCgpIHtcbiAgICAgICAgLy8gaW5pdFxuICAgICAgICBjb25zdCBIdGFyZ2V0ID0gTWF0aC5sb2codGhpcy5wYXJhbWV0ZXIoXCJwZXJwbGV4aXR5XCIpKTtcbiAgICAgICAgY29uc3QgTiA9IHRoaXMuX047XG4gICAgICAgIGNvbnN0IEQgPSB0aGlzLl9EO1xuICAgICAgICBjb25zdCB7bWV0cmljfSA9IHRoaXMuX3BhcmFtZXRlcnM7XG4gICAgICAgIGNvbnN0IFggPSB0aGlzLlg7XG4gICAgICAgIGxldCBEZWx0YTtcbiAgICAgICAgaWYgKG1ldHJpYyA9PVwicHJlY29tcHV0ZWRcIikge1xuICAgICAgICAgICAgRGVsdGEgPSBkcnVpZC5NYXRyaXguZnJvbShYKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIERlbHRhID0gbmV3IE1hdHJpeChOLCBOKTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgTjsgKytpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgWF9pID0gWC5yb3coaSk7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IGkgKyAxOyBqIDwgTjsgKytqKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRpc3RhbmNlID0gbWV0cmljKFhfaSwgWC5yb3coaikpO1xuICAgICAgICAgICAgICAgICAgICBEZWx0YS5zZXRfZW50cnkoaSwgaiwgZGlzdGFuY2UpO1xuICAgICAgICAgICAgICAgICAgICBEZWx0YS5zZXRfZW50cnkoaiwgaSwgZGlzdGFuY2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IFAgPSBuZXcgTWF0cml4KE4sIE4sIFwiemVyb3NcIik7XG5cbiAgICAgICAgdGhpcy5feXN0ZXAgPSBuZXcgTWF0cml4KE4sIEQsIFwiemVyb3NcIik7XG4gICAgICAgIHRoaXMuX2dhaW5zID0gbmV3IE1hdHJpeChOLCBELCAxKTtcblxuICAgICAgICAvLyBzZWFyY2ggZm9yIGZpdHRpbmcgc2lnbWFcbiAgICAgICAgbGV0IHByb3cgPSBuZXcgRmxvYXQ2NEFycmF5KE4pXG4gICAgICAgIGNvbnN0IHRvbCA9IDFlLTQ7XG4gICAgICAgIGNvbnN0IG1heHRyaWVzID0gNTA7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgTjsgKytpKSB7XG4gICAgICAgICAgICBsZXQgYmV0YW1pbiA9IC1JbmZpbml0eTtcbiAgICAgICAgICAgIGxldCBiZXRhbWF4ID0gSW5maW5pdHk7XG4gICAgICAgICAgICBsZXQgYmV0YSA9IDE7XG4gICAgICAgICAgICBsZXQgZG9uZSA9IGZhbHNlO1xuXG4gICAgICAgICAgICBsZXQgbnVtID0gMDtcbiAgICAgICAgICAgIHdoaWxlICghZG9uZSkge1xuICAgICAgICAgICAgICAgIGxldCBwc3VtID0gMDtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IE47ICsraikge1xuICAgICAgICAgICAgICAgICAgICBsZXQgcGogPSBNYXRoLmV4cCgtRGVsdGEuZW50cnkoaSwgaikgKiBiZXRhKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGkgPT09IGopIHBqID0gMDtcbiAgICAgICAgICAgICAgICAgICAgcHJvd1tqXSA9IHBqO1xuICAgICAgICAgICAgICAgICAgICBwc3VtICs9IHBqO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsZXQgSGhlcmUgPSAwO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgTjsgKytqKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBwaiA9IHBzdW0gPT09IDAgPyAwIDogcHJvd1tqXSAvIHBzdW07XG4gICAgICAgICAgICAgICAgICAgIHByb3dbal0gPSBwajtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBqID4gMWUtNykge1xuICAgICAgICAgICAgICAgICAgICAgICAgSGhlcmUgLT0gcGogKiBNYXRoLmxvZyhwaik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKEhoZXJlID4gSHRhcmdldCkge1xuICAgICAgICAgICAgICAgICAgICBiZXRhbWluID0gYmV0YTtcbiAgICAgICAgICAgICAgICAgICAgYmV0YSA9IGJldGFtYXggPT09IEluZmluaXR5ID8gYmV0YSAqIDIgOiAoYmV0YSArIGJldGFtYXgpIC8gMjtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBiZXRhbWF4ID0gYmV0YTtcbiAgICAgICAgICAgICAgICAgICAgYmV0YSA9IGJldGFtaW4gPT09IC1JbmZpbml0eSA/IGJldGEgLyAyIDogKGJldGEgKyBiZXRhbWluKSAvIDI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICsrbnVtO1xuICAgICAgICAgICAgICAgIGlmIChNYXRoLmFicyhIaGVyZSAtIEh0YXJnZXQpIDwgdG9sKSBkb25lID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBpZiAobnVtID49IG1heHRyaWVzKSBkb25lID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBOOyArK2opIHtcbiAgICAgICAgICAgICAgICBQLnNldF9lbnRyeShpLCBqLCBwcm93W2pdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vY29tcHV0ZSBwcm9iYWJpbGl0aWVzXG4gICAgICAgIGNvbnN0IFBvdXQgPSBuZXcgTWF0cml4KE4sIE4sIFwiemVyb3NcIik7XG4gICAgICAgIGNvbnN0IE4yID0gTiAqIDI7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgTjsgKytpKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gaTsgaiA8IE47ICsraikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHAgPSBNYXRoLm1heCgoUC5lbnRyeShpLCBqKSArIFAuZW50cnkoaiwgaSkpIC8gTjIsIDFlLTEwMCk7XG4gICAgICAgICAgICAgICAgUG91dC5zZXRfZW50cnkoaSwgaiwgcCk7XG4gICAgICAgICAgICAgICAgUG91dC5zZXRfZW50cnkoaiwgaSwgcCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fUCA9IFBvdXQ7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtpdGVyYXRpb25zPTUwMF0gLSBudW1iZXIgb2YgaXRlcmF0aW9ucy5cbiAgICAgKiBAeWllbGRzIHtNYXRyaXh8QXJyYXk8QXJyYXk+fSAtIHRoZSBwcm9qZWN0aW9uLlxuICAgICAqL1xuICAgIHRyYW5zZm9ybShpdGVyYXRpb25zID0gNTAwKSB7XG4gICAgICAgIHRoaXMuY2hlY2tfaW5pdCgpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGl0ZXJhdGlvbnM7ICsraSkge1xuICAgICAgICAgICAgdGhpcy5uZXh0KCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMucHJvamVjdGlvbjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbaXRlcmF0aW9ucz01MDBdIC0gbnVtYmVyIG9mIGl0ZXJhdGlvbnMuXG4gICAgICogQHlpZWxkcyB7TWF0cml4fEFycmF5PEFycmF5Pn0gLSB0aGUgcHJvamVjdGlvbi5cbiAgICAgKi9cbiAgICAqZ2VuZXJhdG9yKGl0ZXJhdGlvbnMgPSA1MDApIHtcbiAgICAgICAgdGhpcy5jaGVja19pbml0KCk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaXRlcmF0aW9uczsgKytpKSB7XG4gICAgICAgICAgICB0aGlzLm5leHQoKTtcbiAgICAgICAgICAgIHlpZWxkIHRoaXMucHJvamVjdGlvbjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5wcm9qZWN0aW9uO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIHBlcmZvcm1zIGEgb3B0aW1pemF0aW9uIHN0ZXBcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm5zIHtNYXRyaXh9XG4gICAgICovXG4gICAgbmV4dCgpIHtcbiAgICAgICAgY29uc3QgaXRlciA9ICsrdGhpcy5faXRlcjtcbiAgICAgICAgY29uc3QgUCA9IHRoaXMuX1A7XG4gICAgICAgIGNvbnN0IHlzdGVwID0gdGhpcy5feXN0ZXA7XG4gICAgICAgIGNvbnN0IGdhaW5zID0gdGhpcy5fZ2FpbnM7XG4gICAgICAgIGNvbnN0IE4gPSB0aGlzLl9OO1xuICAgICAgICBjb25zdCB7IGQ6IGRpbSwgZXBzaWxvbn0gPSB0aGlzLl9wYXJhbWV0ZXJzO1xuICAgICAgICBsZXQgWSA9IHRoaXMuWTtcblxuICAgICAgICAvL2NhbGMgY29zdCBncmFkaWVudDtcbiAgICAgICAgY29uc3QgcG11bCA9IGl0ZXIgPCAxMDAgPyA0IDogMTtcblxuICAgICAgICAvLyBjb21wdXRlIFEgZGlzdCAodW5ub3JtYWxpemVkKVxuICAgICAgICBjb25zdCBRdSA9IG5ldyBNYXRyaXgoTiwgTiwgXCJ6ZXJvc1wiKTtcbiAgICAgICAgbGV0IHFzdW0gPSAwO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IE47ICsraSkge1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IGkgKyAxOyBqIDwgTjsgKytqKSB7XG4gICAgICAgICAgICAgICAgbGV0IGRzdW0gPSAwO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGQgPSAwOyBkIDwgZGltOyArK2QpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGhlcmUgPSBZLmVudHJ5KGksIGQpIC0gWS5lbnRyeShqLCBkKTtcbiAgICAgICAgICAgICAgICAgICAgZHN1bSArPSBkaGVyZSAqIGRoZXJlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBxdSA9IDEgLyAoMSArIGRzdW0pO1xuICAgICAgICAgICAgICAgIFF1LnNldF9lbnRyeShpLCBqLCBxdSk7XG4gICAgICAgICAgICAgICAgUXUuc2V0X2VudHJ5KGosIGksIHF1KTtcbiAgICAgICAgICAgICAgICBxc3VtICs9IDIgKiBxdTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG5vcm1hbGl6ZSBRIGRpc3RcbiAgICAgICAgY29uc3QgUSA9IG5ldyBNYXRyaXgoTiwgTiwgMCk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgTjsgKytpKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gaSArIDE7IGogPCBOOyArK2opIHtcbiAgICAgICAgICAgICAgICBjb25zdCB2YWwgPSBNYXRoLm1heChRdS5lbnRyeShpLCBqKSAvIHFzdW0sIDFlLTEwMCk7XG4gICAgICAgICAgICAgICAgUS5zZXRfZW50cnkoaSwgaiwgdmFsKTtcbiAgICAgICAgICAgICAgICBRLnNldF9lbnRyeShqLCBpLCB2YWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZ3JhZCA9IG5ldyBNYXRyaXgoTiwgZGltLCBcInplcm9zXCIpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IE47ICsraSkge1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBOOyArK2opIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwcmVtdWx0ID0gNCAqIChwbXVsICogUC5lbnRyeShpLCBqKSAtIFEuZW50cnkoaSwgaikpICogUXUuZW50cnkoaSwgaik7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgZCA9IDA7IGQgPCBkaW07ICsrZCkge1xuICAgICAgICAgICAgICAgICAgICBncmFkLnNldF9lbnRyeShpLCBkLCBncmFkLmVudHJ5KGksIGQpICsgcHJlbXVsdCAqIChZLmVudHJ5KGksIGQpIC0gWS5lbnRyeShqLCBkKSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHBlcmZvcm0gZ3JhZGllbnQgc3RlcFxuICAgICAgICBsZXQgeW1lYW4gPSBuZXcgRmxvYXQ2NEFycmF5KGRpbSk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgTjsgKytpKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBkID0gMDsgZCA8IGRpbTsgKytkKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZ2lkID0gZ3JhZC5lbnRyeShpLCBkKTtcbiAgICAgICAgICAgICAgICBjb25zdCBzaWQgPSB5c3RlcC5lbnRyeShpLCBkKTtcbiAgICAgICAgICAgICAgICBjb25zdCBnYWluaWQgPSBnYWlucy5lbnRyeShpLCBkKTtcblxuICAgICAgICAgICAgICAgIGxldCBuZXdnYWluID0gTWF0aC5zaWduKGdpZCkgPT09IE1hdGguc2lnbihzaWQpID8gZ2FpbmlkICogMC44IDogZ2FpbmlkICsgMC4yO1xuICAgICAgICAgICAgICAgIGlmIChuZXdnYWluIDwgMC4wMSkgbmV3Z2FpbiA9IDAuMDE7XG4gICAgICAgICAgICAgICAgZ2FpbnMuc2V0X2VudHJ5KGksIGQsIG5ld2dhaW4pO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgbW9tdmFsID0gaXRlciA8IDI1MCA/IDAuNSA6IDAuODtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdzaWQgPSBtb212YWwgKiBzaWQgLSBlcHNpbG9uICogbmV3Z2FpbiAqIGdpZDtcbiAgICAgICAgICAgICAgICB5c3RlcC5zZXRfZW50cnkoaSwgZCwgbmV3c2lkKTtcblxuICAgICAgICAgICAgICAgIFkuc2V0X2VudHJ5KGksIGQsIFkuZW50cnkoaSwgZCkgKyBuZXdzaWQpO1xuICAgICAgICAgICAgICAgIHltZWFuW2RdICs9IFkuZW50cnkoaSwgZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IE47ICsraSkge1xuICAgICAgICAgICAgZm9yIChsZXQgZCA9IDA7IGQgPCAyOyArK2QpIHtcbiAgICAgICAgICAgICAgICBZLnNldF9lbnRyeShpLCBkLCBZLmVudHJ5KGksIGQpIC0geW1lYW5bZF0gLyBOKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLlk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgTWF0cml4IH0gZnJvbSBcIi4uL21hdHJpeC9pbmRleC5qc1wiO1xuaW1wb3J0IHsgZXVjbGlkZWFuIH0gZnJvbSBcIi4uL21ldHJpY3MvaW5kZXguanNcIjtcbmltcG9ydCB7IERSIH0gZnJvbSBcIi4vRFIuanNcIjtcbmltcG9ydCB7IERpc2pvaW50U2V0IH0gZnJvbSBcIi4uL2RhdGFzdHJ1Y3R1cmUvaW5kZXguanNcIjtcblxuLyoqXG4gKiBAY2xhc3NcbiAqIEBhbGlhcyBUb3BvTWFwXG4gKiBAbWVtYmVyb2YgbW9kdWxlOmRpbWVuc2lvbmFsaXR5X3JlZHVjdGlvblxuICogQGV4dGVuZHMgRFJcbiAqL1xuZXhwb3J0IGNsYXNzIFRvcG9NYXAgZXh0ZW5kcyBEUiB7XG4gICAgLyoqXG4gICAgICogVG9wb01hcDogQSAwLWRpbWVuc2lvbmFsIEhvbW9sb2d5IFByZXNlcnZpbmcgUHJvamVjdGlvbiBvZiBIaWdoLURpbWVuc2lvbmFsIERhdGEuXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQG1lbWJlcm9mIG1vZHVsZTpkaW1lbnNpb25hbGl0eV9yZWR1Y3Rpb25cbiAgICAgKiBAYWxpYXMgVG9wb01hcFxuICAgICAqIEBwYXJhbSB7TWF0cml4fSBYIC0gdGhlIGhpZ2gtZGltZW5zaW9uYWwgZGF0YS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcGFyYW1ldGVycyAtIE9iamVjdCBjb250YWluaW5nIHBhcmFtZXRlcml6YXRpb24gb2YgdGhlIERSIG1ldGhvZC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcGFyYW1ldGVycy5tZXRyaWMgPSBldWNsaWRlYW5dIC0gdGhlIG1ldHJpYyB3aGljaCBkZWZpbmVzIHRoZSBkaXN0YW5jZSBiZXR3ZWVuIHR3byBwb2ludHMuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtwYXJhbWV0ZXJzLnNlZWQgPSAxMjEyXSAtIHRoZSBzZWVkIGZvciB0aGUgcmFuZG9tIG51bWJlciBnZW5lcmF0b3IuXG4gICAgICogQHJldHVybnMge1RvcG9NYXB9XG4gICAgICogQHNlZSB7QGxpbmsgaHR0cHM6Ly9hcnhpdi5vcmcvcGRmLzIwMDkuMDE1MTIucGRmfVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKFgsIHBhcmFtZXRlcnMpIHtcbiAgICAgICAgc3VwZXIoWCwgeyBtZXRyaWM6IGV1Y2xpZGVhbiwgc2VlZDogMTIxMiB9LCBwYXJhbWV0ZXJzKTtcbiAgICAgICAgW3RoaXMuX04sIHRoaXMuX0RdID0gdGhpcy5YLnNoYXBlO1xuICAgICAgICB0aGlzLl9kaXN0YW5jZV9tYXRyaXggPSBuZXcgTWF0cml4KHRoaXMuX04sIHRoaXMuX04sIDApO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9fbGF6eV9kaXN0YW5jZV9tYXRyaXgoaSwgaiwgbWV0cmljKSB7XG4gICAgICAgIGNvbnN0IEQgPSB0aGlzLl9kaXN0YW5jZV9tYXRyaXg7XG4gICAgICAgIGNvbnN0IFggPSB0aGlzLlg7XG4gICAgICAgIGNvbnN0IERfaWogPSBELmVudHJ5KGksIGopO1xuICAgICAgICBpZiAoRF9paiA9PT0gMCkge1xuICAgICAgICAgICAgbGV0IGRpc3QgPSBtZXRyaWMoWC5yb3coaSksIFgucm93KGopKTtcbiAgICAgICAgICAgIEQuc2V0X2VudHJ5KGksIGosIGRpc3QpO1xuICAgICAgICAgICAgRC5zZXRfZW50cnkoaiwgaSwgZGlzdCk7XG4gICAgICAgICAgICByZXR1cm4gZGlzdDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gRF9pajtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyB0aGUgbWluaW11bSBzcGFubmluZyB0cmVlLCB1c2luZyBhIGdpdmVuIG1ldHJpY1xuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gbWV0cmljXG4gICAgICogQHNlZSB7QGxpbmsgaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvS3J1c2thbCUyN3NfYWxnb3JpdGhtfVxuICAgICAqL1xuICAgIF9tYWtlX21pbmltdW1fc3Bhbm5pbmdfdHJlZShtZXRyaWMgPSBldWNsaWRlYW4pIHtcbiAgICAgICAgY29uc3QgTiA9IHRoaXMuX047XG4gICAgICAgIGNvbnN0IFggPSBbLi4udGhpcy5YXTtcblxuICAgICAgICBsZXQgZGlzam9pbnRfc2V0ID0gbmV3IERpc2pvaW50U2V0KFgpO1xuICAgICAgICBjb25zdCBGID0gW107XG4gICAgICAgIGxldCBFID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgTjsgKytpKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gaSArIDE7IGogPCBOOyArK2opIHtcbiAgICAgICAgICAgICAgICBFLnB1c2goW2ksIGosIHRoaXMuX19sYXp5X2Rpc3RhbmNlX21hdHJpeChpLCBqLCBtZXRyaWMpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgRSA9IEUuc29ydCgoYSwgYikgPT4gYVsyXSAtIGJbMl0pO1xuXG4gICAgICAgIGZvciAoY29uc3QgW3UsIHYsIHddIG9mIEUpIHtcbiAgICAgICAgICAgIGNvbnN0IHNldF91ID0gZGlzam9pbnRfc2V0LmZpbmQoWFt1XSk7XG4gICAgICAgICAgICBjb25zdCBzZXRfdiA9IGRpc2pvaW50X3NldC5maW5kKFhbdl0pO1xuICAgICAgICAgICAgaWYgKHNldF91ICE9PSBzZXRfdikge1xuICAgICAgICAgICAgICAgIEYucHVzaChbdSwgdiwgd10pO1xuICAgICAgICAgICAgICAgIGRpc2pvaW50X3NldC51bmlvbihzZXRfdSwgc2V0X3YpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIEYuc29ydCgoYSwgYikgPT4gYVsyXSAtIGJbMl0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGluaXRpYWxpemVzIFRvcG9NYXAuIFNldHMgYWxsIHByb2pjdGVkIHBvaW50cyB0byB6ZXJvLCBhbmQgY29tcHV0ZXMgYSBtaW5pbXVtIHNwYW5uaW5nIHRyZWUuXG4gICAgICovXG4gICAgaW5pdCgpIHtcbiAgICAgICAgY29uc3QgeyBtZXRyaWN9ID0gdGhpcy5fcGFyYW1ldGVyc1xuICAgICAgICB0aGlzLlkgPSBuZXcgTWF0cml4KHRoaXMuX04sIDIsIDApO1xuICAgICAgICB0aGlzLl9FbXN0ID0gdGhpcy5fbWFrZV9taW5pbXVtX3NwYW5uaW5nX3RyZWUobWV0cmljKTtcbiAgICAgICAgdGhpcy5faXNfaW5pdGlhbGl6ZWQgPSB0cnVlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgUG9pbnQgQyBpcyBsZWZ0IG9mIGxpbmUgQUIuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBQb2ludEEgLSBQb2ludCBBIG9mIGxpbmUgQUJcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBQb2ludEIgLSBQb2ludCBCIG9mIGxpbmUgQUJcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBQb2ludEMgLSBQb2ludCBDXG4gICAgICogQHJldHVybnMge0Jvb2xlYW59XG4gICAgICovXG4gICAgX19odWxsX2Nyb3NzKFtheCwgYXldLCBbYngsIGJ5XSwgW3N4LCBzeV0pIHtcbiAgICAgICAgcmV0dXJuIChieCAtIGF4KSAqIChzeSAtIGF5KSAtIChieSAtIGF5KSAqIChzeCAtIGF4KSA8PSAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbXB1dGVzIHRoZSBjb252ZXggaHVsbCBvZiB0aGUgc2V0IG9mIFBvaW50cyBTXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBTIC0gU2V0IG9mIFBvaW50cy5cbiAgICAgKiBAc2VlIHtAbGluayBodHRwczovL2VuLndpa2lib29rcy5vcmcvd2lraS9BbGdvcml0aG1fSW1wbGVtZW50YXRpb24vR2VvbWV0cnkvQ29udmV4X2h1bGwvTW9ub3RvbmVfY2hhaW4jSmF2YVNjcmlwdH1cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IGNvbnZleCBodWxsIG9mIFMuIFN0YXJ0cyBhdCB0aGUgYm90dG9tLW1vc3QgcG9pbnQgYW5kIGNvbnRpbnVlcyBjb3VudGVyLWNsb2Nrd2lzZS5cbiAgICAgKi9cbiAgICBfX2h1bGwoUykge1xuICAgICAgICBjb25zdCBwb2ludHMgPSBTLnNvcnQoKFt4MSwgeTFdLCBbeDIsIHkyXSkgPT4geTEgLSB5MiB8fCB4MSAtIHgyKTtcbiAgICAgICAgY29uc3QgTiA9IHBvaW50cy5sZW5ndGg7XG4gICAgICAgIGlmIChOIDw9IDIpIHJldHVybiBwb2ludHM7XG5cbiAgICAgICAgY29uc3QgbG93ZXIgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBOOyArK2kpIHtcbiAgICAgICAgICAgIHdoaWxlIChsb3dlci5sZW5ndGggPj0gMiAmJiB0aGlzLl9faHVsbF9jcm9zcyhsb3dlcltsb3dlci5sZW5ndGggLSAyXSwgbG93ZXJbbG93ZXIubGVuZ3RoIC0gMV0sIHBvaW50c1tpXSkpIHtcbiAgICAgICAgICAgICAgICBsb3dlci5wb3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxvd2VyLnB1c2gocG9pbnRzW2ldKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB1cHBlciA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gTiAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgICAgICB3aGlsZSAodXBwZXIubGVuZ3RoID49IDIgJiYgdGhpcy5fX2h1bGxfY3Jvc3ModXBwZXJbdXBwZXIubGVuZ3RoIC0gMl0sIHVwcGVyW3VwcGVyLmxlbmd0aCAtIDFdLCBwb2ludHNbaV0pKSB7XG4gICAgICAgICAgICAgICAgdXBwZXIucG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB1cHBlci5wdXNoKHBvaW50c1tpXSk7XG4gICAgICAgIH1cbiAgICAgICAgdXBwZXIucG9wKCk7XG4gICAgICAgIGxvd2VyLnBvcCgpO1xuICAgICAgICByZXR1cm4gbG93ZXIuY29uY2F0KHVwcGVyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGaW5kcyB0aGUgYW5nbGUgdG8gcm90YXRlIFBvaW50IEEgYW5kIEIgdG8gbGllIG9uIGEgbGluZSBwYXJhbGxlbCB0byB0aGUgeC1heGlzLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gUG9pbnRBXG4gICAgICogQHBhcmFtIHtBcnJheX0gUG9pbnRCXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBPYmplY3QgY29udGFpbmluZyB0aGUgc2ludXMtIGFuZCBjb3NpbnVzLXZhbHVlcyBmb3IgYSByb3RhdGlvbi5cbiAgICAgKi9cbiAgICBfX2ZpbmRBbmdsZShbcDF4LCBwMXldLCBbcDJ4LCBwMnldKSB7XG4gICAgICAgIGNvbnN0IG4gPSBldWNsaWRlYW4oW3AxeCwgcDF5XSwgW3AyeCwgcDJ5XSk7XG4gICAgICAgIGlmIChuID09PSAwKVxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzaW46IDAsXG4gICAgICAgICAgICAgICAgY29zOiAxLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgY29uc3QgdmVjID0gWyhwMnggLSBwMXgpIC8gbiwgKHAyeSAtIHAxeSkgLyBuXTtcbiAgICAgICAgY29uc3QgY29zID0gdmVjWzBdO1xuICAgICAgICBsZXQgc2luID0gTWF0aC5zcXJ0KDEgLSBjb3MgKiBjb3MpO1xuICAgICAgICBzaW4gPSB2ZWNbMV0gPj0gMCA/IC1zaW4gOiBzaW47XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzaW46IHNpbixcbiAgICAgICAgICAgIGNvczogY29zLFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gaHVsbFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHBcbiAgICAgKiBAcGFyYW0ge0Jvb2x9IHRvcEVkZ2VcbiAgICAgKi9cbiAgICBfX2FsaWduX2h1bGwoaHVsbCwgcCwgdG9wRWRnZSkge1xuICAgICAgICBsZXQgdiA9IC0xO1xuICAgICAgICBsZXQgZDI7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaHVsbC5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgY29uc3QgZCA9IGV1Y2xpZGVhbihodWxsW2ldLCBwKTtcbiAgICAgICAgICAgIGlmICh2ID09PSAtMSkge1xuICAgICAgICAgICAgICAgIGQyID0gZDtcbiAgICAgICAgICAgICAgICB2ID0gaTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKGQyID4gZCkge1xuICAgICAgICAgICAgICAgICAgICBkMiA9IGQ7XG4gICAgICAgICAgICAgICAgICAgIHYgPSBpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGxldCB2MTtcbiAgICAgICAgbGV0IHYyO1xuICAgICAgICBpZiAodG9wRWRnZSkge1xuICAgICAgICAgICAgdjEgPSBodWxsW3ZdO1xuICAgICAgICAgICAgdjIgPSBodWxsWyh2ICsgMSkgJSBodWxsLmxlbmd0aF07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAodiA9PSAwKSB2ID0gaHVsbC5sZW5ndGggLSAxO1xuICAgICAgICAgICAgdjEgPSBodWxsW3ZdO1xuICAgICAgICAgICAgdjIgPSBodWxsWyh2IC0gMSkgJSBodWxsLmxlbmd0aF07XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB0cmFuc2Zvcm1hdGlvbiA9IHtcbiAgICAgICAgICAgIHR4OiAtaHVsbFt2XVswXSxcbiAgICAgICAgICAgIHR5OiAtaHVsbFt2XVsxXSxcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoaHVsbC5sZW5ndGggPj0gMikge1xuICAgICAgICAgICAgY29uc3QgeyBzaW4sIGNvcyB9ID0gdGhpcy5fX2ZpbmRBbmdsZSh2MSwgdjIpO1xuICAgICAgICAgICAgdHJhbnNmb3JtYXRpb24uc2luID0gc2luO1xuICAgICAgICAgICAgdHJhbnNmb3JtYXRpb24uY29zID0gY29zO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdHJhbnNmb3JtYXRpb24uc2luID0gMDtcbiAgICAgICAgICAgIHRyYW5zZm9ybWF0aW9uLmNvcyA9IDE7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJhbnNmb3JtYXRpb247XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBQb2ludCAtIFRoZSBwb2ludCB3aGljaCBzaG91bGQgZ2V0IHRyYW5zZm9ybWVkLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBUcmFuc2Zvcm1hdGlvbiAtIGNvbnRhaW5zIHRoZSB2YWx1ZXMgZm9yIHRyYW5zbGF0aW9uIGFuZCByb3RhdGlvbi5cbiAgICAgKi9cbiAgICBfX3RyYW5zZm9ybShbcHgsIHB5XSwgeyB0eCwgdHksIHNpbiwgY29zIH0pIHtcbiAgICAgICAgbGV0IHggPSBweCArIHR4O1xuICAgICAgICBsZXQgeSA9IHB5ICsgdHk7XG4gICAgICAgIGxldCB4eCA9IHggKiBjb3MgLSB5ICogc2luO1xuICAgICAgICBsZXQgeXkgPSB4ICogc2luICsgeSAqIGNvcztcbiAgICAgICAgcmV0dXJuIFt4eCwgeXldO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhbGxzIHtAbGluayBfX3RyYW5zZm9ybX0gZm9yIGVhY2ggcG9pbnQgaW4gU2V0IENcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IEMgLSBTZXQgb2YgcG9pbnRzLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSB0IC0gVHJhbnNmb3JtIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0geU9mZnNldCAtIHZhbHVlIHRvIG9mZnNldCBzZXQgQy5cbiAgICAgKi9cbiAgICBfX3RyYW5zZm9ybV9jb21wb25lbnQoQywgdCwgeU9mZnNldCkge1xuICAgICAgICBjb25zdCBOID0gQy5sZW5ndGg7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgTjsgKytpKSB7XG4gICAgICAgICAgICBjb25zdCBjID0gQ1tpXTtcbiAgICAgICAgICAgIGNvbnN0IFtjeCwgY3ldID0gdGhpcy5fX3RyYW5zZm9ybShjLCB0KTtcbiAgICAgICAgICAgIGNbMF0gPSBjeDtcbiAgICAgICAgICAgIGNbMV0gPSBjeSArIHlPZmZzZXQ7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHUgLSBwb2ludCB1XG4gICAgICogQHBhcmFtIHtBcnJheX0gdiAtIHBvaW50IHZcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gdyAtIGVkZ2Ugd2VpZ2h0IHdcbiAgICAgKi9cbiAgICBfX2FsaWduX2NvbXBvbmVudHModSwgdiwgdykge1xuICAgICAgICBjb25zdCBwb2ludHNfdSA9IFsuLi51Ll9fZGlzam9pbnRfc2V0LmNoaWxkcmVuXTtcbiAgICAgICAgY29uc3QgcG9pbnRzX3YgPSBbLi4udi5fX2Rpc2pvaW50X3NldC5jaGlsZHJlbl07XG5cbiAgICAgICAgY29uc3QgaHVsbF91ID0gdGhpcy5fX2h1bGwocG9pbnRzX3UpO1xuICAgICAgICBjb25zdCBodWxsX3YgPSB0aGlzLl9faHVsbChwb2ludHNfdik7XG5cbiAgICAgICAgY29uc3QgdF91ID0gdGhpcy5fX2FsaWduX2h1bGwoaHVsbF91LCB1LCBmYWxzZSk7XG4gICAgICAgIGNvbnN0IHRfdiA9IHRoaXMuX19hbGlnbl9odWxsKGh1bGxfdiwgdiwgdHJ1ZSk7XG5cbiAgICAgICAgdGhpcy5fX3RyYW5zZm9ybV9jb21wb25lbnQocG9pbnRzX3UsIHRfdSwgMCk7XG4gICAgICAgIHRoaXMuX190cmFuc2Zvcm1fY29tcG9uZW50KHBvaW50c192LCB0X3YsIHcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRyYW5zZm9ybXMgdGhlIGlucHV0ZGF0YSB7QGxpbmsgWH0gdG8gZGltZW5zaW9uYWxpdHkgMi5cbiAgICAgKi9cbiAgICB0cmFuc2Zvcm0oKSB7XG4gICAgICAgIGlmICghdGhpcy5faXNfaW5pdGlhbGl6ZWQpIHRoaXMuaW5pdCgpO1xuICAgICAgICBjb25zdCBFbXN0ID0gdGhpcy5fRW1zdDtcbiAgICAgICAgY29uc3QgWSA9IHRoaXMuWS50bzJkQXJyYXk7XG4gICAgICAgIGNvbnN0IGNvbXBvbmVudHMgPSBuZXcgRGlzam9pbnRTZXQoXG4gICAgICAgICAgICBZLm1hcCgoeSwgaSkgPT4ge1xuICAgICAgICAgICAgICAgIHkuaSA9IGk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHk7XG4gICAgICAgICAgICB9KVxuICAgICAgICApO1xuXG4gICAgICAgIGZvciAoY29uc3QgW3UsIHYsIHddIG9mIEVtc3QpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbXBvbmVudF91ID0gY29tcG9uZW50cy5maW5kKFlbdV0pO1xuICAgICAgICAgICAgY29uc3QgY29tcG9uZW50X3YgPSBjb21wb25lbnRzLmZpbmQoWVt2XSk7XG4gICAgICAgICAgICBpZiAoY29tcG9uZW50X3UgPT09IGNvbXBvbmVudF92KSBjb250aW51ZTtcbiAgICAgICAgICAgIHRoaXMuX19hbGlnbl9jb21wb25lbnRzKGNvbXBvbmVudF91LCBjb21wb25lbnRfdiwgdyk7XG4gICAgICAgICAgICBjb21wb25lbnRzLnVuaW9uKGNvbXBvbmVudF91LCBjb21wb25lbnRfdik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMucHJvamVjdGlvbjtcbiAgICB9XG5cbiAgICAqZ2VuZXJhdG9yKCkge1xuICAgICAgICBpZiAoIXRoaXMuX2lzX2luaXRpYWxpemVkKSB0aGlzLmluaXQoKTtcbiAgICAgICAgY29uc3QgRW1zdCA9IHRoaXMuX0Vtc3Q7XG4gICAgICAgIGNvbnN0IFkgPSB0aGlzLlkudG8yZEFycmF5O1xuICAgICAgICBjb25zdCBjb21wb25lbnRzID0gbmV3IERpc2pvaW50U2V0KFxuICAgICAgICAgICAgWS5tYXAoKHksIGkpID0+IHtcbiAgICAgICAgICAgICAgICB5LmkgPSBpO1xuICAgICAgICAgICAgICAgIHJldHVybiB5O1xuICAgICAgICAgICAgfSlcbiAgICAgICAgKTtcblxuICAgICAgICBmb3IgKGNvbnN0IFt1LCB2LCB3XSBvZiBFbXN0KSB7XG4gICAgICAgICAgICBjb25zdCBjb21wb25lbnRfdSA9IGNvbXBvbmVudHMuZmluZChZW3VdKTtcbiAgICAgICAgICAgIGNvbnN0IGNvbXBvbmVudF92ID0gY29tcG9uZW50cy5maW5kKFlbdl0pO1xuICAgICAgICAgICAgaWYgKGNvbXBvbmVudF91ID09PSBjb21wb25lbnRfdikgY29udGludWU7XG4gICAgICAgICAgICB0aGlzLl9fYWxpZ25fY29tcG9uZW50cyhjb21wb25lbnRfdSwgY29tcG9uZW50X3YsIHcpO1xuICAgICAgICAgICAgY29tcG9uZW50cy51bmlvbihjb21wb25lbnRfdSwgY29tcG9uZW50X3YpO1xuICAgICAgICAgICAgeWllbGQgdGhpcy5wcm9qZWN0aW9uO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnByb2plY3Rpb247XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgTWF0cml4LCBsaW5zcGFjZSB9IGZyb20gXCIuLi9tYXRyaXgvaW5kZXguanNcIjtcbmltcG9ydCB7IGV1Y2xpZGVhbiB9IGZyb20gXCIuLi9tZXRyaWNzL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBQQ0EgfSBmcm9tIFwiLi9QQ0EuanNcIjtcbmltcG9ydCB7IEJhbGxUcmVlIH0gZnJvbSBcIi4uL2tubi9pbmRleC5qc1wiO1xuaW1wb3J0IHsgRFIgfSBmcm9tIFwiLi9EUi5qc1wiO1xuXG4vKipcbiAqIEBjbGFzc1xuICogQGFsaWFzIFRyaU1hcFxuICogQGV4dGVuZHMgRFJcbiAqL1xuZXhwb3J0IGNsYXNzIFRyaU1hcCBleHRlbmRzIERSIHtcbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBtZW1iZXJvZiBtb2R1bGU6ZGltZW5zaW9uYWxpdHlfcmVkdWN0aW9uXG4gICAgICogQGFsaWFzIFRyaU1hcFxuICAgICAqIEBwYXJhbSB7TWF0cml4fSBYIC0gdGhlIGhpZ2gtZGltZW5zaW9uYWwgZGF0YS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcGFyYW1ldGVycyAtIE9iamVjdCBjb250YWluaW5nIHBhcmFtZXRlcml6YXRpb24gb2YgdGhlIERSIG1ldGhvZC5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3BhcmFtZXRlcnMud2VpZ2h0X2FkaiA9IDUwMF0gLSBzY2FsaW5nIGZhY3Rvci5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3BhcmFtZXRlcnMuYyA9IDVdIC0gbnVtYmVyIG9mIHRyaXBsZXRzIG11bHRpcGxpZXIuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtwYXJhbWV0ZXJzLmQgPSAyXSAtIHRoZSBkaW1lbnNpb25hbGl0eSBvZiB0aGUgcHJvamVjdGlvbi5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3BhcmFtZXRlcnMudG9sID0gMWUtOF0gLVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwYXJhbWV0ZXJzLm1ldHJpYyA9IGV1Y2xpZGVhbl0gLSB0aGUgbWV0cmljIHdoaWNoIGRlZmluZXMgdGhlIGRpc3RhbmNlIGJldHdlZW4gdHdvIHBvaW50cy5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3BhcmFtZXRlcnMuc2VlZCA9IDEyMTJdIC0gdGhlIHNlZWQgZm9yIHRoZSByYW5kb20gbnVtYmVyIGdlbmVyYXRvci5cbiAgICAgKiBAcmV0dXJucyB7VHJpTWFwfVxuICAgICAqIEBzZWUge0BsaW5rIGh0dHBzOi8vYXJ4aXYub3JnL3BkZi8xOTEwLjAwMjA0djEucGRmfVxuICAgICAqIEBzZWUge0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9lYW1pZC90cmltYXB9XG4gICAgICovXG4gICAgY29uc3RydWN0b3IoWCwgcGFyYW1ldGVycykge1xuICAgICAgICBzdXBlcihYLCB7IHdlaWdodF9hZGo6IDUwMCwgYzogNSwgZDogMiwgbWV0cmljOiBldWNsaWRlYW4sIHRvbDogMWUtOCwgc2VlZDogMTIxMiB9LCBwYXJhbWV0ZXJzKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge01hdHJpeH0gW3BjYSA9IG51bGxdIC0gSW5pdGlhbCBFbWJlZGRpbmcgKGlmIG51bGwgdGhlbiBQQ0EgZ2V0cyB1c2VkKS5cbiAgICAgKiBAcGFyYW0ge0tOTn0gW2tubiA9IG51bGxdIC0gS05OIE9iamVjdCAoaWYgbnVsbCB0aGVuIEJhbGxUcmVlIGdldHMgdXNlZCkuXG4gICAgICovXG4gICAgaW5pdChwY2EgPSBudWxsLCBrbm4gPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IFggPSB0aGlzLlg7XG4gICAgICAgIGNvbnN0IE4gPSBYLnNoYXBlWzBdO1xuICAgICAgICBjb25zdCB7IGQsIG1ldHJpYywgYyB9ID0gdGhpcy5fcGFyYW1ldGVycztcbiAgICAgICAgdGhpcy5uX2lubGllcnMgPSAyICogYztcbiAgICAgICAgdGhpcy5uX291dGxpZXJzID0gMSAqIGM7XG4gICAgICAgIHRoaXMubl9yYW5kb20gPSAxICogYztcbiAgICAgICAgdGhpcy5ZID0gcGNhIHx8IG5ldyBQQ0EoWCwgZCkudHJhbnNmb3JtKCk7XG4gICAgICAgIHRoaXMua25uID0ga25uIHx8IG5ldyBCYWxsVHJlZShYLnRvMmRBcnJheSwgbWV0cmljKTtcbiAgICAgICAgY29uc3QgeyB0cmlwbGV0cywgd2VpZ2h0cyB9ID0gdGhpcy5fZ2VuZXJhdGVfdHJpcGxldHModGhpcy5uX2lubGllcnMsIHRoaXMubl9vdXRsaWVycywgdGhpcy5uX3JhbmRvbSk7XG4gICAgICAgIHRoaXMudHJpcGxldHMgPSB0cmlwbGV0cztcbiAgICAgICAgdGhpcy53ZWlnaHRzID0gd2VpZ2h0cztcbiAgICAgICAgdGhpcy5sciA9ICgxMDAwICogTikgLyB0cmlwbGV0cy5zaGFwZVswXTtcbiAgICAgICAgdGhpcy5DID0gSW5maW5pdHk7XG4gICAgICAgIHRoaXMudmVsID0gbmV3IE1hdHJpeChOLCBkLCAwKTtcbiAgICAgICAgdGhpcy5nYWluID0gbmV3IE1hdHJpeChOLCBkLCAxKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2VuZXJhdGVzIHtAbGluayBuX2lubGllcnN9IHgge0BsaW5rIG5fb3V0bGllcnN9IHgge0BsaW5rIG5fcmFuZG9tfSB0cmlwbGV0cy5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gbl9pbmxpZXJzXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IG5fb3V0bGllcnNcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gbl9yYW5kb21cbiAgICAgKi9cbiAgICBfZ2VuZXJhdGVfdHJpcGxldHMobl9pbmxpZXJzLCBuX291dGxpZXJzLCBuX3JhbmRvbSkge1xuICAgICAgICBjb25zdCB7IG1ldHJpYywgd2VpZ2h0X2FkaiB9ID0gdGhpcy5fcGFyYW1ldGVycztcbiAgICAgICAgY29uc3QgWCA9IHRoaXMuWDtcbiAgICAgICAgY29uc3QgTiA9IFguc2hhcGVbMF07XG4gICAgICAgIGNvbnN0IGtubiA9IHRoaXMua25uO1xuICAgICAgICBjb25zdCBuX2V4dHJhID0gTWF0aC5taW4obl9pbmxpZXJzICsgMjAsIE4pO1xuICAgICAgICBjb25zdCBuYnJzID0gbmV3IE1hdHJpeChOLCBuX2V4dHJhKTtcbiAgICAgICAgY29uc3Qga25uX2Rpc3RhbmNlcyA9IG5ldyBNYXRyaXgoTiwgbl9leHRyYSk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgTjsgKytpKSB7XG4gICAgICAgICAgICBrbm4uc2VhcmNoKFgucm93KGkpLCBuX2V4dHJhICsgMSlcbiAgICAgICAgICAgICAgICAucmF3X2RhdGEoKVxuICAgICAgICAgICAgICAgIC5maWx0ZXIoKGQpID0+IGQudmFsdWUgIT0gMClcbiAgICAgICAgICAgICAgICAuc29ydCgoYSwgYikgPT4gYS52YWx1ZSAtIGIudmFsdWUpXG4gICAgICAgICAgICAgICAgLmZvckVhY2goKGQsIGopID0+IHtcbiAgICAgICAgICAgICAgICAgICAgbmJycy5zZXRfZW50cnkoaSwgaiwgZC5lbGVtZW50LmluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAga25uX2Rpc3RhbmNlcy5zZXRfZW50cnkoaSwgaiwgZC52YWx1ZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gc2NhbGUgcGFyYW1ldGVyXG4gICAgICAgIGNvbnN0IHNpZyA9IG5ldyBGbG9hdDY0QXJyYXkoTik7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgTjsgKytpKSB7XG4gICAgICAgICAgICBzaWdbaV0gPSBNYXRoLm1heCgoa25uX2Rpc3RhbmNlcy5lbnRyeShpLCAzKSArIGtubl9kaXN0YW5jZXMuZW50cnkoaSwgNCkgKyBrbm5fZGlzdGFuY2VzLmVudHJ5KGksIDUpICsga25uX2Rpc3RhbmNlcy5lbnRyeShpLCA2KSkgLyA0LCAxZS0xMCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBQID0gdGhpcy5fZmluZF9wKGtubl9kaXN0YW5jZXMsIHNpZywgbmJycyk7XG5cbiAgICAgICAgbGV0IHRyaXBsZXRzID0gdGhpcy5fc2FtcGxlX2tubl90cmlwbGV0cyhQLCBuYnJzLCBuX2lubGllcnMsIG5fb3V0bGllcnMpO1xuICAgICAgICBsZXQgbl90cmlwbGV0cyA9IHRyaXBsZXRzLnNoYXBlWzBdO1xuICAgICAgICBjb25zdCBvdXRsaWVyX2Rpc3RhbmNlcyA9IG5ldyBGbG9hdDY0QXJyYXkobl90cmlwbGV0cyk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbl90cmlwbGV0czsgKytpKSB7XG4gICAgICAgICAgICBjb25zdCBqID0gdHJpcGxldHMuZW50cnkoaSwgMCk7XG4gICAgICAgICAgICBjb25zdCBrID0gdHJpcGxldHMuZW50cnkoaSwgMik7XG4gICAgICAgICAgICBvdXRsaWVyX2Rpc3RhbmNlc1tpXSA9IG1ldHJpYyhYLnJvdyhqKSwgWC5yb3coaykpO1xuICAgICAgICB9XG4gICAgICAgIGxldCB3ZWlnaHRzID0gdGhpcy5fZmluZF93ZWlnaHRzKHRyaXBsZXRzLCBQLCBuYnJzLCBvdXRsaWVyX2Rpc3RhbmNlcywgc2lnKTtcblxuICAgICAgICBpZiAobl9yYW5kb20gPiAwKSB7XG4gICAgICAgICAgICBjb25zdCB7IHJhbmRvbV90cmlwbGV0cywgcmFuZG9tX3dlaWdodHMgfSA9IHRoaXMuX3NhbXBsZV9yYW5kb21fdHJpcGxldHMoWCwgbl9yYW5kb20sIHNpZyk7XG4gICAgICAgICAgICB0cmlwbGV0cyA9IHRyaXBsZXRzLmNvbmNhdChyYW5kb21fdHJpcGxldHMsIFwidmVydGljYWxcIik7XG4gICAgICAgICAgICB3ZWlnaHRzID0gRmxvYXQ2NEFycmF5LmZyb20oWy4uLndlaWdodHMsIC4uLnJhbmRvbV93ZWlnaHRzXSk7XG4gICAgICAgIH1cbiAgICAgICAgbl90cmlwbGV0cyA9IHRyaXBsZXRzLnNoYXBlWzBdO1xuICAgICAgICBsZXQgbWF4X3dlaWdodCA9IC1JbmZpbml0eTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuX3RyaXBsZXRzOyArK2kpIHtcbiAgICAgICAgICAgIGlmIChpc05hTih3ZWlnaHRzW2ldKSkge1xuICAgICAgICAgICAgICAgIHdlaWdodHNbaV0gPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG1heF93ZWlnaHQgPCB3ZWlnaHRzW2ldKSBtYXhfd2VpZ2h0ID0gd2VpZ2h0c1tpXTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgbWF4X3dlaWdodF8yID0gLUluZmluaXR5O1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5fdHJpcGxldHM7ICsraSkge1xuICAgICAgICAgICAgd2VpZ2h0c1tpXSAvPSBtYXhfd2VpZ2h0O1xuICAgICAgICAgICAgd2VpZ2h0c1tpXSArPSAwLjAwMDE7XG4gICAgICAgICAgICB3ZWlnaHRzW2ldID0gTWF0aC5sb2coMSArIHdlaWdodF9hZGogKiB3ZWlnaHRzW2ldKTtcbiAgICAgICAgICAgIGlmIChtYXhfd2VpZ2h0XzIgPCB3ZWlnaHRzW2ldKSBtYXhfd2VpZ2h0XzIgPSB3ZWlnaHRzW2ldO1xuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbl90cmlwbGV0czsgKytpKSB7XG4gICAgICAgICAgICB3ZWlnaHRzW2ldIC89IG1heF93ZWlnaHRfMjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHJpcGxldHM6IHRyaXBsZXRzLFxuICAgICAgICAgICAgd2VpZ2h0czogd2VpZ2h0cyxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGVzIHRoZSBzaW1pbGFyaXR5IG1hdHJpeCBQXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge01hdHJpeH0ga25uX2Rpc3RhbmNlcyAtIG1hdHJpeCBvZiBwYWlyd2lzZSBrbm4gZGlzdGFuY2VzXG4gICAgICogQHBhcmFtIHtGbG9hdDY0QXJyYXl9IHNpZyAtIHNjYWxpbmcgZmFjdG9yIGZvciB0aGUgZGlzdGFuY2VzXG4gICAgICogQHBhcmFtIHtNYXRyaXh9IG5icnMgLSBuZWFyZXN0IG5laWdoYm9yc1xuICAgICAqIEByZXR1cm5zIHtNYXRyaXh9IHBhaXJ3aXNlIHNpbWlsYXJpdHkgbWF0cml4XG4gICAgICovXG4gICAgX2ZpbmRfcChrbm5fZGlzdGFuY2VzLCBzaWcsIG5icnMpIHtcbiAgICAgICAgY29uc3QgW04sIG5fbmVpZ2hib3JzXSA9IGtubl9kaXN0YW5jZXMuc2hhcGU7XG4gICAgICAgIHJldHVybiBuZXcgTWF0cml4KE4sIG5fbmVpZ2hib3JzLCAoaSwgaikgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIE1hdGguZXhwKC0oa25uX2Rpc3RhbmNlcy5lbnRyeShpLCBqKSAqKiAyIC8gc2lnW2ldIC8gc2lnW25icnMuZW50cnkoaSwgaildKSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNhbXBsZSBuZWFyZXN0IG5laWdoYm9ycyB0cmlwbGV0cyBiYXNlZCBvbiB0aGUgc2ltaWxhcml0eSB2YWx1ZXMgZ2l2ZW4gaW4gUC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7TWF0cml4fSBQIC0gTWF0cml4IG9mIHBhaXJ3aXNlIHNpbWlsYXJpdGllcyBiZXR3ZWVuIGVhY2ggcG9pbnQgYW5kIGl0cyBuZWlnaGJvcnMgZ2l2ZW4gaW4gbWF0cml4IG5icnMuXG4gICAgICogQHBhcmFtIHtNYXRyaXh9IG5icnMgLSBOZWFyZXN0IG5laWdoYm9ycyBpbmRpY2VzIGZvciBlYWNoIHBvaW50LiBUaGUgc2ltaWxhcml0eSB2YWx1ZXMgYXJlIGdpdmVuIGluIG1hdHJpeCB7QGxpbmsgUH0uIFJvdyBpIGNvcnJlc3BvbmRzIHRvIHRoZSBpLXRoIHBvaW50LlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBuX2lubGllcnMgLSBOdW1iZXIgb2YgaW5saWVyIHBvaW50cy5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gbl9vdXRsaWVycyAtIE51bWJlciBvZiBvdXRsaWVyIHBvaW50cy5cbiAgICAgKlxuICAgICAqL1xuICAgIF9zYW1wbGVfa25uX3RyaXBsZXRzKFAsIG5icnMsIG5faW5saWVycywgbl9vdXRsaWVycykge1xuICAgICAgICBjb25zdCBOID0gbmJycy5zaGFwZVswXTtcbiAgICAgICAgY29uc3QgdHJpcGxldHMgPSBuZXcgTWF0cml4KE4gKiBuX2lubGllcnMgKiBuX291dGxpZXJzLCAzKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBOOyArK2kpIHtcbiAgICAgICAgICAgIGxldCBuX2kgPSBpICogbl9pbmxpZXJzICogbl9vdXRsaWVycztcbiAgICAgICAgICAgIGNvbnN0IHNvcnRfaW5kaWNlcyA9IHRoaXMuX19hcmdzb3J0KFAucm93KGkpLm1hcCgoZCkgPT4gLWQpKTtcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgbl9pbmxpZXJzOyArK2opIHtcbiAgICAgICAgICAgICAgICBsZXQgbl9qID0gaiAqIG5fb3V0bGllcnM7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2ltID0gbmJycy5lbnRyeShpLCBzb3J0X2luZGljZXNbal0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNhbXBsZXMgPSB0aGlzLl9yZWplY3Rpb25fc2FtcGxlKG5fb3V0bGllcnMsIE4sIHNvcnRfaW5kaWNlcy5zbGljZSgwLCBqICsgMSkpO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGsgPSAwOyBrIDwgbl9vdXRsaWVyczsgKytrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gbl9pICsgbl9qICsgaztcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3V0ID0gc2FtcGxlc1trXTtcbiAgICAgICAgICAgICAgICAgICAgdHJpcGxldHMuc2V0X2VudHJ5KGluZGV4LCAwLCBpKTtcbiAgICAgICAgICAgICAgICAgICAgdHJpcGxldHMuc2V0X2VudHJ5KGluZGV4LCAxLCBzaW0pO1xuICAgICAgICAgICAgICAgICAgICB0cmlwbGV0cy5zZXRfZW50cnkoaW5kZXgsIDIsIG91dCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cmlwbGV0cztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTaG91bGQgZG8gdGhlIHNhbWUgYXMgbnAuYXJnc29ydCgpXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBBXG4gICAgICovXG4gICAgX19hcmdzb3J0KEEpIHtcbiAgICAgICAgcmV0dXJuIEEubWFwKChkLCBpKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4geyBkOiBkLCBpOiBpIH07XG4gICAgICAgIH0pXG4gICAgICAgICAgICAuc29ydCgoYSwgYikgPT4gYS5kIC0gYi5kKVxuICAgICAgICAgICAgLm1hcCgoZCkgPT4gZC5pKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTYW1wbGVzIHtAbGluayBuX3NhbXBsZXN9IGludGVnZXJzIGZyb20gYSBnaXZlbiBpbnRlcnZhbCBbMCwge0BsaW5rIG1heF9pbnR9XSB3aGlsZSByZWplY3Rpb24gdGhlIHZhbHVlcyB0aGF0IGFyZSBpbiB0aGUge0BsaW5rIHJlamVjdHN9LlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSBuX3NhbXBsZXNcbiAgICAgKiBAcGFyYW0geyp9IG1heF9pbnRcbiAgICAgKiBAcGFyYW0geyp9IHJlamVjdHNcbiAgICAgKi9cbiAgICBfcmVqZWN0aW9uX3NhbXBsZShuX3NhbXBsZXMsIG1heF9pbnQsIHJlamVjdHMpIHtcbiAgICAgICAgY29uc3QgcmFuZG9taXplciA9IHRoaXMuX3JhbmRvbWl6ZXI7XG4gICAgICAgIGNvbnN0IGludGVydmFsID0gbGluc3BhY2UoMCwgbWF4X2ludCAtIDEpLmZpbHRlcigoZCkgPT4gcmVqZWN0cy5pbmRleE9mKGQpIDwgMCk7XG4gICAgICAgIHJldHVybiByYW5kb21pemVyLmNob2ljZShpbnRlcnZhbCwgTWF0aC5taW4obl9zYW1wbGVzLCBpbnRlcnZhbC5sZW5ndGggLSAyKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlcyB0aGUgd2VpZ2h0cyBmb3IgdGhlIHNhbXBsZWQgbmVhcmVzdCBuZWlnaGJvcnMgdHJpcGxldHNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7TWF0cml4fSB0cmlwbGV0cyAtIFNhbXBsZWQgVHJpcGxldHMuXG4gICAgICogQHBhcmFtIHtNYXRyaXh9IFAgLSBQYWlyd2lzZSBzaW1pbGFyaXR5IG1hdHJpeC5cbiAgICAgKiBAcGFyYW0ge01hdHJpeH0gbmJycyAtIG5lYXJlc3QgTmVpZ2hib3JzXG4gICAgICogQHBhcmFtIHtGbG9hdDY0QXJyYXl9IG91dGxpZXJfZGlzdGFuY2VzIC0gTWF0cml4IG9mIHBhaXJ3aXNlIG91dGxpZXIgZGlzdGFuY2VzXG4gICAgICogQHBhcmFtIHtGbG9hdDY0QXJyYXl9IHNpZyAtIHNjYWxpbmcgZmFjdG9yIGZvciB0aGUgZGlzdGFuY2VzLlxuICAgICAqL1xuICAgIF9maW5kX3dlaWdodHModHJpcGxldHMsIFAsIG5icnMsIG91dGxpZXJfZGlzdGFuY2VzLCBzaWcpIHtcbiAgICAgICAgY29uc3Qgbl90cmlwbGV0cyA9IHRyaXBsZXRzLnNoYXBlWzBdO1xuICAgICAgICBjb25zdCB3ZWlnaHRzID0gbmV3IEZsb2F0NjRBcnJheShuX3RyaXBsZXRzKTtcbiAgICAgICAgZm9yIChsZXQgdCA9IDA7IHQgPCBuX3RyaXBsZXRzOyArK3QpIHtcbiAgICAgICAgICAgIGNvbnN0IGkgPSB0cmlwbGV0cy5lbnRyeSh0LCAwKTtcbiAgICAgICAgICAgIGNvbnN0IHNpbSA9IG5icnMucm93KGkpLmluZGV4T2YodHJpcGxldHMuZW50cnkodCwgMSkpO1xuICAgICAgICAgICAgY29uc3QgcF9zaW0gPSBQLmVudHJ5KGksIHNpbSk7XG4gICAgICAgICAgICBsZXQgcF9vdXQgPSBNYXRoLmV4cCgtKG91dGxpZXJfZGlzdGFuY2VzW3RdICoqIDIgLyAoc2lnW2ldICogc2lnW3RyaXBsZXRzLmVudHJ5KHQsIDIpXSkpKTtcbiAgICAgICAgICAgIGlmIChwX291dCA8IDFlLTIwKSBwX291dCA9IDFlLTIwO1xuICAgICAgICAgICAgd2VpZ2h0c1t0XSA9IHBfc2ltIC8gcF9vdXQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdlaWdodHM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2FtcGxlIHVuaWZvcm1seSByYW5vbSB0cmlwbGV0c1xuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtNYXRyaXh9IFggLSBEYXRhIG1hdHJpeC5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gbl9yYW5kb20gLSBOdW1iZXIgb2YgcmFuZG9tIHRyaXBsZXRzIHBlciBwb2ludFxuICAgICAqIEBwYXJhbSB7RmxvYXQ2NEFycmF5fSBzaWcgLSBTY2FsaW5nIGZhY3RvciBmb3IgdGhlIGRpc3RhbmNlc1xuICAgICAqL1xuICAgIF9zYW1wbGVfcmFuZG9tX3RyaXBsZXRzKFgsIG5fcmFuZG9tLCBzaWcpIHtcbiAgICAgICAgY29uc3QgbWV0cmljID0gdGhpcy5wYXJhbWV0ZXIoXCJtZXRyaWNcIik7XG4gICAgICAgIGNvbnN0IHJhbmRvbWl6ZXIgPSB0aGlzLl9yYW5kb21pemVyO1xuICAgICAgICBjb25zdCBOID0gWC5zaGFwZVswXTtcbiAgICAgICAgY29uc3QgcmFuZG9tX3RyaXBsZXRzID0gbmV3IE1hdHJpeChOICogbl9yYW5kb20sIDMpO1xuICAgICAgICBjb25zdCByYW5kb21fd2VpZ2h0cyA9IG5ldyBGbG9hdDY0QXJyYXkoTiAqIG5fcmFuZG9tKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBOOyArK2kpIHtcbiAgICAgICAgICAgIGNvbnN0IG5faSA9IGkgKiBuX3JhbmRvbTtcbiAgICAgICAgICAgIGNvbnN0IGluZGljZXMgPSBbLi4ubGluc3BhY2UoMCwgaSAtIDEpLCAuLi5saW5zcGFjZShpICsgMSwgTiAtIDEpXTtcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgbl9yYW5kb207ICsraikge1xuICAgICAgICAgICAgICAgIGxldCBbc2ltLCBvdXRdID0gcmFuZG9taXplci5jaG9pY2UoaW5kaWNlcywgMik7XG4gICAgICAgICAgICAgICAgbGV0IHBfc2ltID0gTWF0aC5leHAoLShtZXRyaWMoWC5yb3coaSksIFgucm93KHNpbSkpICoqIDIgLyAoc2lnW2ldICogc2lnW3NpbV0pKSk7XG4gICAgICAgICAgICAgICAgaWYgKHBfc2ltIDwgMWUtMjApIHBfc2ltID0gMWUtMjA7XG4gICAgICAgICAgICAgICAgbGV0IHBfb3V0ID0gTWF0aC5leHAoLShtZXRyaWMoWC5yb3coaSksIFgucm93KG91dCkpICoqIDIgLyAoc2lnW2ldICogc2lnW291dF0pKSk7XG4gICAgICAgICAgICAgICAgaWYgKHBfb3V0IDwgMWUtMjApIHBfb3V0ID0gMWUtMjA7XG5cbiAgICAgICAgICAgICAgICBpZiAocF9zaW0gPCBwX291dCkge1xuICAgICAgICAgICAgICAgICAgICBbc2ltLCBvdXRdID0gW291dCwgc2ltXTtcbiAgICAgICAgICAgICAgICAgICAgW3Bfc2ltLCBwX291dF0gPSBbcF9vdXQsIHBfc2ltXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSBuX2kgKyBqO1xuICAgICAgICAgICAgICAgIHJhbmRvbV90cmlwbGV0cy5zZXRfZW50cnkoaW5kZXgsIDAsIGkpO1xuICAgICAgICAgICAgICAgIHJhbmRvbV90cmlwbGV0cy5zZXRfZW50cnkoaW5kZXgsIDEsIHNpbSk7XG4gICAgICAgICAgICAgICAgcmFuZG9tX3RyaXBsZXRzLnNldF9lbnRyeShpbmRleCwgMiwgb3V0KTtcbiAgICAgICAgICAgICAgICByYW5kb21fd2VpZ2h0c1tpbmRleF0gPSBwX3NpbSAvIHBfb3V0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByYW5kb21fdHJpcGxldHM6IHJhbmRvbV90cmlwbGV0cyxcbiAgICAgICAgICAgIHJhbmRvbV93ZWlnaHRzOiByYW5kb21fd2VpZ2h0cyxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyB0aGUgZ3JhZGllbnQgZm9yIHVwZGF0aW5nIHRoZSBlbWJlZGRpbmcuXG4gICAgICogQHBhcmFtIHtNYXRyaXh9IFkgLSBUaGUgZW1iZWRkaW5nXG4gICAgICovXG4gICAgX2dyYWQoWSkge1xuICAgICAgICBjb25zdCBuX2lubGllcnMgPSB0aGlzLm5faW5saWVycztcbiAgICAgICAgY29uc3Qgbl9vdXRsaWVycyA9IHRoaXMubl9vdXRsaWVycztcbiAgICAgICAgY29uc3QgdHJpcGxldHMgPSB0aGlzLnRyaXBsZXRzO1xuICAgICAgICBjb25zdCB3ZWlnaHRzID0gdGhpcy53ZWlnaHRzO1xuICAgICAgICBjb25zdCBbTiwgZGltXSA9IFkuc2hhcGU7XG4gICAgICAgIGNvbnN0IG5fdHJpcGxldHMgPSB0cmlwbGV0cy5zaGFwZVswXTtcbiAgICAgICAgY29uc3QgZ3JhZCA9IG5ldyBNYXRyaXgoTiwgZGltLCAwKTtcbiAgICAgICAgbGV0IHlfaWogPSBuZXcgRmxvYXQ2NEFycmF5KGRpbSk7XG4gICAgICAgIGxldCB5X2lrID0gbmV3IEZsb2F0NjRBcnJheShkaW0pO1xuICAgICAgICBsZXQgZF9paiA9IDE7XG4gICAgICAgIGxldCBkX2lrID0gMTtcbiAgICAgICAgbGV0IG5fdmlvbCA9IDA7XG4gICAgICAgIGxldCBsb3NzID0gMDtcbiAgICAgICAgY29uc3Qgbl9rbm5fdHJpcGxldHMgPSBOICogbl9pbmxpZXJzICogbl9vdXRsaWVycztcblxuICAgICAgICBmb3IgKGxldCB0ID0gMDsgdCA8IG5fdHJpcGxldHM7ICsrdCkge1xuICAgICAgICAgICAgY29uc3QgW2ksIGosIGtdID0gdHJpcGxldHMucm93KHQpO1xuICAgICAgICAgICAgLy8gdXBkYXRlIHlfaWosIHlfaWssIGRfaWosIGRfaWtcbiAgICAgICAgICAgIGlmICh0ICUgbl9vdXRsaWVycyA9PSAwIHx8IHQgPj0gbl9rbm5fdHJpcGxldHMpIHtcbiAgICAgICAgICAgICAgICBkX2lqID0gMTtcbiAgICAgICAgICAgICAgICBkX2lrID0gMTtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBkID0gMDsgZCA8IGRpbTsgKytkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IFlfaWQgPSBZLmVudHJ5KGksIGQpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBZX2pkID0gWS5lbnRyeShqLCBkKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgWV9rZCA9IFkuZW50cnkoaywgZCk7XG4gICAgICAgICAgICAgICAgICAgIHlfaWpbZF0gPSBZX2lkIC0gWV9qZDtcbiAgICAgICAgICAgICAgICAgICAgeV9pa1tkXSA9IFlfaWQgLSBZX2tkO1xuICAgICAgICAgICAgICAgICAgICBkX2lqICs9IHlfaWpbZF0gKiogMjtcbiAgICAgICAgICAgICAgICAgICAgZF9payArPSB5X2lrW2RdICoqIDI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIHVwZGF0ZSB5X2lrIGFuZCBkX2lrIG9ubHlcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZF9payA9IDE7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgZCA9IDA7IGQgPCBkaW07ICsrZCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBZX2lkID0gWS5lbnRyeShpLCBkKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgWV9rZCA9IFkuZW50cnkoaywgZCk7XG4gICAgICAgICAgICAgICAgICAgIHlfaWtbZF0gPSBZX2lkIC0gWV9rZDtcbiAgICAgICAgICAgICAgICAgICAgZF9payArPSB5X2lrW2RdICoqIDI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZF9paiA+IGRfaWspICsrbl92aW9sO1xuICAgICAgICAgICAgbG9zcyArPSB3ZWlnaHRzW3RdIC8gKDEgKyBkX2lrIC8gZF9paik7XG4gICAgICAgICAgICBjb25zdCB3ID0gKHdlaWdodHNbdF0gLyAoZF9paiArIGRfaWspKSAqKiAyO1xuICAgICAgICAgICAgZm9yIChsZXQgZCA9IDA7IGQgPCBkaW07ICsrZCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGdzID0geV9paltkXSAqIGRfaWsgKiB3O1xuICAgICAgICAgICAgICAgIGNvbnN0IGdvID0geV9pa1tkXSAqIGRfaWogKiB3O1xuICAgICAgICAgICAgICAgIGdyYWQuc2V0X2VudHJ5KGksIGQsIGdyYWQuZW50cnkoaSwgZCkgKyBncyAtIGdvKTtcbiAgICAgICAgICAgICAgICBncmFkLnNldF9lbnRyeShqLCBkLCBncmFkLmVudHJ5KGosIGQpIC0gZ3MpO1xuICAgICAgICAgICAgICAgIGdyYWQuc2V0X2VudHJ5KGssIGQsIGdyYWQuZW50cnkoaywgZCkgKyBnbyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgZ3JhZCwgbG9zcywgbl92aW9sIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gbWF4X2l0ZXJhdGlvblxuICAgICAqL1xuICAgIHRyYW5zZm9ybShtYXhfaXRlcmF0aW9uID0gNDAwKSB7XG4gICAgICAgIHRoaXMuY2hlY2tfaW5pdCgpO1xuICAgICAgICBmb3IgKGxldCBpdGVyID0gMDsgaXRlciA8IG1heF9pdGVyYXRpb247ICsraXRlcikge1xuICAgICAgICAgICAgdGhpcy5fbmV4dChpdGVyKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5wcm9qZWN0aW9uO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBtYXhfaXRlcmF0aW9uXG4gICAgICogQHlpZWxkcyB7TWF0cml4fVxuICAgICAqIEByZXR1cm5zIHtNYXRyaXh9XG4gICAgICovXG4gICAgKmdlbmVyYXRvcihtYXhfaXRlcmF0aW9uID0gODAwKSB7XG4gICAgICAgIHRoaXMuY2hlY2tfaW5pdCgpO1xuICAgICAgICBmb3IgKGxldCBpdGVyID0gMDsgaXRlciA8IG1heF9pdGVyYXRpb247ICsraXRlcikge1xuICAgICAgICAgICAgdGhpcy5fbmV4dChpdGVyKTtcbiAgICAgICAgICAgIHlpZWxkIHRoaXMucHJvamVjdGlvbjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5wcm9qZWN0aW9uO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERvZXMgdGhlIGl0ZXJhdGlvbiBzdGVwLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGl0ZXJcbiAgICAgKi9cbiAgICBfbmV4dChpdGVyKSB7XG4gICAgICAgIGNvbnN0IGdhbW1hID0gaXRlciA+IDE1MCA/IDAuNSA6IDAuMztcbiAgICAgICAgY29uc3Qgb2xkX0MgPSB0aGlzLkM7XG4gICAgICAgIGNvbnN0IHZlbCA9IHRoaXMudmVsO1xuICAgICAgICBjb25zdCBZID0gdGhpcy5ZLmFkZCh2ZWwubXVsdChnYW1tYSkpO1xuICAgICAgICBjb25zdCB7IGdyYWQsIGxvc3MsIG5fdmlvbCB9ID0gdGhpcy5fZ3JhZChZKTtcbiAgICAgICAgdGhpcy5DID0gbG9zcztcbiAgICAgICAgdGhpcy5ZID0gdGhpcy5fdXBkYXRlX2VtYmVkZGluZyhZLCBpdGVyLCBncmFkKTtcbiAgICAgICAgdGhpcy5sciAqPSBvbGRfQyA+IGxvc3MgKyB0aGlzLl9wYXJhbWV0ZXJzLnRvbCA/IDEuMDEgOiAwLjk7XG4gICAgICAgIHJldHVybiB0aGlzLlk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgZW1iZWRkaW5nLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtNYXRyaXh9IFlcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gaXRlclxuICAgICAqIEBwYXJhbSB7TWF0cml4fSBncmFkXG4gICAgICovXG4gICAgX3VwZGF0ZV9lbWJlZGRpbmcoWSwgaXRlciwgZ3JhZCkge1xuICAgICAgICBjb25zdCBbTiwgZGltXSA9IFkuc2hhcGU7XG4gICAgICAgIGNvbnN0IGdhbW1hID0gaXRlciA+IDE1MCA/IDAuOSA6IDAuNTsgLy8gbW9tZW50IHBhcmFtZXRlclxuICAgICAgICBjb25zdCBtaW5fZ2FpbiA9IDAuMDE7XG4gICAgICAgIGNvbnN0IGdhaW4gPSB0aGlzLmdhaW47XG4gICAgICAgIGNvbnN0IHZlbCA9IHRoaXMudmVsO1xuICAgICAgICBjb25zdCBsciA9IHRoaXMubHI7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgTjsgKytpKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBkID0gMDsgZCA8IGRpbTsgKytkKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3X2dhaW4gPSBNYXRoLnNpZ24odmVsLmVudHJ5KGksIGQpKSAhPSBNYXRoLnNpZ24oZ3JhZC5lbnRyeShpLCBkKSkgPyBnYWluLmVudHJ5KGksIGQpICsgMC4yIDogTWF0aC5tYXgoZ2Fpbi5lbnRyeShpLCBkKSAqIDAuOCwgbWluX2dhaW4pO1xuICAgICAgICAgICAgICAgIGdhaW4uc2V0X2VudHJ5KGksIGQsIG5ld19nYWluKTtcbiAgICAgICAgICAgICAgICB2ZWwuc2V0X2VudHJ5KGksIGQsIGdhbW1hICogdmVsLmVudHJ5KGksIGQpIC0gbHIgKiBnYWluLmVudHJ5KGksIGQpICogZ3JhZC5lbnRyeShpLCBkKSk7XG4gICAgICAgICAgICAgICAgWS5zZXRfZW50cnkoaSwgZCwgWS5lbnRyeShpLCBkKSArIHZlbC5lbnRyeShpLCBkKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgTWF0cml4IH0gZnJvbSBcIi4uL21hdHJpeC9pbmRleC5qc1wiO1xuaW1wb3J0IHsgZXVjbGlkZWFuLCBldWNsaWRlYW5fc3F1YXJlZCB9IGZyb20gXCIuLi9tZXRyaWNzL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBCYWxsVHJlZSB9IGZyb20gXCIuLi9rbm4vaW5kZXguanNcIjtcbmltcG9ydCB7IG5ldW1haXJfc3VtIH0gZnJvbSBcIi4uL251bWVyaWNhbC9pbmRleC5qc1wiO1xuaW1wb3J0IHsgbGluc3BhY2UgfSBmcm9tIFwiLi4vbWF0cml4L2luZGV4LmpzXCI7XG5pbXBvcnQgeyBwb3dlbGwgfSBmcm9tIFwiLi4vb3B0aW1pemF0aW9uL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBEUiB9IGZyb20gXCIuL0RSLmpzXCI7XG5pbXBvcnQgeyBtYXggfSBmcm9tIFwiLi4vdXRpbC9pbmRleC5qc1wiO1xuaW1wb3J0IHsgS05OIH0gZnJvbSBcIi4uL2tubi9pbmRleC5qc1wiO1xuXG4vKipcbiAqIEBjbGFzc1xuICogQGFsaWFzIFVNQVBcbiAqIEBleHRlbmRzIERSXG4gKi9cbmV4cG9ydCBjbGFzcyBVTUFQIGV4dGVuZHMgRFIge1xuICAgIC8qKlxuICAgICAqXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQG1lbWJlcm9mIG1vZHVsZTpkaW1lbnNpb25hbGl0eV9yZWR1Y3Rpb25cbiAgICAgKiBAYWxpYXMgVU1BUFxuICAgICAqIEBwYXJhbSB7TWF0cml4fSBYIC0gdGhlIGhpZ2gtZGltZW5zaW9uYWwgZGF0YS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcGFyYW1ldGVycyAtIE9iamVjdCBjb250YWluaW5nIHBhcmFtZXRlcml6YXRpb24gb2YgdGhlIERSIG1ldGhvZC5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3BhcmFtZXRlcnMubl9uZWlnaGJvcnMgPSAxNV0gLSBzaXplIG9mIHRoZSBsb2NhbCBuZWlnaGJvcmhvb2QuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtwYXJhbWV0ZXJzLmxvY2FsX2Nvbm5lY3Rpdml0eSA9IDFdIC0gbnVtYmVyIG9mIG5lYXJlc3QgbmVpZ2hib3JzIGNvbm5lY3RlZCBpbiB0aGUgbG9jYWwgbmVpZ2hib3Job29kLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbcGFyYW1ldGVycy5taW5fZGlzdCA9IDFdIC0gY29udHJvbHMgaG93IHRpZ2h0bHkgcG9pbnRzIGdldCBwYWNrZWQgdG9nZXRoZXIuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtwYXJhbWV0ZXJzLmQgPSAyXSAtIHRoZSBkaW1lbnNpb25hbGl0eSBvZiB0aGUgcHJvamVjdGlvbi5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcGFyYW1ldGVycy5tZXRyaWMgPSBldWNsaWRlYW5dIC0gdGhlIG1ldHJpYyB3aGljaCBkZWZpbmVzIHRoZSBkaXN0YW5jZSBiZXR3ZWVuIHR3byBwb2ludHMgaW4gdGhlIGhpZ2gtZGltZW5zaW9uYWwgc3BhY2UuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtwYXJhbWV0ZXJzLl9zcHJlYWQgPSAxXSAtIFRoZSBlZmZlY3RpdmUgc2NhbGUgb2YgZW1iZWRkZWQgcG9pbnRzLiAoSW4gY29tYmluYXRpb24gd2l0aCB7QGxpbmsgcGFyYW1ldGVycy5taW5fZGlzdH0pXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtwYXJhbWV0ZXJzLl9zZXRfb3BfbWl4X3JhdGlvID0gMV0gLSBJbnRlcnBvbGF0ZSBiZXR3ZWVuIHVuaW9uIGFuZCBpbnRlcnNlY3Rpb24uXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtwYXJhbWV0ZXJzLl9yZXB1bHNpb25fc3RyZW5ndGggPSAxXSAgLSBXZWlnaHRpbmcgYXBwbGllZCB0byBuZWdhdGl2ZSBzYW1wbGVzLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbcGFyYW1ldGVycy5fbmVnYXRpdmVfc2FtcGxlX3JhdGUgPSA1XSAtIFRoZSBudW1iZXIgb2YgbmVnYXRpdmUgc2FtcGxlcyBwZXIgcG9zaXRpdmUgc2FtcGxlLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbcGFyYW1ldGVycy5fbl9lcG9jaHMgPSAzNTBdIC0gVGhlIG51bWJlciBvZiB0cmFpbmluZyBlcG9jaHMuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtwYXJhbWV0ZXIuX2luaXRpYWxfYWxwaGEgPSAxXSAtIFRoZSBpbml0aWFsIGxlYXJuaW5nIHJhdGUgZm9yIHRoZSBvcHRpbWl6YXRpb24uXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtwYXJhbWV0ZXJzLnNlZWQgPSAxMjEyXSAtIHRoZSBzZWVkIGZvciB0aGUgcmFuZG9tIG51bWJlciBnZW5lcmF0b3IuXG4gICAgICogQHJldHVybnMge1VNQVB9XG4gICAgICovXG4gICAgY29uc3RydWN0b3IoWCwgcGFyYW1ldGVycykge1xuICAgICAgICBzdXBlcihYLCB7IG5fbmVpZ2hib3JzOiAxNSwgbG9jYWxfY29ubmVjdGl2aXR5OiAxLCBtaW5fZGlzdDogMSwgZDogMiwgbWV0cmljOiBldWNsaWRlYW4sIHNlZWQ6IDEyMTIsIFxuICAgICAgICAgICAgX3NwcmVhZDogMSwgX3NldF9vcF9taXhfcmF0aW86IDEsIF9yZXB1bHNpb25fc3RyZW5ndGg6IDEsIF9uZWdhdGl2ZV9zYW1wbGVfcmF0ZTogNSwgX25fZXBvY2hzOiAzNTAsIF9pbml0aWFsX2FscGhhOiAxIH0sIHBhcmFtZXRlcnMpO1xuICAgICAgICBbdGhpcy5fTiwgdGhpcy5fRF0gPSB0aGlzLlguc2hhcGU7XG4gICAgICAgIGxldCBuX25laWdoYm9ycyA9IE1hdGgubWluKHRoaXMuX04gLSAxLCB0aGlzLnBhcmFtZXRlcihcIm5fbmVpZ2hib3JzXCIpKTtcbiAgICAgICAgdGhpcy5wYXJhbWV0ZXIoXCJuX25laWdoYm9yc1wiLCBuX25laWdoYm9ycyk7XG4gICAgICAgIHRoaXMucGFyYW1ldGVyKFwibG9jYWxfY29ubmVjdGl2aXR5XCIsIE1hdGgubWluKHRoaXMucGFyYW1ldGVyKFwibG9jYWxfY29ubmVjdGl2aXR5XCIpLCBuX25laWdoYm9ycyAtIDEpKTtcbiAgICAgICAgdGhpcy5faXRlciA9IDA7XG4gICAgICAgIGNvbnN0IHJhbmRvbWl6ZXIgPSB0aGlzLl9yYW5kb21pemVyO1xuICAgICAgICB0aGlzLlkgPSBuZXcgTWF0cml4KHRoaXMuX04sIHRoaXMucGFyYW1ldGVyKFwiZFwiKSwgKCkgPT4gcmFuZG9taXplci5yYW5kb20pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBzcHJlYWRcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gbWluX2Rpc3RcbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9XG4gICAgICovXG4gICAgX2ZpbmRfYWJfcGFyYW1zKHNwcmVhZCwgbWluX2Rpc3QpIHtcbiAgICAgICAgY29uc3QgY3VydmUgPSAoeCwgYSwgYikgPT4gMSAvICgxICsgYSAqIE1hdGgucG93KHgsIDIgKiBiKSk7XG4gICAgICAgIGNvbnN0IHh2ID0gbGluc3BhY2UoMCwgc3ByZWFkICogMywgMzAwKTtcbiAgICAgICAgY29uc3QgeXYgPSBsaW5zcGFjZSgwLCBzcHJlYWQgKiAzLCAzMDApO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBuID0geHYubGVuZ3RoOyBpIDwgbjsgKytpKSB7XG4gICAgICAgICAgICBjb25zdCB4dl9pID0geHZbaV07XG4gICAgICAgICAgICB5dltpXSA9IHh2X2kgPCBtaW5fZGlzdCA/IDEgOiBNYXRoLmV4cCgtKHh2X2kgLSBtaW5fZGlzdCkgLyBzcHJlYWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZXJyID0gKHApID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yID0gbGluc3BhY2UoMSwgMzAwKS5tYXAoKF8sIGkpID0+IHl2W2ldIC0gY3VydmUoeHZbaV0sIHBbMF0sIHBbMV0pKTtcbiAgICAgICAgICAgIHJldHVybiBNYXRoLnNxcnQobmV1bWFpcl9zdW0oZXJyb3IubWFwKChlKSA9PiBlICogZSkpKTtcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gcG93ZWxsKGVyciwgWzEsIDFdKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXk8QXJyYXk+fSBkaXN0YW5jZXNcbiAgICAgKiBAcGFyYW0ge0FycmF5PE51bWJlcj59IHNpZ21hc1xuICAgICAqIEBwYXJhbSB7QXJyYXk8TnVtYmVyPn0gcmhvc1xuICAgICAqIEByZXR1cm5zIHtBcnJheX1cbiAgICAgKi9cbiAgICBfY29tcHV0ZV9tZW1iZXJzaGlwX3N0cmVuZ3RocyhkaXN0YW5jZXMsIHNpZ21hcywgcmhvcykge1xuICAgICAgICBmb3IgKGxldCBpID0gMCwgbiA9IGRpc3RhbmNlcy5sZW5ndGg7IGkgPCBuOyArK2kpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwLCBtID0gZGlzdGFuY2VzW2ldLmxlbmd0aDsgaiA8IG07ICsraikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHYgPSBkaXN0YW5jZXNbaV1bal0udmFsdWUgLSByaG9zW2ldO1xuICAgICAgICAgICAgICAgIGRpc3RhbmNlc1tpXVtqXS52YWx1ZSA9IHYgPiAwID8gTWF0aC5leHAoLXYgLyBzaWdtYXNbaV0pIDogMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGlzdGFuY2VzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtLTk58QmFsbFRyZWV9IGtublxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBrXG4gICAgICogQHJldHVybnMge09iamVjdH1cbiAgICAgKi9cbiAgICBfc21vb3RoX2tubl9kaXN0KGtubiwgaykge1xuICAgICAgICBjb25zdCBTTU9PVEhfS19UT0xFUkFOQ0UgPSAxZS01O1xuICAgICAgICBjb25zdCBNSU5fS19ESVNUX1NDQUxFID0gMWUtMztcbiAgICAgICAgY29uc3Qgbl9pdGVyID0gNjQ7XG4gICAgICAgIGNvbnN0IHsgbG9jYWxfY29ubmVjdGl2aXR5LCBtZXRyaWMgfSA9IHRoaXMuX3BhcmFtZXRlcnM7XG4gICAgICAgIGNvbnN0IHRhcmdldCA9IE1hdGgubG9nMihrKTtcbiAgICAgICAgY29uc3QgcmhvcyA9IFtdO1xuICAgICAgICBjb25zdCBzaWdtYXMgPSBbXTtcbiAgICAgICAgY29uc3QgWCA9IHRoaXMuWDtcbiAgICAgICAgY29uc3QgTiA9IFguc2hhcGVbMF07XG4gICAgICAgIC8vY29uc3QgZGlzdGFuY2VzID0gWy4uLlhdLm1hcCh4X2kgPT4ga25uLnNlYXJjaCh4X2ksIGspLnJhd19kYXRhKCkucmV2ZXJzZSgpKTtcblxuICAgICAgICBjb25zdCBkaXN0YW5jZXMgPSBbXTtcbiAgICAgICAgaWYgKG1ldHJpYyA9PT0gXCJwcmVjb21wdXRlZFwiKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IE47ICsraSkge1xuICAgICAgICAgICAgICAgIGRpc3RhbmNlcy5wdXNoKGtubi5zZWFyY2goaSwgaykucmV2ZXJzZSgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgeF9pIG9mIFgpIHtcbiAgICAgICAgICAgICAgICBkaXN0YW5jZXMucHVzaChrbm4uc2VhcmNoKHhfaSwgaykucmF3X2RhdGEoKS5yZXZlcnNlKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBOOyArK2kpIHtcbiAgICAgICAgICAgIGxldCBsbyA9IDA7XG4gICAgICAgICAgICBsZXQgaGkgPSBJbmZpbml0eTtcbiAgICAgICAgICAgIGxldCBtaWQgPSAxO1xuXG4gICAgICAgICAgICBjb25zdCBzZWFyY2hfcmVzdWx0ID0gZGlzdGFuY2VzW2ldO1xuICAgICAgICAgICAgY29uc3Qgbm9uX3plcm9fZGlzdCA9IHNlYXJjaF9yZXN1bHQuZmlsdGVyKChkKSA9PiBkLnZhbHVlID4gMCk7XG4gICAgICAgICAgICBjb25zdCBub25femVyb19kaXN0X2xlbmd0aCA9IG5vbl96ZXJvX2Rpc3QubGVuZ3RoO1xuICAgICAgICAgICAgaWYgKG5vbl96ZXJvX2Rpc3RfbGVuZ3RoID49IGxvY2FsX2Nvbm5lY3Rpdml0eSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gTWF0aC5mbG9vcihsb2NhbF9jb25uZWN0aXZpdHkpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGludGVycG9sYXRpb24gPSBsb2NhbF9jb25uZWN0aXZpdHkgLSBpbmRleDtcbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJob3MucHVzaChub25femVyb19kaXN0W2luZGV4IC0gMV0pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW50ZXJwb2xhdGlvbiA+IFNNT09USF9LX1RPTEVSQU5DRSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmhvc1tpXS52YWx1ZSArPSBpbnRlcnBvbGF0aW9uICogKG5vbl96ZXJvX2Rpc3RbaW5kZXhdLnZhbHVlIC0gbm9uX3plcm9fZGlzdFtpbmRleCAtIDFdKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJob3NbaV0udmFsdWUgPSBpbnRlcnBvbGF0aW9uICogbm9uX3plcm9fZGlzdFswXS52YWx1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKG5vbl96ZXJvX2Rpc3RfbGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHJob3NbaV0gPSBub25femVyb19kaXN0W25vbl96ZXJvX2Rpc3RfbGVuZ3RoIC0gMV0udmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGxldCB4ID0gMDsgeCA8IG5faXRlcjsgKyt4KSB7XG4gICAgICAgICAgICAgICAgbGV0IHBzdW0gPSAwO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgazsgKytqKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGQgPSBzZWFyY2hfcmVzdWx0W2pdLnZhbHVlIC0gcmhvc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgcHN1bSArPSBkID4gMCA/IE1hdGguZXhwKC0oZCAvIG1pZCkpIDogMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKE1hdGguYWJzKHBzdW0gLSB0YXJnZXQpIDwgU01PT1RIX0tfVE9MRVJBTkNFKSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocHN1bSA+IHRhcmdldCkge1xuICAgICAgICAgICAgICAgICAgICBbaGksIG1pZF0gPSBbbWlkLCAobG8gKyBoaSkgLyAyXTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaGkgPT09IEluZmluaXR5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBbbG8sIG1pZF0gPSBbbWlkLCBtaWQgKiAyXTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFtsbywgbWlkXSA9IFttaWQsIChsbyArIGhpKSAvIDJdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2lnbWFzW2ldID0gbWlkO1xuXG4gICAgICAgICAgICBjb25zdCBtZWFuX2l0aGQgPSBzZWFyY2hfcmVzdWx0LnJlZHVjZSgoYSwgYikgPT4gYSArIGIudmFsdWUsIDApIC8gc2VhcmNoX3Jlc3VsdC5sZW5ndGg7XG4gICAgICAgICAgICAvL2xldCBtZWFuX2QgPSBudWxsO1xuICAgICAgICAgICAgaWYgKHJob3NbaV0gPiAwKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNpZ21hc1tpXSA8IE1JTl9LX0RJU1RfU0NBTEUgKiBtZWFuX2l0aGQpIHtcbiAgICAgICAgICAgICAgICAgICAgc2lnbWFzW2ldID0gTUlOX0tfRElTVF9TQ0FMRSAqIG1lYW5faXRoZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1lYW5fZCA9IGRpc3RhbmNlcy5yZWR1Y2UoKGFjYywgcmVzKSA9PiBhY2MgKyByZXMucmVkdWNlKChhLCBiKSA9PiBhICsgYi52YWx1ZSwgMCkgLyByZXMubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICBpZiAoc2lnbWFzW2ldID4gTUlOX0tfRElTVF9TQ0FMRSAqIG1lYW5fZCkge1xuICAgICAgICAgICAgICAgICAgICBzaWdtYXNbaV0gPSBNSU5fS19ESVNUX1NDQUxFICogbWVhbl9kO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZGlzdGFuY2VzOiBkaXN0YW5jZXMsXG4gICAgICAgICAgICBzaWdtYXM6IHNpZ21hcyxcbiAgICAgICAgICAgIHJob3M6IHJob3MsXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge01hdHJpeH0gWFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBuX25laWdoYm9yc1xuICAgICAqIEByZXR1cm5zIHtNYXRyaXh9XG4gICAgICovXG4gICAgX2Z1enp5X3NpbXBsaWNpYWxfc2V0KFgsIG5fbmVpZ2hib3JzKSB7XG4gICAgICAgIGNvbnN0IE4gPSBYLnNoYXBlWzBdO1xuICAgICAgICBjb25zdCB7IG1ldHJpYyB9ID0gdGhpcy5fcGFyYW1ldGVycztcbiAgICAgICAgY29uc3Qga25uID0gbWV0cmljID09PSBcInByZWNvbXB1dGVkXCIgPyBuZXcgS05OKFgsIFwicHJlY29tcHV0ZWRcIikgOiBuZXcgQmFsbFRyZWUoWC50bzJkQXJyYXksIG1ldHJpYyk7XG4gICAgICAgIGxldCB7IGRpc3RhbmNlcywgc2lnbWFzLCByaG9zIH0gPSB0aGlzLl9zbW9vdGhfa25uX2Rpc3Qoa25uLCBuX25laWdoYm9ycyk7XG4gICAgICAgIGRpc3RhbmNlcyA9IHRoaXMuX2NvbXB1dGVfbWVtYmVyc2hpcF9zdHJlbmd0aHMoZGlzdGFuY2VzLCBzaWdtYXMsIHJob3MpO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBuZXcgTWF0cml4KE4sIE4sIFwiemVyb3NcIik7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgTjsgKytpKSB7XG4gICAgICAgICAgICBjb25zdCBkaXN0YW5jZXNfaSA9IGRpc3RhbmNlc1tpXTtcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgZGlzdGFuY2VzX2kubGVuZ3RoOyArK2opIHtcbiAgICAgICAgICAgICAgICByZXN1bHQuc2V0X2VudHJ5KGksIGRpc3RhbmNlc19pW2pdLmVsZW1lbnQuaW5kZXgsIGRpc3RhbmNlc19pW2pdLnZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0cmFuc3Bvc2VkX3Jlc3VsdCA9IHJlc3VsdC5UO1xuICAgICAgICBjb25zdCBwcm9kX21hdHJpeCA9IHJlc3VsdC5tdWx0KHRyYW5zcG9zZWRfcmVzdWx0KTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdFxuICAgICAgICAgICAgLmFkZCh0cmFuc3Bvc2VkX3Jlc3VsdClcbiAgICAgICAgICAgIC5zdWIocHJvZF9tYXRyaXgpXG4gICAgICAgICAgICAubXVsdCh0aGlzLl9zZXRfb3BfbWl4X3JhdGlvKVxuICAgICAgICAgICAgLmFkZChwcm9kX21hdHJpeC5tdWx0KDEgLSB0aGlzLnBhcmFtZXRlcihcIl9zZXRfb3BfbWl4X3JhdGlvXCIpKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gbl9lcG9jaHNcbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9XG4gICAgICovXG4gICAgX21ha2VfZXBvY2hzX3Blcl9zYW1wbGUobl9lcG9jaHMpIHtcbiAgICAgICAgY29uc3Qgd2VpZ2h0cyA9IHRoaXMuX3dlaWdodHM7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IG5ldyBGbG9hdDMyQXJyYXkod2VpZ2h0cy5sZW5ndGgpLmZpbGwoLTEpO1xuICAgICAgICBjb25zdCB3ZWlnaHRzX21heCA9IG1heCh3ZWlnaHRzKTtcbiAgICAgICAgY29uc3Qgbl9zYW1wbGVzID0gd2VpZ2h0cy5tYXAoKHcpID0+IG5fZXBvY2hzICogKHcgLyB3ZWlnaHRzX21heCkpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJlc3VsdC5sZW5ndGg7ICsraSkgaWYgKG5fc2FtcGxlc1tpXSA+IDApIHJlc3VsdFtpXSA9IE1hdGgucm91bmQobl9lcG9jaHMgLyBuX3NhbXBsZXNbaV0pO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtNYXRyaXh9IGdyYXBoXG4gICAgICogQHJldHVybnMge09iamVjdH1cbiAgICAgKi9cbiAgICBfdG9jb28oZ3JhcGgpIHtcbiAgICAgICAgY29uc3Qgcm93cyA9IFtdO1xuICAgICAgICBjb25zdCBjb2xzID0gW107XG4gICAgICAgIGNvbnN0IGRhdGEgPSBbXTtcbiAgICAgICAgY29uc3QgW3Jvd3NfbiwgY29sc19uXSA9IGdyYXBoLnNoYXBlO1xuICAgICAgICBmb3IgKGxldCByb3cgPSAwOyByb3cgPCByb3dzX247ICsrcm93KSB7XG4gICAgICAgICAgICBmb3IgKGxldCBjb2wgPSAwOyBjb2wgPCBjb2xzX247ICsrY29sKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZW50cnkgPSBncmFwaC5lbnRyeShyb3csIGNvbCk7XG4gICAgICAgICAgICAgICAgaWYgKGVudHJ5ICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJvd3MucHVzaChyb3cpO1xuICAgICAgICAgICAgICAgICAgICBjb2xzLnB1c2goY29sKTtcbiAgICAgICAgICAgICAgICAgICAgZGF0YS5wdXNoKGVudHJ5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJvd3M6IHJvd3MsXG4gICAgICAgICAgICBjb2xzOiBjb2xzLFxuICAgICAgICAgICAgZGF0YTogZGF0YSxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyBhbGwgbmVjZXNzYXJ5XG4gICAgICogQHJldHVybnMge1VNQVB9XG4gICAgICovXG4gICAgaW5pdCgpIHtcbiAgICAgICAgY29uc3QgeyBfc3ByZWFkLCBtaW5fZGlzdCwgbl9uZWlnaGJvcnMsIF9uX2Vwb2NocywgX25lZ2F0aXZlX3NhbXBsZV9yYXRlfSA9IHRoaXMuX3BhcmFtZXRlcnNcbiAgICAgICAgY29uc3QgW2EsIGJdID0gdGhpcy5fZmluZF9hYl9wYXJhbXMoX3NwcmVhZCwgbWluX2Rpc3QpO1xuICAgICAgICB0aGlzLl9hID0gYTtcbiAgICAgICAgdGhpcy5fYiA9IGI7XG4gICAgICAgIHRoaXMuX2dyYXBoID0gdGhpcy5fZnV6enlfc2ltcGxpY2lhbF9zZXQodGhpcy5YLCBuX25laWdoYm9ycyk7XG4gICAgICAgIGNvbnN0IHsgcm93cywgY29scywgZGF0YTogd2VpZ2h0cyB9ID0gdGhpcy5fdG9jb28odGhpcy5fZ3JhcGgpO1xuICAgICAgICB0aGlzLl9oZWFkID0gcm93cztcbiAgICAgICAgdGhpcy5fdGFpbCA9IGNvbHM7XG4gICAgICAgIHRoaXMuX3dlaWdodHMgPSB3ZWlnaHRzO1xuICAgICAgICB0aGlzLl9lcG9jaHNfcGVyX3NhbXBsZSA9IHRoaXMuX21ha2VfZXBvY2hzX3Blcl9zYW1wbGUoX25fZXBvY2hzKTtcbiAgICAgICAgdGhpcy5fZXBvY2hzX3Blcl9uZWdhdGl2ZV9zYW1wbGUgPSB0aGlzLl9lcG9jaHNfcGVyX3NhbXBsZS5tYXAoKGQpID0+IGQgKiBfbmVnYXRpdmVfc2FtcGxlX3JhdGUpO1xuICAgICAgICB0aGlzLl9lcG9jaF9vZl9uZXh0X3NhbXBsZSA9IHRoaXMuX2Vwb2Noc19wZXJfc2FtcGxlLnNsaWNlKCk7XG4gICAgICAgIHRoaXMuX2Vwb2NoX29mX25leHRfbmVnYXRpdmVfc2FtcGxlID0gdGhpcy5fZXBvY2hzX3Blcl9uZWdhdGl2ZV9zYW1wbGUuc2xpY2UoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgZ3JhcGgoKSB7XG4gICAgICAgIHRoaXMuY2hlY2tfaW5pdCgpO1xuICAgICAgICByZXR1cm4geyBjb2xzOiB0aGlzLl9oZWFkLCByb3dzOiB0aGlzLl90YWlsLCB3ZWlnaHRzOiB0aGlzLl93ZWlnaHRzIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2l0ZXJhdGlvbnM9MzUwXSAtIG51bWJlciBvZiBpdGVyYXRpb25zLlxuICAgICAqIEByZXR1cm5zIHtNYXRyaXh8QXJyYXl9XG4gICAgICovXG4gICAgdHJhbnNmb3JtKGl0ZXJhdGlvbnMgPSAzNTApIHtcbiAgICAgICAgaWYgKHRoaXMucGFyYW1ldGVyKFwiX25fZXBvY2hzXCIpICE9IGl0ZXJhdGlvbnMpIHtcbiAgICAgICAgICAgIHRoaXMucGFyYW1ldGVyKFwiX25fZXBvY2hzXCIsIGl0ZXJhdGlvbnMpO1xuICAgICAgICAgICAgdGhpcy5pbml0KCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jaGVja19pbml0KCk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaXRlcmF0aW9uczsgKytpKSB7XG4gICAgICAgICAgICB0aGlzLm5leHQoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5wcm9qZWN0aW9uO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtpdGVyYXRpb25zPTM1MF0gLSBudW1iZXIgb2YgaXRlcmF0aW9ucy5cbiAgICAgKiBAcmV0dXJucyB7TWF0cml4fEFycmF5fVxuICAgICAqL1xuICAgICpnZW5lcmF0b3IoaXRlcmF0aW9ucyA9IDM1MCkge1xuICAgICAgICBpZiAodGhpcy5wYXJhbWV0ZXIoXCJfbl9lcG9jaHNcIikgIT0gaXRlcmF0aW9ucykge1xuICAgICAgICAgICAgdGhpcy5wYXJhbWV0ZXIoXCJfbl9lcG9jaHNcIiwgaXRlcmF0aW9ucyk7XG4gICAgICAgICAgICB0aGlzLmluaXQoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNoZWNrX2luaXQoKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpdGVyYXRpb25zOyArK2kpIHtcbiAgICAgICAgICAgIHRoaXMubmV4dCgpO1xuICAgICAgICAgICAgeWllbGQgdGhpcy5wcm9qZWN0aW9uO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnByb2plY3Rpb247XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge051bWJlcn0geFxuICAgICAqIEByZXR1cm5zIHtOdW1iZXJ9XG4gICAgICovXG4gICAgX2NsaXAoeCkge1xuICAgICAgICBpZiAoeCA+IDQpIHJldHVybiA0O1xuICAgICAgICBpZiAoeCA8IC00KSByZXR1cm4gLTQ7XG4gICAgICAgIHJldHVybiB4O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIHBlcmZvcm1zIHRoZSBvcHRpbWl6YXRpb24gc3RlcC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7TWF0cml4fSBoZWFkX2VtYmVkZGluZ1xuICAgICAqIEBwYXJhbSB7TWF0cml4fSB0YWlsX2VtYmVkZGluZ1xuICAgICAqIEBwYXJhbSB7TWF0cml4fSBoZWFkXG4gICAgICogQHBhcmFtIHtNYXRyaXh9IHRhaWxcbiAgICAgKiBAcmV0dXJucyB7TWF0cml4fVxuICAgICAqL1xuICAgIF9vcHRpbWl6ZV9sYXlvdXQoaGVhZF9lbWJlZGRpbmcsIHRhaWxfZW1iZWRkaW5nLCBoZWFkLCB0YWlsKSB7XG4gICAgICAgIGNvbnN0IHsgX2Q6IGRpbSwgX2FscGhhOiBhbHBoYSwgX3JlcHVsc2lvbl9zdHJlbmd0aDogcmVwdWxzaW9uX3N0cmVuZ3RoLCBfYTogYSwgX2I6IGIsIF9lcG9jaHNfcGVyX3NhbXBsZTogZXBvY2hzX3Blcl9zYW1wbGUsIF9lcG9jaHNfcGVyX25lZ2F0aXZlX3NhbXBsZTogZXBvY2hzX3Blcl9uZWdhdGl2ZV9zYW1wbGUsIF9lcG9jaF9vZl9uZXh0X25lZ2F0aXZlX3NhbXBsZTogZXBvY2hfb2ZfbmV4dF9uZWdhdGl2ZV9zYW1wbGUsIF9lcG9jaF9vZl9uZXh0X3NhbXBsZTogZXBvY2hfb2ZfbmV4dF9zYW1wbGUsIF9jbGlwOiBjbGlwIH0gPSB0aGlzO1xuICAgICAgICBjb25zdCB0YWlsX2xlbmd0aCA9IHRhaWwubGVuZ3RoO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBuID0gZXBvY2hzX3Blcl9zYW1wbGUubGVuZ3RoOyBpIDwgbjsgKytpKSB7XG4gICAgICAgICAgICBpZiAoZXBvY2hfb2ZfbmV4dF9zYW1wbGVbaV0gPD0gdGhpcy5faXRlcikge1xuICAgICAgICAgICAgICAgIGNvbnN0IGogPSBoZWFkW2ldO1xuICAgICAgICAgICAgICAgIGNvbnN0IGsgPSB0YWlsW2ldO1xuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnQgPSBoZWFkX2VtYmVkZGluZy5yb3coaik7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3RoZXIgPSB0YWlsX2VtYmVkZGluZy5yb3coayk7XG4gICAgICAgICAgICAgICAgY29uc3QgZGlzdCA9IGV1Y2xpZGVhbl9zcXVhcmVkKGN1cnJlbnQsIG90aGVyKTtcbiAgICAgICAgICAgICAgICBsZXQgZ3JhZF9jb2VmZiA9IDA7XG4gICAgICAgICAgICAgICAgaWYgKGRpc3QgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGdyYWRfY29lZmYgPSAoLTIgKiBhICogYiAqIE1hdGgucG93KGRpc3QsIGIgLSAxKSkgLyAoYSAqIE1hdGgucG93KGRpc3QsIGIpICsgMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZvciAobGV0IGQgPSAwOyBkIDwgZGltOyArK2QpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZ3JhZF9kID0gY2xpcChncmFkX2NvZWZmICogKGN1cnJlbnRbZF0gLSBvdGhlcltkXSkpICogYWxwaGE7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGMgPSBjdXJyZW50W2RdICsgZ3JhZF9kO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBvID0gb3RoZXJbZF0gLSBncmFkX2Q7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRbZF0gPSBjO1xuICAgICAgICAgICAgICAgICAgICBvdGhlcltkXSA9IG87XG4gICAgICAgICAgICAgICAgICAgIGhlYWRfZW1iZWRkaW5nLnNldF9lbnRyeShqLCBkLCBjKTtcbiAgICAgICAgICAgICAgICAgICAgdGFpbF9lbWJlZGRpbmcuc2V0X2VudHJ5KGssIGQsIG8pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlcG9jaF9vZl9uZXh0X3NhbXBsZVtpXSArPSBlcG9jaHNfcGVyX3NhbXBsZVtpXTtcbiAgICAgICAgICAgICAgICBjb25zdCBuX25lZ19zYW1wbGVzID0gKHRoaXMuX2l0ZXIgLSBlcG9jaF9vZl9uZXh0X25lZ2F0aXZlX3NhbXBsZVtpXSkgLyBlcG9jaHNfcGVyX25lZ2F0aXZlX3NhbXBsZVtpXTtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBwID0gMDsgcCA8IG5fbmVnX3NhbXBsZXM7ICsrcCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBrID0gTWF0aC5mbG9vcih0aGlzLl9yYW5kb21pemVyLnJhbmRvbSAqIHRhaWxfbGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3RoZXIgPSB0YWlsX2VtYmVkZGluZy5yb3codGFpbFtrXSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRpc3QgPSBldWNsaWRlYW5fc3F1YXJlZChjdXJyZW50LCBvdGhlcik7XG4gICAgICAgICAgICAgICAgICAgIGxldCBncmFkX2NvZWZmID0gMDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRpc3QgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBncmFkX2NvZWZmID0gKDIgKiByZXB1bHNpb25fc3RyZW5ndGggKiBiKSAvICgoMC4wMSArIGRpc3QpICogKGEgKiBNYXRoLnBvdyhkaXN0LCBiKSArIDEpKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChqID09PSBrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBkID0gMDsgZCA8IGRpbTsgKytkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBncmFkX2QgPSBjbGlwKGdyYWRfY29lZmYgKiAoY3VycmVudFtkXSAtIG90aGVyW2RdKSkgKiBhbHBoYTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGMgPSBjdXJyZW50W2RdICsgZ3JhZF9kO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbyA9IG90aGVyW2RdIC0gZ3JhZF9kO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFtkXSA9IGM7XG4gICAgICAgICAgICAgICAgICAgICAgICBvdGhlcltkXSA9IG87XG4gICAgICAgICAgICAgICAgICAgICAgICBoZWFkX2VtYmVkZGluZy5zZXRfZW50cnkoaiwgZCwgYyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0YWlsX2VtYmVkZGluZy5zZXRfZW50cnkodGFpbFtrXSwgZCwgbyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZXBvY2hfb2ZfbmV4dF9uZWdhdGl2ZV9zYW1wbGVbaV0gKz0gbl9uZWdfc2FtcGxlcyAqIGVwb2Noc19wZXJfbmVnYXRpdmVfc2FtcGxlW2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBoZWFkX2VtYmVkZGluZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm5zIHtNYXRyaXh9XG4gICAgICovXG4gICAgbmV4dCgpIHtcbiAgICAgICAgbGV0IGl0ZXIgPSArK3RoaXMuX2l0ZXI7XG4gICAgICAgIGxldCBZID0gdGhpcy5ZO1xuXG4gICAgICAgIHRoaXMuX2FscGhhID0gdGhpcy5wYXJhbWV0ZXIoXCJfaW5pdGlhbF9hbHBoYVwiKSAqICgxIC0gaXRlciAvIHRoaXMucGFyYW1ldGVyKFwiX25fZXBvY2hzXCIpKTtcbiAgICAgICAgdGhpcy5ZID0gdGhpcy5fb3B0aW1pemVfbGF5b3V0KFksIFksIHRoaXMuX2hlYWQsIHRoaXMuX3RhaWwpO1xuXG4gICAgICAgIHJldHVybiB0aGlzLlk7XG4gICAgfVxufVxuIiwiLyoqXG4gKiBDb21wdXRlcyB0aGUgY2FuYmVycmEgZGlzdGFuY2UgYmV0d2VlbiB7QGxpbmsgYX0gYW5kIHtAbGluayBifS5cbiAqIEBtZW1iZXJvZiBtb2R1bGU6bWV0cmljc1xuICogQGFsaWFzIGNhbmJlcnJhXG4gKiBAcGFyYW0ge0FycmF5PE51bWJlcj59IGEgXG4gKiBAcGFyYW0ge0FycmF5PE51bWJlcj59IGIgXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBUaGUgY2FuYmVycmEgZGlzdGFuY2UgYmV0d2VlbiB7QGxpbmsgYX0gYW5kIHtAbGluayBifS5cbiAqIEBzZWUge0BsaW5rIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0NhbmJlcnJhX2Rpc3RhbmNlfVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihhLCBiKSB7XG4gICAgaWYgKGEubGVuZ3RoICE9PSBiLmxlbmd0aCkgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICBsZXQgbiA9IGEubGVuZ3RoO1xuICAgIGxldCBzdW0gPSAwO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbjsgKytpKSB7XG4gICAgICAgIHN1bSArPSAoTWF0aC5hYnMoYVtpXSAtIGJbaV0pIC8gKE1hdGguYWJzKGFbaV0pICsgTWF0aC5hYnMoYltpXSkpKVxuICAgIH1cbiAgICByZXR1cm4gc3VtO1xufSIsIi8qKlxuICogQ29tcHV0ZXMgdGhlIGNoZWJ5c2hldiBkaXN0YW5jZSAoTDxzdWI+4oiePC9zdWI+KSBiZXR3ZWVuIHtAbGluayBhfSBhbmQge0BsaW5rIGJ9LlxuICogQG1lbWJlcm9mIG1vZHVsZTptZXRyaWNzXG4gKiBAYWxpYXMgY2hlYnlzaGV2XG4gKiBAcGFyYW0ge0FycmF5PE51bWJlcj59IGFcbiAqIEBwYXJhbSB7QXJyYXk8TnVtYmVyPn0gYlxuICogQHJldHVybnMge051bWJlcn0gdGhlIGNoZWJ5c2hldiBkaXN0YW5jZSBiZXR3ZWVuIHtAbGluayBhfSBhbmQge0BsaW5rIGJ9LlxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoYSwgYikge1xuICAgIGlmIChhLmxlbmd0aCAhPSBiLmxlbmd0aCkgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICBsZXQgbiA9IGEubGVuZ3RoO1xuICAgIGxldCByZXMgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG47ICsraSkge1xuICAgICAgICByZXMucHVzaChNYXRoLmFicyhhW2ldIC0gYltpXSkpO1xuICAgIH1cbiAgICByZXR1cm4gTWF0aC5tYXgoLi4ucmVzKTtcbn1cbiIsIi8qKlxuICogQ29tcHV0ZXMgdGhlIGNvc2luZSBkaXN0YW5jZSAobm90IHNpbWlsYXJpdHkpIGJldHdlZW4ge0BsaW5rIGF9IGFuZCB7QGxpbmsgYn0uXG4gKiBAbWVtYmVyb2YgbW9kdWxlOm1ldHJpY3NcbiAqIEBhbGlhcyBjb3NpbmVcbiAqIEBwYXJhbSB7QXJyYXk8TnVtYmVyPn0gYVxuICogQHBhcmFtIHtBcnJheTxOdW1iZXI+fSBiXG4gKiBAZXhhbXBsZVxuICogZHJ1aWQuY29zaW5lKFsxLDBdLFsxLDFdKSA9PSAwLjc4NTM5ODE2MzM5NzQ0ODQgPT0gz4AvNFxuICogQHJldHVybnMge051bWJlcn0gVGhlIGNvc2luZSBkaXN0YW5jZSBiZXR3ZWVuIHtAbGluayBhfSBhbmQge0BsaW5rIGJ9LlxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoYSwgYikge1xuICAgIGlmIChhLmxlbmd0aCAhPT0gYi5sZW5ndGgpIHJldHVybiB1bmRlZmluZWQ7XG4gICAgbGV0IG4gPSBhLmxlbmd0aDtcbiAgICBsZXQgc3VtID0gMDtcbiAgICBsZXQgc3VtX2EgPSAwO1xuICAgIGxldCBzdW1fYiA9IDA7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuOyArK2kpIHtcbiAgICAgICAgc3VtICs9IGFbaV0gKiBiW2ldO1xuICAgICAgICBzdW1fYSArPSBhW2ldICogYVtpXTtcbiAgICAgICAgc3VtX2IgKz0gYltpXSAqIGJbaV07XG4gICAgfVxuICAgIHJldHVybiBNYXRoLmFjb3Moc3VtIC8gKE1hdGguc3FydChzdW1fYSkgKiBNYXRoLnNxcnQoc3VtX2IpKSk7XG59XG4iLCIvKipcbiAqIENvbXB1dGVzIHRoZSBoYW1taW5nIGRpc3RhbmNlIGJldHdlZW4ge0BsaW5rIGF9IGFuZCB7QGxpbmsgYn0uXG4gKiBAbWVtYmVyb2YgbW9kdWxlOm1ldHJpY3NcbiAqIEBhbGlhcyBoYW1taW5nXG4gKiBAcGFyYW0ge0FycmF5PE51bWJlcj59IGFcbiAqIEBwYXJhbSB7QXJyYXk8TnVtYmVyPn0gYlxuICogQHJldHVybnMge051bWJlcn0gdGhlIGhhbW1pbmcgZGlzdGFuY2UgYmV0d2VlbiB7QGxpbmsgYX0gYW5kIHtAbGluayBifS5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKGEsIGIpIHtcbiAgICBpZiAoYS5sZW5ndGggIT0gYi5sZW5ndGgpIHJldHVybiB1bmRlZmluZWQ7XG4gICAgY29uc3QgbiA9IGEubGVuZ3RoO1xuICAgIGxldCBkaXNhZ3JlZSA9IDA7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuOyArK2kpIHtcbiAgICAgICAgY29uc3QgeCA9IGFbaV07XG4gICAgICAgIGNvbnN0IHkgPSBiW2ldO1xuICAgICAgICBkaXNhZ3JlZSArPSB4ICE9IHk7XG4gICAgfVxuICAgIHJldHVybiBkaXNhZ3JlZSAvIG47XG59XG4iLCJpbXBvcnQgeyBuZXVtYWlyX3N1bSB9IGZyb20gXCIuLi9udW1lcmljYWwvaW5kZXguanNcIjtcblxuLyoqXG4gKiBDb21wdXRlcyB0aGUgaW5uZXIgcHJvZHVjdCBiZXR3ZWVuIHR3byBhcnJheXMgb2YgdGhlIHNhbWUgbGVuZ3RoLlxuICogQG1lbWJlcm9mIG1vZHVsZTpsaW5lYXJfYWxnZWJyYVxuICogQGFsaWFzIGlubmVyX3Byb2R1Y3RcbiAqIEBwYXJhbSB7QXJyYXl8RmxvYXQ2NEFycmF5fSBhIC0gQXJyYXkgYVxuICogQHBhcmFtIHtBcnJheXxGbG9hdDY0QXJyYXl9IGIgLSBBcnJheSBiXG4gKiBAcmV0dXJucyBUaGUgaW5uZXIgcHJvZHVjdCBiZXR3ZWVuIHtAbGluayBhfSBhbmQge0BsaW5rIGJ9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgY29uc3QgTiA9IGEubGVuZ3RoO1xuICAgIGlmIChOICE9IGIubGVuZ3RoKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkFycmF5IGEgYW5kIGIgbXVzdCBoYXZlIHRoZSBzYW1lIGxlbmd0aCFcIilcbiAgICB9XG4gICAgbGV0IHN1bSA9IDA7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBOOyArK2kpIHtcbiAgICAgICAgc3VtICs9IGEgKiBiO1xuICAgIH1cbiAgICByZXR1cm4gc3VtO1xufVxuIiwiLyoqXG4gKiBDb21wdXRlcyB0aGUgamFjY2FyZCBkaXN0YW5jZSBiZXR3ZWVuIHtAbGluayBhfSBhbmQge0BsaW5rIGJ9LlxuICogQG1lbWJlcm9mIG1vZHVsZTptZXRyaWNzXG4gKiBAYWxpYXMgamFjY2FyZFxuICogQHBhcmFtIHtBcnJheTxOdW1iZXI+fSBhXG4gKiBAcGFyYW0ge0FycmF5PE51bWJlcj59IGJcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IHRoZSBqYWNjYXJkIGRpc3RhbmNlIGJldHdlZW4ge0BsaW5rIGF9IGFuZCB7QGxpbmsgYn0uXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgaWYgKGEubGVuZ3RoICE9IGIubGVuZ3RoKSByZXR1cm4gdW5kZWZpbmVkO1xuICAgIGNvbnN0IG4gPSBhLmxlbmd0aDtcbiAgICBsZXQgbnVtX25vbl96ZXJvID0gMDtcbiAgICBsZXQgbnVtX2VxdWFsID0gMDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG47ICsraSkge1xuICAgICAgICBjb25zdCB4ID0gYVtpXSAhPSAwO1xuICAgICAgICBjb25zdCB5ID0gYltpXSAhPSAwO1xuICAgICAgICBudW1fbm9uX3plcm8gKz0geCB8fCB5O1xuICAgICAgICBudW1fZXF1YWwgKz0geCAmJiB5O1xuICAgIH1cbiAgICByZXR1cm4gKG51bV9ub25femVybyAtIG51bV9lcXVhbCkgLyBudW1fbm9uX3plcm87XG59XG4iLCIvKipcbiAqIE51bWVyaWNhbCBzdGFibGUgc3VtbWF0aW9uIHdpdGggdGhlIEthaGFuIHN1bW1hdGlvbiBhbGdvcml0aG0uXG4gKiBAbWVtYmVyb2YgbW9kdWxlOm51bWVyaWNhbFxuICogQGFsaWFzIGthaGFuX3N1bVxuICogQHBhcmFtIHtBcnJheX0gc3VtbWFuZHMgLSBBcnJheSBvZiB2YWx1ZXMgdG8gc3VtIHVwLlxuICogQHJldHVybnMge251bWJlcn0gVGhlIHN1bS5cbiAqIEBzZWUge0BsaW5rIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0thaGFuX3N1bW1hdGlvbl9hbGdvcml0aG19XG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIChzdW1tYW5kcykge1xuICAgIGxldCBuID0gc3VtbWFuZHMubGVuZ3RoO1xuICAgIGxldCBzdW0gPSAwO1xuICAgIGxldCBjb21wZW5zYXRpb24gPSAwO1xuICAgIGxldCB5LCB0O1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuOyArK2kpIHtcbiAgICAgICAgeSA9IHN1bW1hbmRzW2ldIC0gY29tcGVuc2F0aW9uO1xuICAgICAgICB0ID0gc3VtICsgeTtcbiAgICAgICAgY29tcGVuc2F0aW9uID0gdCAtIHN1bSAtIHk7XG4gICAgICAgIHN1bSA9IHQ7XG4gICAgfVxuICAgIHJldHVybiBzdW07XG59XG4iLCIvKipcbiAqIENvbXB1dGVzIHRoZSBtYW5oYXR0YW4gZGlzdGFuY2UgKGw8c3ViPjE8L3N1Yj4pIGJldHdlZW4ge0BsaW5rIGF9IGFuZCB7QGxpbmsgYn0uXG4gKiBAbWVtYmVyb2YgbW9kdWxlOm1ldHJpY3NcbiAqIEBhbGlhcyBtYW5oYXR0YW5cbiAqIEBwYXJhbSB7QXJyYXk8TnVtYmVyPn0gYVxuICogQHBhcmFtIHtBcnJheTxOdW1iZXI+fSBiXG4gKiBAcmV0dXJucyB7TnVtYmVyfSB0aGUgbWFuaGF0dGFuIGRpc3RhbmNlIGJldHdlZW4ge0BsaW5rIGF9IGFuZCB7QGxpbmsgYn0uXG4gKi8gXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoYSwgYikge1xuICAgIGlmIChhLmxlbmd0aCAhPSBiLmxlbmd0aCkgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICBsZXQgbiA9IGEubGVuZ3RoO1xuICAgIGxldCBzdW0gPSAwO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbjsgKytpKSB7XG4gICAgICAgIHN1bSArPSBNYXRoLmFicyhhW2ldIC0gYltpXSk7XG4gICAgfVxuICAgIHJldHVybiBzdW07XG59XG4iLCJpbXBvcnQgeyBub3JtIH0gZnJvbSBcIi4vaW5kZXguanNcIjtcbmltcG9ydCB7IGV1Y2xpZGVhbiB9IGZyb20gXCIuLi9tZXRyaWNzL2luZGV4LmpzXCI7XG5cbi8qKlxuICogTm9ybWFsaXplcyBWZWN0b3Ige0BsaW5rIHZ9LlxuICogQG1lbWJlcm9mIG1vZHVsZTptYXRyaXhcbiAqIEBhbGlhcyBub3JtYWxpemVcbiAqIEBwYXJhbSB7QXJyYXk8TnVtYmVyPnxGbG9hdDY0QXJyYXl9IHYgLSBWZWN0b3JcbiAqIEBwYXJhbSB7RnVuY3Rpb259IG1ldHJpYyBcbiAqIEByZXR1cm5zIHtBcnJheTxOdW1iZXI+fEZsb2F0NjRBcnJheX0gLSBUaGUgbm9ybWFsaXplZCB2ZWN0b3Igd2l0aCBsZW5ndGggMS5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24odiwgbWV0cmljID0gZXVjbGlkZWFuKSAge1xuICAgIGNvbnN0IHZfbm9ybSA9IG5vcm0odiwgbWV0cmljKTtcbiAgICByZXR1cm4gdi5tYXAodmFsdWUgPT4gdmFsdWUgLyB2X25vcm0pO1xufSIsImltcG9ydCB7IE1hdHJpeCwgbm9ybSB9IGZyb20gXCIuLi9tYXRyaXgvaW5kZXguanNcIjtcblxuLyoqXG4gKiBDb21wdXRlcyB0aGUgUVIgRGVjb21wb3NpdGlvbiBvZiB0aGUgTWF0cml4IHtAbGluayBBfSB3aXRoIGhvdXNlaG9sZGVyIHRyYW5zZm9ybWF0aW9ucy5cbiAqIEBtZW1iZXJvZiBtb2R1bGU6bGluZWFyX2FsZ2VicmFcbiAqIEBhbGlhcyBxcl9ob3VzZWhvbGRlclxuICogQHBhcmFtIHtNYXRyaXh9IEFcbiAqIEByZXR1cm5zIHt7UjogTWF0cml4LCBROiBNYXRyaXh9fVxuICogQHNlZSB7QGxpbmsgaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvUVJfZGVjb21wb3NpdGlvbiNVc2luZ19Ib3VzZWhvbGRlcl9yZWZsZWN0aW9uc31cbiAqIEBzZWUge0BsaW5rIGh0dHA6Ly9tbHdpa2kub3JnL2luZGV4LnBocC9Ib3VzZWhvbGRlcl9UcmFuc2Zvcm1hdGlvbn1cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKEEpIHtcbiAgICBjb25zdCBbcm93cywgY29sc10gPSBBLnNoYXBlO1xuICAgIGNvbnN0IFEgPSBuZXcgTWF0cml4KHJvd3MsIHJvd3MsIFwiSVwiKTtcbiAgICBjb25zdCBSID0gQS5jbG9uZSgpO1xuXG4gICAgZm9yIChsZXQgaiA9IDA7IGogPCBjb2xzOyArK2opIHtcbiAgICAgICAgY29uc3QgeCA9IE1hdHJpeC5mcm9tKFIuY29sKGopLnNsaWNlKGopKTtcbiAgICAgICAgY29uc3QgeF9ub3JtID0gbm9ybSh4KTtcbiAgICAgICAgY29uc3QgeDAgPSB4LmVudHJ5KDAsIDApO1xuICAgICAgICBjb25zdCByaG8gPSAtTWF0aC5zaWduKHgwKTtcbiAgICAgICAgY29uc3QgdTEgPSB4MCAtIHJobyAqIHhfbm9ybTtcbiAgICAgICAgY29uc3QgdSA9IHguZGl2aWRlKHUxKS5zZXRfZW50cnkoMCwgMCwgMSk7XG4gICAgICAgIGNvbnN0IGJldGEgPSAoLXJobyAqIHUxKSAvIHhfbm9ybTtcblxuICAgICAgICBjb25zdCB1X291dGVyX3UgPSB1Lm91dGVyKHUpO1xuICAgICAgICBjb25zdCBSX2Jsb2NrID0gUi5nZXRfYmxvY2soaiwgMCk7XG4gICAgICAgIGNvbnN0IG5ld19SID0gUl9ibG9jay5zdWIodV9vdXRlcl91LmRvdChSX2Jsb2NrKS5tdWx0KGJldGEpKTtcbiAgICAgICAgY29uc3QgUV9ibG9jayA9IFEuZ2V0X2Jsb2NrKDAsIGopO1xuICAgICAgICBjb25zdCBuZXdfUSA9IFFfYmxvY2suc3ViKFFfYmxvY2suZG90KHVfb3V0ZXJfdSkubXVsdChiZXRhKSk7XG4gICAgICAgIFIuc2V0X2Jsb2NrKGosIDAsIG5ld19SKTtcbiAgICAgICAgUS5zZXRfYmxvY2soMCwgaiwgbmV3X1EpO1xuICAgIH1cbiAgICByZXR1cm4geyBSLCBRIH07XG59XG4iLCIvKipcbiAqIENvbXB1dGVzIHRoZSBTb2thbC1NaWNoZW5lciBkaXN0YW5jZSBiZXR3ZWVuIHtAbGluayBhfSBhbmQge0BsaW5rIGJ9LlxuICogQG1lbWJlcm9mIG1vZHVsZTptZXRyaWNzXG4gKiBAYWxpYXMgc29rYWxfbWljaGVuZXJcbiAqIEBwYXJhbSB7QXJyYXk8TnVtYmVyPn0gYSBcbiAqIEBwYXJhbSB7QXJyYXk8TnVtYmVyPn0gYiBcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IHRoZSBTb2thbC1NaWNoZW5lciBkaXN0YW5jZSBiZXR3ZWVuIHtAbGluayBhfSBhbmQge0BsaW5rIGJ9LiAgXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGEsIGIpIHtcbiAgICBpZiAoYS5sZW5ndGggIT0gYi5sZW5ndGgpIHJldHVybiB1bmRlZmluZWRcbiAgICBjb25zdCBuID0gYS5sZW5ndGg7XG4gICAgbGV0IG51bV9ub3RfZXF1YWwgPSAwO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbjsgKytpKSB7XG4gICAgICAgIGNvbnN0IHggPSBhW2ldICE9IDA7XG4gICAgICAgIGNvbnN0IHkgPSBiW2ldICE9IDA7XG4gICAgICAgIG51bV9ub3RfZXF1YWwgKz0geCAhPSB5O1xuICAgIH1cbiAgICByZXR1cm4gKDIgKiBudW1fbm90X2VxdWFsKSAvIChuICsgbnVtX25vdF9lcXVhbCk7XG59IiwiLyoqXG4gKiBDb21wdXRlcyB0aGUgeXVsZSBkaXN0YW5jZSBiZXR3ZWVuIHtAbGluayBhfSBhbmQge0BsaW5rIGJ9LlxuICogQG1lbWJlcm9mIG1vZHVsZTptZXRyaWNzXG4gKiBAYWxpYXMgeXVsZVxuICogQHBhcmFtIHtBcnJheTxOdW1iZXI+fSBhXG4gKiBAcGFyYW0ge0FycmF5PE51bWJlcj59IGJcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IHRoZSB5dWxlIGRpc3RhbmNlIGJldHdlZW4ge0BsaW5rIGF9IGFuZCB7QGxpbmsgYn0uXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgaWYgKGEubGVuZ3RoICE9IGIubGVuZ3RoKSByZXR1cm4gdW5kZWZpbmVkO1xuICAgIGNvbnN0IG4gPSBhLmxlbmd0aDtcbiAgICBsZXQgbnVtX3RydWVfdHJ1ZSA9IDA7XG4gICAgbGV0IG51bV90cnVlX2ZhbHNlID0gMDtcbiAgICBsZXQgbnVtX2ZhbHNlX3RydWUgPSAwO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbjsgKytpKSB7XG4gICAgICAgIGNvbnN0IHggPSBhW2ldICE9IDA7XG4gICAgICAgIGNvbnN0IHkgPSBiW2ldICE9IDA7XG4gICAgICAgIG51bV90cnVlX3RydWUgKz0geCAmJiB5O1xuICAgICAgICBudW1fdHJ1ZV9mYWxzZSArPSB4ICYmICF5O1xuICAgICAgICBudW1fZmFsc2VfdHJ1ZSArPSAheCAmJiB4O1xuICAgIH1cbiAgICBjb25zdCBudW1fZmFsc2VfZmFsc2UgPSBuIC0gbnVtX3RydWVfdHJ1ZSAtIG51bV90cnVlX2ZhbHNlIC0gbnVtX2ZhbHNlX3RydWU7XG4gICAgcmV0dXJuIG51bV90cnVlX2ZhbHNlID09IDAgfHwgbnVtX2ZhbHNlX3RydWUgPT0gMCA/IDAgOiAoMiAqIG51bV90cnVlX2ZhbHNlICogbnVtX2ZhbHNlX3RydWUpIC8gKG51bV90cnVlX3RydWUgKiBudW1fZmFsc2VfZmFsc2UgKyBudW1fdHJ1ZV9mYWxzZSAqIG51bV9mYWxzZV90cnVlKTtcbn1cbiJdLCJuYW1lcyI6WyJhIiwiYiIsIk1hdGgiLCJzcXJ0IiwiZXVjbGlkZWFuX3NxdWFyZWQiLCJzdW1tYW5kcyIsIm4iLCJsZW5ndGgiLCJzdW0iLCJjb21wZW5zYXRpb24iLCJpIiwic3VtbWFuZCIsInQiLCJhYnMiLCJzIiwiQXJyYXkiLCJ4IiwieSIsIm5ldW1haXJfc3VtIiwiQSIsImsiLCJtZXRyaWMiLCJldWNsaWRlYW4iLCJyb3dzIiwic2hhcGUiLCJEIiwiZGlzdGFuY2VfbWF0cml4Iiwibk4iLCJyb3ciLCJmcm9tIiwibWFwIiwiZGlzdGFuY2UiLCJjb2wiLCJqIiwic29ydCIsInNsaWNlIiwiTWF0cml4IiwiQV9pIiwiZGlzdCIsInNldF9lbnRyeSIsInN0YXJ0IiwiZW5kIiwibnVtYmVyIiwibWF4Iiwicm91bmQiLCJyZXN1bHQiLCJ2IiwidmVjdG9yIiwiY29scyIsIkVycm9yIiwiRmxvYXQ2NEFycmF5IiwiUSIsIlIiLCJxIiwicV9kb3RfdiIsInFfIiwidl8iLCJ2X25vcm0iLCJub3JtIiwic2VlZCIsIm1heF9pdGVyYXRpb25zIiwicXIiLCJxcl9ncmFtc2NobWlkdCIsInRvbCIsInJhbmRvbWl6ZXIiLCJSYW5kb21pemVyIiwicmFuZG9tIiwib2xkUSIsImNsb25lIiwiUVIiLCJkb3QiLCJ2YWx1ZXMiLCJlaWdlbnZhbHVlcyIsImRpYWciLCJlaWdlbnZlY3RvcnMiLCJ0cmFuc3Bvc2UiLCJ0bzJkQXJyYXkiLCJjb25zdHJ1Y3RvciIsInZhbHVlIiwidGhpcyIsIl9yb3dzIiwiX2NvbHMiLCJfZGF0YSIsInN0YXRpYyIsInR5cGUiLCJpc0FycmF5IiwibSIsIl8iLCJkYXRhIiwic3ViYXJyYXkiLCJpdGVyYXRlX3Jvd3MiLCJTeW1ib2wiLCJpdGVyYXRvciIsInNldF9yb3ciLCJvZmZzZXQiLCJyZXN1bHRfY29sIiwiZW50cnkiLCJUIiwiaW52ZXJzZSIsIkIiLCJoIiwiaV9tYXgiLCJtYXhfdmFsIiwiSW5maW5pdHkiLCJ2YWwiLCJoX3ZhbCIsImlfdmFsIiwiZiIsIkJfcm93X3JvdyIsIkJfaV9qIiwiam9pbiIsIkkiLCJCX2kiLCJDIiwiZSIsIm91dGVyIiwibCIsImNvbmNhdCIsInJvd3NfQSIsImNvbHNfQSIsInJvd3NfQiIsImNvbHNfQiIsIlgiLCJzZXRfYmxvY2siLCJvZmZzZXRfcm93Iiwib2Zmc2V0X2NvbCIsImdldF9ibG9jayIsInN0YXJ0X3JvdyIsInN0YXJ0X2NvbCIsImVuZF9yb3ciLCJlbmRfY29sIiwibmV3X3JvdyIsIm5ld19jb2wiLCJnYXRoZXIiLCJyb3dfaW5kaWNlcyIsImNvbF9pbmRpY2VzIiwiTiIsInJvd19pbmRleCIsImNvbF9pbmRleCIsIl9hcHBseV9hcnJheSIsIl9hcHBseV9yb3d3aXNlX2FycmF5IiwiX2FwcGx5X2NvbHdpc2VfYXJyYXkiLCJfYXBwbHkiLCJ2YWx1ZV9yb3dzIiwidmFsdWVfY29scyIsIm11bHQiLCJkaXZpZGUiLCJhZGQiLCJzdWIiLCJwdXNoIiwiYXNBcnJheSIsIm1pbl9yb3dfY29sIiwibWluIiwibWVhbiIsIm1lYW5Sb3dzIiwibWVhbkNvbHMiLCJiX2kiLCJyIiwiZCIsInoiLCJhbHBoYSIsInJfbmV4dCIsImJldGEiLCJMIiwiVSIsIkxVIiwiTF9kaWFnIiwiVV9kaWFnIiwiZGV0IiwiTSIsIk1UIiwiTXRNIiwiTU10IiwiViIsIlNpZ21hIiwic2ltdWx0YW5lb3VzX3Bvd2VyaXRlcmF0aW9uIiwic2lnbWEiLCJfc2VlZCIsIl9OIiwiX00iLCJfTUFUUklYX0EiLCJfVVBQRVJfTUFTSyIsIl9MT1dFUl9NQVNLIiwiX210IiwiX210aSIsIkRhdGUiLCJnZXRUaW1lIiwibXQiLCJtdGkiLCJyYW5kb21faW50IiwibWFnMDEiLCJrayIsIk5fTSIsIk1fTiIsImNob2ljZSIsInNhbXBsZSIsImluZGV4X2xpc3QiLCJsaW5zcGFjZSIsInJhbmRvbV9pbmRleCIsInNwbGljZSIsInVuZGVmaW5lZCIsIkhlYXAiLCJlbGVtZW50cyIsImFjY2Vzc29yIiwiY29tcGFyYXRvciIsImhlYXBpZnkiLCJfYWNjZXNzb3IiLCJfY29udGFpbmVyIiwiX2NvbXBhcmF0b3IiLCJoZWFwIiwiY29udGFpbmVyIiwiZWxlbWVudCIsImZsb29yIiwiX2hlYXBpZnlfZG93biIsIl9zd2FwIiwiaW5kZXhfYSIsImluZGV4X2IiLCJfaGVhcGlmeV91cCIsImluZGV4IiwicGFyZW50SW5kZXgiLCJub2RlIiwic3RhcnRfaW5kZXgiLCJsZWZ0IiwicmlnaHQiLCJwb3AiLCJpdGVtIiwiZmlyc3QiLCJpdGVyYXRlIiwidG9BcnJheSIsInJhd19kYXRhIiwiZW1wdHkiLCJEaXNqb2ludFNldCIsIl9saXN0IiwiU2V0IiwibWFrZV9zZXQiLCJsaXN0IiwiaGFzIiwiX19kaXNqb2ludF9zZXQiLCJwYXJlbnQiLCJjaGlsZHJlbiIsInNpemUiLCJmaW5kIiwidW5pb24iLCJub2RlX3giLCJub2RlX3kiLCJmb3JFYWNoIiwiQmFsbFRyZWUiLCJfTm9kZSIsInBpdm90IiwiY2hpbGQxIiwiY2hpbGQyIiwicmFkaXVzIiwiX0xlYWYiLCJwb2ludHMiLCJfbWV0cmljIiwiX3Jvb3QiLCJfY29uc3RydWN0IiwiYyIsIl9ncmVhdGVzdF9zcHJlYWQiLCJzb3J0ZWRfZWxlbWVudHMiLCJwX2luZGV4IiwicCIsInNwcmVhZCIsInJlZHVjZSIsImFjYyIsImN1cnJlbnQiLCJzZWFyY2giLCJfc2VhcmNoIiwiS05OIiwiX2VsZW1lbnRzIiwiX0QiLCJkaXN0YW5jZXMiLCJIIiwibmVhcmVzdF9lbGVtZW50X2luZGV4IiwibmVhcmVzdF9kaXN0IiwiTnVtYmVyIiwiaXNJbnRlZ2VyIiwicmVzIiwiRFIiLCJkZWZhdWx0X3BhcmFtZXRlcnMiLCJwYXJhbWV0ZXJzIiwiX3BhcmFtZXRlcnMiLCJPYmplY3QiLCJhc3NpZ24iLCJzZWFsIiwiX3R5cGUiLCJfcmFuZG9taXplciIsIl9pc19pbml0aWFsaXplZCIsInBhcmFtZXRlciIsIm5hbWUiLCJoYXNPd25Qcm9wZXJ0eSIsInBhcmEiLCJ0cmFuc2Zvcm0iLCJjaGVja19pbml0IiwicHJvamVjdGlvbiIsImdlbmVyYXRvciIsImluaXQiLCJZIiwiYXN5bmMiLCJhcmdzIiwiUENBIiwic3VwZXIiLCJlaWdfYXJncyIsInByaW5jaXBhbF9jb21wb25lbnRzIiwibWVhbnMiLCJYX2NlbnQiLCJNRFMiLCJhaV8iLCJhX2oiLCJhX18iLCJfZF9YIiwic3RyZXNzIiwiZF9YIiwiZF9ZIiwidG9wX3N1bSIsImJvdHRvbV9zdW0iLCJwb3ciLCJ4MCIsIm1heF9pdGVyIiwicGZ4IiwiZngiLCJjb252ZXJnZW5jZSIsImZ4aSIsImR4IiwiQ2x1c3RlciIsImlkIiwiY2VudHJvaWQiLCJkZXB0aCIsIl9jYWxjdWxhdGVfY2VudHJvaWQiLCJsX3NpemUiLCJyX3NpemUiLCJsX2NlbnRyb2lkIiwicl9jZW50cm9pZCIsIm5ld19jZW50cm9pZCIsImlzTGVhZiIsImxlYXZlcyIsImRlc2NlbmRhbnRzIiwibGVmdF9kZXNjZW5kYW50cyIsInJpZ2h0X2Rlc2NlbmRhbnRzIiwiS01lZG9pZHMiLCJtYXRyaXgiLCJLIiwiX21hdHJpeCIsIl9BIiwiX0siLCJfbWF4X2l0ZXIiLCJsb2cxMCIsIl9kaXN0YW5jZV9tYXRyaXgiLCJfY2x1c3RlcnMiLCJmaWxsIiwiX2NsdXN0ZXJfbWVkb2lkcyIsIl9nZXRfcmFuZG9tX21lZG9pZHMiLCJnZXRfY2x1c3RlcnMiLCJ4X2oiLCJfbmVhcmVzdF9tZWRvaWQiLCJpbmRleF9uZWFyZXN0IiwibWVkb2lkcyIsImZpbmlzaCIsIl9pdGVyYXRpb24iLCJjYWNoZSIsInhfbyIsIm8iLCJEZWx0YVREIiwieHMiLCJmaW5kSW5kZXgiLCJkX2oiLCJkaXN0YW5jZV9uZWFyZXN0IiwiZGVsdGFURCIsImRfb2oiLCJfZ2V0X2Rpc3RhbmNlIiwiZF9uIiwiZGlzdGFuY2Vfc2Vjb25kIiwiZF9zIiwiZmlsdGVyIiwieF9pIiwiZF9paiIsIm5lYXJlc3QiLCJzZWNvbmQiLCJ4X20iLCJtMSIsIm0yIiwiaW5kZXhfc2Vjb25kIiwiY2x1c3Rlcl9tZWRvaWRzIiwiaW5kaWNlcyIsImNlaWwiLCJURCIsIlREMCIsIlMiLCJTX2oiLCJTX28iLCJkZWx0YSIsIl9jaG9vc2VfZGlzdGFudF9vYmplY3RzIiwiYV9pbmRleCIsImJfaW5kZXgiLCJtYXhfZGlzdCIsImRfYWkiLCJkX2JpIiwiX2NvbCIsIm9sZF9kaXN0IiwiZF9hYiIsInlfaSIsImxpbmthZ2UiLCJfaWQiLCJfbGlua2FnZSIsInJvb3QiLCJkbyIsImNsdXN0ZXJzIiwiX3RyYXZlcnNlIiwiX24iLCJkX21pbiIsIl9kX21pbiIsImNfc2l6ZSIsIl9jX3NpemUiLCJVaW50MTZBcnJheSIsInBfbWF4IiwiYzEiLCJEX2lfbWluIiwiYzIiLCJjMV9jbHVzdGVyIiwiYzJfY2x1c3RlciIsImMxX2NsdXN0ZXJfaW5kaWNlcyIsImMyX2NsdXN0ZXJfaW5kaWNlcyIsIm5ld19jbHVzdGVyIiwidW5zaGlmdCIsIkRfYzFfaiIsIkRfYzJfaiIsIm5laWdoYm9ycyIsImtOZWFyZXN0TmVpZ2hib3JzIiwiRyIsIm90aGVyIiwiX2NsdXN0ZXJfY2VudHJvaWRzIiwiX2dldF9yYW5kb21fY2VudHJvaWRzIiwiX2Z1cnRoZXN0X3BvaW50IiwiY2FuZGlkYXRlcyIsIkFkIiwiY2x1c3Rlcl9jZW50cm9pZHMiLCJyYW5kb21fcG9pbnQiLCJpbml0X3BvaW50cyIsInNhbXBsZV9zaXplIiwiaW5kZXhPZiIsImZ1cnRoZXN0X3BvaW50IiwiY2x1c3RlcnNfY2hhbmdlZCIsIkFpIiwibWluX2Rpc3QiLCJtaW5fY2x1c3RlciIsIl9jb21wdXRlX2NlbnRyb2lkIiwiY2x1c3Rlcl9jb3VudGVyIiwiY2kiLCJpdGVyYXRpb25fcmVzdWx0IiwibGFiZWxzIiwidW5pcXVlX2xhYmVscyIsImxhYmVsX2lkIiwiY291bnQiLCJYX21lYW4iLCJWX21lYW4iLCJsYWJlbCIsInZfbWVhbiIsIlNfYiIsIlNfdyIsInJvd192Iiwia19uZWFyZXN0X25laWdoYm9ycyIsIk8iLCJXIiwibk5fcm93IiwiWiIsIkNfdHJhY2UiLCJ3Iiwic29sdmVfQ0ciLCJJVyIsImNvbnRyb2xfcG9pbnRzIiwiRFJfcGFyYW1ldGVycyIsIm5jIiwiY19pIiwiWV9DIiwiWEEiLCJrbm4iLCJfYiIsIkFUIiwiQVRBIiwiQVRiIiwiSV9pIiwiWF9pIiwiZyIsIkdfaV90IiwiV19pIiwiZXBzaWxvbiIsIm1pbl9wb2ludHMiLCJfZXBzaWxvbiIsIl9taW5fcG9pbnRzIiwiX29yZGVyZWRfbGlzdCIsIl9EQiIsIm9yZGVyZWRfbGlzdCIsIkRCIiwiY2x1c3Rlcl9pbmRleCIsIl9jbHVzdGVyX2luZGV4IiwicmVhY2hhYmlsaXR5X2Rpc3RhbmNlIiwicHJvY2Vzc2VkIiwiX2dldF9uZWlnaGJvcnMiLCJfY29yZV9kaXN0YW5jZSIsInNlZWRzIiwiX3VwZGF0ZSIsIl9leHBhbmRfY2x1c3RlciIsImNvcmVfZGlzdGFuY2UiLCJuZXdfcmVhY2hhYmlsaXR5X2Rpc3RhbmNlIiwiY2x1c3RlciIsIm91dGxpZXJzIiwiZ2V0X2NsdXN0ZXJfYWZmaXJtYXRpb24iLCJtYWdpYyIsImluaXRfRFIiLCJpbml0X3BhcmFtZXRlcnMiLCJpbmNsdWRlcyIsIl9zdGVwIiwiTUFHSUMiLCJlMSIsImUyIiwiWWkiLCJZaiIsImRZIiwiZFgiLCJkcSIsImRyIiwicGVycGxleGl0eSIsIl9pdGVyIiwiSHRhcmdldCIsImxvZyIsIkRlbHRhIiwiZHJ1aWQiLCJQIiwiX3lzdGVwIiwiX2dhaW5zIiwicHJvdyIsImJldGFtaW4iLCJiZXRhbWF4IiwiZG9uZSIsIm51bSIsInBzdW0iLCJwaiIsImV4cCIsIkhoZXJlIiwiUG91dCIsIk4yIiwiX1AiLCJpdGVyYXRpb25zIiwibmV4dCIsIml0ZXIiLCJ5c3RlcCIsImdhaW5zIiwiZGltIiwicG11bCIsIlF1IiwicXN1bSIsImRzdW0iLCJkaGVyZSIsInF1IiwiZ3JhZCIsInByZW11bHQiLCJ5bWVhbiIsImdpZCIsInNpZCIsImdhaW5pZCIsIm5ld2dhaW4iLCJzaWduIiwibmV3c2lkIiwiX19sYXp5X2Rpc3RhbmNlX21hdHJpeCIsIkRfaWoiLCJfbWFrZV9taW5pbXVtX3NwYW5uaW5nX3RyZWUiLCJkaXNqb2ludF9zZXQiLCJGIiwiRSIsInUiLCJzZXRfdSIsInNldF92IiwiX0Vtc3QiLCJfX2h1bGxfY3Jvc3MiLCJheCIsImF5IiwiYngiLCJieSIsInN4Iiwic3kiLCJfX2h1bGwiLCJ4MSIsInkxIiwieDIiLCJ5MiIsImxvd2VyIiwidXBwZXIiLCJfX2ZpbmRBbmdsZSIsInAxeCIsInAxeSIsInAyeCIsInAyeSIsInNpbiIsImNvcyIsInZlYyIsIl9fYWxpZ25faHVsbCIsImh1bGwiLCJ0b3BFZGdlIiwiZDIiLCJ2MSIsInYyIiwidHJhbnNmb3JtYXRpb24iLCJ0eCIsInR5IiwiX190cmFuc2Zvcm0iLCJweCIsInB5IiwiX190cmFuc2Zvcm1fY29tcG9uZW50IiwieU9mZnNldCIsImN4IiwiY3kiLCJfX2FsaWduX2NvbXBvbmVudHMiLCJwb2ludHNfdSIsInBvaW50c192IiwiaHVsbF91IiwiaHVsbF92IiwidF91IiwidF92IiwiRW1zdCIsImNvbXBvbmVudHMiLCJjb21wb25lbnRfdSIsImNvbXBvbmVudF92Iiwid2VpZ2h0X2FkaiIsInBjYSIsIm5faW5saWVycyIsIm5fb3V0bGllcnMiLCJuX3JhbmRvbSIsInRyaXBsZXRzIiwid2VpZ2h0cyIsIl9nZW5lcmF0ZV90cmlwbGV0cyIsImxyIiwidmVsIiwiZ2FpbiIsIm5fZXh0cmEiLCJuYnJzIiwia25uX2Rpc3RhbmNlcyIsInNpZyIsIl9maW5kX3AiLCJfc2FtcGxlX2tubl90cmlwbGV0cyIsIm5fdHJpcGxldHMiLCJvdXRsaWVyX2Rpc3RhbmNlcyIsIl9maW5kX3dlaWdodHMiLCJyYW5kb21fdHJpcGxldHMiLCJyYW5kb21fd2VpZ2h0cyIsIl9zYW1wbGVfcmFuZG9tX3RyaXBsZXRzIiwibWF4X3dlaWdodCIsImlzTmFOIiwibWF4X3dlaWdodF8yIiwibl9uZWlnaGJvcnMiLCJuX2kiLCJzb3J0X2luZGljZXMiLCJfX2FyZ3NvcnQiLCJuX2oiLCJzaW0iLCJzYW1wbGVzIiwiX3JlamVjdGlvbl9zYW1wbGUiLCJvdXQiLCJuX3NhbXBsZXMiLCJtYXhfaW50IiwicmVqZWN0cyIsImludGVydmFsIiwicF9zaW0iLCJwX291dCIsIl9ncmFkIiwieV9paiIsInlfaWsiLCJkX2lrIiwibl92aW9sIiwibG9zcyIsIm5fa25uX3RyaXBsZXRzIiwiWV9pZCIsIllfamQiLCJZX2tkIiwiZ3MiLCJnbyIsIm1heF9pdGVyYXRpb24iLCJfbmV4dCIsImdhbW1hIiwib2xkX0MiLCJfdXBkYXRlX2VtYmVkZGluZyIsIm5ld19nYWluIiwibG9jYWxfY29ubmVjdGl2aXR5IiwiX3NwcmVhZCIsIl9zZXRfb3BfbWl4X3JhdGlvIiwiX3JlcHVsc2lvbl9zdHJlbmd0aCIsIl9uZWdhdGl2ZV9zYW1wbGVfcmF0ZSIsIl9uX2Vwb2NocyIsIl9pbml0aWFsX2FscGhhIiwiX2ZpbmRfYWJfcGFyYW1zIiwieHYiLCJ5diIsInh2X2kiLCJwb3dlbGwiLCJlcnJvciIsIl9jb21wdXRlX21lbWJlcnNoaXBfc3RyZW5ndGhzIiwic2lnbWFzIiwicmhvcyIsIl9zbW9vdGhfa25uX2Rpc3QiLCJTTU9PVEhfS19UT0xFUkFOQ0UiLCJNSU5fS19ESVNUX1NDQUxFIiwidGFyZ2V0IiwibG9nMiIsInJldmVyc2UiLCJsbyIsImhpIiwibWlkIiwic2VhcmNoX3Jlc3VsdCIsIm5vbl96ZXJvX2Rpc3QiLCJub25femVyb19kaXN0X2xlbmd0aCIsImludGVycG9sYXRpb24iLCJtZWFuX2l0aGQiLCJtZWFuX2QiLCJfZnV6enlfc2ltcGxpY2lhbF9zZXQiLCJkaXN0YW5jZXNfaSIsInRyYW5zcG9zZWRfcmVzdWx0IiwicHJvZF9tYXRyaXgiLCJfbWFrZV9lcG9jaHNfcGVyX3NhbXBsZSIsIm5fZXBvY2hzIiwiX3dlaWdodHMiLCJGbG9hdDMyQXJyYXkiLCJ3ZWlnaHRzX21heCIsIl90b2NvbyIsImdyYXBoIiwicm93c19uIiwiY29sc19uIiwiX2EiLCJfZ3JhcGgiLCJfaGVhZCIsIl90YWlsIiwiX2Vwb2Noc19wZXJfc2FtcGxlIiwiX2Vwb2Noc19wZXJfbmVnYXRpdmVfc2FtcGxlIiwiX2Vwb2NoX29mX25leHRfc2FtcGxlIiwiX2Vwb2NoX29mX25leHRfbmVnYXRpdmVfc2FtcGxlIiwiX2NsaXAiLCJfb3B0aW1pemVfbGF5b3V0IiwiaGVhZF9lbWJlZGRpbmciLCJ0YWlsX2VtYmVkZGluZyIsImhlYWQiLCJ0YWlsIiwiX2QiLCJfYWxwaGEiLCJyZXB1bHNpb25fc3RyZW5ndGgiLCJlcG9jaHNfcGVyX3NhbXBsZSIsImVwb2Noc19wZXJfbmVnYXRpdmVfc2FtcGxlIiwiZXBvY2hfb2ZfbmV4dF9uZWdhdGl2ZV9zYW1wbGUiLCJlcG9jaF9vZl9uZXh0X3NhbXBsZSIsImNsaXAiLCJ0YWlsX2xlbmd0aCIsImdyYWRfY29lZmYiLCJncmFkX2QiLCJuX25lZ19zYW1wbGVzIiwic3VtX2EiLCJzdW1fYiIsImFjb3MiLCJkaXNhZ3JlZSIsIm51bV9ub25femVybyIsIm51bV9lcXVhbCIsInhfbm9ybSIsInJobyIsInUxIiwidV9vdXRlcl91IiwiUl9ibG9jayIsIm5ld19SIiwiUV9ibG9jayIsIm5ld19RIiwibnVtX25vdF9lcXVhbCIsIm51bV90cnVlX3RydWUiLCJudW1fdHJ1ZV9mYWxzZSIsIm51bV9mYWxzZV90cnVlIl0sIm1hcHBpbmdzIjoiO3NQQVNlLFdBQVVBLEVBQUdDLEdBQ3hCLE9BQU9DLEtBQUtDLEtBQUtDLEVBQWtCSixFQUFHQyxJQ0YzQixXQUFVSSxHQUNyQixJQUFJQyxFQUFJRCxFQUFTRSxPQUNiQyxFQUFNLEVBQ05DLEVBQWUsRUFFbkIsSUFBSyxJQUFJQyxFQUFJLEVBQUdBLEVBQUlKLElBQUtJLEVBQUcsQ0FDeEIsSUFBSUMsRUFBVU4sRUFBU0ssR0FDbkJFLEVBQUlKLEVBQU1HLEVBQ1ZULEtBQUtXLElBQUlMLElBQVFOLEtBQUtXLElBQUlGLEdBQzFCRixHQUFnQkQsRUFBTUksRUFBSUQsRUFFMUJGLEdBQWdCRSxFQUFVQyxFQUFJSixFQUVsQ0EsRUFBTUksRUFFVixPQUFPSixFQUFNQyxFQ2RGLFdBQVVULEVBQUdDLEdBQ3hCLEdBQUlELEVBQUVPLFFBQVVOLEVBQUVNLE9BQVEsT0FDMUIsSUFBSUQsRUFBSU4sRUFBRU8sT0FDTk8sRUFBSSxJQUFJQyxNQUFNVCxHQUNsQixJQUFLLElBQUlJLEVBQUksRUFBR0EsRUFBSUosSUFBS0ksRUFBRyxDQUN4QixJQUFJTSxFQUFJaEIsRUFBRVUsR0FDTk8sRUFBSWhCLEVBQUVTLEdBQ1ZJLEVBQUVKLElBQU1NLEVBQUlDLElBQU1ELEVBQUlDLEdBRTFCLE9BQU9DLEVBQVlKLEdDTlIsV0FBVUssRUFBR0MsRUFBR0MsRUFBU0MsR0FDcEMsTUFBTUMsRUFBT0osRUFBRUssTUFBTSxHQUNyQixJQUFJQyxFQUFjLGVBQVZKLEVBQTBCRixFQUFJTyxFQUFnQlAsRUFBR0UsR0FDckRNLEVBQUssSUFBSVosTUFBTVEsR0FDbkIsSUFBSyxJQUFJSyxFQUFNLEVBQUdBLEVBQU1MLElBQVFLLEVBQzVCRCxFQUFHQyxHQUFPYixNQUFNYyxLQUFLSixFQUFFRyxJQUFJQSxJQUN0QkUsS0FBSSxDQUFDQyxFQUFVQyxLQUNMLENBQ0h0QixFQUFHa0IsRUFDSEssRUFBR0QsRUFDSEQsU0FBVUEsTUFHakJHLE1BQUssQ0FBQ2xDLEVBQUdDLElBQU1ELEVBQUUrQixTQUFXOUIsRUFBRThCLFdBQzlCSSxNQUFNLEVBQUdmLEVBQUksR0FFdEIsT0FBT08sRUNqQkksV0FBVVIsRUFBR0UsRUFBU0MsR0FDakMsSUFBSWhCLEVBQUlhLEVBQUVLLE1BQU0sR0FDaEIsTUFBTUMsRUFBSSxJQUFJVyxFQUFPOUIsRUFBR0EsR0FDeEIsSUFBSyxJQUFJSSxFQUFJLEVBQUdBLEVBQUlKLElBQUtJLEVBQUcsQ0FDeEIsTUFBTTJCLEVBQU1sQixFQUFFUyxJQUFJbEIsR0FDbEIsSUFBSyxJQUFJdUIsRUFBSXZCLEVBQUksRUFBR3VCLEVBQUkzQixJQUFLMkIsRUFBRyxDQUM1QixNQUFNSyxFQUFPakIsRUFBT2dCLEVBQUtsQixFQUFFUyxJQUFJSyxJQUMvQlIsRUFBRWMsVUFBVTdCLEVBQUd1QixFQUFHSyxHQUNsQmIsRUFBRWMsVUFBVU4sRUFBR3ZCLEVBQUc0QixJQUcxQixPQUFPYixFQ1pJLFdBQVVlLEVBQU9DLEVBQUtDLEVBQVMsTUFJMUMsR0FIS0EsSUFDREEsRUFBU3hDLEtBQUt5QyxJQUFJekMsS0FBSzBDLE1BQU1ILEVBQU1ELEdBQVMsRUFBRyxJQUUvQ0UsRUFBUyxFQUNULE9BQWtCLElBQVhBLEVBQWUsQ0FBQ0YsR0FBUyxHQUVwQyxJQUFJSyxFQUFTLElBQUk5QixNQUFNMkIsR0FFdkIsSUFBSyxJQUFJaEMsRUFEVGdDLEdBQVUsRUFDV2hDLEdBQUssSUFBS0EsRUFDM0JtQyxFQUFPbkMsSUFBTUEsRUFBSStCLEdBQU9DLEVBQVNoQyxHQUFLOEIsR0FBU0UsRUFFbkQsT0FBT0csRUNWSSxXQUFVQyxFQUFHekIsRUFBU0MsR0FDakMsSUFBSXlCLEVBQVMsS0FDYixHQUFJRCxhQUFhVixFQUFRLENBQ3JCLElBQUtiLEVBQU15QixHQUFRRixFQUFFdEIsTUFDckIsR0FBYSxJQUFURCxFQUFZd0IsRUFBU0QsRUFBRWxCLElBQUksT0FDMUIsQ0FBQSxHQUFhLElBQVRvQixFQUNKLE1BQU0sSUFBSUMsTUFBTSxzQkFEQUYsRUFBU0QsRUFBRWQsSUFBSSxTQUdwQ2UsRUFBU0QsRUFFYixNQUFNeEMsRUFBSXlDLEVBQU94QyxPQUVqQixPQUFPYyxFQUFPMEIsRUFEQUcsYUFBYXJCLEtBQUssQ0FBRXRCLE9BQVFELElBQUssSUFBTSxLQ1gxQyxXQUFVYSxHQUNyQixNQUFPSSxFQUFNeUIsR0FBUTdCLEVBQUVLLE1BQ2pCMkIsRUFBSSxJQUFJZixFQUFPYixFQUFNeUIsRUFBTSxZQUMzQkksRUFBSSxJQUFJaEIsRUFBT1ksRUFBTUEsRUFBTSxHQUVqQyxJQUFLLElBQUlmLEVBQUksRUFBR0EsRUFBSWUsSUFBUWYsRUFBRyxDQUMzQixJQUFJYSxFQUFJM0IsRUFBRWEsSUFBSUMsR0FDZCxJQUFLLElBQUl2QixFQUFJLEVBQUdBLEVBQUl1QixJQUFLdkIsRUFBRyxDQUN4QixNQUFNMkMsRUFBSUYsRUFBRW5CLElBQUl0QixHQUNWNEMsRUFBVXBDLEVBQVltQyxFQUFFdkIsS0FBSSxDQUFDeUIsRUFBSW5DLElBQU1tQyxFQUFLVCxFQUFFMUIsTUFDcERnQyxFQUFFYixVQUFVN0IsRUFBR3VCLEVBQUdxQixHQUNsQlIsRUFBSUEsRUFBRWhCLEtBQUksQ0FBQzBCLEVBQUlwQyxJQUFNb0MsRUFBS0YsRUFBVUQsRUFBRWpDLEtBRTFDLE1BQU1xQyxFQUFTQyxFQUFLWixFQUFHeEIsR0FDdkIsSUFBSyxJQUFJRixFQUFJLEVBQUdBLEVBQUlHLElBQVFILEVBQ3hCK0IsRUFBRVosVUFBVW5CLEVBQUdhLEVBQUdhLEVBQUUxQixHQUFLcUMsR0FFN0JMLEVBQUViLFVBQVVOLEVBQUdBLEVBQUd3QixHQUV0QixNQUFPLENBQUVMLEVBQUFBLEVBQUdELEVBQUFBLEdDYkQsV0FBVWhDLEVBQUdDLEVBQUksR0FBR3VDLEtBQUNBLEVBQU8sS0FBSUMsZUFBRUEsRUFBaUIsSUFBR0MsR0FBRUEsRUFBS0MsRUFBY0MsSUFBRUEsRUFBTSxNQUFRLElBQ3RHLE1BQU1DLEVBQWFMLGFBQWdCTSxFQUFhTixFQUFPLElBQUlNLEVBQVdOLEdBQ2hFeEMsYUFBYWlCLElBQVNqQixFQUFJaUIsRUFBT1AsS0FBS1YsSUFDNUMsTUFBTWIsRUFBSWEsRUFBRUssTUFBTSxHQUNsQixJQUFJMkIsRUFBRUEsRUFBQ0MsRUFBRUEsR0FBTVMsRUFBRyxJQUFJekIsRUFBTzlCLEVBQUdjLEdBQUcsSUFBaUMsR0FBMUI0QyxFQUFXRSxPQUFTLE9BQzlELEtBQU9OLEtBQWtCLENBQ3JCLE1BQU1PLEVBQU9oQixFQUFFaUIsUUFFVEMsRUFBS1IsRUFERDFDLEVBQUVtRCxJQUFJbkIsSUFFaEJBLEVBQUlrQixFQUFHbEIsRUFDUEMsRUFBSWlCLEVBQUdqQixFQUVQLEdBRGNoRCxFQUFrQitDLEVBQUVvQixPQUFRSixFQUFLSSxRQUNuQ1IsRUFDUixNQU1SLE1BQU8sQ0FBRVMsWUFGV3BCLEVBQUVxQixLQUVBQyxhQUREdkIsRUFBRXdCLFlBQVlDLFdDNUJoQyxNQUFNeEMsRUFxQlR5QyxZQUFZdEQsRUFBTyxLQUFNeUIsRUFBTyxLQUFNOEIsRUFBUSxNQUkxQyxHQUhBQyxLQUFLQyxNQUFRekQsRUFDYndELEtBQUtFLE1BQVFqQyxFQUNiK0IsS0FBS0csTUFBUSxLQUNUM0QsR0FBUXlCLEVBQU0sQ0FDZCxJQUFLOEIsRUFFRCxPQURBQyxLQUFLRyxNQUFRLElBQUloQyxhQUFhM0IsRUFBT3lCLEdBQzlCK0IsS0FFWCxHQUFxQixtQkFBVkQsRUFBc0IsQ0FDN0JDLEtBQUtHLE1BQVEsSUFBSWhDLGFBQWEzQixFQUFPeUIsR0FDckMsSUFBSyxJQUFJcEIsRUFBTSxFQUFHQSxFQUFNTCxJQUFRSyxFQUM1QixJQUFLLElBQUlJLEVBQU0sRUFBR0EsRUFBTWdCLElBQVFoQixFQUM1QitDLEtBQUtHLE1BQU10RCxFQUFNb0IsRUFBT2hCLEdBQU84QyxFQUFNbEQsRUFBS0ksR0FHbEQsT0FBTytDLEtBRVgsR0FBcUIsaUJBQVZELEVBQW9CLENBQzNCLEdBQWMsVUFBVkEsRUFDQSxPQUFPLElBQUkxQyxFQUFPYixFQUFNeUIsRUFBTSxHQUVsQyxHQUFjLGFBQVY4QixHQUFrQyxNQUFWQSxFQUFlLENBQ3ZDQyxLQUFLRyxNQUFRLElBQUloQyxhQUFhM0IsRUFBT3lCLEdBQ3JDLElBQUssSUFBSXBCLEVBQU0sRUFBR0EsRUFBTUwsSUFBUUssRUFDNUJtRCxLQUFLRyxNQUFNdEQsRUFBTW9CLEVBQU9wQixHQUFPLEVBRW5DLE9BQU9tRCxLQUVYLEdBQWMsV0FBVkQsR0FBc0J2RCxHQUFReUIsRUFBTSxDQUNwQytCLEtBQUtHLE1BQVEsSUFBSWhDLGFBQWEzQixFQUFPeUIsR0FDckM4QixFQUFRLENBQUNwRSxFQUFHdUIsS0FBT3ZCLElBQU11QixFQUFJLEVBQUksR0FBSyxFQUFJVixFQUMxQyxJQUFLLElBQUlLLEVBQU0sRUFBR0EsRUFBTUwsSUFBUUssRUFDNUIsSUFBSyxJQUFJSSxFQUFNLEVBQUdBLEVBQU1nQixJQUFRaEIsRUFDNUIrQyxLQUFLRyxNQUFNdEQsRUFBTW9CLEVBQU9oQixHQUFPOEMsRUFBTWxELEVBQUtJLEdBR2xELE9BQU8rQyxNQUdmLEdBQXFCLGlCQUFWRCxFQUFvQixDQUMzQkMsS0FBS0csTUFBUSxJQUFJaEMsYUFBYTNCLEVBQU95QixHQUNyQyxJQUFLLElBQUlwQixFQUFNLEVBQUdBLEVBQU1MLElBQVFLLEVBQzVCLElBQUssSUFBSUksRUFBTSxFQUFHQSxFQUFNZ0IsSUFBUWhCLEVBQzVCK0MsS0FBS0csTUFBTXRELEVBQU1vQixFQUFPaEIsR0FBTzhDLEVBR3ZDLE9BQU9DLE1BR2YsT0FBT0EsS0FhWEksWUFBWWhFLEVBQUdpRSxFQUFPLE9BQ2xCLEdBQUlqRSxhQUFhaUIsRUFDYixPQUFPakIsRUFBRWlELFFBQ04sS0FBSXJELE1BQU1zRSxRQUFRbEUsSUFBTUEsYUFBYStCLGNBd0JyQyxDQUFBLEdBQWlCLGlCQUFOL0IsRUFDZCxPQUFPLElBQUlpQixFQUFPLEVBQUcsRUFBR2pCLEdBRXhCLE1BQU0sSUFBSThCLE1BQU0sU0EzQnNDLENBQ3RELElBQUlxQyxFQUFJbkUsRUFBRVosT0FDVixHQUFVLElBQU4rRSxFQUFTLE1BQU0sSUFBSXJDLE1BQU0sa0JBRTdCLEtBQUtsQyxNQUFNc0UsUUFBUWxFLEVBQUUsS0FBU0EsRUFBRSxhQUFjK0IsY0FBZSxDQUN6RCxHQUFhLFFBQVRrQyxFQUNBLE9BQU8sSUFBSWhELEVBQU8sRUFBR2tELEdBQUcsQ0FBQ0MsRUFBR3RELElBQU1kLEVBQUVjLEtBQ2pDLEdBQWEsUUFBVG1ELEVBQ1AsT0FBTyxJQUFJaEQsRUFBT2tELEVBQUcsR0FBSTVFLEdBQU1TLEVBQUVULEtBQzlCLEdBQWEsU0FBVDBFLEVBQ1AsT0FBTyxJQUFJaEQsRUFBT2tELEVBQUdBLEdBQUcsQ0FBQzVFLEVBQUd1QixJQUFPdkIsR0FBS3VCLEVBQUlkLEVBQUVULEdBQUssSUFFbkQsTUFBTSxJQUFJdUMsTUFBTSw0QkFHakIsR0FBSWxDLE1BQU1zRSxRQUFRbEUsRUFBRSxLQUFPQSxFQUFFLGFBQWMrQixhQUFjLENBQzVELElBQUk1QyxFQUFJYSxFQUFFLEdBQUdaLE9BQ2IsSUFBSyxJQUFJcUIsRUFBTSxFQUFHQSxFQUFNMEQsSUFBSzFELEVBQ3pCLEdBQUlULEVBQUVTLEdBQUtyQixTQUFXRCxFQUNsQixNQUFNLElBQUkyQyxNQUFNLHlCQUd4QixPQUFPLElBQUliLEVBQU9rRCxFQUFHaEYsR0FBRyxDQUFDSSxFQUFHdUIsSUFBTWQsRUFBRVQsR0FBR3VCLE9BY25ETCxJQUFJQSxHQUNBLE1BQU00RCxFQUFPVCxLQUFLUixPQUNadkIsRUFBTytCLEtBQUtFLE1BQ2xCLE9BQU9PLEVBQUtDLFNBQVM3RCxFQUFNb0IsR0FBT3BCLEVBQU0sR0FBS29CLEdBT2pEMEMsZ0JBQ0ksTUFBTTFDLEVBQU8rQixLQUFLRSxNQUNaMUQsRUFBT3dELEtBQUtDLE1BQ1pRLEVBQU9ULEtBQUtSLE9BQ2xCLElBQUssSUFBSTNDLEVBQU0sRUFBR0EsRUFBTUwsSUFBUUssUUFDdEI0RCxFQUFLQyxTQUFTN0QsRUFBTW9CLEdBQU9wQixFQUFNLEdBQUtvQixHQVFwRCxFQUFFMkMsT0FBT0MsWUFDTCxJQUFLLE1BQU1oRSxLQUFPbUQsS0FBS1cscUJBQ2I5RCxFQVVkaUUsUUFBUWpFLEVBQUsyQyxHQUNULElBQUl2QixFQUFPK0IsS0FBS0UsTUFDaEIsR0FBSWxFLE1BQU1zRSxRQUFRZCxJQUFXQSxFQUFPaEUsU0FBV3lDLEVBQU0sQ0FDakQsSUFBSThDLEVBQVNsRSxFQUFNb0IsRUFDbkIsSUFBSyxJQUFJaEIsRUFBTSxFQUFHQSxFQUFNZ0IsSUFBUWhCLEVBQzVCK0MsS0FBS1IsT0FBT3VCLEVBQVM5RCxHQUFPdUMsRUFBT3ZDLFFBRXBDLEdBQUl1QyxhQUFrQm5DLEdBQVVtQyxFQUFPL0MsTUFBTSxLQUFPd0IsR0FBNEIsSUFBcEJ1QixFQUFPL0MsTUFBTSxHQUFVLENBQ3RGLElBQUlzRSxFQUFTbEUsRUFBTW9CLEVBQ25CLElBQUssSUFBSWhCLEVBQU0sRUFBR0EsRUFBTWdCLElBQVFoQixFQUM1QitDLEtBQUtSLE9BQU91QixFQUFTOUQsR0FBT3VDLEVBQU9XLE1BQU1sRCxHQUdqRCxPQUFPK0MsS0FRWC9DLElBQUlBLEdBQ0EsSUFBSStELEVBQWEsSUFBSTdDLGFBQWE2QixLQUFLQyxPQUN2QyxJQUFLLElBQUlwRCxFQUFNLEVBQUdBLEVBQU1tRCxLQUFLQyxRQUFTcEQsRUFDbENtRSxFQUFXbkUsR0FBT21ELEtBQUtSLE9BQU8zQyxFQUFNbUQsS0FBS0UsTUFBUWpELEdBRXJELE9BQU8rRCxFQVNYQyxNQUFNcEUsRUFBS0ksR0FDUCxPQUFPK0MsS0FBS1IsT0FBTzNDLEVBQU1tRCxLQUFLRSxNQUFRakQsR0FVMUNPLFVBQVVYLEVBQUtJLEVBQUs4QyxHQUVoQixPQURBQyxLQUFLUixPQUFPM0MsRUFBTW1ELEtBQUtFLE1BQVFqRCxHQUFPOEMsRUFDL0JDLEtBT1hKLFlBRUksT0FEUSxJQUFJdkMsRUFBTzJDLEtBQUtFLE1BQU9GLEtBQUtDLE9BQU8sQ0FBQ3BELEVBQUtJLElBQVErQyxLQUFLaUIsTUFBTWhFLEVBQUtKLEtBUXpFcUUsUUFDQSxPQUFPbEIsS0FBS0osWUFPaEJ1QixVQUNJLE1BQU0zRSxFQUFPd0QsS0FBS0MsTUFDWmhDLEVBQU8rQixLQUFLRSxNQUNsQixJQUFJa0IsRUFBSSxJQUFJL0QsRUFBT2IsRUFBTSxFQUFJeUIsR0FBTSxDQUFDdEMsRUFBR3VCLElBQy9CQSxHQUFLZSxFQUNFdEMsSUFBTXVCLEVBQUllLEVBQU8sRUFBSSxFQUVyQitCLEtBQUtpQixNQUFNdEYsRUFBR3VCLEtBR3pCbUUsRUFBSSxFQUNKaEYsRUFBSSxFQUNSLEtBQU9nRixFQUFJN0UsR0FBUUgsRUFBSTRCLEdBQU0sQ0FDekIsSUFBSXFELEVBQVEsRUFDWixJQUFJQyxHQUFXQyxFQUFBQSxFQUNmLElBQUssSUFBSTdGLEVBQUkwRixFQUFHMUYsRUFBSWEsSUFBUWIsRUFBRyxDQUMzQixJQUFJOEYsRUFBTXRHLEtBQUtXLElBQUlzRixFQUFFSCxNQUFNdEYsRUFBR1UsSUFDMUJrRixFQUFVRSxJQUNWSCxFQUFRM0YsRUFDUjRGLEVBQVVFLEdBR2xCLEdBQXlCLEdBQXJCTCxFQUFFSCxNQUFNSyxFQUFPakYsR0FDZkEsUUFDRyxDQUVILElBQUssSUFBSWEsRUFBSSxFQUFHQSxFQUFJLEVBQUllLElBQVFmLEVBQUcsQ0FDL0IsSUFBSXdFLEVBQVFOLEVBQUVILE1BQU1JLEVBQUduRSxHQUNuQnlFLEVBQVFQLEVBQUVILE1BQU1LLEVBQU9wRSxHQUMzQmtFLEVBQUU1RCxVQUFVNkQsRUFBR25FLEVBQUd3RSxHQUNsQk4sRUFBRTVELFVBQVU4RCxFQUFPcEUsRUFBR3lFLEdBRTFCLElBQUssSUFBSWhHLEVBQUkwRixFQUFJLEVBQUcxRixFQUFJYSxJQUFRYixFQUFHLENBQy9CLElBQUlpRyxFQUFJUixFQUFFSCxNQUFNdEYsRUFBR1UsR0FBSytFLEVBQUVILE1BQU1JLEVBQUdoRixHQUNuQytFLEVBQUU1RCxVQUFVN0IsRUFBR1UsRUFBRyxHQUNsQixJQUFLLElBQUlhLEVBQUliLEVBQUksRUFBR2EsRUFBSSxFQUFJZSxJQUFRZixFQUNoQ2tFLEVBQUU1RCxVQUFVN0IsRUFBR3VCLEVBQUdrRSxFQUFFSCxNQUFNdEYsRUFBR3VCLEdBQUtrRSxFQUFFSCxNQUFNSSxFQUFHbkUsR0FBSzBFLEdBRzFEUCxJQUNBaEYsS0FJUixJQUFLLElBQUlRLEVBQU0sRUFBR0EsRUFBTUwsSUFBUUssRUFBSyxDQUNqQyxJQUFJK0UsRUFBSVIsRUFBRUgsTUFBTXBFLEVBQUtBLEdBQ3JCLElBQUssSUFBSUksRUFBTUosRUFBS0ksRUFBTSxFQUFJZ0IsSUFBUWhCLEVBQ2xDbUUsRUFBRTVELFVBQVVYLEVBQUtJLEVBQUttRSxFQUFFSCxNQUFNcEUsRUFBS0ksR0FBTzJFLEdBSWxELElBQUssSUFBSS9FLEVBQU1MLEVBQU8sRUFBR0ssR0FBTyxJQUFLQSxFQUFLLENBQ3RDLElBQUlnRixFQUFZVCxFQUFFSCxNQUFNcEUsRUFBS0EsR0FDN0IsSUFBSyxJQUFJbEIsRUFBSSxFQUFHQSxFQUFJa0IsRUFBS2xCLElBQUssQ0FDMUIsSUFDSWlHLEVBRFVSLEVBQUVILE1BQU10RixFQUFHa0IsR0FDUGdGLEVBQ2xCLElBQUssSUFBSTNFLEVBQUl2QixFQUFHdUIsRUFBSSxFQUFJZSxJQUFRZixFQUFHLENBQy9CLElBQUk0RSxFQUFRVixFQUFFSCxNQUFNdEYsRUFBR3VCLEdBRXZCNEUsR0FEY1YsRUFBRUgsTUFBTXBFLEVBQUtLLEdBQ0QwRSxFQUMxQlIsRUFBRTVELFVBQVU3QixFQUFHdUIsRUFBRzRFLEtBSzlCLE9BQU8sSUFBSXpFLEVBQU9iLEVBQU15QixHQUFNLENBQUN0QyxFQUFHdUIsSUFBTWtFLEVBQUVILE1BQU10RixFQUFHdUIsRUFBSWUsS0FRM0RzQixJQUFJNkIsR0FDQSxHQUFJQSxhQUFhL0QsRUFBUSxDQUNyQixJQUFJakIsRUFBSTRELEtBQ1IsR0FBSTVELEVBQUVLLE1BQU0sS0FBTzJFLEVBQUUzRSxNQUFNLEdBQ3ZCLE1BQU0sSUFBSXlCLE1BQU0sb0JBQW9COUIsRUFBRUssTUFBTXNGLEtBQUsseUJBQXlCWCxFQUFFM0UsTUFBTXNGLEtBQUssMENBQy9FM0YsRUFBRUssTUFBTSxpQkFBaUIyRSxFQUFFM0UsTUFBTSw2Q0FHN0MsSUFBSXVGLEVBQUk1RixFQUFFSyxNQUFNLEdBVWhCLE9BVFEsSUFBSVksRUFBT2pCLEVBQUVLLE1BQU0sR0FBSTJFLEVBQUUzRSxNQUFNLElBQUksQ0FBQ0ksRUFBS0ksS0FDN0MsTUFBTUssRUFBTWxCLEVBQUVTLElBQUlBLEdBQ1pvRixFQUFNYixFQUFFbkUsSUFBSUEsR0FDbEIsSUFBSXhCLEVBQU0sRUFDVixJQUFLLElBQUlFLEVBQUksRUFBR0EsRUFBSXFHLElBQUtyRyxFQUNyQkYsR0FBTzZCLEVBQUkzQixHQUFLc0csRUFBSXRHLEdBRXhCLE9BQU9GLEtBR1IsR0FBSU8sTUFBTXNFLFFBQVFjLElBQU1BLGFBQWFqRCxhQUFjLENBQ3RELElBQUkzQixFQUFPd0QsS0FBS0MsTUFDaEIsR0FBSW1CLEVBQUU1RixTQUFXZ0IsRUFDYixNQUFNLElBQUkwQixNQUFNLG1CQUFtQjFCLG9CQUF1QjRFLEVBQUU1RiwrQkFFaEUsSUFBSTBHLEVBQUksSUFBSWxHLE1BQU1RLEdBQ2xCLElBQUssSUFBSUssRUFBTSxFQUFHQSxFQUFNTCxJQUFRSyxFQUM1QnFGLEVBQUVyRixHQUFPVixFQUFZNkQsS0FBS25ELElBQUlBLEdBQUtFLEtBQUtvRixHQUFNQSxFQUFJZixFQUFFdkUsTUFFeEQsT0FBT3FGLEVBRVAsTUFBTSxJQUFJaEUsTUFBTSw2QkFTeEJrRSxNQUFNaEIsR0FDRixJQUFJaEYsRUFBSTRELEtBQ0pxQyxFQUFJakcsRUFBRStELE1BQU0zRSxPQUVoQixHQUFJNkcsR0FESWpCLEVBQUVqQixNQUFNM0UsT0FDSixPQUNaLElBQUkwRyxFQUFJLElBQUk3RSxFQVlaLE9BWEE2RSxFQUFFekYsTUFBUSxDQUNONEYsRUFDQUEsRUFDQSxDQUFDMUcsRUFBR3VCLElBQ0l2QixHQUFLdUIsRUFDRWQsRUFBRStELE1BQU14RSxHQUFLeUYsRUFBRWpCLE1BQU1qRCxHQUVyQmdGLEVBQUVqQixNQUFNL0QsRUFBR3ZCLElBSXZCdUcsRUFpQlhJLE9BQU9sQixFQUFHZixFQUFPLGNBQ2IsTUFBTWpFLEVBQUk0RCxNQUNIdUMsRUFBUUMsR0FBVXBHLEVBQUVLLE9BQ3BCZ0csRUFBUUMsR0FBVXRCLEVBQUUzRSxNQUMzQixHQUFZLGNBQVI0RCxFQUFzQixDQUN0QixHQUFJa0MsR0FBVUUsRUFDVixNQUFNLElBQUl2RSxNQUFNLHNFQUFzRXFFLGlCQUFzQkUsV0FFaEgsTUFBTUUsRUFBSSxJQUFJdEYsRUFBT2tGLEVBQVFDLEVBQVNFLEVBQVEsU0FHOUMsT0FGQUMsRUFBRUMsVUFBVSxFQUFHLEVBQUd4RyxHQUNsQnVHLEVBQUVDLFVBQVUsRUFBR0osRUFBUXBCLEdBQ2hCdUIsRUFDSixHQUFZLFlBQVJ0QyxFQUFvQixDQUMzQixHQUFJbUMsR0FBVUUsRUFDVixNQUFNLElBQUl4RSxNQUFNLHVFQUF1RXNFLG9CQUF5QkUsY0FFcEgsTUFBTUMsRUFBSSxJQUFJdEYsRUFBT2tGLEVBQVNFLEVBQVFELEVBQVEsU0FHOUMsT0FGQUcsRUFBRUMsVUFBVSxFQUFHLEVBQUd4RyxHQUNsQnVHLEVBQUVDLFVBQVVMLEVBQVEsRUFBR25CLEdBQ2hCdUIsRUFDSixHQUFZLFFBQVJ0QyxFQUFnQixDQUN2QixNQUFNc0MsRUFBSSxJQUFJdEYsRUFBT2tGLEVBQVNFLEVBQVFELEVBQVNFLEVBQVEsU0FHdkQsT0FGQUMsRUFBRUMsVUFBVSxFQUFHLEVBQUd4RyxHQUNsQnVHLEVBQUVDLFVBQVVMLEVBQVFDLEVBQVFwQixHQUNyQnVCLEVBRVAsTUFBTSxJQUFJekUsTUFBTSx3REFBd0RtQyxNQVdoRnVDLFVBQVVDLEVBQVlDLEVBQVkxQixHQUM5QixJQUFLNUUsRUFBTXlCLEdBQVFtRCxFQUFFM0UsTUFDckIsSUFBSyxJQUFJSSxFQUFNLEVBQUdBLEVBQU1MLElBQVFLLEVBQzVCLEtBQUlBLEVBQU1tRCxLQUFLQyxPQUdmLElBQUssSUFBSWhELEVBQU0sRUFBR0EsRUFBTWdCLElBQVFoQixFQUN4QkEsRUFBTStDLEtBQUtFLE9BR2ZGLEtBQUt4QyxVQUFVWCxFQUFNZ0csRUFBWTVGLEVBQU02RixFQUFZMUIsRUFBRUgsTUFBTXBFLEVBQUtJLElBR3hFLE9BQU8rQyxLQW9CWCtDLFVBQVVDLEVBQVdDLEVBQVdDLEVBQVUsS0FBTUMsRUFBVSxNQUN0RCxNQUFPM0csRUFBTXlCLEdBQVErQixLQUFLdkQsTUFHMUIsR0FEQTBHLEVBQVVBLEdBQVdsRixHQURyQmlGLEVBQVVBLEdBQVcxRyxJQUVOd0csR0FBYUcsR0FBV0YsRUFDbkMsTUFBTSxJQUFJL0UsTUFBTSwwSkFHQWdGLGtCQUF3QkYsZ0JBQXdCRyxzQkFBNEJGLE1BRWhHLE1BQU1OLEVBQUksSUFBSXRGLEVBQU82RixFQUFVRixFQUFXRyxFQUFVRixFQUFXLFNBQy9ELElBQUssSUFBSXBHLEVBQU1tRyxFQUFXSSxFQUFVLEVBQUd2RyxFQUFNcUcsSUFBV3JHLElBQU91RyxFQUMzRCxJQUFLLElBQUluRyxFQUFNZ0csRUFBV0ksRUFBVSxFQUFHcEcsRUFBTWtHLElBQVdsRyxJQUFPb0csRUFDM0RWLEVBQUVuRixVQUFVNEYsRUFBU0MsRUFBU3JELEtBQUtpQixNQUFNcEUsRUFBS0ksSUFHdEQsT0FBTzBGLEVBVVhXLE9BQU9DLEVBQWFDLEdBQ2hCLE1BQU1DLEVBQUlGLEVBQVkvSCxPQUNoQmtCLEVBQUk4RyxFQUFZaEksT0FFaEI2QyxFQUFJLElBQUloQixFQUFPb0csRUFBRy9HLEdBQ3hCLElBQUssSUFBSWYsRUFBSSxFQUFHQSxFQUFJOEgsSUFBSzlILEVBQUcsQ0FDeEIsTUFBTStILEVBQVlILEVBQVk1SCxHQUM5QixJQUFLLElBQUl1QixFQUFJLEVBQUdBLEVBQUl1RyxJQUFLdkcsRUFBRyxDQUN4QixNQUFNeUcsRUFBWUgsRUFBWXRHLEdBQzlCbUIsRUFBRWIsVUFBVTdCLEVBQUd1QixFQUFHOEMsS0FBS2lCLE1BQU15QyxFQUFXQyxLQUloRCxPQUFPdEYsRUFTWHVGLGFBQWFoQyxFQUFHN0QsR0FDWixNQUFNMEMsRUFBT1QsS0FBS1IsUUFDWGhELEVBQU15QixHQUFRK0IsS0FBS3ZELE1BQzFCLElBQUssSUFBSUksRUFBTSxFQUFHQSxFQUFNTCxJQUFRSyxFQUFLLENBQ2pDLE1BQU1rRSxFQUFTbEUsRUFBTW9CLEVBQ3JCLElBQUssSUFBSWhCLEVBQU0sRUFBR0EsRUFBTWdCLElBQVFoQixFQUFLLENBQ2pDLE1BQU10QixFQUFJb0YsRUFBUzlELEVBQ25Cd0QsRUFBSzlFLEdBQUtpRyxFQUFFbkIsRUFBSzlFLEdBQUlvQyxFQUFFbEIsRUFBS0ksS0FHcEMsT0FBTytDLEtBR1g2RCxxQkFBcUJyRSxFQUFRb0MsR0FDekIsT0FBTzVCLEtBQUs0RCxhQUFhaEMsR0FBRyxDQUFDcEIsRUFBR3RELElBQU1zQyxFQUFPdEMsS0FHakQ0RyxxQkFBcUJ0RSxFQUFRb0MsR0FDekIsTUFBTW5CLEVBQU9ULEtBQUtSLFFBQ1hoRCxFQUFNeUIsR0FBUStCLEtBQUt2RCxNQUMxQixJQUFLLElBQUlJLEVBQU0sRUFBR0EsRUFBTUwsSUFBUUssRUFBSyxDQUNqQyxNQUFNa0UsRUFBU2xFLEVBQU1vQixFQUNyQixJQUFLLElBQUloQixFQUFNLEVBQUdBLEVBQU1nQixJQUFRaEIsRUFBSyxDQUNqQyxNQUFNdEIsRUFBSW9GLEVBQVM5RCxFQUNuQndELEVBQUs5RSxHQUFLaUcsRUFBRW5CLEVBQUs5RSxHQUFJNkQsRUFBTzNDLEtBR3BDLE9BQU9tRCxLQUdYK0QsT0FBT2hFLEVBQU82QixHQUNWLElBQUluQixFQUFPVCxLQUFLUixPQUNoQixHQUFJTyxhQUFpQjFDLEVBQVEsQ0FDekIsSUFBSzJHLEVBQVlDLEdBQWNsRSxFQUFNdEQsT0FDaENELEVBQU15QixHQUFRK0IsS0FBS3ZELE1BQ3hCLEdBQW1CLElBQWZ1SCxFQUFrQixDQUNsQixHQUFJL0YsSUFBU2dHLEVBQ1QsTUFBTSxJQUFJL0YsTUFBTSx1QkFFcEIsSUFBSyxJQUFJckIsRUFBTSxFQUFHQSxFQUFNTCxJQUFRSyxFQUM1QixJQUFLLElBQUlJLEVBQU0sRUFBR0EsRUFBTWdCLElBQVFoQixFQUM1QndELEVBQUs1RCxFQUFNb0IsRUFBT2hCLEdBQU8yRSxFQUFFbkIsRUFBSzVELEVBQU1vQixFQUFPaEIsR0FBTThDLEVBQU1rQixNQUFNLEVBQUdoRSxTQUd2RSxHQUFtQixJQUFmZ0gsRUFBa0IsQ0FDekIsR0FBSXpILElBQVN3SCxFQUNULE1BQU0sSUFBSTlGLE1BQU0sdUJBRXBCLElBQUssSUFBSXJCLEVBQU0sRUFBR0EsRUFBTUwsSUFBUUssRUFDNUIsSUFBSyxJQUFJSSxFQUFNLEVBQUdBLEVBQU1nQixJQUFRaEIsRUFDNUJ3RCxFQUFLNUQsRUFBTW9CLEVBQU9oQixHQUFPMkUsRUFBRW5CLEVBQUs1RCxFQUFNb0IsRUFBT2hCLEdBQU04QyxFQUFNa0IsTUFBTXBFLEVBQUssUUFHekUsQ0FBQSxHQUFJTCxHQUFRd0gsR0FBYy9GLEdBQVFnRyxFQU9yQyxNQUFNLElBQUkvRixNQUFNLFNBTmhCLElBQUssSUFBSXJCLEVBQU0sRUFBR0EsRUFBTUwsSUFBUUssRUFDNUIsSUFBSyxJQUFJSSxFQUFNLEVBQUdBLEVBQU1nQixJQUFRaEIsRUFDNUJ3RCxFQUFLNUQsRUFBTW9CLEVBQU9oQixHQUFPMkUsRUFBRW5CLEVBQUs1RCxFQUFNb0IsRUFBT2hCLEdBQU04QyxFQUFNa0IsTUFBTXBFLEVBQUtJLFVBTTdFLEdBQUlqQixNQUFNc0UsUUFBUVAsR0FBUSxDQUM3QixJQUFJdkQsRUFBT3dELEtBQUtDLE1BQ1poQyxFQUFPK0IsS0FBS0UsTUFDaEIsR0FBSUgsRUFBTXZFLFNBQVdnQixFQUNqQixJQUFLLElBQUlLLEVBQU0sRUFBR0EsRUFBTUwsSUFBUUssRUFDNUIsSUFBSyxJQUFJSSxFQUFNLEVBQUdBLEVBQU1nQixJQUFRaEIsRUFDNUJ3RCxFQUFLNUQsRUFBTW9CLEVBQU9oQixHQUFPMkUsRUFBRW5CLEVBQUs1RCxFQUFNb0IsRUFBT2hCLEdBQU04QyxFQUFNbEQsUUFHOUQsQ0FBQSxHQUFJa0QsRUFBTXZFLFNBQVd5QyxFQU94QixNQUFNLElBQUlDLE1BQU0sU0FOaEIsSUFBSyxJQUFJckIsRUFBTSxFQUFHQSxFQUFNTCxJQUFRSyxFQUM1QixJQUFLLElBQUlJLEVBQU0sRUFBR0EsRUFBTWdCLElBQVFoQixFQUM1QndELEVBQUs1RCxFQUFNb0IsRUFBT2hCLEdBQU8yRSxFQUFFbkIsRUFBSzVELEVBQU1vQixFQUFPaEIsR0FBTThDLEVBQU05QyxVQU9yRSxJQUFLLElBQUl0QixFQUFJLEVBQUdKLEVBQUl5RSxLQUFLQyxNQUFRRCxLQUFLRSxNQUFPdkUsRUFBSUosSUFBS0ksRUFDbEQ4RSxFQUFLOUUsR0FBS2lHLEVBQUVuQixFQUFLOUUsR0FBSW9FLEdBRzdCLE9BQU9DLEtBT1hYLFFBQ0ksSUFBSStCLEVBQUksSUFBSS9ELEVBSVosT0FIQStELEVBQUVuQixNQUFRRCxLQUFLQyxNQUNmbUIsRUFBRWxCLE1BQVFGLEtBQUtFLE1BQ2ZrQixFQUFFakIsTUFBUUgsS0FBS1IsT0FBT3BDLE1BQU0sR0FDckJnRSxFQWVYOEMsS0FBS25FLEdBQ0QsT0FBT0MsS0FBS1gsUUFBUTBFLE9BQU9oRSxHQUFPLENBQUM5RSxFQUFHQyxJQUFNRCxFQUFJQyxJQWVwRGlKLE9BQU9wRSxHQUNILE9BQU9DLEtBQUtYLFFBQVEwRSxPQUFPaEUsR0FBTyxDQUFDOUUsRUFBR0MsSUFBTUQsRUFBSUMsSUFlcERrSixJQUFJckUsR0FDQSxPQUFPQyxLQUFLWCxRQUFRMEUsT0FBT2hFLEdBQU8sQ0FBQzlFLEVBQUdDLElBQU1ELEVBQUlDLElBZXBEbUosSUFBSXRFLEdBQ0EsT0FBT0MsS0FBS1gsUUFBUTBFLE9BQU9oRSxHQUFPLENBQUM5RSxFQUFHQyxJQUFNRCxFQUFJQyxJQU9oRHVCLFlBQ0EsTUFBTyxDQUFDdUQsS0FBS0MsTUFBT0QsS0FBS0UsT0FRekJ6RCxXQUFPRCxFQUFNeUIsRUFBTThCLEVBQVEsS0FBTSxLQUNqQ0MsS0FBS0MsTUFBUXpELEVBQ2J3RCxLQUFLRSxNQUFRakMsRUFDYitCLEtBQUtHLE1BQVEsSUFBSWhDLGFBQWEzQixFQUFPeUIsR0FDckMsSUFBSyxJQUFJcEIsRUFBTSxFQUFHQSxFQUFNTCxJQUFRSyxFQUM1QixJQUFLLElBQUlJLEVBQU0sRUFBR0EsRUFBTWdCLElBQVFoQixFQUM1QitDLEtBQUtHLE1BQU10RCxFQUFNb0IsRUFBT2hCLEdBQU84QyxFQUFNbEQsRUFBS0ksR0FHbEQsT0FBTytDLEtBT1BILGdCQUNBLE1BQU0vQixFQUFTLEdBQ2YsSUFBSyxNQUFNakIsS0FBT21ELEtBQUtXLGVBQ25CN0MsRUFBT3dHLEtBQUt6SCxHQUVoQixPQUFPaUIsRUFPUHlHLGNBQ0EsTUFBTXpHLEVBQVMsR0FDZixJQUFLLE1BQU1qQixLQUFPbUQsS0FBS1csZUFDbkI3QyxFQUFPd0csS0FBS3RJLE1BQU1jLEtBQUtELElBRTNCLE9BQU9pQixFQU9QNEIsV0FDQSxNQUFNbEQsRUFBT3dELEtBQUtDLE1BQ1poQyxFQUFPK0IsS0FBS0UsTUFDWnNFLEVBQWNySixLQUFLc0osSUFBSWpJLEVBQU15QixHQUNuQyxJQUFJSCxFQUFTLElBQUlLLGFBQWFxRyxHQUM5QixJQUFLLElBQUk3SSxFQUFJLEVBQUdBLEVBQUk2SSxJQUFlN0ksRUFDL0JtQyxFQUFPbkMsR0FBS3FFLEtBQUtpQixNQUFNdEYsRUFBR0EsR0FFOUIsT0FBT21DLEVBT1A0RyxXQUdBLE9BRlkxRSxLQUFLdkUsS0FDUHVFLEtBQUtDLE1BQVFELEtBQUtFLE9BUTVCekUsVUFFQSxPQUFPVSxFQURNNkQsS0FBS1IsUUFRbEJBLGFBRUEsT0FEYVEsS0FBS0csTUFRbEJ3RSxlQUNBLE1BQU1sRSxFQUFPVCxLQUFLUixPQUNaaEQsRUFBT3dELEtBQUtDLE1BQ1poQyxFQUFPK0IsS0FBS0UsTUFDWnBDLEVBQVNLLGFBQWFyQixLQUFLLENBQUV0QixPQUFRZ0IsSUFDM0MsSUFBSyxJQUFJSyxFQUFNLEVBQUdBLEVBQU1MLElBQVFLLEVBQUssQ0FDakNpQixFQUFPakIsR0FBTyxFQUNkLElBQUssSUFBSUksRUFBTSxFQUFHQSxFQUFNZ0IsSUFBUWhCLEVBQzVCYSxFQUFPakIsSUFBUTRELEVBQUs1RCxFQUFNb0IsRUFBT2hCLEdBRXJDYSxFQUFPakIsSUFBUW9CLEVBRW5CLE9BQU9ILEVBTVA4RyxlQUNBLE1BQU1uRSxFQUFPVCxLQUFLUixPQUNaaEQsRUFBT3dELEtBQUtDLE1BQ1poQyxFQUFPK0IsS0FBS0UsTUFDWnBDLEVBQVNLLGFBQWFyQixLQUFLLENBQUV0QixPQUFReUMsSUFDM0MsSUFBSyxJQUFJaEIsRUFBTSxFQUFHQSxFQUFNZ0IsSUFBUWhCLEVBQUssQ0FDakNhLEVBQU9iLEdBQU8sRUFDZCxJQUFLLElBQUlKLEVBQU0sRUFBR0EsRUFBTUwsSUFBUUssRUFDNUJpQixFQUFPYixJQUFRd0QsRUFBSzVELEVBQU1vQixFQUFPaEIsR0FFckNhLEVBQU9iLElBQVFULEVBRW5CLE9BQU9zQixFQVdYc0MsZ0JBQWdCaEUsRUFBR2xCLEVBQUcrRCxFQUFZRCxFQUFNLE1BQ2pCLE9BQWZDLElBQ0FBLEVBQWEsSUFBSUMsR0FFckIsTUFBTTFDLEVBQU9KLEVBQUVLLE1BQU0sR0FDZndCLEVBQU8vQyxFQUFFdUIsTUFBTSxHQUNyQixJQUFJcUIsRUFBUyxJQUFJVCxFQUFPYixFQUFNLEdBQzlCLElBQUssSUFBSWIsRUFBSSxFQUFHQSxFQUFJc0MsSUFBUXRDLEVBQUcsQ0FDM0IsTUFBTWtKLEVBQU14SCxFQUFPUCxLQUFLNUIsRUFBRStCLElBQUl0QixJQUFJdUYsRUFDbEMsSUFBSWpGLEVBQUksSUFBSW9CLEVBQU9iLEVBQU0sR0FBRyxJQUFNeUMsRUFBV0UsU0FDekMyRixFQUFJRCxFQUFJUixJQUFJakksRUFBRW1ELElBQUl0RCxJQUNsQjhJLEVBQUlELEVBQUV6RixRQUNWLEVBQUcsQ0FDQyxNQUFNMkYsRUFBSTVJLEVBQUVtRCxJQUFJd0YsR0FDVkUsRUFBUUgsRUFBRTVELEVBQUUzQixJQUFJdUYsR0FBRzdELE1BQU0sRUFBRyxHQUFLOEQsRUFBRTdELEVBQUUzQixJQUFJeUYsR0FBRy9ELE1BQU0sRUFBRyxHQUMzRGhGLEVBQUlBLEVBQUVtSSxJQUFJVyxFQUFFYixLQUFLZSxJQUNqQixNQUFNQyxFQUFTSixFQUFFVCxJQUFJVyxFQUFFZCxLQUFLZSxJQUN0QkUsRUFBT0QsRUFBT2hFLEVBQUUzQixJQUFJMkYsR0FBUWpFLE1BQU0sRUFBRyxHQUFLNkQsRUFBRTVELEVBQUUzQixJQUFJdUYsR0FBRzdELE1BQU0sRUFBRyxHQUNwRThELEVBQUlHLEVBQU9kLElBQUlXLEVBQUViLEtBQUtpQixJQUN0QkwsRUFBSUksUUFDQy9KLEtBQUtXLElBQUlnSixFQUFFSixNQUFRMUYsR0FDNUJsQixFQUFTQSxFQUFPd0UsT0FBT3JHLEVBQUcsY0FFOUIsT0FBTzZCLEVBU1hzQyxhQUFhaEUsRUFBR2xCLEdBQ1osSUFBTWtLLEVBQUdBLEVBQUdDLEVBQUdBLEdBQU0sTUFBT2pKLEdBQUssTUFBT0EsRUFBSUEsRUFBSWlCLEVBQU9pSSxHQUFHbEosR0FDdERJLEVBQU80SSxFQUFFM0ksTUFBTSxHQUNmUixFQUFJZixFQUFFbUUsUUFHVixJQUFLLElBQUl4QyxFQUFNLEVBQUdBLEVBQU1MLElBQVFLLEVBQUssQ0FDakMsSUFBSyxJQUFJSSxFQUFNLEVBQUdBLEVBQU1KLEVBQU0sSUFBS0ksRUFDL0JoQixFQUFFdUIsVUFBVSxFQUFHWCxFQUFLWixFQUFFZ0YsTUFBTSxFQUFHcEUsR0FBT3VJLEVBQUVuRSxNQUFNcEUsRUFBS0ksR0FBT2hCLEVBQUVnRixNQUFNLEVBQUdoRSxJQUV6RWhCLEVBQUV1QixVQUFVLEVBQUdYLEVBQUtaLEVBQUVnRixNQUFNLEVBQUdwRSxHQUFPdUksRUFBRW5FLE1BQU1wRSxFQUFLQSxJQUl2RCxJQUFLLElBQUlBLEVBQU1MLEVBQU8sRUFBR0ssR0FBTyxJQUFLQSxFQUFLLENBQ3RDLElBQUssSUFBSUksRUFBTVQsRUFBTyxFQUFHUyxFQUFNSixJQUFPSSxFQUNsQ2hCLEVBQUV1QixVQUFVLEVBQUdYLEVBQUtaLEVBQUVnRixNQUFNLEVBQUdwRSxHQUFPd0ksRUFBRXBFLE1BQU1wRSxFQUFLSSxHQUFPaEIsRUFBRWdGLE1BQU0sRUFBR2hFLElBRXpFaEIsRUFBRXVCLFVBQVUsRUFBR1gsRUFBS1osRUFBRWdGLE1BQU0sRUFBR3BFLEdBQU93SSxFQUFFcEUsTUFBTXBFLEVBQUtBLElBR3ZELE9BQU9aLEVBUVhtRSxVQUFVaEUsR0FDTixNQUFNSSxFQUFPSixFQUFFSyxNQUFNLEdBQ2YySSxFQUFJLElBQUkvSCxFQUFPYixFQUFNQSxFQUFNLFNBQzNCNkksRUFBSSxJQUFJaEksRUFBT2IsRUFBTUEsRUFBTSxZQUVqQyxJQUFLLElBQUlVLEVBQUksRUFBR0EsRUFBSVYsSUFBUVUsRUFBRyxDQUMzQixJQUFLLElBQUl2QixFQUFJdUIsRUFBR3ZCLEVBQUlhLElBQVFiLEVBQUcsQ0FDM0IsSUFBSUYsRUFBTSxFQUNWLElBQUssSUFBSVksRUFBSSxFQUFHQSxFQUFJYSxJQUFLYixFQUNyQlosR0FBTzJKLEVBQUVuRSxNQUFNdEYsRUFBR1UsR0FBS2dKLEVBQUVwRSxNQUFNNUUsRUFBR2EsR0FFdENrSSxFQUFFNUgsVUFBVTdCLEVBQUd1QixFQUFHZCxFQUFFNkUsTUFBTXRGLEVBQUd1QixHQUFLekIsR0FFdEMsSUFBSyxJQUFJRSxFQUFJdUIsRUFBR3ZCLEVBQUlhLElBQVFiLEVBQUcsQ0FDM0IsR0FBc0IsSUFBbEJ5SixFQUFFbkUsTUFBTS9ELEVBQUdBLEdBQ1gsT0FFSixJQUFJekIsRUFBTSxFQUNWLElBQUssSUFBSVksRUFBSSxFQUFHQSxFQUFJYSxJQUFLYixFQUNyQlosR0FBTzJKLEVBQUVuRSxNQUFNL0QsRUFBR2IsR0FBS2dKLEVBQUVwRSxNQUFNNUUsRUFBR1YsR0FFdEMwSixFQUFFN0gsVUFBVU4sRUFBR3ZCLEdBQUlTLEVBQUU2RSxNQUFNL0QsRUFBR3ZCLEdBQUtGLEdBQU8ySixFQUFFbkUsTUFBTS9ELEVBQUdBLEtBSTdELE1BQU8sQ0FBRWtJLEVBQUdBLEVBQUdDLEVBQUdBLEdBUXRCakYsV0FBV2hFLEdBQ1AsTUFBTUksRUFBT0osRUFBRUssTUFBTSxJQUNmMkksRUFBRUEsRUFBQ0MsRUFBRUEsR0FBTWhJLEVBQU9pSSxHQUFHbEosR0FDckJtSixFQUFTSCxFQUFFMUYsS0FDWDhGLEVBQVNILEVBQUUzRixLQUNqQixJQUFJK0YsRUFBTUYsRUFBTyxHQUFLQyxFQUFPLEdBQzdCLElBQUssSUFBSTNJLEVBQU0sRUFBR0EsRUFBTUwsSUFBUUssRUFDNUI0SSxHQUFPRixFQUFPMUksR0FBTzJJLEVBQU8zSSxHQUVoQyxPQUFPNEksRUFTWHJGLFdBQVdzRixFQUFHckosRUFBSSxHQUNkLE1BQU1zSixFQUFLRCxFQUFFeEUsRUFDYixJQUFJMEUsRUFBTUQsRUFBR3BHLElBQUltRyxHQUNiRyxFQUFNSCxFQUFFbkcsSUFBSW9HLElBQ1ZoRyxhQUFjbUcsRUFBR3JHLFlBQWFzRyxHQUFVQyxFQUE0QkosRUFBS3ZKLElBQ3pFc0QsYUFBYzBGLEdBQU1XLEVBQTRCSCxFQUFLeEosR0FDM0QsTUFBTyxDQUFFZ0osRUFBR0EsRUFBR1UsTUFBT0EsRUFBTWhKLEtBQUtrSixHQUFVOUssS0FBS0MsS0FBSzZLLEtBQVNILEVBQUdBLElDbDVCbEUsTUFBTTVHLEVBT1RZLFlBQVlvRyxHQVVSLE9BVEFsRyxLQUFLbUcsR0FBSyxJQUNWbkcsS0FBS29HLEdBQUssSUFDVnBHLEtBQUtxRyxVQUFZLFdBQ2pCckcsS0FBS3NHLFlBQWMsV0FDbkJ0RyxLQUFLdUcsWUFBYyxXQUNuQnZHLEtBQUt3RyxJQUFNLElBQUl4SyxNQUFNZ0UsS0FBS21HLElBQzFCbkcsS0FBS3lHLEtBQU96RyxLQUFLeUQsRUFBSSxFQUVyQnpELEtBQUtwQixLQUFPc0gsSUFBUyxJQUFJUSxNQUFPQyxVQUN6QjNHLEtBR1BwQixTQUFLc0gsR0FDTGxHLEtBQUtrRyxNQUFRQSxFQUNiLElBQUlVLEVBQUs1RyxLQUFLd0csSUFHZCxJQURBSSxFQUFHLEdBQUtWLElBQVUsRUFDYmxHLEtBQUt5RyxLQUFPLEVBQUd6RyxLQUFLeUcsS0FBT3pHLEtBQUttRyxHQUFJbkcsS0FBS3lHLE1BQVEsRUFBRyxDQUNyRCxJQUFJSSxFQUFNN0csS0FBS3lHLEtBQ1gxSyxFQUFJNkssRUFBR0MsRUFBTSxHQUFNRCxFQUFHQyxFQUFNLEtBQU8sR0FDdkNELEVBQUdDLElBQXFDLGFBQXRCLFdBQUo5SyxLQUFvQixLQUFxQixJQUF5QixZQUFkLE1BQUpBLEdBQStCOEssRUFDN0ZELEVBQUdDLE1BQVUsR0FRakJqSSxXQUNBLE9BQU9vQixLQUFLa0csTUFPWi9HLGFBQ0EsT0FBT2EsS0FBSzhHLFlBQWMsRUFBTSxZQU9oQ0EsaUJBQ0EsSUFBSTVLLEVBQ0E2SyxFQUFRLElBQUkvSyxNQUFNLEVBQUtnRSxLQUFLcUcsV0FDaEMsR0FBSXJHLEtBQUt5RyxNQUFRekcsS0FBS21HLEdBQUksQ0FDdEIsSUFBSWEsRUFNQUMsRUFBTWpILEtBQUttRyxHQUFLbkcsS0FBS29HLEdBQ3JCYyxFQUFNbEgsS0FBS29HLEdBQUtwRyxLQUFLbUcsR0FFekIsSUFBS2EsRUFBSyxFQUFHQSxFQUFLQyxJQUFPRCxFQUNyQjlLLEVBQUs4RCxLQUFLd0csSUFBSVEsR0FBTWhILEtBQUtzRyxZQUFnQnRHLEtBQUt3RyxJQUFJUSxFQUFLLEdBQUtoSCxLQUFLdUcsWUFDakV2RyxLQUFLd0csSUFBSVEsR0FBTWhILEtBQUt3RyxJQUFJUSxFQUFLaEgsS0FBS29HLElBQU9sSyxJQUFNLEVBQUs2SyxFQUFVLEVBQUo3SyxHQUU5RCxLQUFPOEssRUFBS2hILEtBQUttRyxHQUFLLElBQUthLEVBQ3ZCOUssRUFBSzhELEtBQUt3RyxJQUFJUSxHQUFNaEgsS0FBS3NHLFlBQWdCdEcsS0FBS3dHLElBQUlRLEVBQUssR0FBS2hILEtBQUt1RyxZQUNqRXZHLEtBQUt3RyxJQUFJUSxHQUFNaEgsS0FBS3dHLElBQUlRLEVBQUtFLEdBQVFoTCxJQUFNLEVBQUs2SyxFQUFVLEVBQUo3SyxHQUcxREEsRUFBSzhELEtBQUt3RyxJQUFJeEcsS0FBS21HLEdBQUssR0FBS25HLEtBQUtzRyxZQUFnQnRHLEtBQUt3RyxJQUFJLEdBQUt4RyxLQUFLdUcsWUFDckV2RyxLQUFLd0csSUFBSXhHLEtBQUttRyxHQUFLLEdBQUtuRyxLQUFLd0csSUFBSXhHLEtBQUtvRyxHQUFLLEdBQU1sSyxJQUFNLEVBQUs2SyxFQUFVLEVBQUo3SyxHQUVsRThELEtBQUt5RyxLQUFPLEVBU2hCLE9BTkF2SyxFQUFJOEQsS0FBS3dHLElBQUt4RyxLQUFLeUcsTUFBUSxHQUMzQnZLLEdBQUtBLElBQU0sR0FDWEEsR0FBTUEsR0FBSyxFQUFLLFdBQ2hCQSxHQUFNQSxHQUFLLEdBQU0sV0FDakJBLEdBQUtBLElBQU0sR0FFSkEsSUFBTSxFQVNqQmlMLE9BQU8vSyxFQUFHYixHQUNOLEdBQUlhLGFBQWFpQixFQUFRLENBQ3JCLElBQUliLEVBQU9KLEVBQUVLLE1BQU0sR0FDbkIsR0FBSWxCLEVBQUlpQixFQUNKLE1BQU0sSUFBSTBCLE1BQU0sb0JBRXBCLElBQUlrSixFQUFTLElBQUlwTCxNQUFNVCxHQUNuQjhMLEVBQWFDLEVBQVMsRUFBRzlLLEVBQU8sR0FDcEMsSUFBSyxJQUFJYixFQUFJLEVBQUcwRyxFQUFJZ0YsRUFBVzdMLE9BQVFHLEVBQUlKLElBQUtJLElBQUswRyxFQUFHLENBQ3BELElBQUlrRixFQUFldkgsS0FBSzhHLFdBQWF6RSxFQUNyQytFLEVBQU96TCxHQUFLMEwsRUFBV0csT0FBT0QsRUFBYyxHQUFHLEdBRW5ELE9BQU9ILEVBQU9ySyxLQUFLZ0ksR0FBTTNJLEVBQUVTLElBQUlrSSxLQUM1QixHQUFJL0ksTUFBTXNFLFFBQVFsRSxJQUFNQSxhQUFhK0IsYUFBYyxDQUN0RCxJQUFJM0IsRUFBT0osRUFBRVosT0FDYixHQUFJRCxFQUFJaUIsRUFDSixNQUFNLElBQUkwQixNQUFNLG9CQUVwQixJQUFJa0osRUFBUyxJQUFJcEwsTUFBTVQsR0FDbkI4TCxFQUFhQyxFQUFTLEVBQUc5SyxFQUFPLEdBQ3BDLElBQUssSUFBSWIsRUFBSSxFQUFHMEcsRUFBSWdGLEVBQVc3TCxPQUFRRyxFQUFJSixJQUFLSSxJQUFLMEcsRUFBRyxDQUNwRCxJQUFJa0YsRUFBZXZILEtBQUs4RyxXQUFhekUsRUFDckMrRSxFQUFPekwsR0FBSzBMLEVBQVdHLE9BQU9ELEVBQWMsR0FBRyxHQUVuRCxPQUFPSCxFQUFPckssS0FBS2dJLEdBQU0zSSxFQUFFMkksTUFZbkMzRSxjQUFjaEUsRUFBR2IsRUFBR3FELEVBQU8sTUFFdkIsT0FEVSxJQUFJTSxFQUFXTixHQUNoQnVJLE9BQU8vSyxFQUFHYixJQ3RJWixXQUFVaUUsR0FDckIsSUFBSTVCLEVBQ0osSUFBSyxNQUFNbUMsS0FBU1AsRUFDSCxNQUFUTyxJQUFrQm5DLEVBQU1tQyxRQUFrQjBILElBQVI3SixHQUFxQm1DLEdBQVNBLEtBQ2hFbkMsRUFBTW1DLEdBR2QsT0FBT25DLEVDUEksV0FBVTRCLEdBQ3JCLElBQUlpRixFQUNKLElBQUssTUFBTTFFLEtBQVNQLEVBQ0gsTUFBVE8sSUFBa0IwRSxFQUFNMUUsUUFBa0IwSCxJQUFSaEQsR0FBcUIxRSxHQUFTQSxLQUNoRTBFLEVBQU0xRSxHQUdkLE9BQU8wRSxFQ1ZKLE1BQU1pRCxFQVlUNUgsWUFBWTZILEVBQVcsS0FBTUMsRUFBVzdDLENBQUFBLEdBQUtBLEdBQUc4QyxFQUFhLE9BQ3pELE9BQUlGLEVBQ09ELEVBQUtJLFFBQVFILEVBQVVDLEVBQVVDLElBRXhDN0gsS0FBSytILFVBQVlILEVBQ2pCNUgsS0FBS2dJLFdBQWEsR0FFZGhJLEtBQUtpSSxZQURTLE9BQWRKLEVBQ21CLENBQUM1TSxFQUFHQyxJQUFNRCxFQUFJQyxFQUNaLE9BQWQyTSxFQUNZLENBQUM1TSxFQUFHQyxJQUFNRCxFQUFJQyxFQUVkMk0sRUFFaEI3SCxNQVdmSSxlQUFldUgsRUFBVUMsRUFBVzdDLENBQUFBLEdBQUtBLEdBQUc4QyxFQUFhLE9BQ3JELE1BQU1LLEVBQU8sSUFBSVIsRUFBSyxLQUFNRSxFQUFVQyxHQUNoQ00sRUFBWUQsRUFBS0YsV0FDdkIsSUFBSyxNQUFNN0YsS0FBS3dGLEVBQ1pRLEVBQVU3RCxLQUFLLENBQ1g4RCxRQUFXakcsRUFDWHBDLE1BQVM2SCxFQUFTekYsS0FHMUIsSUFBSyxJQUFJeEcsRUFBSVIsS0FBS2tOLE1BQU9WLEVBQVNuTSxPQUFTLEVBQUssR0FBSUcsR0FBSyxJQUFLQSxFQUMxRHVNLEVBQUtJLGNBQWMzTSxHQUV2QixPQUFPdU0sRUFTWEssTUFBTUMsRUFBU0MsR0FDWCxNQUFNTixFQUFZbkksS0FBS2dJLFlBQ3RCRyxFQUFVTSxHQUFVTixFQUFVSyxJQUFZLENBQUNMLEVBQVVLLEdBQVVMLEVBQVVNLElBTzlFQyxjQUNJLE1BQU1QLEVBQVluSSxLQUFLZ0ksV0FDdkIsSUFBSVcsRUFBUVIsRUFBVTNNLE9BQVMsRUFDL0IsS0FBT21OLEVBQVEsR0FBRyxDQUNkLElBQUlDLEVBQWN6TixLQUFLa04sT0FBT00sRUFBUSxHQUFLLEdBQzNDLElBQUszSSxLQUFLaUksWUFBWUUsRUFBVVEsR0FBTzVJLE1BQU9vSSxFQUFVUyxHQUFhN0ksT0FDakUsTUFFSkMsS0FBS3VJLE1BQU1LLEVBQWFELEdBQ3hCQSxFQUFRQyxHQVVoQnRFLEtBQUs4RCxHQUNELE1BRU1TLEVBQU8sQ0FBQ1QsUUFBV0EsRUFBU3JJLE1BRnBCQyxLQUFLK0gsVUFBVUssSUFLN0IsT0FGQXBJLEtBQUtnSSxXQUFXMUQsS0FBS3VFLEdBQ3JCN0ksS0FBSzBJLGNBQ0UxSSxLQU9Yc0ksY0FBY1EsRUFBWSxHQUN0QixNQUFNWCxFQUFZbkksS0FBS2dJLFdBQ2pCSCxFQUFhN0gsS0FBS2lJLFlBQ2xCek0sRUFBUzJNLEVBQVUzTSxPQUN6QixJQUFJdU4sRUFBTyxFQUFJRCxFQUFjLEVBQ3pCRSxFQUFRLEVBQUlGLEVBQWMsRUFDMUJILEVBQVFHLEVBQ1osR0FBSUgsRUFBUW5OLEVBQVEsS0FBTSwyQkFDdEJ1TixFQUFPdk4sR0FBVXFNLEVBQVdNLEVBQVVZLEdBQU1oSixNQUFPb0ksRUFBVVEsR0FBTzVJLFNBQ3BFNEksRUFBUUksR0FFUkMsRUFBUXhOLEdBQVVxTSxFQUFXTSxFQUFVYSxHQUFPakosTUFBT29JLEVBQVVRLEdBQU81SSxTQUN0RTRJLEVBQVFLLEdBRVJMLElBQVVHLElBQ1Y5SSxLQUFLdUksTUFBTU8sRUFBYUgsR0FDeEIzSSxLQUFLc0ksY0FBY0ssSUFRM0JNLE1BQ0ksTUFBTWQsRUFBWW5JLEtBQUtnSSxXQUN2QixHQUF5QixJQUFyQkcsRUFBVTNNLE9BQ1YsT0FBTyxLQUNKLEdBQXlCLElBQXJCMk0sRUFBVTNNLE9BQ2pCLE9BQU8yTSxFQUFVYyxNQUVyQmpKLEtBQUt1SSxNQUFNLEVBQUdKLEVBQVUzTSxPQUFTLEdBQ2pDLE1BQU0wTixFQUFPZixFQUFVYyxNQUV2QixPQURBakosS0FBS3NJLGdCQUNFWSxFQU9QQyxZQUNBLE9BQU9uSixLQUFLZ0ksV0FBV3hNLE9BQVMsRUFBSXdFLEtBQUtnSSxXQUFXLEdBQUssS0FRN0RvQixXQUNJLElBQUssSUFBSXpOLEVBQUksRUFBR0osRUFBSXlFLEtBQUtnSSxXQUFXeE0sT0FBUUcsRUFBSUosSUFBS0ksUUFDM0NxRSxLQUFLZ0ksV0FBV3JNLEdBQUd5TSxRQVFqQ2lCLFVBQ0ksT0FBT3JKLEtBQUtTLE9BQ1B0RCxNQUFLLENBQUNsQyxFQUFFQyxJQUFNOEUsS0FBS2lJLFlBQVloTixFQUFHQyxJQUFNLEVBQUksSUFPckR1RixPQUNJLE9BQU9ULEtBQUtnSSxXQUNQakwsS0FBSWdJLEdBQUtBLEVBQUVxRCxVQU9wQmtCLFdBQ0ksT0FBT3RKLEtBQUtnSSxXQU9aeE0sYUFDQSxPQUFPd0UsS0FBS2dJLFdBQVd4TSxPQU92QitOLFlBQ0EsT0FBdUIsSUFBaEJ2SixLQUFLeEUsUUNoTWIsTUFBTWdPLEVBUVQxSixZQUFZNkgsRUFBVyxNQUVuQixHQURBM0gsS0FBS3lKLE1BQVEsSUFBSUMsSUFDYi9CLEVBQ0EsSUFBSyxNQUFNeEYsS0FBS3dGLEVBQ1ozSCxLQUFLMkosU0FBU3hILEdBR3RCLE9BQU9uQyxLQUdYMkosU0FBUzFOLEdBQ0wsTUFBTTJOLEVBQU81SixLQUFLeUosTUFRbEIsT0FQS0csRUFBS0MsSUFBSTVOLEtBQ1YyTixFQUFLeEYsSUFBSW5JLEdBQ1RBLEVBQUU2TixlQUFpQixHQUNuQjdOLEVBQUU2TixlQUFlQyxPQUFTOU4sRUFDMUJBLEVBQUU2TixlQUFlRSxTQUFXLElBQUlOLElBQUksQ0FBQ3pOLElBQ3JDQSxFQUFFNk4sZUFBZUcsS0FBTyxHQUVyQmpLLEtBR1hrSyxLQUFLak8sR0FFRCxPQURhK0QsS0FBS3lKLE1BQ1RJLElBQUk1TixHQUNMQSxFQUFFNk4sZUFBZUMsU0FBVzlOLEdBQzVCQSxFQUFFNk4sZUFBZUUsU0FBUzVGLE9BQU9uSSxHQUNqQ0EsRUFBRTZOLGVBQWVDLE9BQVMvSixLQUFLa0ssS0FBS2pPLEVBQUU2TixlQUFlQyxRQUM5QzlOLEVBQUU2TixlQUFlQyxRQUVqQjlOLEVBR0osS0FJZmtPLE1BQU1sTyxFQUFHQyxHQUNMLElBQUlrTyxFQUFTcEssS0FBS2tLLEtBQUtqTyxHQUNuQm9PLEVBQVNySyxLQUFLa0ssS0FBS2hPLEdBRXZCLE9BQUlrTyxJQUFXQyxJQUNYRCxFQUFPTixlQUFlRyxLQUFPSSxFQUFPUCxlQUFlRyxRQUFPRyxFQUFRQyxHQUFVLENBQUNBLEVBQVFELElBRXpGQyxFQUFPUCxlQUFlQyxPQUFTSyxFQUUvQkMsRUFBT1AsZUFBZUUsU0FBU00sUUFBUUYsRUFBT04sZUFBZUUsU0FBUzVGLElBQUtnRyxFQUFPTixlQUFlRSxVQUNqR0ksRUFBT04sZUFBZUcsTUFBUUksRUFBT1AsZUFBZUcsTUFOdEJqSyxNQ2hEL0IsTUFBTXVLLEVBWVR6SyxZQUFZNkgsRUFBVyxLQUFNckwsRUFBU0MsR0FrQmxDLE9BakJBeUQsS0FBS3dLLE1BQVEsTUFDVDFLLFlBQVkySyxFQUFPQyxFQUFPLEtBQU1DLEVBQU8sS0FBTUMsRUFBTyxNQUNoRDVLLEtBQUt5SyxNQUFRQSxFQUNiekssS0FBSzBLLE9BQVNBLEVBQ2QxSyxLQUFLMkssT0FBU0EsRUFDZDNLLEtBQUs0SyxPQUFTQSxJQUd0QjVLLEtBQUs2SyxNQUFRLE1BQ1QvSyxZQUFZZ0wsR0FDUjlLLEtBQUs4SyxPQUFTQSxJQUd0QjlLLEtBQUsrSyxRQUFVek8sRUFDWHFMLEdBQ0EzSCxLQUFLb0UsSUFBSXVELEdBRU4zSCxLQVFYb0UsSUFBSXVELEdBS0EsT0FKQUEsRUFBV0EsRUFBUzVLLEtBQUksQ0FBQ3FMLEVBQVNPLEtBQ3ZCLENBQUNBLE1BQU9BLEVBQU9QLFFBQVNBLE1BRW5DcEksS0FBS2dMLE1BQVFoTCxLQUFLaUwsV0FBV3RELEdBQ3RCM0gsS0FRWGlMLFdBQVd0RCxHQUNQLEdBQXdCLElBQXBCQSxFQUFTbk0sT0FDVCxPQUFPLElBQUl3RSxLQUFLNkssTUFBTWxELEdBQ25CLENBQ0gsSUFRSXZHLEVBUkE4SixFQUFJbEwsS0FBS21MLGlCQUFpQnhELEdBQzFCeUQsRUFBa0J6RCxFQUFTeEssTUFBSyxDQUFDbEMsRUFBR0MsSUFBTUQsRUFBRW1OLFFBQVE4QyxHQUFLaFEsRUFBRWtOLFFBQVE4QyxLQUNuRTNQLEVBQUk2UCxFQUFnQjVQLE9BQ3BCNlAsRUFBVWxRLEtBQUtrTixNQUFNOU0sRUFBSSxHQUN6QitQLEVBQUkzRCxFQUFTMEQsR0FDYmpHLEVBQUlnRyxFQUFnQmhPLE1BQU0sRUFBR2lPLEdBQzdCaE4sRUFBSStNLEVBQWdCaE8sTUFBTWlPLEVBQVM5UCxHQUNuQ3FQLEVBQVN6UCxLQUFLeUMsT0FBTytKLEVBQVM1SyxLQUFJZ0ksR0FBSy9FLEtBQUsrSyxRQUFRTyxFQUFFbEQsUUFBU3JELEVBQUVxRCxZQU9yRSxPQUpJaEgsRUFEQWdFLEVBQUU1SixPQUFTLEdBQUs2QyxFQUFFN0MsT0FBUyxFQUN2QixJQUFJd0UsS0FBS3dLLE1BQU1jLEVBQUd0TCxLQUFLaUwsV0FBVzdGLEdBQUlwRixLQUFLaUwsV0FBVzVNLEdBQUl1TSxHQUUxRCxJQUFJNUssS0FBSzZLLE1BQU1sRCxHQUVoQnZHLEdBU2YrSixpQkFBaUIvSixHQUNiLElBQUkyRCxFQUFJM0QsRUFBRSxHQUFHZ0gsUUFBUTVNLE9BQ2pCaUMsRUFBUSxJQUFJekIsTUFBTStJLEdBRXRCLElBQUssSUFBSXBKLEVBQUksRUFBR0EsRUFBSW9KLElBQUtwSixFQUNyQjhCLEVBQU05QixHQUFLLENBQUM2RixFQUFBQSxHQUFXQSxFQUFBQSxHQUczQixJQUFJK0osRUFBU25LLEVBQUVvSyxRQUFPLENBQUNDLEVBQUtDLEtBQ3hCLElBQUssSUFBSS9QLEVBQUksRUFBR0EsRUFBSW9KLElBQUtwSixFQUNyQjhQLEVBQUk5UCxHQUFHLEdBQUtSLEtBQUtzSixJQUFJZ0gsRUFBSTlQLEdBQUcsR0FBSStQLEVBQVF0RCxRQUFRek0sSUFDaEQ4UCxFQUFJOVAsR0FBRyxHQUFLUixLQUFLeUMsSUFBSTZOLEVBQUk5UCxHQUFHLEdBQUkrUCxFQUFRdEQsUUFBUXpNLElBRXBELE9BQU84UCxJQUNSaE8sR0FDSDhOLEVBQVNBLEVBQU94TyxLQUFJZ0ksR0FBS0EsRUFBRSxHQUFLQSxFQUFFLEtBRWxDLElBQUltRyxFQUFJLEVBQ1IsSUFBSyxJQUFJdlAsRUFBSSxFQUFHQSxFQUFJb0osSUFBS3BKLEVBQ3JCdVAsRUFBSUssRUFBTzVQLEdBQUs0UCxFQUFPTCxHQUFLdlAsRUFBSXVQLEVBRXBDLE9BQU9BLEVBU1hTLE9BQU85UCxFQUFHUSxFQUFJLEdBQ1YsT0FBTzJELEtBQUs0TCxRQUFRL1AsRUFBR1EsRUFBRyxJQUFJcUwsRUFBSyxNQUFNM0MsR0FBSy9FLEtBQUsrSyxRQUFRaEcsRUFBRXFELFFBQVN2TSxJQUFJLE9BQVFtRSxLQUFLZ0wsT0FVM0ZZLFFBQVEvUCxFQUFHUSxFQUFHK0IsRUFBR2dELEdBRWIsR0FBSWhELEVBQUU1QyxRQUFVYSxHQUFLK0UsRUFBRXFKLE9BQVNySixFQUFFd0osUUFBVTVLLEtBQUsrSyxRQUFRbFAsRUFBR3VGLEVBQUVxSixNQUFNckMsU0FBV2hILEVBQUV3SixRQUFVeE0sRUFBRStLLE1BQU1wSixNQUMvRixPQUFPM0IsRUFNWCxHQUpJZ0QsRUFBRXNKLFFBQVExSyxLQUFLNEwsUUFBUS9QLEVBQUdRLEVBQUcrQixFQUFHZ0QsRUFBRXNKLFFBQ2xDdEosRUFBRXVKLFFBQVEzSyxLQUFLNEwsUUFBUS9QLEVBQUdRLEVBQUcrQixFQUFHZ0QsRUFBRXVKLFFBR2xDdkosRUFBRTBKLE9BQ0YsSUFBSyxJQUFJblAsRUFBSSxFQUFHSixFQUFJNkYsRUFBRTBKLE9BQU90UCxPQUFRRyxFQUFJSixJQUFLSSxFQUFHLENBQzdDLElBQUkyUCxFQUFJbEssRUFBRTBKLE9BQU9uUCxHQUNiVSxFQUFJK0IsRUFBRTVDLE9BQ040QyxFQUFFa0csS0FBS2dILElBRVBsTixFQUFFa0csS0FBS2dILEdBQ1BsTixFQUFFNkssT0FJZCxPQUFPN0ssR0N6SVIsTUFBTXlOLEVBVVQvTCxZQUFZNkgsRUFBUyxLQUFNckwsRUFBT0MsR0FDOUJ5RCxLQUFLK0ssUUFBVXpPLEVBQ2YwRCxLQUFLOEwsVUFBWW5FLGFBQW9CdEssRUFBU3NLLEVBQVd0SyxFQUFPUCxLQUFLNkssR0FDckUsTUFBTWxFLEVBQUl6RCxLQUFLOEwsVUFBVXJQLE1BQU0sR0FFM0J1RCxLQUFLK0wsR0FETSxnQkFBWHpQLEVBQ1UwRCxLQUFLOEwsVUFBVXpNLFFBRWYxQyxFQUFnQnFELEtBQUs4TCxVQUFXeFAsR0FFOUMwRCxLQUFLNkwsSUFBTSxHQUNYLElBQUssSUFBSWhQLEVBQU0sRUFBR0EsRUFBTTRHLElBQUs1RyxFQUFLLENBQzlCLE1BQU1tUCxFQUFZaE0sS0FBSytMLEdBQUdsUCxJQUFJQSxHQUN4Qm9QLEVBQUksSUFBSXZFLEVBQUssTUFBTTNDLEdBQUtBLEVBQUVoRixPQUFPLE9BQ3ZDLElBQUssSUFBSTdDLEVBQUksRUFBR0EsRUFBSXVHLElBQUt2RyxFQUNyQitPLEVBQUUzSCxLQUFLLENBQ0h2RSxNQUFPaU0sRUFBVTlPLEdBQ2pCeUwsTUFBT3pMLElBR2Y4QyxLQUFLNkwsSUFBSXZILEtBQUsySCxJQVV0Qk4sT0FBTzlQLEVBQUdRLEVBQUksR0FDVixNQUFNQyxFQUFTMEQsS0FBSytLLFFBQ2RjLEVBQU03TCxLQUFLNkwsSUFDakIsSUFBSUksRUFDSixHQUFJalEsTUFBTXNFLFFBQVF6RSxHQUFJLENBQ2xCLEdBQW9CLGVBQWhCbUUsS0FBSytLLFFBQ0wsS0FBTSx5RkFFVixNQUFNcEQsRUFBVzNILEtBQUs4TCxVQUNoQnJJLEVBQUlvSSxFQUFJclEsT0FDZCxJQUFJMFEsRUFBd0IsS0FDeEJDLEVBQWUzSyxFQUFBQSxFQUNuQixJQUFLLElBQUk3RixFQUFJLEVBQUdBLEVBQUk4SCxJQUFLOUgsRUFBRyxDQUN4QixNQUNNNEIsRUFBT2pCLEVBQU9ULEVBREo4TCxFQUFTOUssSUFBSWxCLElBRXpCNEIsRUFBTzRPLElBQ1BELEVBQXdCdlEsRUFDeEJ3USxFQUFlNU8sR0FHdkIwTyxFQUFJSixFQUFJSyxRQUNERSxPQUFPQyxVQUFVeFEsS0FDeEJvUSxFQUFJSixFQUFJaFEsSUFHWixJQUFJaUMsRUFBUyxHQUNiLElBQUssSUFBSW5DLEVBQUksRUFBR0EsRUFBSVUsSUFBS1YsRUFDckJtQyxFQUFPd0csS0FBSzJILEVBQUVoRCxPQUdsQixPQURBbkwsRUFBT3dNLFNBQVFnQyxHQUFPTCxFQUFFM0gsS0FBS2dJLEVBQUlsRSxXQUMxQnRLLEdDbkVSLE1BQU15TyxFQWFUek0sWUFBWTZDLEVBQUc2SixFQUFvQkMsR0FFL0IsR0FEQXpNLEtBQUswTSxZQUFjQyxPQUFPQyxPQUFPRCxPQUFPRSxLQUFLTCxHQUFxQkMsR0FDOUR6USxNQUFNc0UsUUFBUXFDLEdBQ2QzQyxLQUFLOE0sTUFBUSxRQUNiOU0sS0FBSzJDLEVBQUl0RixFQUFPUCxLQUFLNkYsT0FDbEIsQ0FBQSxLQUFJQSxhQUFhdEYsR0FJcEIsTUFBTSxJQUFJYSxNQUFNLHdCQUhoQjhCLEtBQUs4TSxNQUFRLFNBQ2I5TSxLQUFLMkMsRUFBSUEsRUFPYixPQUhDM0MsS0FBS21HLEdBQUluRyxLQUFLK0wsSUFBTS9MLEtBQUsyQyxFQUFFbEcsTUFDNUJ1RCxLQUFLK00sWUFBYyxJQUFJN04sRUFBV2MsS0FBSzBNLFlBQVk5TixNQUNuRG9CLEtBQUtnTixpQkFBa0IsRUFDaEJoTixLQWFYaU4sVUFBVUMsRUFBTW5OLEVBQVEsTUFDcEIsSUFBS0MsS0FBSzBNLFlBQVlTLGVBQWVELEdBQ2pDLE1BQU0sSUFBSWhQLE1BQU0sR0FBR2dQLCtCQUV2QixPQUFJbk4sR0FDQUMsS0FBSzBNLFlBQVlRLEdBQVFuTixFQUN6QkMsS0FBS2dOLGlCQUFrQixFQUNoQmhOLE1BRUFBLEtBQUswTSxZQUFZUSxHQUloQ0UsS0FBS0YsRUFBTW5OLEVBQVEsTUFDZixPQUFPQyxLQUFLaU4sVUFBVUMsRUFBTW5OLEdBR2hDdUwsRUFBRTRCLEVBQU1uTixFQUFRLE1BQ1osT0FBT0MsS0FBS2lOLFVBQVVDLEVBQU1uTixHQU9oQ3NOLFlBRUksT0FEQXJOLEtBQUtzTixhQUNFdE4sS0FBS3VOLFdBT2hCQyxhQUNJLE9BQU94TixLQUFLcU4sWUFPaEJDLGFBS0ksT0FKS3ROLEtBQUtnTixpQkFBd0MsbUJBQWRoTixLQUFLeU4sT0FDckN6TixLQUFLeU4sT0FDTHpOLEtBQUtnTixpQkFBa0IsR0FFcEJoTixLQU1QdU4saUJBQ0EsR0FBSXZOLEtBQUttTixlQUFlLEtBRXBCLE9BREFuTixLQUFLc04sYUFDaUIsV0FBZnROLEtBQUs4TSxNQUFxQjlNLEtBQUswTixFQUFJMU4sS0FBSzBOLEVBQUU3TixVQUVqRCxNQUFNLElBQUkzQixNQUFNLHVDQVN4QnlQLHlCQUF5QkMsR0FDckIsT0FBTzVOLEtBQUtxTixhQUFhTyxHQVE3QnhOLG9CQUFvQndOLEdBRWhCLE9BRFMsSUFBSTVOLFFBQVE0TixHQUNYUCxZQVFkak4sZ0NBQWdDd04sR0FDNUIsT0FBTzVOLEtBQUtxTixhQUFhTyxHQVE3QnhOLG9CQUFxQndOLEdBQ2pCLE1BQ01KLEVBREssSUFBSXhOLFFBQVE0TixHQUNGSixZQUNyQixJQUFLLE1BQU0xUCxLQUFVMFAsUUFDWDFQLEdDNUlYLE1BQU0rUCxVQUFZdEIsRUFZckJ6TSxZQUFZNkMsRUFBRzhKLEdBS1gsT0FKQXFCLE1BQU1uTCxFQUFHLENBQUVvQyxFQUFHLEVBQUduRyxLQUFNLEtBQU1tUCxTQUFVLElBQU10QixHQUN4Q3pNLEtBQUswTSxZQUFZcUIsU0FBU1osZUFBZSxVQUMxQ25OLEtBQUswTSxZQUFZcUIsU0FBU25QLEtBQU9vQixLQUFLK00sYUFFbkMvTSxLQVFYcU4sVUFBVWpSLEVBQUksTUFDVixNQUFNMEosRUFBSTlGLEtBQUtnTyx1QkFDZixHQUFTLE1BQUw1UixFQUFXLENBQ1gsTUFBTXVHLEVBQUkzQyxLQUFLMkMsRUFFZixPQURBM0MsS0FBSzBOLEVBQUkvSyxFQUFFcEQsSUFBSXVHLEdBQ1I5RixLQUFLdU4sV0FDVCxHQUFJdlIsTUFBTXNFLFFBQVFsRSxHQUNyQixPQUFPaUIsRUFBT1AsS0FBS1YsR0FBR21ELElBQUl1RyxHQUFHdkIsUUFDMUIsR0FBSW5JLGFBQWFpQixFQUNwQixPQUFPakIsRUFBRW1ELElBQUl1RyxHQUViLE1BQU0sSUFBSTVILE1BQU0sd0JBUXhCOFAsdUJBQ0ksR0FBSWhPLEtBQUs4RixFQUNMLE9BQU85RixLQUFLOEYsRUFFaEIsTUFBTWYsRUFBRUEsRUFBQ2dKLFNBQUVBLEdBQWEvTixLQUFLME0sWUFDdkIvSixFQUFJM0MsS0FBSzJDLEVBQ1RzTCxFQUFRNVEsRUFBT1AsS0FBSzZGLEVBQUVpQyxVQUN0QnNKLEVBQVN2TCxFQUFFMEIsSUFBSTRKLEdBQ2YvTCxFQUFJZ00sRUFBT3RPLFlBQVlMLElBQUkyTyxJQUN6QnZPLGFBQWNtRyxHQUFNRSxFQUE0QjlELEVBQUc2QyxFQUFHZ0osR0FFOUQsT0FEQS9OLEtBQUs4RixFQUFJekksRUFBT1AsS0FBS2dKLEdBQUdsRyxZQUNqQkksS0FBSzhGLEVBR2hCMUYsNEJBQTRCdUMsRUFBRzhKLEdBRTNCLE9BRFcsSUFBSXpNLEtBQUsyQyxFQUFHOEosR0FDYnVCLHdCQzNEWCxNQUFNRyxVQUFZNUIsRUFhckJ6TSxZQUFZNkMsRUFBRzhKLEdBS1gsT0FKQXFCLE1BQU1uTCxFQUFHLENBQUVvQyxFQUFHLEVBQUd6SSxPQUFRQyxFQUFXcUMsS0FBTSxLQUFNbVAsU0FBVSxJQUFNdEIsR0FDM0R6TSxLQUFLME0sWUFBWXFCLFNBQVNaLGVBQWUsVUFDMUNuTixLQUFLME0sWUFBWXFCLFNBQVNuUCxLQUFPb0IsS0FBSytNLGFBRW5DL00sS0FPWHFOLFlBQ0ksTUFBTTFLLEVBQUkzQyxLQUFLMkMsRUFDVG5HLEVBQU9tRyxFQUFFbEcsTUFBTSxJQUNmc0ksRUFBRUEsRUFBQ3pJLE9BQUVBLEVBQU15UixTQUFFQSxHQUFhL04sS0FBSzBNLFlBQy9CdFEsRUFBZSxnQkFBWEUsRUFBMkJxRyxFQUFJaEcsRUFBZ0JnRyxFQUFHckcsR0FDdEQ4UixFQUFNaFMsRUFBRXdJLFNBQ1J5SixFQUFNalMsRUFBRXVJLFNBQ1IySixFQUFNbFMsRUFBRXNJLEtBRWQxRSxLQUFLdU8sS0FBT25TLEVBQ1osTUFBTWdGLEVBQUksSUFBSS9ELEVBQU9iLEVBQU1BLEdBQU0sQ0FBQ2IsRUFBR3VCLElBQU1kLEVBQUU2RSxNQUFNdEYsRUFBR3VCLEdBQUtrUixFQUFJelMsR0FBSzBTLEVBQUluUixHQUFLb1IsS0FFckUzTyxhQUFjbUcsR0FBTUUsRUFBNEI1RSxFQUFHMkQsRUFBR2dKLEdBRzlELE9BRkEvTixLQUFLME4sRUFBSXJRLEVBQU9QLEtBQUtnSixHQUFHbEcsWUFFakJJLEtBQUt1TixXQU1oQmlCLFNBQ0ksTUFBTS9LLEVBQUl6RCxLQUFLMkMsRUFBRWxHLE1BQU0sR0FDakJpUixFQUFJMU4sS0FBSzBOLEVBQ1RlLEVBQU16TyxLQUFLdU8sS0FDWEcsRUFBTSxJQUFJclIsRUFDaEJxUixFQUFJalMsTUFBUSxDQUNSZ0gsRUFDQUEsRUFDQSxDQUFDOUgsRUFBR3VCLElBQ092QixFQUFJdUIsRUFBSVgsRUFBVW1SLEVBQUU3USxJQUFJbEIsR0FBSStSLEVBQUU3USxJQUFJSyxJQUFNd1IsRUFBSXpOLE1BQU0vRCxFQUFHdkIsSUFHcEUsSUFBSWdULEVBQVUsRUFDVkMsRUFBYSxFQUNqQixJQUFLLElBQUlqVCxFQUFJLEVBQUdBLEVBQUk4SCxJQUFLOUgsRUFDckIsSUFBSyxJQUFJdUIsRUFBSXZCLEVBQUksRUFBR3VCLEVBQUl1RyxJQUFLdkcsRUFDekJ5UixHQUFXeFQsS0FBSzBULElBQUlKLEVBQUl4TixNQUFNdEYsRUFBR3VCLEdBQUt3UixFQUFJek4sTUFBTXRGLEVBQUd1QixHQUFJLEdBQ3ZEMFIsR0FBY3pULEtBQUswVCxJQUFJSixFQUFJeE4sTUFBTXRGLEVBQUd1QixHQUFJLEdBR2hELE9BQU8vQixLQUFLQyxLQUFLdVQsRUFBVUMsSUNsRXBCLFdBQVVoTixFQUFHa04sRUFBSUMsRUFBVyxLQUN2QyxNQUNNeFQsRUFBSXVULEVBQUd0VCxPQUNiLElBQUl5SixFQUFRLEtBQ1IrSixFQUFNLElBQ04vUyxFQUFJNlMsRUFBRzFSLFFBQ1A2UixFQUFLck4sRUFBRTNGLEdBQ1BpVCxHQUFjLEVBRWxCLEtBQU9ILE1BQWMsSUFBTUcsR0FBYSxDQUNwQ0EsR0FBYyxFQUNkLElBQUssSUFBSXZULEVBQUksRUFBR0EsRUFBSUosSUFBS0ksRUFBRyxDQUN4Qk0sRUFBRU4sSUFBTSxLQUNSLElBQUl3VCxFQUFNdk4sRUFBRTNGLEdBQ1pBLEVBQUVOLElBQU0sS0FDUixJQUFJeVQsR0FBTUQsRUFBTUYsR0FBTSxLQUNsQjlULEtBQUtXLElBQUlzVCxHQWZMLE1BZ0JKRixHQUFjLEdBRWxCalQsRUFBRU4sSUFBTXNKLEVBQVFtSyxFQUNoQkgsRUFBS3JOLEVBQUUzRixHQUVYZ0osR0FBUytKLEdBQU9DLEVBQUssS0FBTyxHQUM1QkQsRUFBTUMsRUFFVixPQUFPaFQsRUMySlgsTUFBTW9ULEVBQ0Z2UCxZQUFZd1AsRUFBSXZHLEVBQU1DLEVBQU96TCxFQUFNZ1MsRUFBVTVHLEVBQU9zQixFQUFNdUYsR0FVdEQsT0FUQXhQLEtBQUtzUCxHQUFLQSxFQUNWdFAsS0FBSytJLEtBQU9BLEVBQ1ovSSxLQUFLZ0osTUFBUUEsRUFDYmhKLEtBQUt6QyxLQUFPQSxFQUNaeUMsS0FBSzJJLE1BQVFBLEVBQ2IzSSxLQUFLaUssS0FBT0EsR0FBUWxCLEVBQUtrQixLQUFPakIsRUFBTWlCLEtBQ3RDakssS0FBS3dQLE1BQVFBLEdBQVMsRUFBSXJVLEtBQUt5QyxJQUFJbUwsRUFBS3lHLE1BQU94RyxFQUFNd0csT0FDckR4UCxLQUFLdVAsU0FBV0EsR0FBWXZQLEtBQUt5UCxvQkFBb0IxRyxFQUFNQyxHQUMzRGhKLEtBQUsrSixPQUFTLEtBQ1AvSixLQUdYeVAsb0JBQW9CMUcsRUFBTUMsR0FDdEIsTUFBTTBHLEVBQVMzRyxFQUFLa0IsS0FDZDBGLEVBQVMzRyxFQUFNaUIsS0FDZjJGLEVBQWE3RyxFQUFLd0csU0FDbEJNLEVBQWE3RyxFQUFNdUcsU0FDbkJ0RixFQUFPakssS0FBS2lLLEtBQ1oxTyxFQUFJd04sRUFBS3dHLFNBQVMvVCxPQUNsQnNVLEVBQWUsSUFBSTNSLGFBQWE1QyxHQUN0QyxJQUFLLElBQUlJLEVBQUksRUFBR0EsRUFBSUosSUFBS0ksRUFDckJtVSxFQUFhblUsSUFBTStULEVBQVNFLEVBQVdqVSxHQUFLZ1UsRUFBU0UsRUFBV2xVLElBQU1zTyxFQUUxRSxPQUFPNkYsRUFHUEMsYUFDQSxPQUFzQixJQUFmL1AsS0FBS3dQLE1BR2hCUSxTQUNJLEdBQUloUSxLQUFLK1AsT0FBUSxNQUFPLENBQUMvUCxNQUN6QixNQUFNK0ksRUFBTy9JLEtBQUsrSSxLQUNaQyxFQUFRaEosS0FBS2dKLE1BQ25CLE9BQVFELEVBQUtnSCxPQUFTLENBQUNoSCxHQUFRQSxFQUFLaUgsVUFBVTFOLE9BQU8wRyxFQUFNK0csT0FBUyxDQUFDL0csR0FBU0EsRUFBTWdILFVBR3hGQyxjQUNJLEdBQUlqUSxLQUFLK1AsT0FBUSxNQUFPLENBQUMvUCxNQUN6QixNQUFNa1EsRUFBbUJsUSxLQUFLK0ksS0FBS2tILGNBQzdCRSxFQUFvQm5RLEtBQUtnSixNQUFNaUgsY0FDckMsT0FBT0MsRUFBaUI1TixPQUFPNk4sR0FBbUI3TixPQUFPLENBQUN0QyxRQ2pPM0QsTUFBTW9RLEVBY1R0USxZQUFZdVEsRUFBUUMsRUFBR3ZCLEVBQVMsS0FBTXpTLEVBQVNDLEVBQVdxQyxFQUFLLE1BQzNEb0IsS0FBSytLLFFBQVV6TyxFQUNmMEQsS0FBS3VRLFFBQVVGLEVBQ2ZyUSxLQUFLd1EsR0FBS3hRLEtBQUt1USxRQUFRMVEsVUFDdkJHLEtBQUt5USxHQUFLSCxFQUNWLE1BQU83TSxFQUFHL0csR0FBSzJULEVBQU81VCxNQWtCdEIsT0FqQkF1RCxLQUFLbUcsR0FBSzFDLEVBQ1Z6RCxLQUFLK0wsR0FBS3JQLEVBQ1ZzRCxLQUFLMFEsVUFBWTNCLEdBQVksR0FBSzVULEtBQUt3VixNQUFNbE4sR0FDN0N6RCxLQUFLNFEsaUJBQW1CLElBQUl2VCxFQUFPb0csRUFBR0EsRUFBRyxTQVFyQzZNLEVBQUk3TSxJQUFHNk0sRUFBSTdNLEdBQ2Z6RCxLQUFLK00sWUFBYyxJQUFJN04sRUFBV04sR0FDbENvQixLQUFLNlEsVUFBWSxJQUFJN1UsTUFBTXlILEdBQUdxTixVQUFLckosR0FDbkN6SCxLQUFLK1EsaUJBQW1CL1EsS0FBS2dSLG9CQUFvQlYsR0FFakR0USxLQUFLZ04saUJBQWtCLEVBQ2hCaE4sS0FNWGlSLGVBQ0ksTUFBTVgsRUFBSXRRLEtBQUt5USxHQUNUclUsRUFBSTRELEtBQUt3USxHQUNWeFEsS0FBS2dOLGlCQUNOaE4sS0FBS3lOLEtBQUs2QyxFQUFHdFEsS0FBSytRLGtCQUV0QixNQUFNalQsRUFBUyxJQUFJOUIsTUFBTXNVLEdBQUdRLE9BQU8vVCxLQUFJLElBQU0sSUFBSWYsUUFLakQsT0FKQUksRUFBRWtPLFNBQVEsQ0FBQzRHLEVBQUtoVSxLQUNaWSxFQUFPa0MsS0FBS21SLGdCQUFnQkQsRUFBS2hVLEdBQUdrVSxlQUFlOU0sS0FBS3BILE1BRTVEWSxFQUFPdVQsUUFBVXJSLEtBQUsrUSxpQkFDZmpULEVBR1g2UCxrQkFDSSxNQUFNb0IsRUFBVy9PLEtBQUswUSxnQkFDaEIxUSxLQUFLaVIsZUFDWCxJQUFJSyxHQUFTLEVBQ1QzVixFQUFJLEVBQ1IsR0FDSTJWLEVBQVN0UixLQUFLdVIsbUJBQ1J2UixLQUFLaVIsc0JBQ0xLLEtBQVkzVixFQUFJb1QsR0ErRDlCd0MsYUFDSSxNQUFNblYsRUFBSTRELEtBQUt3USxHQUNURixFQUFJdFEsS0FBS3lRLEdBQ1RZLEVBQVVyUixLQUFLK1EsaUJBQ2ZTLEVBQVFwVixFQUFFVyxLQUFJLENBQUMwVSxFQUFLQyxJQUFNMVIsS0FBS21SLGdCQUFnQk0sRUFBS0MsS0FFcERDLEVBQVUsSUFBSTNWLE1BQU1zVSxHQUFHUSxLQUFLLEdBQzVCYyxFQUFLLElBQUk1VixNQUFNc1UsR0FBR1EsS0FBSyxNQStCN0IsR0E5QkExVSxFQUFFa08sU0FBUSxDQUFDNEcsRUFBS2hVLEtBQ1osR0FBSW1VLEVBQVFRLFdBQVV0UixHQUFLQSxJQUFNckQsSUFBSyxFQUFHLENBQ3JDLE1BQU00VSxFQUFNTixFQUFNdFUsR0FBRzZVLGlCQUNmQyxFQUFVLElBQUloVyxNQUFNc1UsR0FBR1EsTUFBTWdCLEdBQ25DMVYsRUFBRWtPLFNBQVEsQ0FBQ21ILEVBQUtDLEtBQ1osR0FBSXhVLElBQU13VSxFQUFHLE9BQ2IsTUFBTU8sRUFBT2pTLEtBQUtrUyxjQUFjUixFQUFHeFUsRUFBR3VVLEVBQUtQLElBQ3BDRSxjQUFpQjdWLEVBQUd3VyxpQkFBb0JJLEVBQUtDLGdCQUFtQkMsR0FBT2IsRUFBTUUsR0FHcEYsR0FGQU0sRUFBUXpXLElBQU1KLEtBQUtzSixJQUFJd04sRUFBTUksR0FBT0YsRUFFaENGLEVBQU9FLEVBRVAsSUFBSyxJQUFJeFcsRUFBSSxFQUFHQSxFQUFJMlUsSUFBSzNVLEVBQ2pCQSxJQUFNSixJQUFHeVcsRUFBUXJXLElBQU1zVyxFQUFPRSxNQUs5Q0gsRUFDS2pWLEtBQUksQ0FBQ2dJLEVBQUdwSixJQUFNLENBQUNvSixFQUFHcEosS0FDbEIyVyxRQUFPLEVBQUV2TixFQUFHcEosS0FBT29KLEVBQUk0TSxFQUFRaFcsS0FDL0IyTyxTQUFRLEVBQUV2RixFQUFHcEosTUFDTm9KLEVBQUk0TSxFQUFRaFcsS0FDWmdXLEVBQVFoVyxHQUFLb0osRUFDYjZNLEVBQUdqVyxHQUFLdUIsVUFNeEJ1SCxFQUFJa04sSUFBWSxFQUFHLE9BQU8sRUFHOUIsS0FBT2xOLEVBQUlrTixHQUFXLEdBQUcsQ0FFckIsTUFBTWhXLEVBQUlnVyxFQUNMNVUsS0FBSSxDQUFDZ0ksRUFBR3BKLElBQU0sQ0FBQ29KLEVBQUdwSixLQUNsQndCLE1BQUssRUFBRWxDLElBQUtDLEtBQU9ELEVBQUlDLElBQUcsR0FBRyxHQUNZLEdBQTFDbVcsRUFBUWlCLFFBQU8vUixHQUFLQSxHQUFLcVIsRUFBR2pXLEtBQUlILFNBQ2hDNlYsRUFBUTFWLEdBQUtpVyxFQUFHalcsSUFHcEJnVyxFQUFRaFcsR0FBSyxFQUViZ1csRUFDSzVVLEtBQUksQ0FBQytVLEVBQUs1VSxJQUFNLENBQUM0VSxFQUFLNVUsS0FDdEJvVixRQUFPLEVBQUVSLEtBQVNBLEVBQU0sSUFDeEJ4SCxTQUFRLEVBQUU5SixFQUFHdEQsTUFDVixNQUFNZ1UsRUFBTTlVLEVBQUVjLEdBQ2QsSUFBSXpCLEVBQU0sRUFDVlcsRUFBRWtPLFNBQVEsQ0FBQ21ILEVBQUtDLEtBQ1JMLEVBQVFRLFdBQVV0UixHQUFLQSxHQUFLckQsR0FBS3FELEdBQUttUixLQUFNLEdBQzVDL1YsR0FBS3VCLElBQ0xzVSxFQUFNRSxHQUFHTixnQkFBa0JDLEVBQVFuVSxHQUNuQ3pCLEdBQVFOLEtBQUtzSixJQUFJekUsS0FBS2tTLGNBQWNSLEVBQUd4VSxFQUFHdVUsRUFBS1AsR0FBTU0sRUFBTUUsR0FBR1UsaUJBQW1CWixFQUFNRSxHQUFHSyxpQkFFMUZ0VyxHQUFRTixLQUFLc0osSUFBSXpFLEtBQUtrUyxjQUFjUixFQUFHeFUsRUFBR3VVLEVBQUtQLEdBQU9NLEVBQU1FLEdBQUdLLGlCQUFrQixPQUd6RkosRUFBUXpVLEdBQUt6QixLQUl6QixPQURBdUUsS0FBSytRLGlCQUFtQk0sR0FDakIsRUFHWGEsY0FBY3ZXLEVBQUd1QixFQUFHcVYsRUFBSSxLQUFNckIsRUFBSSxNQUM5QixHQUFJdlYsSUFBTXVCLEVBQUcsT0FBTyxFQUNwQixNQUFNUixFQUFJc0QsS0FBSzRRLGlCQUNUeFUsRUFBSTRELEtBQUt3USxHQUNUbFUsRUFBUzBELEtBQUsrSyxRQUNwQixJQUFJeUgsRUFBTzlWLEVBQUV1RSxNQUFNdEYsRUFBR3VCLEdBTXRCLE9BTGEsSUFBVHNWLElBQ0FBLEVBQU9sVyxFQUFPaVcsR0FBT25XLEVBQUVULEdBQUl1VixHQUFPOVUsRUFBRWMsSUFDcENSLEVBQUVjLFVBQVU3QixFQUFHdUIsRUFBR3NWLEdBQ2xCOVYsRUFBRWMsVUFBVU4sRUFBR3ZCLEVBQUc2VyxJQUVmQSxFQUdYckIsZ0JBQWdCRCxFQUFLaFUsR0FDakIsTUFBTW1VLEVBQVVyUixLQUFLK1EsaUJBQ2YzVSxFQUFJNEQsS0FBS3dRLElBQ1JpQyxFQUFTQyxHQUFVckIsRUFDckJ0VSxLQUFJLENBQUN3RCxFQUFHNUUsS0FDTCxNQUFNZ1gsRUFBTXZXLEVBQUVtRSxHQUNkLE1BQU8sQ0FBQ1AsS0FBS2tTLGNBQWNoVixFQUFHcUQsRUFBRzJRLEVBQUt5QixHQUFNaFgsTUFFL0N3QixNQUFLLENBQUN5VixFQUFJQyxJQUFPRCxFQUFHLEdBQUtDLEVBQUcsS0FFakMsTUFBTyxDQUNIZCxpQkFBb0JVLEVBQVEsR0FDNUJyQixjQUFpQnFCLEVBQVEsR0FDekJMLGdCQUFtQk0sRUFBTyxHQUMxQkksYUFBZ0JKLEVBQU8sSUFRL0JqRixLQUFLNkMsRUFBR3lDLEdBQ0N6QyxJQUFHQSxFQUFJdFEsS0FBS3lRLElBQ1pzQyxJQUFpQkEsRUFBa0IvUyxLQUFLZ1Isb0JBQW9CVixJQUNqRSxNQUFNdkIsRUFBVy9PLEtBQUswUSxVQUN0QixJQUFJWSxHQUFTLEVBQ1QzVixFQUFJLEVBQ1IsR0FDSTJWLEVBQVN0UixLQUFLdVIsb0JBQ1JELEtBQVkzVixFQUFJb1QsR0FDMUIsT0FBTy9PLEtBUVhnUixvQkFBb0JWLEdBQ2hCLE1BQU03TSxFQUFJekQsS0FBS21HLEdBQ1QvSixFQUFJNEQsS0FBS3dRLEdBQ1R3QyxFQUFVMUwsRUFBUyxFQUFHN0QsRUFBSSxHQUMxQnhFLEVBQWFlLEtBQUsrTSxZQUNsQnhSLEVBQUlKLEtBQUtzSixJQUFJaEIsRUFBRyxHQUFLdEksS0FBSzhYLEtBQUs5WCxLQUFLQyxLQUFLcUksS0FDekN5UCxFQUFLLElBQUlsWCxNQUFNVCxHQUFHdVYsS0FBS3RQLEVBQUFBLEdBQ3ZCNlAsRUFBVSxHQUVoQixJQUFJOEIsRUFBTTNSLEVBQUFBLEVBQ040UixFQUFJblUsRUFBV2tJLE9BQU82TCxFQUFTelgsR0FDbkMsSUFBSyxJQUFJMkIsRUFBSSxFQUFHQSxFQUFJM0IsSUFBSzJCLEVBQUcsQ0FDeEIsTUFBTW1XLEVBQU1ELEVBQUVsVyxHQUNSZ1UsRUFBTTlVLEVBQUVpWCxHQUNkLElBQUssSUFBSTNCLEVBQUksRUFBR0EsRUFBSW5XLElBQUttVyxFQUFHLENBQ3hCLEdBQUlBLElBQU14VSxFQUFHLFNBQ2IsTUFBTXVVLEVBQU1yVixFQUFFZ1gsRUFBRTFCLElBQ2hCd0IsRUFBR2hXLElBQU04QyxLQUFLa1MsY0FBY2hWLEVBQUd3VSxFQUFHUixFQUFLTyxHQUV2Q3lCLEVBQUdoVyxHQUFLaVcsSUFDUkEsRUFBTUQsRUFBR2hXLEdBQ1RtVSxFQUFRL00sS0FBSytPLElBSXJCLElBQUssSUFBSTFYLEVBQUksRUFBR0EsRUFBSTJVLElBQUszVSxFQUFHLENBQ3hCLElBQUlnVyxFQUFVblEsRUFBQUEsRUFDZDRSLEVBQUluVSxFQUFXa0ksT0FBTzZMLEVBQVFWLFFBQU8zSixHQUFTMEksRUFBUVEsV0FBVTlNLEdBQUtBLElBQU00RCxJQUFTLElBQUlwTixHQUN4RixJQUFLLElBQUkyQixFQUFJLEVBQUdBLEVBQUkzQixJQUFLMkIsRUFBRyxDQUN4QixJQUFJOFUsRUFBVSxFQUNkLE1BQU1xQixFQUFNRCxFQUFFbFcsR0FDUmdVLEVBQU05VSxFQUFFaVgsR0FDZCxJQUFLLElBQUkzQixFQUFJLEVBQUdBLEVBQUluVyxJQUFLbVcsRUFBRyxDQUN4QixHQUFJQSxJQUFNeFUsRUFBRyxTQUNiLE1BQU1vVyxFQUFNRixFQUFFMUIsR0FDUkQsRUFBTXJWLEVBQUVrWCxHQUNkLElBQUlDLEVBQVF2VCxLQUFLa1MsY0FBY21CLEVBQUtDLEVBQUtwQyxFQUFLTyxHQUFPaE4sRUFBSTRNLEVBQVF0VSxLQUFJd0QsR0FBS1AsS0FBS2tTLGNBQWNvQixFQUFLL1MsRUFBR2tSLE1BQ2pHOEIsRUFBUSxJQUNSdkIsR0FBb0J1QixHQUl4QnZCLEVBQVVMLElBQ1ZBLEVBQVVLLEVBQ1ZYLEVBQVEvTSxLQUFLK08sSUFHckJGLEdBQU94QixFQUVYLE9BQU9OLEVBQVFqVSxNQUFNLEVBQUdrVCwyQ0NoVHpCLGNBQXNCL0QsRUFjekJ6TSxZQUFZNkMsRUFBRzhKLEdBRVgsT0FEQXFCLE1BQU1uTCxFQUFHLENBQUVvQyxFQUFHLEVBQUd6SSxPQUFRQyxFQUFXcUMsS0FBTSxNQUFRNk4sR0FDM0N6TSxLQVNYd1Qsd0JBQXdCalcsR0FDcEIsTUFDTWtHLEVBREl6RCxLQUFLMkMsRUFDSGxHLE1BQU0sR0FDbEIsSUFBSWdYLEVBQVd6VCxLQUFLK00sWUFBWWpHLFdBQWFyRCxFQUFLLEVBQzlDaVEsRUFBVSxLQUNWQyxHQUFZblMsRUFBQUEsRUFDaEIsSUFBSyxJQUFJN0YsRUFBSSxFQUFHQSxFQUFJOEgsSUFBSzlILEVBQUcsQ0FDeEIsTUFBTWlZLEVBQU9yVyxFQUFLa1csRUFBUzlYLEdBQ3ZCaVksRUFBT0QsSUFDUEEsRUFBV0MsRUFDWEYsRUFBVS9YLEdBR2xCZ1ksR0FBWW5TLEVBQUFBLEVBQ1osSUFBSyxJQUFJN0YsRUFBSSxFQUFHQSxFQUFJOEgsSUFBSzlILEVBQUcsQ0FDeEIsTUFBTWtZLEVBQU90VyxFQUFLbVcsRUFBUy9YLEdBQ3ZCa1ksRUFBT0YsSUFDUEEsRUFBV0UsRUFDWEosRUFBVTlYLEdBR2xCLE1BQU8sQ0FBQzhYLEVBQVNDLEVBQVNDLEdBTzlCdEcsWUFDSSxNQUFNMUssRUFBSTNDLEtBQUsyQyxFQUNUYyxFQUFJZCxFQUFFbEcsTUFBTSxJQUNac0ksRUFBRUEsRUFBQ3pJLE9BQUVBLEdBQVcwRCxLQUFLME0sWUFDckJnQixFQUFJLElBQUlyUSxFQUFPb0csRUFBR3NCLEVBQUcsR0FDM0IsSUFBSXhILEVBQU8sQ0FBQ3RDLEVBQUdDLElBQU1vQixFQUFPcUcsRUFBRTlGLElBQUk1QixHQUFJMEgsRUFBRTlGLElBQUkzQixJQUU1QyxJQUFLLElBQUk0WSxFQUFPLEVBQUdBLEVBQU8vTyxJQUFLK08sRUFBTSxDQUNqQyxJQUFJQyxFQUFXeFcsRUFFZixNQUFPa1csRUFBU0MsRUFBU00sR0FBUWhVLEtBQUt3VCx3QkFBd0JqVyxHQUM5RCxHQUFhLElBQVR5VyxFQUFZLENBRVosSUFBSyxJQUFJclksRUFBSSxFQUFHQSxFQUFJOEgsSUFBSzlILEVBQUcsQ0FDeEIsTUFFTXNZLEdBRk8xVyxFQUFLa1csRUFBUzlYLElBRU4sRUFBSXFZLEdBQVEsRUFEcEJ6VyxFQUFLbVcsRUFBUy9YLElBQ2tCLElBQU0sRUFBSXFZLEdBQ3ZEdEcsRUFBRWxRLFVBQVU3QixFQUFHbVksRUFBTUcsR0FNekIxVyxFQUFPLENBQUN0QyxFQUFHQyxJQUFNQyxLQUFLQyxLQUFLMlksRUFBUzlZLEVBQUdDLElBQU0sR0FBS3dTLEVBQUV6TSxNQUFNaEcsRUFBRzZZLEdBQVFwRyxFQUFFek0sTUFBTS9GLEVBQUc0WSxLQUFVLElBS2xHLE9BREE5VCxLQUFLME4sRUFBSUEsRUFDRjFOLEtBQUt1TixnREZuRmIsTUFXSHpOLFlBQVl1USxFQUFRNkQsRUFBVSxXQUFZNVgsRUFBU0MsR0FLL0MsR0FKQXlELEtBQUttVSxJQUFNLEVBQ1huVSxLQUFLdVEsUUFBVUYsYUFBa0JoVCxFQUFTZ1QsRUFBU2hULEVBQU9QLEtBQUt1VCxHQUMvRHJRLEtBQUsrSyxRQUFVek8sRUFDZjBELEtBQUtvVSxTQUFXRixFQUNELGdCQUFYNVgsR0FBNEIwRCxLQUFLdVEsUUFBUTlULE1BQU0sS0FBT3VELEtBQUt1USxRQUFROVQsTUFBTSxHQUN6RSxNQUFNLElBQUl5QixNQUFNLDZEQUlwQixPQUZBOEIsS0FBS3lOLE9BQ0x6TixLQUFLcVUsS0FBT3JVLEtBQUtzVSxLQUNWdFUsS0FTWGlSLGFBQWFsUixFQUFPTSxFQUFPLFlBQ3ZCLElBQ0l1SCxFQURBMk0sRUFBVyxHQUVmLE9BQVFsVSxHQUNKLElBQUssV0FDRHVILEVBQVk3QyxHQUFNQSxFQUFFeEgsS0FDcEIsTUFDSixJQUFLLFFBQ0RxSyxFQUFZN0MsR0FBTUEsRUFBRXlLLE1BQ3BCLE1BQ0osUUFDSSxNQUFNLElBQUl0UixNQUFNLGdCQUd4QixPQURBOEIsS0FBS3dVLFVBQVV4VSxLQUFLcVUsS0FBTXpNLEVBQVU3SCxFQUFPd1UsR0FDcENBLEVBVVhDLFVBQVUzTCxFQUFNakgsRUFBRzdCLEVBQU9qQyxHQUNsQjhELEVBQUVpSCxJQUFTOUksRUFDWGpDLEVBQU93RyxLQUFLdUUsRUFBS21ILFdBRWpCaFEsS0FBS3dVLFVBQVUzTCxFQUFLRSxLQUFNbkgsRUFBRzdCLEVBQU9qQyxHQUNwQ2tDLEtBQUt3VSxVQUFVM0wsRUFBS0csTUFBT3BILEVBQUc3QixFQUFPakMsSUFPN0MyUCxPQUNJLE1BQU1uUixFQUFTMEQsS0FBSytLLFFBQ2QzTyxFQUFJNEQsS0FBS3VRLFFBQ1RoVixFQUFLeUUsS0FBS3lVLEdBQUtyWSxFQUFFSyxNQUFNLEdBQ3ZCaVksRUFBUzFVLEtBQUsyVSxPQUFTLElBQUl4VyxhQUFhNUMsR0FDOUMsSUFBSW9CLEVBQ0osR0FBZSxnQkFBWEwsRUFBMEIsQ0FDMUJLLEVBQWtCLElBQUlVLEVBQU85QixFQUFHQSxFQUFHLEdBQ25DLElBQUssSUFBSUksRUFBSSxFQUFHQSxFQUFJSixJQUFLSSxFQUFHLENBQ3hCK1ksRUFBTS9ZLEdBQUssRUFFWCxJQUFLLElBQUl1QixFQUFJLEVBQUdBLEVBQUkzQixJQUFLMkIsRUFDckJQLEVBQWdCYSxVQUFVN0IsRUFBR3VCLEVBQUd2QixJQUFNdUIsRUFBSXNFLEVBQUFBLEVBQVdsRixFQUFPRixFQUFFUyxJQUFJbEIsR0FBSVMsRUFBRVMsSUFBSUssS0FDeEVQLEVBQWdCc0UsTUFBTXRGLEVBQUcrWSxFQUFNL1ksSUFBTWdCLEVBQWdCc0UsTUFBTXRGLEVBQUd1QixLQUM5RHdYLEVBQU0vWSxHQUFLdUIsUUFJcEIsQ0FDSFAsRUFBa0JxRCxLQUFLdVEsUUFBUWxSLFFBQy9CLElBQUssSUFBSTFELEVBQUksRUFBR0EsRUFBSUosSUFBS0ksRUFDckIsSUFBSyxJQUFJdUIsRUFBSSxFQUFHQSxFQUFJM0IsSUFBSzJCLEVBQ2pCdkIsSUFBTXVCLEVBQ05QLEVBQWdCYSxVQUFVN0IsRUFBR3VCLEVBQUdzRSxFQUFBQSxHQUN6QjdFLEVBQWdCc0UsTUFBTXRGLEVBQUcrWSxFQUFNL1ksSUFBTWdCLEVBQWdCc0UsTUFBTXRGLEVBQUd1QixLQUNyRXdYLEVBQU0vWSxHQUFLdUIsR0FLM0I4QyxLQUFLNFEsaUJBQW1CalUsRUFDeEIsTUFBTTRYLEVBQVl2VSxLQUFLNlEsVUFBWSxJQUFJN1UsTUFBTVQsR0FDdkNxWixFQUFVNVUsS0FBSzZVLFFBQVUsSUFBSUMsWUFBWXZaLEdBQy9DLElBQUssSUFBSUksRUFBSSxFQUFHQSxFQUFJSixJQUFLSSxFQUNyQjRZLEVBQVM1WSxHQUFLLEdBQ2Q0WSxFQUFTNVksR0FBRyxHQUFLLElBQUkwVCxFQUFRclAsS0FBS21VLE1BQU8sS0FBTSxLQUFNLEVBQUcvWCxFQUFFUyxJQUFJbEIsR0FBSUEsRUFBRyxFQUFHLEdBQ3hFaVosRUFBT2paLEdBQUssRUFFaEIsT0FBT3FFLEtBTVhzVSxLQUNJLE1BQU0vWSxFQUFJeUUsS0FBS3lVLEdBQ1RDLEVBQVExVSxLQUFLMlUsT0FDYmpZLEVBQUlzRCxLQUFLNFEsaUJBQ1QyRCxFQUFXdlUsS0FBSzZRLFVBQ2hCK0QsRUFBUzVVLEtBQUs2VSxRQUNkWCxFQUFVbFUsS0FBS29VLFNBQ3JCLElBQUlDLEVBQU8sS0FDWCxJQUFLLElBQUkvSSxFQUFJLEVBQUd5SixFQUFReFosRUFBSSxFQUFHK1AsRUFBSXlKLElBQVN6SixFQUFHLENBQzNDLElBQUkwSixFQUFLLEVBQ1QsSUFBSyxJQUFJclosRUFBSSxFQUFHQSxFQUFJSixJQUFLSSxFQUFHLENBQ3hCLElBQUlzWixFQUFVdlksRUFBRXVFLE1BQU10RixFQUFHK1ksRUFBTS9ZLElBQy9CLElBQUssSUFBSXVCLEVBQUl2QixFQUFJLEVBQUd1QixFQUFJM0IsSUFBSzJCLEVBQ3JCK1gsRUFBVXZZLEVBQUV1RSxNQUFNdEYsRUFBR3VCLEtBQ3JCd1gsRUFBTS9ZLEdBQUt1QixFQUNYK1gsRUFBVXZZLEVBQUV1RSxNQUFNdEYsRUFBRytZLEVBQU0vWSxLQUl2QyxJQUFLLElBQUlBLEVBQUksRUFBR0EsRUFBSUosSUFBS0ksRUFDakJlLEVBQUV1RSxNQUFNdEYsRUFBRytZLEVBQU0vWSxJQUFNZSxFQUFFdUUsTUFBTStULEVBQUlOLEVBQU1NLE1BQ3pDQSxFQUFLclosR0FHYixJQUFJdVosRUFBS1IsRUFBTU0sR0FDWEcsRUFBYVosRUFBU1MsR0FBSSxHQUMxQkksRUFBYWIsRUFBU1csR0FBSSxHQUMxQkcsRUFBcUJGLEVBQVdwRixPQUFTLENBQUNvRixFQUFXeE0sT0FBU3dNLEVBQVd4TSxNQUN6RTJNLEVBQXFCRixFQUFXckYsT0FBUyxDQUFDcUYsRUFBV3pNLE9BQVN5TSxFQUFXek0sTUFDekVxSyxFQUFVcUMsRUFBbUIvUyxPQUFPZ1QsR0FDcENDLEVBQWMsSUFBSWxHLEVBQVFyUCxLQUFLbVUsTUFBT2dCLEVBQVlDLEVBQVkxWSxFQUFFdUUsTUFBTStULEVBQUlFLEdBQUssS0FBTWxDLEdBQ3pGbUMsRUFBV3BMLE9BQVN3TCxFQUNwQkgsRUFBV3JMLE9BQVN3TCxFQUNwQmhCLEVBQVNTLEdBQUlRLFFBQVFELEdBQ3JCWCxFQUFPSSxJQUFPSixFQUFPTSxHQUNyQixJQUFLLElBQUloWSxFQUFJLEVBQUdBLEVBQUkzQixJQUFLMkIsRUFBRyxDQUN4QixNQUFNdVksRUFBUy9ZLEVBQUV1RSxNQUFNK1QsRUFBSTlYLEdBQ3JCd1ksRUFBU2haLEVBQUV1RSxNQUFNaVUsRUFBSWhZLEdBQzNCLElBQUk2QyxFQUNKLE9BQVFtVSxHQUNKLElBQUssU0FDRG5VLEVBQVE1RSxLQUFLc0osSUFBSWdSLEVBQVFDLEdBQ3pCLE1BQ0osSUFBSyxXQUNEM1YsRUFBUTVFLEtBQUt5QyxJQUFJNlgsRUFBUUMsR0FDekIsTUFDSixJQUFLLFVBQ0QzVixHQUFTNlUsRUFBT0ksR0FBTVMsRUFBU2IsRUFBT00sR0FBTVEsSUFBV2QsRUFBT0ksR0FBTUosRUFBTzFYLElBR25GUixFQUFFYyxVQUFVTixFQUFHOFgsRUFBSWpWLEdBQ25CckQsRUFBRWMsVUFBVXdYLEVBQUk5WCxFQUFHNkMsR0FHdkJyRCxFQUFFYyxVQUFVd1gsRUFBSUEsRUFBSXhULEVBQUFBLEdBQ3BCLElBQUssSUFBSTdGLEVBQUksRUFBR0EsRUFBSUosSUFBS0ksRUFDckJlLEVBQUVjLFVBQVU3QixFQUFHdVosRUFBSTFULEVBQUFBLEdBQ25COUUsRUFBRWMsVUFBVTBYLEVBQUl2WixFQUFHNkYsRUFBQUEsR0FXdkI2UyxFQUFPa0IsRUFFWCxPQUFPbEIsYUcvS1IsY0FBcUI5SCxFQWV4QnpNLFlBQVk2QyxFQUFHOEosR0FNWCxPQUxBcUIsTUFBTW5MLEVBQUcsQ0FBRWdULGVBQVdsTyxFQUFXMUMsRUFBRyxFQUFHekksT0FBUUMsRUFBV3FDLEtBQU0sS0FBTW1QLFNBQVUsSUFBTXRCLEdBQ3RGek0sS0FBS2lOLFVBQVUsWUFBYTlSLEtBQUtzSixJQUFJekUsS0FBSzBNLFlBQVlpSixXQUFheGEsS0FBS3lDLElBQUl6QyxLQUFLa04sTUFBTXJJLEtBQUsyQyxFQUFFbEcsTUFBTSxHQUFLLElBQUssR0FBSXVELEtBQUttRyxHQUFLLElBQ3ZIbkcsS0FBSzBNLFlBQVlxQixTQUFTWixlQUFlLFVBQzFDbk4sS0FBSzBNLFlBQVlxQixTQUFTblAsS0FBT29CLEtBQUsrTSxhQUVuQy9NLEtBT1hxTixZQUNJck4sS0FBS3NOLGFBQ0wsTUFBTTNLLEVBQUkzQyxLQUFLMkMsRUFDVG5HLEVBQU93RCxLQUFLbUcsSUFDWnBCLEVBQUVBLEVBQUN6SSxPQUFFQSxFQUFNeVIsU0FBRUEsRUFBUTRILFVBQUVBLEdBQWMzVixLQUFLME0sWUFFMUNoUSxFQUFJLElBQUlXLEVBQ2RYLEVBQUVELE1BQVEsQ0FBQ0QsRUFBTUEsRUFBTSxDQUFDYixFQUFHdUIsSUFBT3ZCLEdBQUt1QixFQUFJWixFQUFPcUcsRUFBRTlGLElBQUlsQixHQUFJZ0gsRUFBRTlGLElBQUlLLElBQU1SLEVBQUV1RSxNQUFNL0QsRUFBR3ZCLElBQ25GLE1BQU1pYSxFQUFvQixHQUMxQixJQUFLLElBQUlqYSxFQUFJLEVBQUdBLEVBQUlhLElBQVFiLEVBQUcsQ0FDM0IsTUFBTWtCLEVBQU0sR0FDWixJQUFLLElBQUlLLEVBQUksRUFBR0EsRUFBSVYsSUFBUVUsRUFDeEJMLEVBQUl5SCxLQUFLLENBQ0xxRSxNQUFPekwsRUFDUEYsU0FBVU4sRUFBRXVFLE1BQU10RixFQUFHdUIsS0FHN0IsTUFBTStPLEVBQUksSUFBSXZFLEVBQUs3SyxHQUFNa0ksR0FBTUEsRUFBRS9ILFVBQVUsT0FDM0M0WSxFQUFrQnRSLEtBQUsySCxFQUFFNUMsVUFBVWpNLE1BQU0sRUFBR3VZLEVBQVksSUFPNUQsTUFBTUUsRUFBSSxJQUFJeFksRUFBT2IsRUFBTUEsR0FBTSxDQUFDYixFQUFHdUIsS0FDakMsTUFBTTRZLEVBQVFGLEVBQWtCamEsR0FBR3VPLE1BQU0zTyxHQUFNQSxFQUFFb04sUUFBVXpMLElBQzNELE9BQU80WSxFQUFRQSxFQUFNOVksU0FBV3dFLEVBQUFBLEtBR3BDLElBQUssSUFBSTdGLEVBQUksRUFBR0EsRUFBSWEsSUFBUWIsRUFDeEIsSUFBSyxJQUFJdUIsRUFBSSxFQUFHQSxFQUFJVixJQUFRVSxFQUN4QixJQUFLLElBQUliLEVBQUksRUFBR0EsRUFBSUcsSUFBUUgsRUFDeEJ3WixFQUFFclksVUFBVTdCLEVBQUd1QixFQUFHL0IsS0FBS3NKLElBQUlvUixFQUFFNVUsTUFBTXRGLEVBQUd1QixHQUFJMlksRUFBRTVVLE1BQU10RixFQUFHVSxHQUFLd1osRUFBRTVVLE1BQU01RSxFQUFHYSxLQUtqRixJQUFJa1IsRUFBTSxJQUFJalEsYUFBYTNCLEdBQ3ZCNlIsRUFBTSxJQUFJbFEsYUFBYTNCLEdBQ3ZCOFIsRUFBTSxFQUNWLE1BQU1sUyxFQUFJLElBQUlpQixFQUFPYixFQUFNQSxHQUFNLENBQUNiLEVBQUd1QixLQUNqQyxJQUFJdUUsRUFBTW9VLEVBQUU1VSxNQUFNdEYsRUFBR3VCLEdBS3JCLE9BSkF1RSxFQUFNQSxJQUFRRCxFQUFBQSxFQUFXLEVBQUlDLEVBQzdCMk0sRUFBSXpTLElBQU04RixFQUNWNE0sRUFBSW5SLElBQU11RSxFQUNWNk0sR0FBTzdNLEVBQ0FBLEtBR1gyTSxFQUFNQSxFQUFJclIsS0FBS2dCLEdBQU1BLEVBQUl2QixJQUN6QjZSLEVBQU1BLEVBQUl0UixLQUFLZ0IsR0FBTUEsRUFBSXZCLElBQ3pCOFIsR0FBTzlSLEdBQVEsRUFDZixNQUFNNEUsRUFBSSxJQUFJL0QsRUFBT2IsRUFBTUEsR0FBTSxDQUFDYixFQUFHdUIsSUFBTWQsRUFBRTZFLE1BQU10RixFQUFHdUIsR0FBS2tSLEVBQUl6UyxHQUFLMFMsRUFBSW5SLEdBQUtvUixLQUdyRTNPLGFBQWNtRyxHQUFNRSxFQUE0QjVFLEVBQUcyRCxFQUFHZ0osR0FHOUQsT0FGQS9OLEtBQUswTixFQUFJclEsRUFBT1AsS0FBS2dKLEdBQUdsRyxZQUVqQkksS0FBS3VOLHNCQ3pGYixNQWFIek4sWUFBWXVRLEVBQVFDLEVBQUdoVSxFQUFTQyxFQUFXcUMsRUFBSyxLQUFNNk8sR0FBTyxHQUN6RHpOLEtBQUsrSyxRQUFVek8sRUFDZjBELEtBQUt1USxRQUFVRixFQUNmclEsS0FBS3lRLEdBQUtILEVBQ1YsTUFBTzdNLEVBQUcvRyxHQUFLMlQsRUFBTzVULE1BUXRCLE9BUEF1RCxLQUFLbUcsR0FBSzFDLEVBQ1Z6RCxLQUFLK0wsR0FBS3JQLEVBQ040VCxFQUFJN00sSUFBRzZNLEVBQUk3TSxHQUNmekQsS0FBSytNLFlBQWMsSUFBSTdOLEVBQVdOLEdBQ2xDb0IsS0FBSzZRLFVBQVksSUFBSTdVLE1BQU15SCxHQUFHcU4sVUFBS3JKLEdBQ25DekgsS0FBSytWLG1CQUFxQi9WLEtBQUtnVyxzQkFBc0IxRixHQUNqRDdDLEdBQU16TixLQUFLeU4sS0FBSzZDLEVBQUd0USxLQUFLK1Ysb0JBQ3JCL1YsS0FNWGlSLGVBQ0ksTUFBTVgsRUFBSXRRLEtBQUt5USxHQUNUOEQsRUFBV3ZVLEtBQUs2USxVQUNoQi9TLEVBQVMsSUFBSTlCLE1BQU1zVSxHQUFHUSxPQUFPL1QsS0FBSSxJQUFNLElBQUlmLFFBRWpELE9BREF1WSxFQUFTakssU0FBUSxDQUFDWSxFQUFHdlAsSUFBTW1DLEVBQU9vTixHQUFHNUcsS0FBSzNJLEtBQ25DbUMsRUFRWG1ZLGdCQUFnQm5MLEVBQVFvTCxHQUNwQixNQUFNOVosRUFBSTRELEtBQUt1USxRQUNUalUsRUFBUzBELEtBQUsrSyxRQUNwQixJQUFJcFAsRUFBSW1QLEVBQU90UCxPQWFmLE9BWlFrTSxFQUFLSSxRQUNUb08sR0FDQ25SLElBQ0csTUFBTW9SLEVBQUsvWixFQUFFUyxJQUFJa0ksR0FDakIsSUFBSXRKLEVBQU0sRUFDVixJQUFLLElBQUl5QixFQUFJLEVBQUdBLEVBQUl2QixJQUFLdUIsRUFDckJ6QixHQUFPYSxFQUFPNlosRUFBSXJMLEVBQU81TixJQUU3QixPQUFPekIsSUFFWCxPQUVLd04sTUFBTWIsUUFHbkI0TixzQkFBc0IxRixHQUNsQixNQUFNN00sRUFBSXpELEtBQUttRyxHQUNUbEgsRUFBYWUsS0FBSytNLFlBQ2xCM1EsRUFBSTRELEtBQUt1USxRQUNUNkYsRUFBb0IsSUFBSXBhLE1BQU1zVSxHQUFHUSxPQUNqQ2tDLEVBQVUxTCxFQUFTLEVBQUc3RCxFQUFJLEdBQzFCNFMsRUFBZXBYLEVBQVc2SCxZQUFjckQsRUFBSSxHQUNsRDJTLEVBQWtCLEdBQUtoYSxFQUFFUyxJQUFJd1osR0FDN0IsTUFBTUMsRUFBYyxDQUFDRCxHQUNmRSxFQUFjcGIsS0FBS2tOLE9BQU81RSxFQUFJNk0sR0FBS0EsR0FDekMsSUFBSyxJQUFJM1UsRUFBSSxFQUFHQSxFQUFJMlUsSUFBSzNVLEVBQUcsQ0FFeEIsTUFBTXlMLEVBQVNuSSxFQUFXa0ksT0FBTzZMLEVBQVFWLFFBQU92TixJQUFnQyxHQUEzQnVSLEVBQVlFLFFBQVF6UixLQUFXd1IsR0FDOUVFLEVBQWlCelcsS0FBS2lXLGdCQUFnQkcsRUFBa0JoWixNQUFNLEVBQUd6QixHQUFJeUwsR0FDM0VrUCxFQUFZaFMsS0FBS21TLEdBQ2pCTCxFQUFrQnphLEdBQUtTLEVBQUVTLElBQUk0WixHQUVqQyxPQUFPTCxFQUdYN0UsV0FBVzZFLEdBQ1AsTUFBTTlGLEVBQUk4RixFQUFrQjVhLE9BQ3RCaUksRUFBSXpELEtBQUttRyxHQUNUekosRUFBSXNELEtBQUsrTCxHQUNUM1AsRUFBSTRELEtBQUt1USxRQUNUalUsRUFBUzBELEtBQUsrSyxRQUNkd0osRUFBV3ZVLEtBQUs2USxVQUN0QixJQUFJNkYsR0FBbUIsRUFFdkIsSUFBSyxJQUFJL2EsRUFBSSxFQUFHQSxFQUFJOEgsSUFBSzlILEVBQUcsQ0FDeEIsTUFBTWdiLEVBQUt2YSxFQUFFUyxJQUFJbEIsR0FDakIsSUFBSWliLEVBQVdwVixFQUFBQSxFQUNYcVYsRUFBYyxLQUNsQixJQUFLLElBQUkzWixFQUFJLEVBQUdBLEVBQUlvVCxJQUFLcFQsRUFBRyxDQUN4QixJQUFJNkgsRUFBSXpJLEVBQU84WixFQUFrQmxaLEdBQUl5WixHQUNqQzVSLEVBQUk2UixJQUNKQSxFQUFXN1IsRUFDWDhSLEVBQWMzWixHQUdsQnFYLEVBQVM1WSxLQUFPa2IsSUFDaEJILEdBQW1CLEdBRXZCbkMsRUFBUzVZLEdBQUtrYixFQUlsQixJQUFLLElBQUlsYixFQUFJLEVBQUdBLEVBQUkyVSxJQUFLM1UsRUFBRyxDQUN4QixNQUFNNFQsRUFBVzZHLEVBQWtCemEsR0FDbkMsSUFBSyxJQUFJdUIsRUFBSSxFQUFHQSxFQUFJUixJQUFLUSxFQUNyQnFTLEVBQVNyUyxHQUFLLEVBTXRCLE9BRkE4QyxLQUFLOFcsa0JBQWtCVixHQUVoQixDQUNITSxpQkFBb0JBLEVBQ3BCTixrQkFBcUJBLEdBSTdCVSxrQkFBa0JWLEdBQ2QsTUFBTTlGLEVBQUk4RixFQUFrQjVhLE9BQ3RCaUksRUFBSXpELEtBQUttRyxHQUNUekosRUFBSXNELEtBQUsrTCxHQUNUM1AsRUFBSTRELEtBQUt1USxRQUNUZ0UsRUFBV3ZVLEtBQUs2USxVQUNoQmtHLEVBQWtCLElBQUkvYSxNQUFNc1UsR0FBR1EsS0FBSyxHQUUxQyxJQUFLLElBQUluVixFQUFJLEVBQUdBLEVBQUk4SCxJQUFLOUgsRUFBRyxDQUN4QixNQUFNZ2IsRUFBS3ZhLEVBQUVTLElBQUlsQixHQUNYcWIsRUFBS3pDLEVBQVM1WSxHQUNwQm9iLEVBQWdCQyxLQUNoQixNQUFNekgsRUFBVzZHLEVBQWtCWSxHQUNuQyxJQUFLLElBQUk5WixFQUFJLEVBQUdBLEVBQUlSLElBQUtRLEVBQ3JCcVMsRUFBU3JTLElBQU15WixFQUFHelosR0FHMUIsSUFBSyxJQUFJdkIsRUFBSSxFQUFHQSxFQUFJMlUsSUFBSzNVLEVBQUcsQ0FDeEIsTUFBTUosRUFBSXdiLEVBQWdCcGIsR0FDMUJ5YSxFQUFrQnphLEdBQUt5YSxFQUFrQnphLEdBQUdvQixLQUFJbU8sR0FBS0EsRUFBSTNQLEtBU2pFa1MsS0FBSzZDLEVBQUc4RixHQUNDOUYsSUFBR0EsRUFBSXRRLEtBQUt5USxJQUNaMkYsSUFBbUJBLEVBQW9CcFcsS0FBS2dXLHNCQUFzQjFGLElBQ3ZFLElBQUlvRyxHQUFtQixFQUN2QixFQUFHLENBQ0MsTUFBTU8sRUFBbUJqWCxLQUFLdVIsV0FBVzZFLEdBQ3pDQSxFQUFvQmEsRUFBaUJiLGtCQUNyQ00sRUFBbUJPLEVBQWlCUCx1QkFDL0JBLGdDQ2pLVixjQUFrQm5LLEVBY3JCek0sWUFBWTZDLEVBQUc4SixHQUtYLE9BSkFxQixNQUFNbkwsRUFBRyxDQUFFdVUsT0FBUSxLQUFNblMsRUFBRyxFQUFHbkcsS0FBTSxLQUFNbVAsU0FBVSxJQUFNdEIsR0FDdER6TSxLQUFLME0sWUFBWXFCLFNBQVNaLGVBQWUsVUFDMUNuTixLQUFLME0sWUFBWXFCLFNBQVNuUCxLQUFPb0IsS0FBSytNLGFBRW5DL00sS0FNWHFOLFlBQ0ksTUFBTTFLLEVBQUkzQyxLQUFLMkMsR0FDUm5HLEVBQU15QixHQUFRMEUsRUFBRWxHLE9BQ2pCc0ksRUFBRUEsRUFBQ21TLE9BQUVBLEVBQU1uSixTQUFFQSxHQUFhL04sS0FBSzBNLFlBQ3JDLEdBQWUsT0FBWHdLLEdBQW1CQSxFQUFPMWIsUUFBVWdCLEVBQ3BDLE1BQU0sSUFBSTBCLE1BQU0seURBRXBCLE1BQU1pWixFQUFnQixHQUN0QixJQUFJQyxFQUFXLEVBQ2ZGLEVBQU81TSxTQUFRLENBQUNqSSxFQUFHMUcsS0FDWDBHLEtBQUs4VSxHQUNMQSxFQUFjOVUsR0FBR2dWLFFBQ2pCRixFQUFjOVUsR0FBRzdGLEtBQUs4SCxLQUFLM0IsRUFBRTlGLElBQUlsQixLQUVqQ3diLEVBQWM5VSxHQUFLLENBQ2ZpTixHQUFJOEgsSUFDSkMsTUFBTyxFQUNQN2EsS0FBTSxDQUFDbUcsRUFBRTlGLElBQUlsQixRQU16QixNQUFNMmIsRUFBUzNVLEVBQUUrQixLQUNYNlMsRUFBUyxJQUFJbGEsRUFBTytaLEVBQVVuWixHQUNwQyxJQUFLLE1BQU11WixLQUFTTCxFQUFlLENBQy9CLE1BQ01NLEVBRElwYSxFQUFPUCxLQUFLcWEsRUFBY0ssR0FBT2hiLE1BQzFCb0ksU0FDakIsSUFBSyxJQUFJMUgsRUFBSSxFQUFHQSxFQUFJZSxJQUFRZixFQUN4QnFhLEVBQU8vWixVQUFVMlosRUFBY0ssR0FBT2xJLEdBQUlwUyxFQUFHdWEsRUFBT3ZhLElBSTVELElBQUl3YSxFQUFNLElBQUlyYSxFQUFPWSxFQUFNQSxHQUMzQixJQUFLLE1BQU11WixLQUFTTCxFQUFlLENBQy9CLE1BQU1wWixFQUFJd1osRUFBTzFhLElBQUlzYSxFQUFjSyxHQUFPbEksSUFDcEMvTyxFQUFJLElBQUlsRCxFQUFPWSxFQUFNLEdBQUlmLEdBQU1hLEVBQUViLEdBQUtvYSxJQUN0QzdULEVBQUkwVCxFQUFjSyxHQUFPSCxNQUMvQkssRUFBTUEsRUFBSXRULElBQUk3RCxFQUFFaEIsSUFBSWdCLEVBQUVYLGFBQWFzRSxLQUFLVCxJQUk1QyxJQUFJa1UsRUFBTSxJQUFJdGEsRUFBT1ksRUFBTUEsR0FDM0IsSUFBSyxNQUFNdVosS0FBU0wsRUFBZSxDQUMvQixNQUFNcFosRUFBSXdaLEVBQU8xYSxJQUFJc2EsRUFBY0ssR0FBT2xJLElBQ3BDL08sRUFBSSxJQUFJbEQsRUFBT1ksRUFBTSxHQUFJZixHQUFNYSxFQUFFYixLQUNqQ21CLEVBQUk4WSxFQUFjSyxHQUFPaGIsS0FDL0IsSUFBSyxJQUFJYixFQUFJLEVBQUdKLEVBQUk0YixFQUFjSyxHQUFPSCxNQUFPMWIsRUFBSUosSUFBS0ksRUFBRyxDQUN4RCxNQUFNaWMsRUFBUSxJQUFJdmEsRUFBT1ksRUFBTSxHQUFHLENBQUNmLEVBQUdzRCxJQUFNbkMsRUFBRTFDLEdBQUd1QixHQUFLcUQsRUFBRVUsTUFBTS9ELEVBQUcsS0FDakV5YSxFQUFNQSxFQUFJdlQsSUFBSXdULEVBQU1yWSxJQUFJcVksRUFBTWhZLGVBSXRDLElBQU1ELGFBQWNtRyxHQUFNRSxFQUE0QjJSLEVBQUl4VyxVQUFVNUIsSUFBSW1ZLEdBQU0zUyxFQUFHZ0osR0FLakYsT0FKQWpJLEVBQUl6SSxFQUFPUCxLQUFLZ0osR0FBR2xHLFlBQ25CSSxLQUFLME4sRUFBSS9LLEVBQUVwRCxJQUFJdUcsR0FHUjlGLEtBQUt1TixtQkNoRmIsY0FBa0JoQixFQWVyQnpNLFlBQVk2QyxFQUFHOEosR0FNWCxPQUxBcUIsTUFBTW5MLEVBQUcsQ0FBRWdULGVBQVdsTyxFQUFXMUMsRUFBRyxFQUFHekksT0FBUUMsRUFBV3FDLEtBQU0sS0FBTW1QLFNBQVUsSUFBTXRCLEdBQ3RGek0sS0FBS2lOLFVBQVUsWUFBYTlSLEtBQUtzSixJQUFJZ0ksRUFBV2tKLFdBQWF4YSxLQUFLeUMsSUFBSXpDLEtBQUtrTixNQUFNckksS0FBS21HLEdBQUssSUFBSyxHQUFJbkcsS0FBS21HLEdBQUssSUFDekduRyxLQUFLME0sWUFBWXFCLFNBQVNaLGVBQWUsVUFDMUNuTixLQUFLME0sWUFBWXFCLFNBQVNuUCxLQUFPb0IsS0FBSytNLGFBRW5DL00sS0FNWHFOLFlBQ0ksTUFBTTFLLEVBQUkzQyxLQUFLMkMsRUFDVG5HLEVBQU93RCxLQUFLbUcsR0FDWmxJLEVBQU8rQixLQUFLK0wsSUFDWjRKLFVBQUVBLEVBQVM1USxFQUFFQSxFQUFDZ0osU0FBRUEsRUFBUXpSLE9BQUVBLEdBQVcwRCxLQUFLME0sWUFDMUM5UCxFQUFLaWIsRUFBb0JsVixFQUFHZ1QsRUFBV3JaLEdBQ3ZDd2IsRUFBSSxJQUFJemEsRUFBT3NZLEVBQVcsRUFBRyxHQUM3Qm9DLEVBQUksSUFBSTFhLEVBQU9iLEVBQU1BLEdBRTNCLElBQUssSUFBSUssRUFBTSxFQUFHQSxFQUFNTCxJQUFRSyxFQUFLLENBQ2pDLE1BQU1tYixFQUFTcGIsRUFBR0MsR0FDWm9iLEVBQUksSUFBSTVhLEVBQU9zWSxFQUFXMVgsR0FBTSxDQUFDdEMsRUFBR3VCLElBQU15RixFQUFFMUIsTUFBTStXLEVBQU9yYyxHQUFHdUIsRUFBR0EsR0FBS3lGLEVBQUUxQixNQUFNcEUsRUFBS0ssS0FDakZnRixFQUFJK1YsRUFBRTFZLElBQUkwWSxFQUFFL1csR0FDbEIsR0FBSXlVLEVBQVkxWCxFQUFNLENBQ2xCLE1BQU1pYSxFQUFVL2IsRUFBWStGLEVBQUV4QyxNQUFRLElBQ3RDLElBQUssSUFBSXhDLEVBQUksRUFBR0EsRUFBSXlZLElBQWF6WSxFQUM3QmdGLEVBQUUxRSxVQUFVTixFQUFHQSxFQUFHZ0YsRUFBRWpCLE1BQU0vRCxFQUFHQSxHQUFLZ2IsR0FJMUMsSUFBSUMsRUFBSTlhLEVBQU8rYSxTQUFTbFcsRUFBRzRWLEVBQUc5WCxLQUFLK00sYUFDbkNvTCxFQUFJQSxFQUFFaFUsT0FBT2dVLEVBQUUxYyxLQUNmLElBQUssSUFBSXlCLEVBQUksRUFBR0EsRUFBSXlZLElBQWF6WSxFQUM3QjZhLEVBQUV2YSxVQUFVWCxFQUFLbWIsRUFBTzlhLEdBQUdBLEVBQUdpYixFQUFFbFgsTUFBTS9ELEVBQUcsSUFJakQsTUFDTW1iLEVBREksSUFBSWhiLEVBQU9iLEVBQU1BLEVBQU0sWUFDcEI2SCxJQUFJMFQsR0FDWHJTLEVBQUkyUyxFQUFHblgsRUFBRTNCLElBQUk4WSxJQUNYMVksYUFBY21HLEdBQU1FLEVBQTRCTixFQUFFeEUsRUFBRUMsVUFBVzRELEVBQUksRUFBR2dKLEdBSTlFLE9BSEEvTixLQUFLME4sRUFBSXJRLEVBQU9QLEtBQUtnSixFQUFFMUksTUFBTSxFQUFHLEVBQUkySCxJQUFJN0QsRUFHakNsQixLQUFLdU4sbUJDOURiLGNBQWtCaEIsRUFpQnJCek0sWUFBWTZDLEVBQUc4SixHQUtYLE9BSkFxQixNQUFNbkwsRUFBRyxDQUFFZ1QsZUFBV2xPLEVBQVc2USxvQkFBZ0I3USxFQUFXMUMsRUFBRyxFQUFHekksT0FBUUMsRUFBV3FDLEtBQU0sTUFBUTZOLEdBQ25Hek0sS0FBS2lOLFVBQVUsWUFBYTlSLEtBQUtzSixJQUFJZ0ksRUFBV2tKLFdBQWF4YSxLQUFLeUMsSUFBSXpDLEtBQUtrTixNQUFNckksS0FBS21HLEdBQUssSUFBSyxHQUFJbkcsS0FBS21HLEdBQUssSUFDOUduRyxLQUFLaU4sVUFBVSxpQkFBa0I5UixLQUFLc0osSUFBSWdJLEVBQVc2TCxnQkFBa0JuZCxLQUFLOFgsS0FBSzlYLEtBQUtDLEtBQUs0RSxLQUFLbUcsS0FBTW5HLEtBQUttRyxHQUFLLElBQ2hIbkcsS0FBS2dOLGlCQUFrQixFQUNoQmhOLEtBU1h5TixLQUFLbEIsRUFBSzRCLEVBQUtvSyxFQUFnQixHQUFJMU0sRUFBTXRCLEdBQ3JDLEdBQUl2SyxLQUFLZ04sZ0JBQWlCLE9BQU9oTixLQUNqQyxNQUFNMkMsRUFBSTNDLEtBQUsyQyxFQUNUYyxFQUFJekQsS0FBS21HLEdBQ1RtSyxFQUFJdFEsS0FBS2lOLFVBQVUsYUFDbkJsSSxFQUFJL0UsS0FBS2lOLFVBQVUsS0FDbkJyTyxFQUFPb0IsS0FBS2lOLFVBQVUsUUFDdEIzUSxFQUFTMEQsS0FBS2lOLFVBQVUsVUFDOUJzTCxFQUFnQjVMLE9BQU9DLE9BQU8sQ0FBQzdILEVBQUFBLEVBQUd6SSxPQUFBQSxFQUFRc0MsS0FBQUEsR0FBUTJaLEdBQ2xELE1BQU1DLEVBQUt4WSxLQUFLaU4sVUFBVSxrQkFDcEJxTCxFQUFpQixJQUFJbEksRUFBU3pOLEVBQUc2VixFQUFJLEtBQU1sYyxHQUFRMlUsZUFBZUksUUFDbEVuUCxFQUFJLElBQUk3RSxFQUFPbWIsRUFBSS9VLEVBQUcsU0FDNUI2VSxFQUFlaE8sU0FBUSxDQUFDbU8sRUFBSzljLEtBQ3pCdUcsRUFBRTFFLFVBQVU3QixFQUFHOGMsRUFBSyxNQUV4QixNQUFNQyxFQUFNLElBQUluTSxFQUFHbFAsRUFBT1AsS0FBS3diLEVBQWV2YixLQUFLMGIsR0FBUTlWLEVBQUU5RixJQUFJNGIsTUFBUUYsR0FBZWxMLFlBRWxGc0wsRUFBS2hXLEVBQUU5QyxVQUNQK1ksRUFBTSxJQUFJL00sRUFBSThNLEVBQUlyYyxHQUNsQjhJLEVBQUksSUFBSS9ILEVBQU9vRyxFQUFHQSxFQUFHLEtBQ3JCd0IsR0FBUyxFQUFJcUwsRUFDbkJxSSxFQUFHck8sU0FBUSxDQUFDaUksRUFBSzVXLEtBQ2IsSUFBSyxNQUFRZ04sTUFBT3pMLEtBQU8wYixFQUFJak4sT0FBTzRHLEVBQUtqQyxHQUFHbEgsVUFDdEN6TixJQUFNdUIsR0FDVmtJLEVBQUU1SCxVQUFVN0IsRUFBR3VCLEVBQUcrSCxNQUcxQixNQUFNN0ksRUFBSWdKLEVBQUU5QyxPQUFPSixFQUFHLFlBR2hCaEgsRUFESSxJQUFJbUMsRUFBT29HLEVBQUdzQixFQUFHLFNBQ2Z6QyxPQUFPb1csRUFBSyxZQUt4QixPQUhBMVksS0FBS3dRLEdBQUtwVSxFQUNWNEQsS0FBSzZZLEdBQUszZCxFQUNWOEUsS0FBS2dOLGlCQUFrQixFQUNoQmhOLEtBT1hxTixZQUNJck4sS0FBS3NOLGFBQ0wsTUFBTWxSLEVBQUk0RCxLQUFLd1EsR0FDVHNJLEVBQUsxYyxFQUFFOEUsRUFDUGhHLEVBQUk4RSxLQUFLNlksR0FDVEUsRUFBTUQsRUFBR3ZaLElBQUluRCxHQUNiNGMsRUFBTUYsRUFBR3ZaLElBQUlyRSxHQUVuQixPQURBOEUsS0FBSzBOLEVBQUlyUSxFQUFPK2EsU0FBU1csRUFBS0MsRUFBS2haLEtBQUsrTSxhQUNqQy9NLEtBQUt1TixvQkNsRmIsY0FBbUJoQixFQWV0QnpNLFlBQVk2QyxFQUFHOEosR0FNWCxHQUxBcUIsTUFBTW5MLEVBQUcsQ0FBRWdULGVBQVdsTyxFQUFXMUMsRUFBRyxFQUFHekksT0FBUUMsRUFBV3FDLEtBQU0sS0FBTW1QLFNBQVUsSUFBTXRCLEdBQ3RGek0sS0FBS2lOLFVBQVUsWUFBYTlSLEtBQUtzSixJQUFJZ0ksRUFBV2tKLFdBQWF4YSxLQUFLeUMsSUFBSXpDLEtBQUtrTixNQUFNckksS0FBS21HLEdBQUssSUFBSyxHQUFJbkcsS0FBS21HLEdBQUssSUFDekduRyxLQUFLME0sWUFBWXFCLFNBQVNaLGVBQWUsVUFDMUNuTixLQUFLME0sWUFBWXFCLFNBQVNuUCxLQUFPb0IsS0FBSytNLGFBRXRDL00sS0FBSytMLElBQU0vTCxLQUFLaU4sVUFBVSxLQUMxQixNQUFNLElBQUkvTyxNQUFNLDRCQUE0QjhCLEtBQUsrTCwyRUFBMkUvTCxLQUFLaU4sVUFBVSxVQUUvSSxPQUFPak4sS0FNWHFOLFlBQ0ksTUFBTTFLLEVBQUkzQyxLQUFLMkMsR0FDUm5HLEVBQU1FLEdBQUtpRyxFQUFFbEcsT0FDZHNJLEVBQUVBLEVBQUM0USxVQUFFQSxFQUFTclosT0FBRUEsRUFBTXlSLFNBQUVBLEdBQWEvTixLQUFLME0sWUFFMUM5UCxFQUFLaWIsRUFBb0JsVixFQUFHZ1QsRUFBV3JaLEdBRXZDd2IsRUFBSSxJQUFJemEsRUFBT1gsRUFBR0EsRUFBRyxVQUNyQjBFLEVBQUksSUFBSS9ELEVBQU9iLEVBQU1BLEVBQU0sR0FFakMsSUFBSyxJQUFJSyxFQUFNLEVBQUdBLEVBQU1MLElBQVFLLEVBQUssQ0FFakMsTUFBTW9jLEVBQU0sQ0FBQ3BjLEtBQVFELEVBQUdDLEdBQUtFLEtBQUt4QixHQUFNQSxFQUFFMkIsS0FDMUMsSUFBSWdjLEVBQU03YixFQUFPUCxLQUFLbWMsRUFBSWxjLEtBQUt4QixHQUFNb0gsRUFBRTlGLElBQUl0QixNQUUzQzJkLEVBQU1BLEVBQUkzWixJQUFJdVksR0FFZCxNQUFNNVYsRUFBSWdYLEVBQUkzWixJQUFJMlosRUFBSXRaLGNBQ2RELGFBQWN3WixHQUFNblQsRUFBNEI5RCxFQUFHNkMsRUFBR2dKLEdBRXhEcUwsRUFBUS9iLEVBQU9QLEtBQUtxYyxHQUVwQkUsRUFBTUQsRUFBTXhaLFlBQ2JMLElBQUk2WixHQUNKaFYsSUFBSSxFQUFJakosS0FBS0MsS0FBS3VhLEVBQVksSUFDbkMsSUFBSyxJQUFJaGEsRUFBSSxFQUFHQSxFQUFJZ2EsRUFBWSxJQUFLaGEsRUFDakMsSUFBSyxJQUFJdUIsRUFBSSxFQUFHQSxFQUFJeVksRUFBWSxJQUFLelksRUFDakNrRSxFQUFFNUQsVUFBVXliLEVBQUl0ZCxHQUFJc2QsRUFBSS9iLEdBQUlrRSxFQUFFSCxNQUFNZ1ksRUFBSXRkLEdBQUlzZCxFQUFJL2IsS0FBT3ZCLElBQU11QixFQUFJLEVBQUksR0FBS21jLEVBQUlwWSxNQUFNdEYsRUFBR3VCLElBTW5HLE1BQVF5QyxhQUFjK04sR0FBTTFILEVBQTRCNUUsRUFBRzJELEVBQUksRUFBR2dKLEdBSWxFLE9BSEEvTixLQUFLME4sRUFBSXJRLEVBQU9QLEtBQUs0USxFQUFFdFEsTUFBTSxJQUFJd0MsWUFHMUJJLEtBQUt1Tix5Q0N0RWIsTUFlSHpOLFlBQVl1USxFQUFRaUosRUFBU0MsRUFBWWpkLEVBQVNDLEdBVTlDLE9BVEF5RCxLQUFLdVEsUUFBVUYsRUFDZnJRLEtBQUt3WixTQUFXRixFQUNoQnRaLEtBQUt5WixZQUFjRixFQUNuQnZaLEtBQUsrSyxRQUFVek8sRUFFZjBELEtBQUswWixjQUFnQixHQUNyQjFaLEtBQUs2USxVQUFZLEdBQ2pCN1EsS0FBSzJaLElBQU0sSUFBSTNkLE1BQU1xVSxFQUFPNVQsTUFBTSxJQUFJcVUsT0FDdEM5USxLQUFLeU4sT0FDRXpOLEtBTVh5TixPQUNJLE1BQU1tTSxFQUFlNVosS0FBSzBaLGNBQ3BCckosRUFBU3JRLEtBQUt1USxRQUNkOU0sRUFBSTRNLEVBQU81VCxNQUFNLEdBQ2pCb2QsRUFBSzdaLEtBQUsyWixJQUNWcEYsRUFBV3ZVLEtBQUs2USxVQUN0QixJQUFJaUosRUFBZ0I5WixLQUFLK1osZUFBaUIsRUFFMUMsSUFBSyxJQUFJcGUsRUFBSSxFQUFHQSxFQUFJOEgsSUFBSzlILEVBQ3JCa2UsRUFBR2xlLEdBQUssQ0FDSnlNLFFBQVdpSSxFQUFPeFQsSUFBSWxCLEdBQ3RCZ04sTUFBU2hOLEVBQ1RxZSwyQkFBeUJ2UyxFQUN6QndTLFdBQWEsR0FHckIsSUFBSyxNQUFNM08sS0FBS3VPLEVBQ1osSUFBSXZPLEVBQUUyTyxZQUNOM08sRUFBRXFLLFVBQVkzVixLQUFLa2EsZUFBZTVPLEdBQ2xDQSxFQUFFMk8sV0FBWSxFQUNkMUYsRUFBU2pRLEtBQUssQ0FBQ2dILEVBQUUzQyxRQUNqQm1SLEVBQWdCdkYsRUFBUy9ZLE9BQVMsRUFDbENvZSxFQUFhdFYsS0FBS2dILEdBQ1k3RCxNQUExQnpILEtBQUttYSxlQUFlN08sSUFBaUIsQ0FDckMsTUFBTThPLEVBQVEsSUFBSTFTLEVBQUssTUFBTTNDLEdBQUtBLEVBQUVpVix1QkFBdUIsT0FDM0RoYSxLQUFLcWEsUUFBUS9PLEVBQUc4TyxHQUNoQnBhLEtBQUtzYSxnQkFBZ0JGLEVBQU83RixFQUFTdUYsSUFHN0MsT0FBTzlaLEtBU1hrYSxlQUFlNU8sR0FDWCxHQUFJLGNBQWVBLEVBQUcsT0FBT0EsRUFBRXFLLFVBQy9CLE1BQU1rRSxFQUFLN1osS0FBSzJaLElBQ1ZyZCxFQUFTMEQsS0FBSytLLFFBQ2R1TyxFQUFVdFosS0FBS3daLFNBQ2Y3RCxFQUFZLEdBQ2xCLElBQUssTUFBTXJYLEtBQUt1YixFQUNSdmIsRUFBRXFLLE9BQVMyQyxFQUFFM0MsT0FDYnJNLEVBQU9nUCxFQUFFbEQsUUFBUzlKLEVBQUU4SixTQUFXa1IsR0FDL0IzRCxFQUFVclIsS0FBS2hHLEdBR3ZCLE9BQU9xWCxFQVNYd0UsZUFBZTdPLEdBQ1gsTUFBTWlPLEVBQWF2WixLQUFLeVosWUFDbEJuZCxFQUFTMEQsS0FBSytLLFFBQ3BCLEtBQUlPLEVBQUVxSyxXQUFhckssRUFBRXFLLFVBQVVuYSxRQUFVK2QsR0FHekMsT0FBT2pkLEVBQU9nUCxFQUFFbEQsUUFBU2tELEVBQUVxSyxVQUFVNEQsR0FBWW5SLFNBU3JEaVMsUUFBUS9PLEVBQUc4TyxHQUNQLE1BQU05ZCxFQUFTMEQsS0FBSytLLFFBQ2R3UCxFQUFnQnZhLEtBQUttYSxlQUFlN08sR0FDcENxSyxFQUFZM1YsS0FBS2thLGVBQWU1TyxHQUN0QyxJQUFLLE1BQU1oTixLQUFLcVgsRUFBVyxDQUN2QixHQUFJclgsRUFBRTJiLFVBQVcsU0FDakIsTUFBTU8sRUFBNEJyZixLQUFLeUMsSUFBSTJjLEVBQWVqZSxFQUFPZ1AsRUFBRWxELFFBQVM5SixFQUFFOEosVUFFMUVnUyxFQUFNOVEsV0FBV3VJLFdBQVU5TSxHQUFLQSxFQUFFcUQsU0FBVzlKLElBQUssR0FDbERBLEVBQUUwYixzQkFBd0JRLEVBQzFCSixFQUFNOVYsS0FBS2hHLElBRVBrYyxFQUE0QmxjLEVBQUUwYix3QkFDOUIxYixFQUFFMGIsc0JBQXdCUSxFQUMxQkosRUFBUTFTLEVBQUtJLFFBQVFzUyxFQUFNM1osUUFBUXNFLEdBQUtBLEVBQUVpVix1QkFBdUIsU0FZakZNLGdCQUFnQkYsRUFBT0ssR0FDbkIsTUFBTWIsRUFBZTVaLEtBQUswWixjQUMxQixNQUFRVSxFQUFNN1EsT0FBTyxDQUNqQixNQUFNakwsRUFBSThiLEVBQU1uUixNQUFNYixRQUN0QjlKLEVBQUVxWCxVQUFZM1YsS0FBS2thLGVBQWU1YixHQUNsQ0EsRUFBRTJiLFdBQVksRUFDZFEsRUFBUW5XLEtBQUtoRyxFQUFFcUssT0FDZmlSLEVBQWF0VixLQUFLaEcsR0FDWW1KLE1BQTFCekgsS0FBS21hLGVBQWU3YixLQUNwQjBCLEtBQUtxYSxRQUFRL2IsRUFBRzhiLEdBQ2hCcGEsS0FBS3NhLGdCQUFnQkYsRUFBT0ssS0FTeEN4SixlQUNJLE1BQU1zRCxFQUFXLEdBQ1htRyxFQUFXLEdBQ1huQixFQUFhdlosS0FBS3laLFlBQ3hCLElBQUssTUFBTWdCLEtBQVd6YSxLQUFLNlEsVUFDbkI0SixFQUFRamYsT0FBUytkLEVBQ2pCbUIsRUFBU3BXLFFBQVFtVyxHQUVqQmxHLEVBQVNqUSxLQUFLbVcsR0FJdEIsT0FEQWxHLEVBQVNqUSxLQUFLb1csR0FDUG5HLEVBTVhvRywwQkFDSSxNQUFNbFgsRUFBSXpELEtBQUt1USxRQUFROVQsTUFBTSxHQUN2QnFCLEVBQVMsSUFBSTlCLE1BQU15SCxHQUFHcU4sT0FDdEJ5RCxFQUFXdlUsS0FBS2lSLGVBQ3RCLElBQUssSUFBSXRWLEVBQUksRUFBR0osRUFBSWdaLEVBQVMvWSxPQUFRRyxFQUFJSixJQUFLSSxFQUFHLENBQzdDLE1BQU04ZSxFQUFVbEcsRUFBUzVZLEdBQ3pCLElBQUssTUFBTWdOLEtBQVM4UixFQUNoQjNjLEVBQU82SyxHQUFVaE4sRUFBSUosRUFBSSxFQUFLSSxHQUFLLEVBRzNDLE9BQU9tQyxvQ0M5S1IsY0FBcUJ5TyxFQWdCeEJ6TSxZQUFZNkMsRUFBRzhKLEdBRVgsT0FEQXFCLE1BQU1uTCxFQUFHLENBQUVpWSxNQUFPLEdBQUs3VixFQUFHLEVBQUd6SSxPQUFRQyxFQUFXcUMsS0FBTSxLQUFNaWMsUUFBUyxTQUFVQyxnQkFBaUIsSUFBTXJPLEdBQy9Gek0sS0FPWHlOLE9BQ0ksTUFBTWhLLEVBQUl6RCxLQUFLMkMsRUFBRWxHLE1BQU0sSUFDakJzSSxFQUFFQSxFQUFDekksT0FBRUEsRUFBUXVlLFFBQVNBLEVBQVNDLGdCQUFpQnZDLEdBQWtCdlksS0FBSzBNLFlBQzdFLEdBQWdCLFdBQVptTyxFQUFzQixDQUN0QixNQUFNNWIsRUFBYWUsS0FBSytNLFlBQ3hCL00sS0FBSzBOLEVBQUksSUFBSXJRLEVBQU9vRyxFQUFHc0IsR0FBRyxJQUFNOUYsRUFBV0UsYUFDeEMsQ0FBQSxJQUFJLENBQUMsTUFBTyxPQUFPNGIsU0FBU0YsR0FHL0IsTUFBTSxJQUFJM2MsTUFBTSx1REFGaEI4QixLQUFLME4sRUFBSXJRLEVBQU9QLEtBQWdCLE9BQVgrZCxFQUFtQmhOLEVBQUlSLFVBQVVyTixLQUFLMkMsRUFBRzRWLEdBQWlCcEssRUFBSWQsVUFBVXJOLEtBQUsyQyxFQUFHNFYsSUFLekcsT0FEQXZZLEtBQUtyRCxnQkFBNEIsZUFBVkwsRUFBMEJlLEVBQU9QLEtBQUtrRCxLQUFLMkMsR0FBS2hHLEVBQWdCcUQsS0FBSzJDLEVBQUdyRyxHQUN4RjBELEtBUVhxTixVQUFVMEIsRUFBVyxLQUNaL08sS0FBS2dOLGlCQUFpQmhOLEtBQUt5TixPQUNoQyxJQUFLLElBQUl2USxFQUFJLEVBQUdBLEVBQUk2UixJQUFZN1IsRUFDNUI4QyxLQUFLZ2IsUUFFVCxPQUFPaGIsS0FBS3VOLFdBUWhCQyxXQUFXdUIsRUFBVyxLQUNiL08sS0FBS2dOLGlCQUFpQmhOLEtBQUt5TixPQUVoQyxJQUFLLElBQUl2USxFQUFJLEVBQUdBLEVBQUk2UixJQUFZN1IsRUFDNUI4QyxLQUFLZ2IsY0FDQ2hiLEtBQUt1TixXQUdmLE9BQU92TixLQUFLdU4sV0FHaEJ5TixRQUNJLE1BQU1DLEVBQVFqYixLQUFLaU4sVUFBVSxTQUN2QnZRLEVBQUlzRCxLQUFLckQsZ0JBQ1Q4RyxFQUFJekQsS0FBSzJDLEVBQUVsRyxNQUFNLElBQ2pCc0ksRUFBRUEsRUFBQ3pJLE9BQUVBLEdBQVcwRCxLQUFLME0sWUFDM0IsSUFBSWdCLEVBQUkxTixLQUFLME4sRUFFVG1JLEVBQUksSUFBSXhZLEVBQU9vRyxFQUFHc0IsRUFBRyxHQUVyQnRKLEVBQU0sSUFBSTBDLGFBQWE0RyxHQUMzQixJQUFLLElBQUlwSixFQUFJLEVBQUdBLEVBQUk4SCxJQUFLOUgsRUFBRyxDQUN4QixJQUFJdWYsRUFBSyxJQUFJL2MsYUFBYTRHLEdBQ3RCb1csRUFBSyxJQUFJaGQsYUFBYTRHLEdBQzFCLE1BQU1xVyxFQUFLMU4sRUFBRTdRLElBQUlsQixHQUNqQixJQUFLLElBQUl1QixFQUFJLEVBQUdBLEVBQUl1RyxJQUFLdkcsRUFBRyxDQUN4QixHQUFJdkIsSUFBTXVCLEVBQUcsU0FDYixNQUFNbWUsRUFBSzNOLEVBQUU3USxJQUFJSyxHQUNYcVcsRUFBUSxJQUFJcFYsYUFBYTRHLEdBQy9CLElBQUssSUFBSTFJLEVBQUksRUFBR0EsRUFBSTBJLElBQUsxSSxFQUNyQmtYLEVBQU1sWCxHQUFLK2UsRUFBRy9lLEdBQUtnZixFQUFHaGYsR0FFMUIsTUFBTWlmLEVBQUtoZixFQUFPOGUsRUFBSUMsR0FDaEJFLEVBQUs3ZSxFQUFFdUUsTUFBTXRGLEVBQUd1QixHQUNoQnNlLEVBQUtELEVBQUtELEVBQ1ZHLEVBQUt0Z0IsS0FBS3lDLElBQUkyZCxFQUFLRCxFQUFJLEtBQzdCLElBQUssSUFBSWpmLEVBQUksRUFBR0EsRUFBSTBJLElBQUsxSSxFQUNyQjZlLEVBQUc3ZSxJQUFPa1gsRUFBTWxYLEdBQUttZixFQUFNQyxFQUMzQk4sRUFBRzllLEtBQU9tZixFQUFNcmdCLEtBQUswVCxJQUFJMEUsRUFBTWxYLEdBQUksSUFBTSxFQUFJbWYsRUFBS0YsR0FBT0EsR0FBTUcsRUFHdkUsSUFBSyxJQUFJcGYsRUFBSSxFQUFHQSxFQUFJMEksSUFBSzFJLEVBQUcsQ0FDeEIsTUFBTW9GLEVBQU1pTSxFQUFFek0sTUFBTXRGLEVBQUdVLElBQU80ZSxFQUFRQyxFQUFHN2UsR0FBTWxCLEtBQUtXLElBQUlxZixFQUFHOWUsS0FBTyxHQUNsRXdaLEVBQUVyWSxVQUFVN0IsRUFBR1UsRUFBR29GLEdBQ2xCaEcsRUFBSVksSUFBTW9GLEdBR2xCLElBQUssSUFBSXBGLEVBQUksRUFBR0EsRUFBSTBJLElBQUsxSSxFQUNyQlosRUFBSVksSUFBTW9ILEVBR2QsSUFBSyxJQUFJOUgsRUFBSSxFQUFHQSxFQUFJOEgsSUFBSzlILEVBQ3JCLElBQUssSUFBSVUsRUFBSSxFQUFHQSxFQUFJMEksSUFBSzFJLEVBQ3JCcVIsRUFBRWxRLFVBQVU3QixFQUFHVSxFQUFHd1osRUFBRTVVLE1BQU10RixFQUFHVSxHQUFLWixFQUFJWSxJQUc5QyxPQUFPcVIsV0NwSFIsY0FBbUJuQixFQWV0QnpNLFlBQVk2QyxFQUFHOEosR0FLWCxPQUpBcUIsTUFBTW5MLEVBQUcsQ0FBRStZLFdBQVksR0FBSXBDLFFBQVMsR0FBSXZVLEVBQUcsRUFBR3pJLE9BQVFDLEVBQVdxQyxLQUFNLE1BQVE2TixJQUM5RXpNLEtBQUttRyxHQUFJbkcsS0FBSytMLElBQU0vTCxLQUFLMkMsRUFBRWxHLE1BQzVCdUQsS0FBSzJiLE1BQVEsRUFDYjNiLEtBQUswTixFQUFJLElBQUlyUSxFQUFPMkMsS0FBS21HLEdBQUluRyxLQUFLaU4sVUFBVSxNQUFNLElBQU1qTixLQUFLK00sWUFBWTVOLFNBQ2xFYSxLQVFYeU4sT0FFSSxNQUFNbU8sRUFBVXpnQixLQUFLMGdCLElBQUk3YixLQUFLaU4sVUFBVSxlQUNsQ3hKLEVBQUl6RCxLQUFLbUcsR0FDVHpKLEVBQUlzRCxLQUFLK0wsSUFDVHpQLE9BQUNBLEdBQVUwRCxLQUFLME0sWUFDaEIvSixFQUFJM0MsS0FBSzJDLEVBQ2YsSUFBSW1aLEVBQ0osR0FBYSxlQUFUeGYsRUFDQXdmLEVBQVFDLE1BQU0xZSxPQUFPUCxLQUFLNkYsT0FDdkIsQ0FDSG1aLEVBQVEsSUFBSXplLEVBQU9vRyxFQUFHQSxHQUN0QixJQUFLLElBQUk5SCxFQUFJLEVBQUdBLEVBQUk4SCxJQUFLOUgsRUFBRyxDQUN4QixNQUFNdWQsRUFBTXZXLEVBQUU5RixJQUFJbEIsR0FDbEIsSUFBSyxJQUFJdUIsRUFBSXZCLEVBQUksRUFBR3VCLEVBQUl1RyxJQUFLdkcsRUFBRyxDQUM1QixNQUFNRixFQUFXVixFQUFPNGMsRUFBS3ZXLEVBQUU5RixJQUFJSyxJQUNuQzRlLEVBQU10ZSxVQUFVN0IsRUFBR3VCLEVBQUdGLEdBQ3RCOGUsRUFBTXRlLFVBQVVOLEVBQUd2QixFQUFHcUIsS0FLbEMsTUFBTWdmLEVBQUksSUFBSTNlLEVBQU9vRyxFQUFHQSxFQUFHLFNBRTNCekQsS0FBS2ljLE9BQVMsSUFBSTVlLEVBQU9vRyxFQUFHL0csRUFBRyxTQUMvQnNELEtBQUtrYyxPQUFTLElBQUk3ZSxFQUFPb0csRUFBRy9HLEVBQUcsR0FHL0IsSUFBSXlmLEVBQU8sSUFBSWhlLGFBQWFzRixHQUc1QixJQUFLLElBQUk5SCxFQUFJLEVBQUdBLEVBQUk4SCxJQUFLOUgsRUFBRyxDQUN4QixJQUFJeWdCLEdBQVc1YSxFQUFBQSxFQUNYNmEsRUFBVTdhLEVBQUFBLEVBQ1YyRCxFQUFPLEVBQ1BtWCxHQUFPLEVBRVBDLEVBQU0sRUFDVixNQUFRRCxHQUFNLENBQ1YsSUFBSUUsRUFBTyxFQUNYLElBQUssSUFBSXRmLEVBQUksRUFBR0EsRUFBSXVHLElBQUt2RyxFQUFHLENBQ3hCLElBQUl1ZixFQUFLdGhCLEtBQUt1aEIsS0FBS1osRUFBTTdhLE1BQU10RixFQUFHdUIsR0FBS2lJLEdBQ25DeEosSUFBTXVCLElBQUd1ZixFQUFLLEdBQ2xCTixFQUFLamYsR0FBS3VmLEVBQ1ZELEdBQVFDLEVBRVosSUFBSUUsRUFBUSxFQUNaLElBQUssSUFBSXpmLEVBQUksRUFBR0EsRUFBSXVHLElBQUt2RyxFQUFHLENBQ3hCLElBQUl1ZixFQUFjLElBQVRELEVBQWEsRUFBSUwsRUFBS2pmLEdBQUtzZixFQUNwQ0wsRUFBS2pmLEdBQUt1ZixFQUNOQSxFQUFLLE9BQ0xFLEdBQVNGLEVBQUt0aEIsS0FBSzBnQixJQUFJWSxJQUczQkUsRUFBUWYsR0FDUlEsRUFBVWpYLEVBQ1ZBLEVBQU9rWCxJQUFZN2EsRUFBQUEsRUFBa0IsRUFBUDJELEdBQVlBLEVBQU9rWCxHQUFXLElBRTVEQSxFQUFVbFgsRUFDVkEsRUFBT2lYLEtBQWE1YSxFQUFBQSxFQUFXMkQsRUFBTyxHQUFLQSxFQUFPaVgsR0FBVyxLQUUvREcsRUFDRXBoQixLQUFLVyxJQUFJNmdCLEVBQVFmLEdBakNqQixPQWlDaUNVLEdBQU8sR0FDeENDLEdBakNLLEtBaUNZRCxHQUFPLEdBR2hDLElBQUssSUFBSXBmLEVBQUksRUFBR0EsRUFBSXVHLElBQUt2RyxFQUNyQjhlLEVBQUV4ZSxVQUFVN0IsRUFBR3VCLEVBQUdpZixFQUFLamYsSUFLL0IsTUFBTTBmLEVBQU8sSUFBSXZmLEVBQU9vRyxFQUFHQSxFQUFHLFNBQ3hCb1osRUFBUyxFQUFKcFosRUFDWCxJQUFLLElBQUk5SCxFQUFJLEVBQUdBLEVBQUk4SCxJQUFLOUgsRUFDckIsSUFBSyxJQUFJdUIsRUFBSXZCLEVBQUd1QixFQUFJdUcsSUFBS3ZHLEVBQUcsQ0FDeEIsTUFBTW9PLEVBQUluUSxLQUFLeUMsS0FBS29lLEVBQUUvYSxNQUFNdEYsRUFBR3VCLEdBQUs4ZSxFQUFFL2EsTUFBTS9ELEVBQUd2QixJQUFNa2hCLEVBQUksUUFDekRELEVBQUtwZixVQUFVN0IsRUFBR3VCLEVBQUdvTyxHQUNyQnNSLEVBQUtwZixVQUFVTixFQUFHdkIsRUFBRzJQLEdBSTdCLE9BREF0TCxLQUFLOGMsR0FBS0YsRUFDSDVjLEtBUVhxTixVQUFVMFAsRUFBYSxLQUNuQi9jLEtBQUtzTixhQUNMLElBQUssSUFBSTNSLEVBQUksRUFBR0EsRUFBSW9oQixJQUFjcGhCLEVBQzlCcUUsS0FBS2dkLE9BRVQsT0FBT2hkLEtBQUt1TixXQVFoQkMsV0FBV3VQLEVBQWEsS0FDcEIvYyxLQUFLc04sYUFDTCxJQUFLLElBQUkzUixFQUFJLEVBQUdBLEVBQUlvaEIsSUFBY3BoQixFQUM5QnFFLEtBQUtnZCxhQUNDaGQsS0FBS3VOLFdBRWYsT0FBT3ZOLEtBQUt1TixXQVFoQnlQLE9BQ0ksTUFBTUMsSUFBU2pkLEtBQUsyYixNQUNkSyxFQUFJaGMsS0FBSzhjLEdBQ1RJLEVBQVFsZCxLQUFLaWMsT0FDYmtCLEVBQVFuZCxLQUFLa2MsT0FDYnpZLEVBQUl6RCxLQUFLbUcsSUFDUHBCLEVBQUdxWSxFQUFHOUQsUUFBRUEsR0FBV3RaLEtBQUswTSxZQUNoQyxJQUFJZ0IsRUFBSTFOLEtBQUswTixFQUdiLE1BQU0yUCxFQUFPSixFQUFPLElBQU0sRUFBSSxFQUd4QkssRUFBSyxJQUFJamdCLEVBQU9vRyxFQUFHQSxFQUFHLFNBQzVCLElBQUk4WixFQUFPLEVBQ1gsSUFBSyxJQUFJNWhCLEVBQUksRUFBR0EsRUFBSThILElBQUs5SCxFQUNyQixJQUFLLElBQUl1QixFQUFJdkIsRUFBSSxFQUFHdUIsRUFBSXVHLElBQUt2RyxFQUFHLENBQzVCLElBQUlzZ0IsRUFBTyxFQUNYLElBQUssSUFBSXpZLEVBQUksRUFBR0EsRUFBSXFZLElBQU9yWSxFQUFHLENBQzFCLE1BQU0wWSxFQUFRL1AsRUFBRXpNLE1BQU10RixFQUFHb0osR0FBSzJJLEVBQUV6TSxNQUFNL0QsRUFBRzZILEdBQ3pDeVksR0FBUUMsRUFBUUEsRUFFcEIsTUFBTUMsRUFBSyxHQUFLLEVBQUlGLEdBQ3BCRixFQUFHOWYsVUFBVTdCLEVBQUd1QixFQUFHd2dCLEdBQ25CSixFQUFHOWYsVUFBVU4sRUFBR3ZCLEVBQUcraEIsR0FDbkJILEdBQVEsRUFBSUcsRUFLcEIsTUFBTXRmLEVBQUksSUFBSWYsRUFBT29HLEVBQUdBLEVBQUcsR0FDM0IsSUFBSyxJQUFJOUgsRUFBSSxFQUFHQSxFQUFJOEgsSUFBSzlILEVBQ3JCLElBQUssSUFBSXVCLEVBQUl2QixFQUFJLEVBQUd1QixFQUFJdUcsSUFBS3ZHLEVBQUcsQ0FDNUIsTUFBTXVFLEVBQU10RyxLQUFLeUMsSUFBSTBmLEVBQUdyYyxNQUFNdEYsRUFBR3VCLEdBQUtxZ0IsRUFBTSxRQUM1Q25mLEVBQUVaLFVBQVU3QixFQUFHdUIsRUFBR3VFLEdBQ2xCckQsRUFBRVosVUFBVU4sRUFBR3ZCLEVBQUc4RixHQUkxQixNQUFNa2MsRUFBTyxJQUFJdGdCLEVBQU9vRyxFQUFHMlosRUFBSyxTQUNoQyxJQUFLLElBQUl6aEIsRUFBSSxFQUFHQSxFQUFJOEgsSUFBSzlILEVBQ3JCLElBQUssSUFBSXVCLEVBQUksRUFBR0EsRUFBSXVHLElBQUt2RyxFQUFHLENBQ3hCLE1BQU0wZ0IsRUFBVSxHQUFLUCxFQUFPckIsRUFBRS9hLE1BQU10RixFQUFHdUIsR0FBS2tCLEVBQUU2QyxNQUFNdEYsRUFBR3VCLElBQU1vZ0IsRUFBR3JjLE1BQU10RixFQUFHdUIsR0FDekUsSUFBSyxJQUFJNkgsRUFBSSxFQUFHQSxFQUFJcVksSUFBT3JZLEVBQ3ZCNFksRUFBS25nQixVQUFVN0IsRUFBR29KLEVBQUc0WSxFQUFLMWMsTUFBTXRGLEVBQUdvSixHQUFLNlksR0FBV2xRLEVBQUV6TSxNQUFNdEYsRUFBR29KLEdBQUsySSxFQUFFek0sTUFBTS9ELEVBQUc2SCxLQU0xRixJQUFJOFksRUFBUSxJQUFJMWYsYUFBYWlmLEdBQzdCLElBQUssSUFBSXpoQixFQUFJLEVBQUdBLEVBQUk4SCxJQUFLOUgsRUFDckIsSUFBSyxJQUFJb0osRUFBSSxFQUFHQSxFQUFJcVksSUFBT3JZLEVBQUcsQ0FDMUIsTUFBTStZLEVBQU1ILEVBQUsxYyxNQUFNdEYsRUFBR29KLEdBQ3BCZ1osRUFBTWIsRUFBTWpjLE1BQU10RixFQUFHb0osR0FDckJpWixFQUFTYixFQUFNbGMsTUFBTXRGLEVBQUdvSixHQUU5QixJQUFJa1osRUFBVTlpQixLQUFLK2lCLEtBQUtKLEtBQVMzaUIsS0FBSytpQixLQUFLSCxHQUFnQixHQUFUQyxFQUFlQSxFQUFTLEdBQ3RFQyxFQUFVLE1BQU1BLEVBQVUsS0FDOUJkLEVBQU0zZixVQUFVN0IsRUFBR29KLEVBQUdrWixHQUV0QixNQUNNRSxHQURTbEIsRUFBTyxJQUFNLEdBQU0sSUFDVmMsRUFBTXpFLEVBQVUyRSxFQUFVSCxFQUNsRFosRUFBTTFmLFVBQVU3QixFQUFHb0osRUFBR29aLEdBRXRCelEsRUFBRWxRLFVBQVU3QixFQUFHb0osRUFBRzJJLEVBQUV6TSxNQUFNdEYsRUFBR29KLEdBQUtvWixHQUNsQ04sRUFBTTlZLElBQU0ySSxFQUFFek0sTUFBTXRGLEVBQUdvSixHQUkvQixJQUFLLElBQUlwSixFQUFJLEVBQUdBLEVBQUk4SCxJQUFLOUgsRUFDckIsSUFBSyxJQUFJb0osRUFBSSxFQUFHQSxFQUFJLElBQUtBLEVBQ3JCMkksRUFBRWxRLFVBQVU3QixFQUFHb0osRUFBRzJJLEVBQUV6TSxNQUFNdEYsRUFBR29KLEdBQUs4WSxFQUFNOVksR0FBS3RCLEdBSXJELE9BQU96RCxLQUFLME4sY0MzTmIsY0FBc0JuQixFQWF6QnpNLFlBQVk2QyxFQUFHOEosR0FJWCxPQUhBcUIsTUFBTW5MLEVBQUcsQ0FBRXJHLE9BQVFDLEVBQVdxQyxLQUFNLE1BQVE2TixJQUMzQ3pNLEtBQUttRyxHQUFJbkcsS0FBSytMLElBQU0vTCxLQUFLMkMsRUFBRWxHLE1BQzVCdUQsS0FBSzRRLGlCQUFtQixJQUFJdlQsRUFBTzJDLEtBQUttRyxHQUFJbkcsS0FBS21HLEdBQUksR0FDOUNuRyxLQU1Yb2UsdUJBQXVCemlCLEVBQUd1QixFQUFHWixHQUN6QixNQUFNSSxFQUFJc0QsS0FBSzRRLGlCQUNUak8sRUFBSTNDLEtBQUsyQyxFQUNUMGIsRUFBTzNoQixFQUFFdUUsTUFBTXRGLEVBQUd1QixHQUN4QixHQUFhLElBQVRtaEIsRUFBWSxDQUNaLElBQUk5Z0IsRUFBT2pCLEVBQU9xRyxFQUFFOUYsSUFBSWxCLEdBQUlnSCxFQUFFOUYsSUFBSUssSUFHbEMsT0FGQVIsRUFBRWMsVUFBVTdCLEVBQUd1QixFQUFHSyxHQUNsQmIsRUFBRWMsVUFBVU4sRUFBR3ZCLEVBQUc0QixHQUNYQSxFQUVYLE9BQU84Z0IsRUFTWEMsNEJBQTRCaGlCLEVBQVNDLEdBQ2pDLE1BQU1rSCxFQUFJekQsS0FBS21HLEdBQ1R4RCxFQUFJLElBQUkzQyxLQUFLMkMsR0FFbkIsSUFBSTRiLEVBQWUsSUFBSS9VLEVBQVk3RyxHQUNuQyxNQUFNNmIsRUFBSSxHQUNWLElBQUlDLEVBQUksR0FDUixJQUFLLElBQUk5aUIsRUFBSSxFQUFHQSxFQUFJOEgsSUFBSzlILEVBQ3JCLElBQUssSUFBSXVCLEVBQUl2QixFQUFJLEVBQUd1QixFQUFJdUcsSUFBS3ZHLEVBQ3pCdWhCLEVBQUVuYSxLQUFLLENBQUMzSSxFQUFHdUIsRUFBRzhDLEtBQUtvZSx1QkFBdUJ6aUIsRUFBR3VCLEVBQUdaLEtBR3hEbWlCLEVBQUlBLEVBQUV0aEIsTUFBSyxDQUFDbEMsRUFBR0MsSUFBTUQsRUFBRSxHQUFLQyxFQUFFLEtBRTlCLElBQUssTUFBT3dqQixFQUFHM2dCLEVBQUdvYSxLQUFNc0csRUFBRyxDQUN2QixNQUFNRSxFQUFRSixFQUFhclUsS0FBS3ZILEVBQUUrYixJQUM1QkUsRUFBUUwsRUFBYXJVLEtBQUt2SCxFQUFFNUUsSUFDOUI0Z0IsSUFBVUMsSUFDVkosRUFBRWxhLEtBQUssQ0FBQ29hLEVBQUczZ0IsRUFBR29hLElBQ2RvRyxFQUFhcFUsTUFBTXdVLEVBQU9DLElBSWxDLE9BQU9KLEVBQUVyaEIsTUFBSyxDQUFDbEMsRUFBR0MsSUFBTUQsRUFBRSxHQUFLQyxFQUFFLEtBTXJDdVMsT0FDSSxNQUFNblIsT0FBRUEsR0FBVTBELEtBQUswTSxZQUl2QixPQUhBMU0sS0FBSzBOLEVBQUksSUFBSXJRLEVBQU8yQyxLQUFLbUcsR0FBSSxFQUFHLEdBQ2hDbkcsS0FBSzZlLE1BQVE3ZSxLQUFLc2UsNEJBQTRCaGlCLEdBQzlDMEQsS0FBS2dOLGlCQUFrQixFQUNoQmhOLEtBV1g4ZSxjQUFjQyxFQUFJQyxJQUFNQyxFQUFJQyxJQUFNQyxFQUFJQyxJQUNsQyxPQUFRSCxFQUFLRixJQUFPSyxFQUFLSixJQUFPRSxFQUFLRixJQUFPRyxFQUFLSixJQUFPLEVBVTVETSxPQUFPak0sR0FDSCxNQUFNdEksRUFBU3NJLEVBQUVqVyxNQUFLLEVBQUVtaUIsRUFBSUMsSUFBTUMsRUFBSUMsS0FBUUYsRUFBS0UsR0FBTUgsRUFBS0UsSUFDeEQvYixFQUFJcUgsRUFBT3RQLE9BQ2pCLEdBQUlpSSxHQUFLLEVBQUcsT0FBT3FILEVBRW5CLE1BQU00VSxFQUFRLEdBQ2QsSUFBSyxJQUFJL2pCLEVBQUksRUFBR0EsRUFBSThILElBQUs5SCxFQUFHLENBQ3hCLEtBQU8rakIsRUFBTWxrQixRQUFVLEdBQUt3RSxLQUFLOGUsYUFBYVksRUFBTUEsRUFBTWxrQixPQUFTLEdBQUlra0IsRUFBTUEsRUFBTWxrQixPQUFTLEdBQUlzUCxFQUFPblAsS0FDbkcrakIsRUFBTXpXLE1BRVZ5VyxFQUFNcGIsS0FBS3dHLEVBQU9uUCxJQUV0QixNQUFNZ2tCLEVBQVEsR0FDZCxJQUFLLElBQUloa0IsRUFBSThILEVBQUksRUFBRzlILEdBQUssSUFBS0EsRUFBRyxDQUM3QixLQUFPZ2tCLEVBQU1ua0IsUUFBVSxHQUFLd0UsS0FBSzhlLGFBQWFhLEVBQU1BLEVBQU1ua0IsT0FBUyxHQUFJbWtCLEVBQU1BLEVBQU1ua0IsT0FBUyxHQUFJc1AsRUFBT25QLEtBQ25HZ2tCLEVBQU0xVyxNQUVWMFcsRUFBTXJiLEtBQUt3RyxFQUFPblAsSUFJdEIsT0FGQWdrQixFQUFNMVcsTUFDTnlXLEVBQU16VyxNQUNDeVcsRUFBTXBkLE9BQU9xZCxHQVV4QkMsYUFBYUMsRUFBS0MsSUFBT0MsRUFBS0MsSUFDMUIsTUFBTXprQixFQUFJZ0IsRUFBVSxDQUFDc2pCLEVBQUtDLEdBQU0sQ0FBQ0MsRUFBS0MsSUFDdEMsR0FBVSxJQUFOemtCLEVBQ0EsTUFBTyxDQUNIMGtCLElBQUssRUFDTEMsSUFBSyxHQUViLE1BQU1DLEVBQU0sRUFBRUosRUFBTUYsR0FBT3RrQixHQUFJeWtCLEVBQU1GLEdBQU92a0IsR0FDdEMya0IsRUFBTUMsRUFBSSxHQUNoQixJQUFJRixFQUFNOWtCLEtBQUtDLEtBQUssRUFBSThrQixFQUFNQSxHQUU5QixPQURBRCxFQUFNRSxFQUFJLElBQU0sR0FBS0YsRUFBTUEsRUFDcEIsQ0FDSEEsSUFBS0EsRUFDTEMsSUFBS0EsR0FVYkUsYUFBYUMsRUFBTS9VLEVBQUdnVixHQUNsQixJQUNJQyxFQWNBQyxFQUNBQyxFQWhCQTFpQixHQUFLLEVBRVQsSUFBSyxJQUFJcEMsRUFBSSxFQUFHQSxFQUFJMGtCLEVBQUs3a0IsU0FBVUcsRUFBRyxDQUNsQyxNQUFNb0osRUFBSXhJLEVBQVU4akIsRUFBSzFrQixHQUFJMlAsS0FDbEIsSUFBUHZOLEdBSUl3aUIsRUFBS3hiLEtBSFR3YixFQUFLeGIsRUFDTGhILEVBQUlwQyxHQVdSMmtCLEdBQ0FFLEVBQUtILEVBQUt0aUIsR0FDVjBpQixFQUFLSixHQUFNdGlCLEVBQUksR0FBS3NpQixFQUFLN2tCLFVBRWhCLEdBQUx1QyxJQUFRQSxFQUFJc2lCLEVBQUs3a0IsT0FBUyxHQUM5QmdsQixFQUFLSCxFQUFLdGlCLEdBQ1YwaUIsRUFBS0osR0FBTXRpQixFQUFJLEdBQUtzaUIsRUFBSzdrQixTQUc3QixNQUFNa2xCLEVBQWlCLENBQ25CQyxJQUFLTixFQUFLdGlCLEdBQUcsR0FDYjZpQixJQUFLUCxFQUFLdGlCLEdBQUcsSUFHakIsR0FBSXNpQixFQUFLN2tCLFFBQVUsRUFBRyxDQUNsQixNQUFNeWtCLElBQUVBLEVBQUdDLElBQUVBLEdBQVFsZ0IsS0FBSzRmLFlBQVlZLEVBQUlDLEdBQzFDQyxFQUFlVCxJQUFNQSxFQUNyQlMsRUFBZVIsSUFBTUEsT0FFckJRLEVBQWVULElBQU0sRUFDckJTLEVBQWVSLElBQU0sRUFHekIsT0FBT1EsRUFRWEcsYUFBYUMsRUFBSUMsSUFBS0osR0FBRUEsRUFBRUMsR0FBRUEsRUFBRVgsSUFBRUEsRUFBR0MsSUFBRUEsSUFDakMsSUFBSWprQixFQUFJNmtCLEVBQUtILEVBQ1R6a0IsRUFBSTZrQixFQUFLSCxFQUdiLE1BQU8sQ0FGRTNrQixFQUFJaWtCLEVBQU1oa0IsRUFBSStqQixFQUNkaGtCLEVBQUlna0IsRUFBTS9qQixFQUFJZ2tCLEdBVzNCYyxzQkFBc0I5ZSxFQUFHckcsRUFBR29sQixHQUN4QixNQUFNeGQsRUFBSXZCLEVBQUUxRyxPQUNaLElBQUssSUFBSUcsRUFBSSxFQUFHQSxFQUFJOEgsSUFBSzlILEVBQUcsQ0FDeEIsTUFBTXVQLEVBQUloSixFQUFFdkcsSUFDTHVsQixFQUFJQyxHQUFNbmhCLEtBQUs2Z0IsWUFBWTNWLEVBQUdyUCxHQUNyQ3FQLEVBQUUsR0FBS2dXLEVBQ1BoVyxFQUFFLEdBQUtpVyxFQUFLRixHQVVwQkcsbUJBQW1CMUMsRUFBRzNnQixFQUFHb2EsR0FDckIsTUFBTWtKLEVBQVcsSUFBSTNDLEVBQUU1VSxlQUFlRSxVQUNoQ3NYLEVBQVcsSUFBSXZqQixFQUFFK0wsZUFBZUUsVUFFaEN1WCxFQUFTdmhCLEtBQUtxZixPQUFPZ0MsR0FDckJHLEVBQVN4aEIsS0FBS3FmLE9BQU9pQyxHQUVyQkcsRUFBTXpoQixLQUFLb2dCLGFBQWFtQixFQUFRN0MsR0FBRyxHQUNuQ2dELEVBQU0xaEIsS0FBS29nQixhQUFhb0IsRUFBUXpqQixHQUFHLEdBRXpDaUMsS0FBS2doQixzQkFBc0JLLEVBQVVJLEVBQUssR0FDMUN6aEIsS0FBS2doQixzQkFBc0JNLEVBQVVJLEVBQUt2SixHQU05QzlLLFlBQ1NyTixLQUFLZ04saUJBQWlCaE4sS0FBS3lOLE9BQ2hDLE1BQU1rVSxFQUFPM2hCLEtBQUs2ZSxNQUNablIsRUFBSTFOLEtBQUswTixFQUFFN04sVUFDWCtoQixFQUFhLElBQUlwWSxFQUNuQmtFLEVBQUUzUSxLQUFJLENBQUNiLEVBQUdQLEtBQ05PLEVBQUVQLEVBQUlBLEVBQ0NPLE1BSWYsSUFBSyxNQUFPd2lCLEVBQUczZ0IsRUFBR29hLEtBQU13SixFQUFNLENBQzFCLE1BQU1FLEVBQWNELEVBQVcxWCxLQUFLd0QsRUFBRWdSLElBQ2hDb0QsRUFBY0YsRUFBVzFYLEtBQUt3RCxFQUFFM1AsSUFDbEM4akIsSUFBZ0JDLElBQ3BCOWhCLEtBQUtvaEIsbUJBQW1CUyxFQUFhQyxFQUFhM0osR0FDbER5SixFQUFXelgsTUFBTTBYLEVBQWFDLElBRWxDLE9BQU85aEIsS0FBS3VOLFdBR2hCQyxhQUNTeE4sS0FBS2dOLGlCQUFpQmhOLEtBQUt5TixPQUNoQyxNQUFNa1UsRUFBTzNoQixLQUFLNmUsTUFDWm5SLEVBQUkxTixLQUFLME4sRUFBRTdOLFVBQ1graEIsRUFBYSxJQUFJcFksRUFDbkJrRSxFQUFFM1EsS0FBSSxDQUFDYixFQUFHUCxLQUNOTyxFQUFFUCxFQUFJQSxFQUNDTyxNQUlmLElBQUssTUFBT3dpQixFQUFHM2dCLEVBQUdvYSxLQUFNd0osRUFBTSxDQUMxQixNQUFNRSxFQUFjRCxFQUFXMVgsS0FBS3dELEVBQUVnUixJQUNoQ29ELEVBQWNGLEVBQVcxWCxLQUFLd0QsRUFBRTNQLElBQ2xDOGpCLElBQWdCQyxJQUNwQjloQixLQUFLb2hCLG1CQUFtQlMsRUFBYUMsRUFBYTNKLEdBQ2xEeUosRUFBV3pYLE1BQU0wWCxFQUFhQyxTQUN4QjloQixLQUFLdU4sWUFFZixPQUFPdk4sS0FBS3VOLHNCQ2pTYixjQUFxQmhCLEVBa0J4QnpNLFlBQVk2QyxFQUFHOEosR0FFWCxPQURBcUIsTUFBTW5MLEVBQUcsQ0FBRW9mLFdBQVksSUFBSzdXLEVBQUcsRUFBR25HLEVBQUcsRUFBR3pJLE9BQVFDLEVBQVd5QyxJQUFLLEtBQU1KLEtBQU0sTUFBUTZOLEdBQzdFek0sS0FRWHlOLEtBQUt1VSxFQUFNLEtBQU1wSixFQUFNLE1BQ25CLE1BQU1qVyxFQUFJM0MsS0FBSzJDLEVBQ1RjLEVBQUlkLEVBQUVsRyxNQUFNLElBQ1pzSSxFQUFFQSxFQUFDekksT0FBRUEsRUFBTTRPLEVBQUVBLEdBQU1sTCxLQUFLME0sWUFDOUIxTSxLQUFLaWlCLFVBQVksRUFBSS9XLEVBQ3JCbEwsS0FBS2tpQixXQUFhLEVBQUloWCxFQUN0QmxMLEtBQUttaUIsU0FBVyxFQUFJalgsRUFDcEJsTCxLQUFLME4sRUFBSXNVLEdBQU8sSUFBSW5VLEVBQUlsTCxFQUFHb0MsR0FBR3NJLFlBQzlCck4sS0FBSzRZLElBQU1BLEdBQU8sSUFBSXJPLEVBQVM1SCxFQUFFOUMsVUFBV3ZELEdBQzVDLE1BQU04bEIsU0FBRUEsRUFBUUMsUUFBRUEsR0FBWXJpQixLQUFLc2lCLG1CQUFtQnRpQixLQUFLaWlCLFVBQVdqaUIsS0FBS2tpQixXQUFZbGlCLEtBQUttaUIsVUFPNUYsT0FOQW5pQixLQUFLb2lCLFNBQVdBLEVBQ2hCcGlCLEtBQUtxaUIsUUFBVUEsRUFDZnJpQixLQUFLdWlCLEdBQU0sSUFBTzllLEVBQUsyZSxFQUFTM2xCLE1BQU0sR0FDdEN1RCxLQUFLa0MsRUFBSVYsRUFBQUEsRUFDVHhCLEtBQUt3aUIsSUFBTSxJQUFJbmxCLEVBQU9vRyxFQUFHc0IsRUFBRyxHQUM1Qi9FLEtBQUt5aUIsS0FBTyxJQUFJcGxCLEVBQU9vRyxFQUFHc0IsRUFBRyxHQUN0Qi9FLEtBU1hzaUIsbUJBQW1CTCxFQUFXQyxFQUFZQyxHQUN0QyxNQUFNN2xCLE9BQUVBLEVBQU15bEIsV0FBRUEsR0FBZS9oQixLQUFLME0sWUFDOUIvSixFQUFJM0MsS0FBSzJDLEVBQ1RjLEVBQUlkLEVBQUVsRyxNQUFNLEdBQ1ptYyxFQUFNNVksS0FBSzRZLElBQ1g4SixFQUFVdm5CLEtBQUtzSixJQUFJd2QsRUFBWSxHQUFJeGUsR0FDbkNrZixFQUFPLElBQUl0bEIsRUFBT29HLEVBQUdpZixHQUNyQkUsRUFBZ0IsSUFBSXZsQixFQUFPb0csRUFBR2lmLEdBQ3BDLElBQUssSUFBSS9tQixFQUFJLEVBQUdBLEVBQUk4SCxJQUFLOUgsRUFDckJpZCxFQUFJak4sT0FBT2hKLEVBQUU5RixJQUFJbEIsR0FBSSttQixFQUFVLEdBQzFCcFosV0FDQWdKLFFBQVF2TixHQUFpQixHQUFYQSxFQUFFaEYsUUFDaEI1QyxNQUFLLENBQUNsQyxFQUFHQyxJQUFNRCxFQUFFOEUsTUFBUTdFLEVBQUU2RSxRQUMzQnVLLFNBQVEsQ0FBQ3ZGLEVBQUc3SCxLQUNUeWxCLEVBQUtubEIsVUFBVTdCLEVBQUd1QixFQUFHNkgsRUFBRXFELFFBQVFPLE9BQy9CaWEsRUFBY3BsQixVQUFVN0IsRUFBR3VCLEVBQUc2SCxFQUFFaEYsVUFJNUMsTUFBTThpQixFQUFNLElBQUkxa0IsYUFBYXNGLEdBQzdCLElBQUssSUFBSTlILEVBQUksRUFBR0EsRUFBSThILElBQUs5SCxFQUNyQmtuQixFQUFJbG5CLEdBQUtSLEtBQUt5QyxLQUFLZ2xCLEVBQWMzaEIsTUFBTXRGLEVBQUcsR0FBS2luQixFQUFjM2hCLE1BQU10RixFQUFHLEdBQUtpbkIsRUFBYzNoQixNQUFNdEYsRUFBRyxHQUFLaW5CLEVBQWMzaEIsTUFBTXRGLEVBQUcsSUFBTSxFQUFHLE9BRzNJLE1BQU1xZ0IsRUFBSWhjLEtBQUs4aUIsUUFBUUYsRUFBZUMsRUFBS0YsR0FFM0MsSUFBSVAsRUFBV3BpQixLQUFLK2lCLHFCQUFxQi9HLEVBQUcyRyxFQUFNVixFQUFXQyxHQUN6RGMsRUFBYVosRUFBUzNsQixNQUFNLEdBQ2hDLE1BQU13bUIsRUFBb0IsSUFBSTlrQixhQUFhNmtCLEdBQzNDLElBQUssSUFBSXJuQixFQUFJLEVBQUdBLEVBQUlxbkIsSUFBY3JuQixFQUFHLENBQ2pDLE1BQU11QixFQUFJa2xCLEVBQVNuaEIsTUFBTXRGLEVBQUcsR0FDdEJVLEVBQUkrbEIsRUFBU25oQixNQUFNdEYsRUFBRyxHQUM1QnNuQixFQUFrQnRuQixHQUFLVyxFQUFPcUcsRUFBRTlGLElBQUlLLEdBQUl5RixFQUFFOUYsSUFBSVIsSUFFbEQsSUFBSWdtQixFQUFVcmlCLEtBQUtrakIsY0FBY2QsRUFBVXBHLEVBQUcyRyxFQUFNTSxFQUFtQkosR0FFdkUsR0FBSVYsRUFBVyxFQUFHLENBQ2QsTUFBTWdCLGdCQUFFQSxFQUFlQyxlQUFFQSxHQUFtQnBqQixLQUFLcWpCLHdCQUF3QjFnQixFQUFHd2YsRUFBVVUsR0FDdEZULEVBQVdBLEVBQVM5ZixPQUFPNmdCLEVBQWlCLFlBQzVDZCxFQUFVbGtCLGFBQWFyQixLQUFLLElBQUl1bEIsS0FBWWUsSUFFaERKLEVBQWFaLEVBQVMzbEIsTUFBTSxHQUM1QixJQUFJNm1CLEdBQWM5aEIsRUFBQUEsRUFDbEIsSUFBSyxJQUFJN0YsRUFBSSxFQUFHQSxFQUFJcW5CLElBQWNybkIsRUFDMUI0bkIsTUFBTWxCLEVBQVExbUIsTUFDZDBtQixFQUFRMW1CLEdBQUssR0FFYjJuQixFQUFhakIsRUFBUTFtQixLQUFJMm5CLEVBQWFqQixFQUFRMW1CLElBRXRELElBQUk2bkIsR0FBZ0JoaUIsRUFBQUEsRUFDcEIsSUFBSyxJQUFJN0YsRUFBSSxFQUFHQSxFQUFJcW5CLElBQWNybkIsRUFDOUIwbUIsRUFBUTFtQixJQUFNMm5CLEVBQ2RqQixFQUFRMW1CLElBQU0sS0FDZDBtQixFQUFRMW1CLEdBQUtSLEtBQUswZ0IsSUFBSSxFQUFJa0csRUFBYU0sRUFBUTFtQixJQUMzQzZuQixFQUFlbkIsRUFBUTFtQixLQUFJNm5CLEVBQWVuQixFQUFRMW1CLElBRTFELElBQUssSUFBSUEsRUFBSSxFQUFHQSxFQUFJcW5CLElBQWNybkIsRUFDOUIwbUIsRUFBUTFtQixJQUFNNm5CLEVBRWxCLE1BQU8sQ0FDSHBCLFNBQVVBLEVBQ1ZDLFFBQVNBLEdBWWpCUyxRQUFRRixFQUFlQyxFQUFLRixHQUN4QixNQUFPbGYsRUFBR2dnQixHQUFlYixFQUFjbm1CLE1BQ3ZDLE9BQU8sSUFBSVksRUFBT29HLEVBQUdnZ0IsR0FBYSxDQUFDOW5CLEVBQUd1QixJQUMzQi9CLEtBQUt1aEIsTUFBTWtHLEVBQWMzaEIsTUFBTXRGLEVBQUd1QixJQUFNLEdBQUkybEIsRUFBSWxuQixHQUFLa25CLEVBQUlGLEVBQUsxaEIsTUFBTXRGLEVBQUd1QixPQWF0RjZsQixxQkFBcUIvRyxFQUFHMkcsRUFBTVYsRUFBV0MsR0FDckMsTUFBTXplLEVBQUlrZixFQUFLbG1CLE1BQU0sR0FDZjJsQixFQUFXLElBQUkva0IsRUFBT29HLEVBQUl3ZSxFQUFZQyxFQUFZLEdBQ3hELElBQUssSUFBSXZtQixFQUFJLEVBQUdBLEVBQUk4SCxJQUFLOUgsRUFBRyxDQUN4QixJQUFJK25CLEVBQU0vbkIsRUFBSXNtQixFQUFZQyxFQUMxQixNQUFNeUIsRUFBZTNqQixLQUFLNGpCLFVBQVU1SCxFQUFFbmYsSUFBSWxCLEdBQUdvQixLQUFLZ0ksSUFBT0EsS0FDekQsSUFBSyxJQUFJN0gsRUFBSSxFQUFHQSxFQUFJK2tCLElBQWEva0IsRUFBRyxDQUNoQyxJQUFJMm1CLEVBQU0zbUIsRUFBSWdsQixFQUNkLE1BQU00QixFQUFNbkIsRUFBSzFoQixNQUFNdEYsRUFBR2dvQixFQUFhem1CLElBQ2pDNm1CLEVBQVUvakIsS0FBS2drQixrQkFBa0I5QixFQUFZemUsRUFBR2tnQixFQUFhdm1CLE1BQU0sRUFBR0YsRUFBSSxJQUNoRixJQUFLLElBQUliLEVBQUksRUFBR0EsRUFBSTZsQixJQUFjN2xCLEVBQUcsQ0FDakMsTUFBTXNNLEVBQVErYSxFQUFNRyxFQUFNeG5CLEVBQ3BCNG5CLEVBQU1GLEVBQVExbkIsR0FDcEIrbEIsRUFBUzVrQixVQUFVbUwsRUFBTyxFQUFHaE4sR0FDN0J5bUIsRUFBUzVrQixVQUFVbUwsRUFBTyxFQUFHbWIsR0FDN0IxQixFQUFTNWtCLFVBQVVtTCxFQUFPLEVBQUdzYixLQUl6QyxPQUFPN0IsRUFRWHdCLFVBQVV4bkIsR0FDTixPQUFPQSxFQUFFVyxLQUFJLENBQUNnSSxFQUFHcEosS0FDTixDQUFFb0osRUFBR0EsRUFBR3BKLEVBQUdBLE1BRWpCd0IsTUFBSyxDQUFDbEMsRUFBR0MsSUFBTUQsRUFBRThKLEVBQUk3SixFQUFFNkosSUFDdkJoSSxLQUFLZ0ksR0FBTUEsRUFBRXBKLElBVXRCcW9CLGtCQUFrQkUsRUFBV0MsRUFBU0MsR0FDbEMsTUFBTW5sQixFQUFhZSxLQUFLK00sWUFDbEJzWCxFQUFXL2MsRUFBUyxFQUFHNmMsRUFBVSxHQUFHN1IsUUFBUXZOLEdBQU1xZixFQUFRNU4sUUFBUXpSLEdBQUssSUFDN0UsT0FBTzlGLEVBQVdrSSxPQUFPa2QsRUFBVWxwQixLQUFLc0osSUFBSXlmLEVBQVdHLEVBQVM3b0IsT0FBUyxJQVk3RTBuQixjQUFjZCxFQUFVcEcsRUFBRzJHLEVBQU1NLEVBQW1CSixHQUNoRCxNQUFNRyxFQUFhWixFQUFTM2xCLE1BQU0sR0FDNUI0bEIsRUFBVSxJQUFJbGtCLGFBQWE2a0IsR0FDakMsSUFBSyxJQUFJbm5CLEVBQUksRUFBR0EsRUFBSW1uQixJQUFjbm5CLEVBQUcsQ0FDakMsTUFBTUYsRUFBSXltQixFQUFTbmhCLE1BQU1wRixFQUFHLEdBQ3RCaW9CLEVBQU1uQixFQUFLOWxCLElBQUlsQixHQUFHNmEsUUFBUTRMLEVBQVNuaEIsTUFBTXBGLEVBQUcsSUFDNUN5b0IsRUFBUXRJLEVBQUUvYSxNQUFNdEYsRUFBR21vQixHQUN6QixJQUFJUyxFQUFRcHBCLEtBQUt1aEIsTUFBTXVHLEVBQWtCcG5CLElBQU0sSUFBS2duQixFQUFJbG5CLEdBQUtrbkIsRUFBSVQsRUFBU25oQixNQUFNcEYsRUFBRyxNQUMvRTBvQixFQUFRLFFBQU9BLEVBQVEsT0FDM0JsQyxFQUFReG1CLEdBQUt5b0IsRUFBUUMsRUFFekIsT0FBT2xDLEVBVVhnQix3QkFBd0IxZ0IsRUFBR3dmLEVBQVVVLEdBQ2pDLE1BQU12bUIsRUFBUzBELEtBQUtpTixVQUFVLFVBQ3hCaE8sRUFBYWUsS0FBSytNLFlBQ2xCdEosRUFBSWQsRUFBRWxHLE1BQU0sR0FDWjBtQixFQUFrQixJQUFJOWxCLEVBQU9vRyxFQUFJMGUsRUFBVSxHQUMzQ2lCLEVBQWlCLElBQUlqbEIsYUFBYXNGLEVBQUkwZSxHQUM1QyxJQUFLLElBQUl4bUIsRUFBSSxFQUFHQSxFQUFJOEgsSUFBSzlILEVBQUcsQ0FDeEIsTUFBTStuQixFQUFNL25CLEVBQUl3bUIsRUFDVm5QLEVBQVUsSUFBSTFMLEVBQVMsRUFBRzNMLEVBQUksTUFBTzJMLEVBQVMzTCxFQUFJLEVBQUc4SCxFQUFJLElBQy9ELElBQUssSUFBSXZHLEVBQUksRUFBR0EsRUFBSWlsQixJQUFZamxCLEVBQUcsQ0FDL0IsSUFBSzRtQixFQUFLRyxHQUFPaGxCLEVBQVdrSSxPQUFPNkwsRUFBUyxHQUN4Q3NSLEVBQVFucEIsS0FBS3VoQixNQUFNcGdCLEVBQU9xRyxFQUFFOUYsSUFBSWxCLEdBQUlnSCxFQUFFOUYsSUFBSWluQixLQUFTLElBQUtqQixFQUFJbG5CLEdBQUtrbkIsRUFBSWlCLEtBQ3JFUSxFQUFRLFFBQU9BLEVBQVEsT0FDM0IsSUFBSUMsRUFBUXBwQixLQUFLdWhCLE1BQU1wZ0IsRUFBT3FHLEVBQUU5RixJQUFJbEIsR0FBSWdILEVBQUU5RixJQUFJb25CLEtBQVMsSUFBS3BCLEVBQUlsbkIsR0FBS2tuQixFQUFJb0IsS0FDckVNLEVBQVEsUUFBT0EsRUFBUSxPQUV2QkQsRUFBUUMsS0FDUFQsRUFBS0csR0FBTyxDQUFDQSxFQUFLSCxJQUNsQlEsRUFBT0MsR0FBUyxDQUFDQSxFQUFPRCxJQUU3QixNQUFNM2IsRUFBUSthLEVBQU14bUIsRUFDcEJpbUIsRUFBZ0IzbEIsVUFBVW1MLEVBQU8sRUFBR2hOLEdBQ3BDd25CLEVBQWdCM2xCLFVBQVVtTCxFQUFPLEVBQUdtYixHQUNwQ1gsRUFBZ0IzbEIsVUFBVW1MLEVBQU8sRUFBR3NiLEdBQ3BDYixFQUFlemEsR0FBUzJiLEVBQVFDLEdBR3hDLE1BQU8sQ0FDSHBCLGdCQUFpQkEsRUFDakJDLGVBQWdCQSxHQVF4Qm9CLE1BQU05VyxHQUNGLE1BQU11VSxFQUFZamlCLEtBQUtpaUIsVUFDakJDLEVBQWFsaUIsS0FBS2tpQixXQUNsQkUsRUFBV3BpQixLQUFLb2lCLFNBQ2hCQyxFQUFVcmlCLEtBQUtxaUIsU0FDZDVlLEVBQUcyWixHQUFPMVAsRUFBRWpSLE1BQ2J1bUIsRUFBYVosRUFBUzNsQixNQUFNLEdBQzVCa2hCLEVBQU8sSUFBSXRnQixFQUFPb0csRUFBRzJaLEVBQUssR0FDaEMsSUFBSXFILEVBQU8sSUFBSXRtQixhQUFhaWYsR0FDeEJzSCxFQUFPLElBQUl2bUIsYUFBYWlmLEdBQ3hCNUssRUFBTyxFQUNQbVMsRUFBTyxFQUNQQyxFQUFTLEVBQ1RDLEVBQU8sRUFDWCxNQUFNQyxFQUFpQnJoQixFQUFJd2UsRUFBWUMsRUFFdkMsSUFBSyxJQUFJcm1CLEVBQUksRUFBR0EsRUFBSW1uQixJQUFjbm5CLEVBQUcsQ0FDakMsTUFBT0YsRUFBR3VCLEVBQUdiLEdBQUsrbEIsRUFBU3ZsQixJQUFJaEIsR0FFL0IsR0FBSUEsRUFBSXFtQixHQUFjLEdBQUtybUIsR0FBS2lwQixFQUFnQixDQUM1Q3RTLEVBQU8sRUFDUG1TLEVBQU8sRUFDUCxJQUFLLElBQUk1ZixFQUFJLEVBQUdBLEVBQUlxWSxJQUFPclksRUFBRyxDQUMxQixNQUFNZ2dCLEVBQU9yWCxFQUFFek0sTUFBTXRGLEVBQUdvSixHQUNsQmlnQixFQUFPdFgsRUFBRXpNLE1BQU0vRCxFQUFHNkgsR0FDbEJrZ0IsRUFBT3ZYLEVBQUV6TSxNQUFNNUUsRUFBRzBJLEdBQ3hCMGYsRUFBSzFmLEdBQUtnZ0IsRUFBT0MsRUFDakJOLEVBQUszZixHQUFLZ2dCLEVBQU9FLEVBQ2pCelMsR0FBUWlTLEVBQUsxZixJQUFNLEVBQ25CNGYsR0FBUUQsRUFBSzNmLElBQU0sT0FHcEIsQ0FDSDRmLEVBQU8sRUFDUCxJQUFLLElBQUk1ZixFQUFJLEVBQUdBLEVBQUlxWSxJQUFPclksRUFBRyxDQUMxQixNQUFNZ2dCLEVBQU9yWCxFQUFFek0sTUFBTXRGLEVBQUdvSixHQUNsQmtnQixFQUFPdlgsRUFBRXpNLE1BQU01RSxFQUFHMEksR0FDeEIyZixFQUFLM2YsR0FBS2dnQixFQUFPRSxFQUNqQk4sR0FBUUQsRUFBSzNmLElBQU0sR0FJdkJ5TixFQUFPbVMsS0FBUUMsRUFDbkJDLEdBQVF4QyxFQUFReG1CLElBQU0sRUFBSThvQixFQUFPblMsR0FDakMsTUFBTTJGLEdBQUtrSyxFQUFReG1CLElBQU0yVyxFQUFPbVMsS0FBVSxFQUMxQyxJQUFLLElBQUk1ZixFQUFJLEVBQUdBLEVBQUlxWSxJQUFPclksRUFBRyxDQUMxQixNQUFNbWdCLEVBQUtULEVBQUsxZixHQUFLNGYsRUFBT3hNLEVBQ3RCZ04sRUFBS1QsRUFBSzNmLEdBQUt5TixFQUFPMkYsRUFDNUJ3RixFQUFLbmdCLFVBQVU3QixFQUFHb0osRUFBRzRZLEVBQUsxYyxNQUFNdEYsRUFBR29KLEdBQUttZ0IsRUFBS0MsR0FDN0N4SCxFQUFLbmdCLFVBQVVOLEVBQUc2SCxFQUFHNFksRUFBSzFjLE1BQU0vRCxFQUFHNkgsR0FBS21nQixHQUN4Q3ZILEVBQUtuZ0IsVUFBVW5CLEVBQUcwSSxFQUFHNFksRUFBSzFjLE1BQU01RSxFQUFHMEksR0FBS29nQixJQUdoRCxNQUFPLENBQUV4SCxLQUFBQSxFQUFNa0gsS0FBQUEsRUFBTUQsT0FBQUEsR0FPekJ2WCxVQUFVK1gsRUFBZ0IsS0FDdEJwbEIsS0FBS3NOLGFBQ0wsSUFBSyxJQUFJMlAsRUFBTyxFQUFHQSxFQUFPbUksSUFBaUJuSSxFQUN2Q2pkLEtBQUtxbEIsTUFBTXBJLEdBRWYsT0FBT2pkLEtBQUt1TixXQVFoQkMsV0FBVzRYLEVBQWdCLEtBQ3ZCcGxCLEtBQUtzTixhQUNMLElBQUssSUFBSTJQLEVBQU8sRUFBR0EsRUFBT21JLElBQWlCbkksRUFDdkNqZCxLQUFLcWxCLE1BQU1wSSxTQUNMamQsS0FBS3VOLFdBRWYsT0FBT3ZOLEtBQUt1TixXQVFoQjhYLE1BQU1wSSxHQUNGLE1BQU1xSSxFQUFRckksRUFBTyxJQUFNLEdBQU0sR0FDM0JzSSxFQUFRdmxCLEtBQUtrQyxFQUNic2dCLEVBQU14aUIsS0FBS3dpQixJQUNYOVUsRUFBSTFOLEtBQUswTixFQUFFdEosSUFBSW9lLEVBQUl0ZSxLQUFLb2hCLEtBQ3hCM0gsS0FBRUEsRUFBSWtILEtBQUVBLEVBQUlELE9BQUVBLEdBQVc1a0IsS0FBS3drQixNQUFNOVcsR0FJMUMsT0FIQTFOLEtBQUtrQyxFQUFJMmlCLEVBQ1Q3a0IsS0FBSzBOLEVBQUkxTixLQUFLd2xCLGtCQUFrQjlYLEVBQUd1UCxFQUFNVSxHQUN6QzNkLEtBQUt1aUIsSUFBTWdELEVBQVFWLEVBQU83a0IsS0FBSzBNLFlBQVkxTixJQUFNLEtBQU8sR0FDakRnQixLQUFLME4sRUFVaEI4WCxrQkFBa0I5WCxFQUFHdVAsRUFBTVUsR0FDdkIsTUFBT2xhLEVBQUcyWixHQUFPMVAsRUFBRWpSLE1BQ2I2b0IsRUFBUXJJLEVBQU8sSUFBTSxHQUFNLEdBRTNCd0YsRUFBT3ppQixLQUFLeWlCLEtBQ1pELEVBQU14aUIsS0FBS3dpQixJQUNYRCxFQUFLdmlCLEtBQUt1aUIsR0FDaEIsSUFBSyxJQUFJNW1CLEVBQUksRUFBR0EsRUFBSThILElBQUs5SCxFQUNyQixJQUFLLElBQUlvSixFQUFJLEVBQUdBLEVBQUlxWSxJQUFPclksRUFBRyxDQUMxQixNQUFNMGdCLEVBQVd0cUIsS0FBSytpQixLQUFLc0UsRUFBSXZoQixNQUFNdEYsRUFBR29KLEtBQU81SixLQUFLK2lCLEtBQUtQLEVBQUsxYyxNQUFNdEYsRUFBR29KLElBQU0wZCxFQUFLeGhCLE1BQU10RixFQUFHb0osR0FBSyxHQUFNNUosS0FBS3lDLElBQXVCLEdBQW5CNmtCLEVBQUt4aEIsTUFBTXRGLEVBQUdvSixHQU5wSCxLQU9UMGQsRUFBS2psQixVQUFVN0IsRUFBR29KLEVBQUcwZ0IsR0FDckJqRCxFQUFJaGxCLFVBQVU3QixFQUFHb0osRUFBR3VnQixFQUFROUMsRUFBSXZoQixNQUFNdEYsRUFBR29KLEdBQUt3ZCxFQUFLRSxFQUFLeGhCLE1BQU10RixFQUFHb0osR0FBSzRZLEVBQUsxYyxNQUFNdEYsRUFBR29KLElBQ3BGMkksRUFBRWxRLFVBQVU3QixFQUFHb0osRUFBRzJJLEVBQUV6TSxNQUFNdEYsRUFBR29KLEdBQUt5ZCxFQUFJdmhCLE1BQU10RixFQUFHb0osSUFHdkQsT0FBTzJJLFdDdFhSLGNBQW1CbkIsRUFzQnRCek0sWUFBWTZDLEVBQUc4SixHQUNYcUIsTUFBTW5MLEVBQUcsQ0FBRThnQixZQUFhLEdBQUlpQyxtQkFBb0IsRUFBRzlPLFNBQVUsRUFBRzdSLEVBQUcsRUFBR3pJLE9BQVFDLEVBQVdxQyxLQUFNLEtBQzNGK21CLFFBQVMsRUFBR0Msa0JBQW1CLEVBQUdDLG9CQUFxQixFQUFHQyxzQkFBdUIsRUFBR0MsVUFBVyxJQUFLQyxlQUFnQixHQUFLdlosSUFDNUh6TSxLQUFLbUcsR0FBSW5HLEtBQUsrTCxJQUFNL0wsS0FBSzJDLEVBQUVsRyxNQUM1QixJQUFJZ25CLEVBQWN0b0IsS0FBS3NKLElBQUl6RSxLQUFLbUcsR0FBSyxFQUFHbkcsS0FBS2lOLFVBQVUsZ0JBQ3ZEak4sS0FBS2lOLFVBQVUsY0FBZXdXLEdBQzlCempCLEtBQUtpTixVQUFVLHFCQUFzQjlSLEtBQUtzSixJQUFJekUsS0FBS2lOLFVBQVUsc0JBQXVCd1csRUFBYyxJQUNsR3pqQixLQUFLMmIsTUFBUSxFQUNiLE1BQU0xYyxFQUFhZSxLQUFLK00sWUFFeEIsT0FEQS9NLEtBQUswTixFQUFJLElBQUlyUSxFQUFPMkMsS0FBS21HLEdBQUluRyxLQUFLaU4sVUFBVSxNQUFNLElBQU1oTyxFQUFXRSxTQUM1RGEsS0FTWGltQixnQkFBZ0IxYSxFQUFRcUwsR0FDcEIsTUFDTXNQLEVBQUs1ZSxFQUFTLEVBQVksRUFBVGlFLEVBQVksS0FDN0I0YSxFQUFLN2UsRUFBUyxFQUFZLEVBQVRpRSxFQUFZLEtBRW5DLElBQUssSUFBSTVQLEVBQUksRUFBR0osRUFBSTJxQixFQUFHMXFCLE9BQVFHLEVBQUlKLElBQUtJLEVBQUcsQ0FDdkMsTUFBTXlxQixFQUFPRixFQUFHdnFCLEdBQ2hCd3FCLEVBQUd4cUIsR0FBS3lxQixFQUFPeFAsRUFBVyxFQUFJemIsS0FBS3VoQixNQUFNMEosRUFBT3hQLEdBQVlyTCxHQVFoRSxPQUFPOGEsR0FMTS9hLElBQ1QsTUFBTWdiLEVBQVFoZixFQUFTLEVBQUcsS0FBS3ZLLEtBQUksQ0FBQ3lELEVBQUc3RSxLQUFNd3FCLE9BQUFBLEVBQUd4cUIsSUFWckNNLEVBVWdEaXFCLEVBQUd2cUIsR0FWaERWLEVBVW9EcVEsRUFBRSxHQVZuRHBRLEVBVXVEb1EsRUFBRSxHQVZuRCxHQUFLLEVBQUlyUSxFQUFJRSxLQUFLMFQsSUFBSTVTLEVBQUcsRUFBSWYsS0FBMUMsSUFBQ2UsRUFBR2hCLEVBQUdDLEtBV2pCLE9BQU9DLEtBQUtDLEtBQUtlLEVBQVltcUIsRUFBTXZwQixLQUFLb0YsR0FBTUEsRUFBSUEsUUFHbkMsQ0FBQyxFQUFHLElBVTNCb2tCLDhCQUE4QnZhLEVBQVd3YSxFQUFRQyxHQUM3QyxJQUFLLElBQUk5cUIsRUFBSSxFQUFHSixFQUFJeVEsRUFBVXhRLE9BQVFHLEVBQUlKLElBQUtJLEVBQzNDLElBQUssSUFBSXVCLEVBQUksRUFBR3FELEVBQUl5TCxFQUFVclEsR0FBR0gsT0FBUTBCLEVBQUlxRCxJQUFLckQsRUFBRyxDQUNqRCxNQUFNYSxFQUFJaU8sRUFBVXJRLEdBQUd1QixHQUFHNkMsTUFBUTBtQixFQUFLOXFCLEdBQ3ZDcVEsRUFBVXJRLEdBQUd1QixHQUFHNkMsTUFBUWhDLEVBQUksRUFBSTVDLEtBQUt1aEIsS0FBSzNlLEVBQUl5b0IsRUFBTzdxQixJQUFNLEVBR25FLE9BQU9xUSxFQVNYMGEsaUJBQWlCOU4sRUFBS3ZjLEdBQ2xCLE1BQU1zcUIsRUFBcUIsS0FDckJDLEVBQW1CLE1BRW5CbEIsbUJBQUVBLEVBQWtCcHBCLE9BQUVBLEdBQVcwRCxLQUFLME0sWUFDdENtYSxFQUFTMXJCLEtBQUsyckIsS0FBS3pxQixHQUNuQm9xQixFQUFPLEdBQ1BELEVBQVMsR0FDVDdqQixFQUFJM0MsS0FBSzJDLEVBQ1RjLEVBQUlkLEVBQUVsRyxNQUFNLEdBR1p1UCxFQUFZLEdBQ2xCLEdBQWUsZ0JBQVgxUCxFQUNBLElBQUssSUFBSVgsRUFBSSxFQUFHQSxFQUFJOEgsSUFBSzlILEVBQ3JCcVEsRUFBVTFILEtBQUtzVSxFQUFJak4sT0FBT2hRLEVBQUdVLEdBQUcwcUIsZ0JBR3BDLElBQUssTUFBTXhVLEtBQU81UCxFQUNkcUosRUFBVTFILEtBQUtzVSxFQUFJak4sT0FBTzRHLEVBQUtsVyxHQUFHaU4sV0FBV3lkLFdBSXJELElBQUssSUFBSXByQixFQUFJLEVBQUdBLEVBQUk4SCxJQUFLOUgsRUFBRyxDQUN4QixJQUFJcXJCLEVBQUssRUFDTEMsRUFBS3psQixFQUFBQSxFQUNMMGxCLEVBQU0sRUFFVixNQUFNQyxFQUFnQm5iLEVBQVVyUSxHQUMxQnlyQixFQUFnQkQsRUFBYzdVLFFBQVF2TixHQUFNQSxFQUFFaEYsTUFBUSxJQUN0RHNuQixFQUF1QkQsRUFBYzVyQixPQUMzQyxHQUFJNnJCLEdBQXdCM0IsRUFBb0IsQ0FDNUMsTUFBTS9jLEVBQVF4TixLQUFLa04sTUFBTXFkLEdBQ25CNEIsRUFBZ0I1QixFQUFxQi9jLEVBQ3ZDQSxFQUFRLEdBQ1I4ZCxFQUFLbmlCLEtBQUs4aUIsRUFBY3plLEVBQVEsSUFDNUIyZSxFQUFnQlgsSUFDaEJGLEVBQUs5cUIsR0FBR29FLE9BQVN1bkIsR0FBaUJGLEVBQWN6ZSxHQUFPNUksTUFBUXFuQixFQUFjemUsRUFBUSxNQUd6RjhkLEVBQUs5cUIsR0FBR29FLE1BQVF1bkIsRUFBZ0JGLEVBQWMsR0FBR3JuQixXQUU5Q3NuQixFQUF1QixJQUM5QlosRUFBSzlxQixHQUFLeXJCLEVBQWNDLEVBQXVCLEdBQUd0bkIsT0FFdEQsSUFBSyxJQUFJOUQsRUFBSSxFQUFHQSxFQTFDTCxLQTBDbUJBLEVBQUcsQ0FDN0IsSUFBSXVnQixFQUFPLEVBQ1gsSUFBSyxJQUFJdGYsRUFBSSxFQUFHQSxFQUFJYixJQUFLYSxFQUFHLENBQ3hCLE1BQU02SCxFQUFJb2lCLEVBQWNqcUIsR0FBRzZDLE1BQVEwbUIsRUFBSzlxQixHQUN4QzZnQixHQUFRelgsRUFBSSxFQUFJNUosS0FBS3VoQixLQUFNM1gsRUFBSW1pQixHQUFRLEVBRTNDLEdBQUkvckIsS0FBS1csSUFBSTBnQixFQUFPcUssR0FBVUYsRUFDMUIsTUFFQW5LLEVBQU9xSyxHQUNOSSxFQUFJQyxHQUFPLENBQUNBLEdBQU1GLEVBQUtDLEdBQU0sSUFHekJELEVBQUlFLEdBRExELElBQU96bEIsRUFBQUEsRUFDSyxDQUFDMGxCLEVBQVcsRUFBTkEsR0FFTixDQUFDQSxHQUFNRixFQUFLQyxHQUFNLEdBSTFDVCxFQUFPN3FCLEdBQUt1ckIsRUFFWixNQUFNSyxFQUFZSixFQUFjM2IsUUFBTyxDQUFDdlEsRUFBR0MsSUFBTUQsRUFBSUMsRUFBRTZFLE9BQU8sR0FBS29uQixFQUFjM3JCLE9BRWpGLEdBQUlpckIsRUFBSzlxQixHQUFLLEVBQ042cUIsRUFBTzdxQixHQUFLaXJCLEVBQW1CVyxJQUMvQmYsRUFBTzdxQixHQUFLaXJCLEVBQW1CVyxPQUVoQyxDQUNILE1BQU1DLEVBQVN4YixFQUFVUixRQUFPLENBQUNDLEVBQUthLElBQVFiLEVBQU1hLEVBQUlkLFFBQU8sQ0FBQ3ZRLEVBQUdDLElBQU1ELEVBQUlDLEVBQUU2RSxPQUFPLEdBQUt1TSxFQUFJOVEsU0FDM0ZnckIsRUFBTzdxQixHQUFLaXJCLEVBQW1CWSxJQUMvQmhCLEVBQU83cUIsR0FBS2lyQixFQUFtQlksSUFJM0MsTUFBTyxDQUNIeGIsVUFBV0EsRUFDWHdhLE9BQVFBLEVBQ1JDLEtBQU1BLEdBVWRnQixzQkFBc0I5a0IsRUFBRzhnQixHQUNyQixNQUFNaGdCLEVBQUlkLEVBQUVsRyxNQUFNLElBQ1pILE9BQUVBLEdBQVcwRCxLQUFLME0sWUFDbEJrTSxFQUFpQixnQkFBWHRjLEVBQTJCLElBQUl1UCxFQUFJbEosRUFBRyxlQUFpQixJQUFJNEgsRUFBUzVILEVBQUU5QyxVQUFXdkQsR0FDN0YsSUFBSTBQLFVBQUVBLEVBQVN3YSxPQUFFQSxFQUFNQyxLQUFFQSxHQUFTem1CLEtBQUswbUIsaUJBQWlCOU4sRUFBSzZLLEdBQzdEelgsRUFBWWhNLEtBQUt1bUIsOEJBQThCdmEsRUFBV3dhLEVBQVFDLEdBQ2xFLE1BQU0zb0IsRUFBUyxJQUFJVCxFQUFPb0csRUFBR0EsRUFBRyxTQUNoQyxJQUFLLElBQUk5SCxFQUFJLEVBQUdBLEVBQUk4SCxJQUFLOUgsRUFBRyxDQUN4QixNQUFNK3JCLEVBQWMxYixFQUFVclEsR0FDOUIsSUFBSyxJQUFJdUIsRUFBSSxFQUFHQSxFQUFJd3FCLEVBQVlsc0IsU0FBVTBCLEVBQ3RDWSxFQUFPTixVQUFVN0IsRUFBRytyQixFQUFZeHFCLEdBQUdrTCxRQUFRTyxNQUFPK2UsRUFBWXhxQixHQUFHNkMsT0FHekUsTUFBTTRuQixFQUFvQjdwQixFQUFPb0QsRUFDM0IwbUIsRUFBYzlwQixFQUFPb0csS0FBS3lqQixHQUNoQyxPQUFPN3BCLEVBQ0ZzRyxJQUFJdWpCLEdBQ0p0akIsSUFBSXVqQixHQUNKMWpCLEtBQUtsRSxLQUFLNGxCLG1CQUNWeGhCLElBQUl3akIsRUFBWTFqQixLQUFLLEVBQUlsRSxLQUFLaU4sVUFBVSx1QkFRakQ0YSx3QkFBd0JDLEdBQ3BCLE1BQU16RixFQUFVcmlCLEtBQUsrbkIsU0FDZmpxQixFQUFTLElBQUlrcUIsYUFBYTNGLEVBQVE3bUIsUUFBUXNWLE1BQU0sR0FDaERtWCxFQUFjcnFCLEVBQUl5a0IsR0FDbEI2QixFQUFZN0IsRUFBUXRsQixLQUFLb2IsR0FBTTJQLEdBQVkzUCxFQUFJOFAsS0FDckQsSUFBSyxJQUFJdHNCLEVBQUksRUFBR0EsRUFBSW1DLEVBQU90QyxTQUFVRyxFQUFPdW9CLEVBQVV2b0IsR0FBSyxJQUFHbUMsRUFBT25DLEdBQUtSLEtBQUswQyxNQUFNaXFCLEVBQVc1RCxFQUFVdm9CLEtBQzFHLE9BQU9tQyxFQVFYb3FCLE9BQU9DLEdBQ0gsTUFBTTNyQixFQUFPLEdBQ1B5QixFQUFPLEdBQ1B3QyxFQUFPLElBQ04ybkIsRUFBUUMsR0FBVUYsRUFBTTFyQixNQUMvQixJQUFLLElBQUlJLEVBQU0sRUFBR0EsRUFBTXVyQixJQUFVdnJCLEVBQzlCLElBQUssSUFBSUksRUFBTSxFQUFHQSxFQUFNb3JCLElBQVVwckIsRUFBSyxDQUNuQyxNQUFNZ0UsRUFBUWtuQixFQUFNbG5CLE1BQU1wRSxFQUFLSSxHQUNqQixJQUFWZ0UsSUFDQXpFLEVBQUs4SCxLQUFLekgsR0FDVm9CLEVBQUtxRyxLQUFLckgsR0FDVndELEVBQUs2RCxLQUFLckQsSUFJdEIsTUFBTyxDQUNIekUsS0FBTUEsRUFDTnlCLEtBQU1BLEVBQ053QyxLQUFNQSxHQVFkZ04sT0FDSSxNQUFNa1ksUUFBRUEsRUFBTy9PLFNBQUVBLEVBQVE2TSxZQUFFQSxFQUFXc0MsVUFBRUEsRUFBU0Qsc0JBQUVBLEdBQXlCOWxCLEtBQUswTSxhQUMxRXpSLEVBQUdDLEdBQUs4RSxLQUFLaW1CLGdCQUFnQk4sRUFBUy9PLEdBQzdDNVcsS0FBS3NvQixHQUFLcnRCLEVBQ1YrRSxLQUFLNlksR0FBSzNkLEVBQ1Y4RSxLQUFLdW9CLE9BQVN2b0IsS0FBS3luQixzQkFBc0J6bkIsS0FBSzJDLEVBQUc4Z0IsR0FDakQsTUFBTWpuQixLQUFFQSxFQUFJeUIsS0FBRUEsRUFBTXdDLEtBQU00aEIsR0FBWXJpQixLQUFLa29CLE9BQU9sb0IsS0FBS3VvQixRQVF2RCxPQVBBdm9CLEtBQUt3b0IsTUFBUWhzQixFQUNid0QsS0FBS3lvQixNQUFReHFCLEVBQ2IrQixLQUFLK25CLFNBQVcxRixFQUNoQnJpQixLQUFLMG9CLG1CQUFxQjFvQixLQUFLNm5CLHdCQUF3QjlCLEdBQ3ZEL2xCLEtBQUsyb0IsNEJBQThCM29CLEtBQUswb0IsbUJBQW1CM3JCLEtBQUtnSSxHQUFNQSxFQUFJK2dCLElBQzFFOWxCLEtBQUs0b0Isc0JBQXdCNW9CLEtBQUswb0IsbUJBQW1CdHJCLFFBQ3JENEMsS0FBSzZvQiwrQkFBaUM3b0IsS0FBSzJvQiw0QkFBNEJ2ckIsUUFDaEU0QyxLQUdYbW9CLFFBRUksT0FEQW5vQixLQUFLc04sYUFDRSxDQUFFclAsS0FBTStCLEtBQUt3b0IsTUFBT2hzQixLQUFNd0QsS0FBS3lvQixNQUFPcEcsUUFBU3JpQixLQUFLK25CLFVBUS9EMWEsVUFBVTBQLEVBQWEsS0FDZi9jLEtBQUtpTixVQUFVLGNBQWdCOFAsSUFDL0IvYyxLQUFLaU4sVUFBVSxZQUFhOFAsR0FDNUIvYyxLQUFLeU4sUUFFVHpOLEtBQUtzTixhQUNMLElBQUssSUFBSTNSLEVBQUksRUFBR0EsRUFBSW9oQixJQUFjcGhCLEVBQzlCcUUsS0FBS2dkLE9BRVQsT0FBT2hkLEtBQUt1TixXQVFoQkMsV0FBV3VQLEVBQWEsS0FDaEIvYyxLQUFLaU4sVUFBVSxjQUFnQjhQLElBQy9CL2MsS0FBS2lOLFVBQVUsWUFBYThQLEdBQzVCL2MsS0FBS3lOLFFBRVR6TixLQUFLc04sYUFDTCxJQUFLLElBQUkzUixFQUFJLEVBQUdBLEVBQUlvaEIsSUFBY3BoQixFQUM5QnFFLEtBQUtnZCxhQUNDaGQsS0FBS3VOLFdBRWYsT0FBT3ZOLEtBQUt1TixXQVFoQnViLE1BQU03c0IsR0FDRixPQUFJQSxFQUFJLEVBQVUsRUFDZEEsR0FBSyxHQUFXLEVBQ2JBLEVBWVg4c0IsaUJBQWlCQyxFQUFnQkMsRUFBZ0JDLEVBQU1DLEdBQ25ELE1BQVFDLEdBQUloTSxFQUFLaU0sT0FBUXBrQixFQUFPNGdCLG9CQUFxQnlELEVBQW9CaEIsR0FBSXJ0QixFQUFHNGQsR0FBSTNkLEVBQUd3dEIsbUJBQW9CYSxFQUFtQlosNEJBQTZCYSxFQUE0QlgsK0JBQWdDWSxFQUErQmIsc0JBQXVCYyxFQUFzQlosTUFBT2EsR0FBUzNwQixLQUM3UzRwQixFQUFjVCxFQUFLM3RCLE9BRXpCLElBQUssSUFBSUcsRUFBSSxFQUFHSixFQUFJZ3VCLEVBQWtCL3RCLE9BQVFHLEVBQUlKLElBQUtJLEVBQ25ELEdBQUkrdEIsRUFBcUIvdEIsSUFBTXFFLEtBQUsyYixNQUFPLENBQ3ZDLE1BQU16ZSxFQUFJZ3NCLEVBQUt2dEIsR0FDVFUsRUFBSThzQixFQUFLeHRCLEdBQ1QrUCxFQUFVc2QsRUFBZW5zQixJQUFJSyxHQUM3QjRZLEVBQVFtVCxFQUFlcHNCLElBQUlSLEdBQzNCa0IsRUFBT2xDLEVBQWtCcVEsRUFBU29LLEdBQ3hDLElBQUkrVCxFQUFhLEVBQ2J0c0IsRUFBTyxJQUNQc3NCLEdBQWUsRUFBSTV1QixFQUFJQyxFQUFJQyxLQUFLMFQsSUFBSXRSLEVBQU1yQyxFQUFJLElBQU9ELEVBQUlFLEtBQUswVCxJQUFJdFIsRUFBTXJDLEdBQUssSUFFakYsSUFBSyxJQUFJNkosRUFBSSxFQUFHQSxFQUFJcVksSUFBT3JZLEVBQUcsQ0FDMUIsTUFBTStrQixFQUFTSCxFQUFLRSxHQUFjbmUsRUFBUTNHLEdBQUsrUSxFQUFNL1EsS0FBT0UsRUFDdERpRyxFQUFJUSxFQUFRM0csR0FBSytrQixFQUNqQnBZLEVBQUlvRSxFQUFNL1EsR0FBSytrQixFQUNyQnBlLEVBQVEzRyxHQUFLbUcsRUFDYjRLLEVBQU0vUSxHQUFLMk0sRUFDWHNYLEVBQWV4ckIsVUFBVU4sRUFBRzZILEVBQUdtRyxHQUMvQitkLEVBQWV6ckIsVUFBVW5CLEVBQUcwSSxFQUFHMk0sR0FFbkNnWSxFQUFxQi90QixJQUFNNHRCLEVBQWtCNXRCLEdBQzdDLE1BQU1vdUIsR0FBaUIvcEIsS0FBSzJiLE1BQVE4TixFQUE4Qjl0QixJQUFNNnRCLEVBQTJCN3RCLEdBQ25HLElBQUssSUFBSTJQLEVBQUksRUFBR0EsRUFBSXllLElBQWlCemUsRUFBRyxDQUNwQyxNQUFNalAsRUFBSWxCLEtBQUtrTixNQUFNckksS0FBSytNLFlBQVk1TixPQUFTeXFCLEdBQ3pDOVQsRUFBUW1ULEVBQWVwc0IsSUFBSXNzQixFQUFLOXNCLElBQ2hDa0IsRUFBT2xDLEVBQWtCcVEsRUFBU29LLEdBQ3hDLElBQUkrVCxFQUFhLEVBQ2pCLEdBQUl0c0IsRUFBTyxFQUNQc3NCLEVBQWMsRUFBSVAsRUFBcUJwdUIsSUFBTyxJQUFPcUMsSUFBU3RDLEVBQUlFLEtBQUswVCxJQUFJdFIsRUFBTXJDLEdBQUssU0FDbkYsR0FBSWdDLElBQU1iLEVBQ2IsU0FFSixJQUFLLElBQUkwSSxFQUFJLEVBQUdBLEVBQUlxWSxJQUFPclksRUFBRyxDQUMxQixNQUFNK2tCLEVBQVNILEVBQUtFLEdBQWNuZSxFQUFRM0csR0FBSytRLEVBQU0vUSxLQUFPRSxFQUN0RGlHLEVBQUlRLEVBQVEzRyxHQUFLK2tCLEVBQ2pCcFksRUFBSW9FLEVBQU0vUSxHQUFLK2tCLEVBQ3JCcGUsRUFBUTNHLEdBQUttRyxFQUNiNEssRUFBTS9RLEdBQUsyTSxFQUNYc1gsRUFBZXhyQixVQUFVTixFQUFHNkgsRUFBR21HLEdBQy9CK2QsRUFBZXpyQixVQUFVMnJCLEVBQUs5c0IsR0FBSTBJLEVBQUcyTSxJQUc3QytYLEVBQThCOXRCLElBQU1vdUIsRUFBZ0JQLEVBQTJCN3RCLEdBR3ZGLE9BQU9xdEIsRUFPWGhNLE9BQ0ksSUFBSUMsSUFBU2pkLEtBQUsyYixNQUNkak8sRUFBSTFOLEtBQUswTixFQUtiLE9BSEExTixLQUFLcXBCLE9BQVNycEIsS0FBS2lOLFVBQVUsbUJBQXFCLEVBQUlnUSxFQUFPamQsS0FBS2lOLFVBQVUsY0FDNUVqTixLQUFLME4sRUFBSTFOLEtBQUsrb0IsaUJBQWlCcmIsRUFBR0EsRUFBRzFOLEtBQUt3b0IsTUFBT3hvQixLQUFLeW9CLE9BRS9Dem9CLEtBQUswTixlQ25ZTCxTQUFTelMsRUFBR0MsR0FDdkIsR0FBSUQsRUFBRU8sU0FBV04sRUFBRU0sT0FBUSxPQUMzQixJQUFJRCxFQUFJTixFQUFFTyxPQUNOQyxFQUFNLEVBQ1YsSUFBSyxJQUFJRSxFQUFJLEVBQUdBLEVBQUlKLElBQUtJLEVBQ3JCRixHQUFRTixLQUFLVyxJQUFJYixFQUFFVSxHQUFLVCxFQUFFUyxLQUFPUixLQUFLVyxJQUFJYixFQUFFVSxJQUFNUixLQUFLVyxJQUFJWixFQUFFUyxLQUVqRSxPQUFPRixlQ1JJLFNBQVVSLEVBQUdDLEdBQ3hCLEdBQUlELEVBQUVPLFFBQVVOLEVBQUVNLE9BQVEsT0FDMUIsSUFBSUQsRUFBSU4sRUFBRU8sT0FDTjhRLEVBQU0sR0FDVixJQUFLLElBQUkzUSxFQUFJLEVBQUdBLEVBQUlKLElBQUtJLEVBQ3JCMlEsRUFBSWhJLEtBQUtuSixLQUFLVyxJQUFJYixFQUFFVSxHQUFLVCxFQUFFUyxLQUUvQixPQUFPUixLQUFLeUMsT0FBTzBPLGFDTFIsU0FBVXJSLEVBQUdDLEdBQ3hCLEdBQUlELEVBQUVPLFNBQVdOLEVBQUVNLE9BQVEsT0FDM0IsSUFBSUQsRUFBSU4sRUFBRU8sT0FDTkMsRUFBTSxFQUNOdXVCLEVBQVEsRUFDUkMsRUFBUSxFQUNaLElBQUssSUFBSXR1QixFQUFJLEVBQUdBLEVBQUlKLElBQUtJLEVBQ3JCRixHQUFPUixFQUFFVSxHQUFLVCxFQUFFUyxHQUNoQnF1QixHQUFTL3VCLEVBQUVVLEdBQUtWLEVBQUVVLEdBQ2xCc3VCLEdBQVMvdUIsRUFBRVMsR0FBS1QsRUFBRVMsR0FFdEIsT0FBT1IsS0FBSyt1QixLQUFLenVCLEdBQU9OLEtBQUtDLEtBQUs0dUIsR0FBUzd1QixLQUFLQyxLQUFLNnVCLHdFQ2IxQyxTQUFVaHZCLEVBQUdDLEdBQ3hCLEdBQUlELEVBQUVPLFFBQVVOLEVBQUVNLE9BQVEsT0FDMUIsTUFBTUQsRUFBSU4sRUFBRU8sT0FDWixJQUFJMnVCLEVBQVcsRUFDZixJQUFLLElBQUl4dUIsRUFBSSxFQUFHQSxFQUFJSixJQUFLSSxFQUFHLENBR3hCd3VCLEdBRlVsdkIsRUFBRVUsSUFDRlQsRUFBRVMsR0FHaEIsT0FBT3d1QixFQUFXNXVCLG1CQ1BQLFNBQVVOLEVBQUdDLEdBQ3hCLE1BQU11SSxFQUFJeEksRUFBRU8sT0FDWixHQUFJaUksR0FBS3ZJLEVBQUVNLE9BQ1AsTUFBTSxJQUFJMEMsTUFBTSw0Q0FFcEIsSUFBSXpDLEVBQU0sRUFDVixJQUFLLElBQUlFLEVBQUksRUFBR0EsRUFBSThILElBQUs5SCxFQUNyQkYsR0FBT1IsRUFBSUMsRUFFZixPQUFPTyxhQ1hJLFNBQVVSLEVBQUdDLEdBQ3hCLEdBQUlELEVBQUVPLFFBQVVOLEVBQUVNLE9BQVEsT0FDMUIsTUFBTUQsRUFBSU4sRUFBRU8sT0FDWixJQUFJNHVCLEVBQWUsRUFDZkMsRUFBWSxFQUNoQixJQUFLLElBQUkxdUIsRUFBSSxFQUFHQSxFQUFJSixJQUFLSSxFQUFHLENBQ3hCLE1BQU1NLEVBQVksR0FBUmhCLEVBQUVVLEdBQ05PLEVBQVksR0FBUmhCLEVBQUVTLEdBQ1p5dUIsR0FBZ0JudUIsR0FBS0MsRUFDckJtdUIsR0FBYXB1QixHQUFLQyxFQUV0QixPQUFRa3VCLEVBQWVDLEdBQWFELHVDQ1h6QixTQUFVOXVCLEdBQ3JCLElBR0lZLEVBQUdMLEVBSEhOLEVBQUlELEVBQVNFLE9BQ2JDLEVBQU0sRUFDTkMsRUFBZSxFQUduQixJQUFLLElBQUlDLEVBQUksRUFBR0EsRUFBSUosSUFBS0ksRUFDckJPLEVBQUlaLEVBQVNLLEdBQUtELEVBQ2xCRyxFQUFJSixFQUFNUyxFQUNWUixFQUFlRyxFQUFJSixFQUFNUyxFQUN6QlQsRUFBTUksRUFFVixPQUFPSiw0QkNaSSxTQUFVUixFQUFHQyxHQUN4QixHQUFJRCxFQUFFTyxRQUFVTixFQUFFTSxPQUFRLE9BQzFCLElBQUlELEVBQUlOLEVBQUVPLE9BQ05DLEVBQU0sRUFDVixJQUFLLElBQUlFLEVBQUksRUFBR0EsRUFBSUosSUFBS0ksRUFDckJGLEdBQU9OLEtBQUtXLElBQUliLEVBQUVVLEdBQUtULEVBQUVTLElBRTdCLE9BQU9GLHdEQ0pJLFNBQVNzQyxFQUFHekIsRUFBU0MsR0FDaEMsTUFBTW1DLEVBQVNDLEVBQUtaLEVBQUd6QixHQUN2QixPQUFPeUIsRUFBRWhCLEtBQUlnRCxHQUFTQSxFQUFRckIsd0NDRm5CLFNBQVV0QyxHQUNyQixNQUFPSSxFQUFNeUIsR0FBUTdCLEVBQUVLLE1BQ2pCMkIsRUFBSSxJQUFJZixFQUFPYixFQUFNQSxFQUFNLEtBQzNCNkIsRUFBSWpDLEVBQUVpRCxRQUVaLElBQUssSUFBSW5DLEVBQUksRUFBR0EsRUFBSWUsSUFBUWYsRUFBRyxDQUMzQixNQUFNakIsRUFBSW9CLEVBQU9QLEtBQUt1QixFQUFFcEIsSUFBSUMsR0FBR0UsTUFBTUYsSUFDL0JvdEIsRUFBUzNyQixFQUFLMUMsR0FDZDZTLEVBQUs3UyxFQUFFZ0YsTUFBTSxFQUFHLEdBQ2hCc3BCLEdBQU9wdkIsS0FBSytpQixLQUFLcFAsR0FDakIwYixFQUFLMWIsRUFBS3liLEVBQU1ELEVBQ2hCNUwsRUFBSXppQixFQUFFa0ksT0FBT3FtQixHQUFJaHRCLFVBQVUsRUFBRyxFQUFHLEdBQ2pDMkgsR0FBU29sQixFQUFNQyxFQUFNRixFQUVyQkcsRUFBWS9MLEVBQUV0YyxNQUFNc2MsR0FDcEJnTSxFQUFVcnNCLEVBQUUwRSxVQUFVN0YsRUFBRyxHQUN6Qnl0QixFQUFRRCxFQUFRcm1CLElBQUlvbUIsRUFBVWxyQixJQUFJbXJCLEdBQVN4bUIsS0FBS2lCLElBQ2hEeWxCLEVBQVV4c0IsRUFBRTJFLFVBQVUsRUFBRzdGLEdBQ3pCMnRCLEVBQVFELEVBQVF2bUIsSUFBSXVtQixFQUFRcnJCLElBQUlrckIsR0FBV3ZtQixLQUFLaUIsSUFDdEQ5RyxFQUFFdUUsVUFBVTFGLEVBQUcsRUFBR3l0QixHQUNsQnZzQixFQUFFd0UsVUFBVSxFQUFHMUYsRUFBRzJ0QixHQUV0QixNQUFPLENBQUV4c0IsRUFBQUEsRUFBR0QsRUFBQUEscURDekJELFNBQVNuRCxFQUFHQyxHQUN2QixHQUFJRCxFQUFFTyxRQUFVTixFQUFFTSxPQUFRLE9BQzFCLE1BQU1ELEVBQUlOLEVBQUVPLE9BQ1osSUFBSXN2QixFQUFnQixFQUNwQixJQUFLLElBQUludkIsRUFBSSxFQUFHQSxFQUFJSixJQUFLSSxFQUFHLENBR3hCbXZCLEdBRmtCLEdBQVI3dkIsRUFBRVUsS0FDTSxHQUFSVCxFQUFFUyxJQUdoQixPQUFRLEVBQUltdkIsR0FBa0J2dkIsRUFBSXV2Qiw2QkNUdkIsU0FBVTd2QixFQUFHQyxHQUN4QixHQUFJRCxFQUFFTyxRQUFVTixFQUFFTSxPQUFRLE9BQzFCLE1BQU1ELEVBQUlOLEVBQUVPLE9BQ1osSUFBSXV2QixFQUFnQixFQUNoQkMsRUFBaUIsRUFDakJDLEVBQWlCLEVBQ3JCLElBQUssSUFBSXR2QixFQUFJLEVBQUdBLEVBQUlKLElBQUtJLEVBQUcsQ0FDeEIsTUFBTU0sRUFBWSxHQUFSaEIsRUFBRVUsR0FDTk8sRUFBWSxHQUFSaEIsRUFBRVMsR0FDWm92QixHQUFpQjl1QixHQUFLQyxFQUN0Qjh1QixHQUFrQi91QixJQUFNQyxFQUN4Qit1QixJQUFtQmh2QixHQUFLQSxFQUc1QixPQUF5QixHQUFsQit1QixHQUF5QyxHQUFsQkMsRUFBc0IsRUFBSyxFQUFJRCxFQUFpQkMsR0FBbUJGLEdBRHpFeHZCLEVBQUl3dkIsRUFBZ0JDLEVBQWlCQyxHQUNzRUQsRUFBaUJDIn0=
