// https://renecutura.eu v0.5.1 Copyright 2022 Rene Cutura
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).druid=t.druid||{})}(this,(function(t){"use strict";function e(t,e){return Math.sqrt(s(t,e))}function r(t){let e=t.length,r=0,s=0;for(let n=0;n<e;++n){let e=t[n],i=r+e;Math.abs(r)>=Math.abs(e)?s+=r-i+e:s+=e-i+r,r=i}return r+s}function s(t,e){if(t.length!=e.length)return;let s=t.length,n=new Array(s);for(let r=0;r<s;++r){let s=t[r],i=e[r];n[r]=(s-i)*(s-i)}return r(n)}function n(t,r,s=e){const n=t.shape[0];let o="precomputed"==s?t:i(t,s),a=new Array(n);for(let t=0;t<n;++t)a[t]=Array.from(o.row(t)).map(((e,r)=>({i:t,j:r,distance:e}))).sort(((t,e)=>t.distance-e.distance)).slice(1,r+1);return a}function i(t,r=e){let s=t.shape[0];const n=new _(s,s);for(let e=0;e<s;++e){const i=t.row(e);for(let o=e+1;o<s;++o){const s=r(i,t.row(o));n.set_entry(e,o,s),n.set_entry(o,e,s)}}return n}function o(t,e,r=null){if(r||(r=Math.max(Math.round(e-t)+1,1)),r<2)return 1===r?[t]:[];let s=new Array(r);for(let n=r-=1;n>=0;--n)s[n]=(n*e+(r-n)*t)/r;return s}function a(t,r=e){let s=null;if(t instanceof _){let[e,r]=t.shape;if(1===e)s=t.row(0);else{if(1!==r)throw new Error("Matrix must be 1d!");s=t.col(0)}}else s=t;const n=s.length;return r(s,Float64Array.from({length:n},(()=>0)))}function h(t){const[s,n]=t.shape,i=new _(s,n,"identity"),o=new _(n,n,0);for(let h=0;h<n;++h){let n=t.col(h);for(let t=0;t<h;++t){const e=i.col(t),s=r(e.map(((t,e)=>t*n[e])));o.set_entry(t,h,s),n=n.map(((t,r)=>t-s*e[r]))}const l=a(n,e);for(let t=0;t<s;++t)i.set_entry(t,h,n[t]/l);o.set_entry(h,h,l)}return{R:o,Q:i}}function l(t,e=2,{seed:r=1212,max_iterations:n=100,qr:i=h,tol:o=1e-8}={}){const a=r instanceof c?r:new c(r);t instanceof _||(t=_.from(t));const l=t.shape[0];let{Q:u,R:f}=i(new _(l,e,(()=>2*(a.random-.5))));for(;n--;){const e=u.clone(),r=i(t.dot(u));u=r.Q,f=r.R;if(s(u.values,e.values)<o)break}return{eigenvalues:f.diag,eigenvectors:u.transpose().to2dArray}}class _{constructor(t=null,e=null,r=null){if(this._rows=t,this._cols=e,this._data=null,t&&e){if(!r)return this._data=new Float64Array(t*e),this;if("function"==typeof r){this._data=new Float64Array(t*e);for(let s=0;s<t;++s)for(let t=0;t<e;++t)this._data[s*e+t]=r(s,t);return this}if("string"==typeof r){if("zeros"===r)return new _(t,e,0);if("identity"===r||"I"===r){this._data=new Float64Array(t*e);for(let r=0;r<t;++r)this._data[r*e+r]=1;return this}if("center"===r&&t==e){this._data=new Float64Array(t*e),r=(e,r)=>(e===r?1:0)-1/t;for(let s=0;s<t;++s)for(let t=0;t<e;++t)this._data[s*e+t]=r(s,t);return this}}if("number"==typeof r){this._data=new Float64Array(t*e);for(let s=0;s<t;++s)for(let t=0;t<e;++t)this._data[s*e+t]=r;return this}}return this}static from(t,e="row"){if(t instanceof _)return t.clone();if(!(Array.isArray(t)||t instanceof Float64Array)){if("number"==typeof t)return new _(1,1,t);throw new Error("error")}{let r=t.length;if(0===r)throw new Error("Array is empty");if(!(Array.isArray(t[0])||t[0]instanceof Float64Array)){if("row"===e)return new _(1,r,((e,r)=>t[r]));if("col"===e)return new _(r,1,(e=>t[e]));if("diag"===e)return new _(r,r,((e,r)=>e==r?t[e]:0));throw new Error("1d array has NaN entries")}if(Array.isArray(t[0])||t[0]instanceof Float64Array){let e=t[0].length;for(let s=0;s<r;++s)if(t[s].length!==e)throw new Error("various array lengths");return new _(r,e,((e,r)=>t[e][r]))}}}row(t){const e=this.values,r=this._cols;return e.subarray(t*r,(t+1)*r)}*iterate_rows(){const t=this._cols,e=this._rows,r=this.values;for(let s=0;s<e;++s)yield r.subarray(s*t,(s+1)*t)}*[Symbol.iterator](){for(const t of this.iterate_rows())yield t}set_row(t,e){let r=this._cols;if(Array.isArray(e)&&e.length===r){let s=t*r;for(let t=0;t<r;++t)this.values[s+t]=e[t]}else if(e instanceof _&&e.shape[1]===r&&1===e.shape[0]){let s=t*r;for(let t=0;t<r;++t)this.values[s+t]=e._data[t]}return this}col(t){let e=new Float64Array(this._rows);for(let r=0;r<this._rows;++r)e[r]=this.values[r*this._cols+t];return e}entry(t,e){return this.values[t*this._cols+e]}set_entry(t,e,r){return this.values[t*this._cols+e]=r,this}transpose(){return new _(this._cols,this._rows,((t,e)=>this.entry(e,t)))}get T(){return this.transpose()}inverse(){const t=this._rows,e=this._cols;let r=new _(t,2*e,((t,r)=>r>=e?t===r-e?1:0:this.entry(t,r))),s=0,n=0;for(;s<t&&n<e;){var i=0;let o=-1/0;for(let e=s;e<t;++e){let t=Math.abs(r.entry(e,n));o<t&&(i=e,o=t)}if(0==r.entry(i,n))n++;else{for(let t=0;t<2*e;++t){let e=r.entry(s,t),n=r.entry(i,t);r.set_entry(s,t,e),r.set_entry(i,t,n)}for(let i=s+1;i<t;++i){let t=r.entry(i,n)/r.entry(s,n);r.set_entry(i,n,0);for(let o=n+1;o<2*e;++o)r.set_entry(i,o,r.entry(i,o)-r.entry(s,o)*t)}s++,n++}}for(let s=0;s<t;++s){let t=r.entry(s,s);for(let n=s;n<2*e;++n)r.set_entry(s,n,r.entry(s,n)/t)}for(let s=t-1;s>=0;--s){let t=r.entry(s,s);for(let n=0;n<s;n++){let i=r.entry(n,s)/t;for(let t=n;t<2*e;++t){let e=r.entry(n,t);e-=r.entry(s,t)*i,r.set_entry(n,t,e)}}}return new _(t,e,((t,s)=>r.entry(t,s+e)))}dot(t){if(t instanceof _){let e=this;if(e.shape[1]!==t.shape[0])throw new Error(`A.dot(B): A is a ${e.shape.join(" тип ")}-Matrix, B is a ${t.shape.join(" тип ")}-Matrix: \n                A has ${e.shape[1]} cols and B ${t.shape[0]} rows. \n                Must be equal!`);let r=e.shape[1];return new _(e.shape[0],t.shape[1],((s,n)=>{const i=e.row(s),o=t.col(n);let a=0;for(let t=0;t<r;++t)a+=i[t]*o[t];return a}))}if(Array.isArray(t)||t instanceof Float64Array){let e=this._rows;if(t.length!==e)throw new Error(`A.dot(B): A has ${e} cols and B has ${t.length} rows. Must be equal!`);let s=new Array(e);for(let n=0;n<e;++n)s[n]=r(this.row(n).map((e=>e*t[n])));return s}throw new Error("B must be Matrix or Array")}outer(t){let e=this,r=e._data.length;if(r!=t._data.length)return;let s=new _;return s.shape=[r,r,(r,n)=>r<=n?e._data[r]*t._data[n]:s.entry(n,r)],s}concat(t,e="horizontal"){const r=this,[s,n]=r.shape,[i,o]=t.shape;if("horizontal"==e){if(s!=i)throw new Error(`A.concat(B, "horizontal"): A and B need same number of rows, A has ${s} rows, B has ${i} rows.`);const e=new _(s,n+o,"zeros");return e.set_block(0,0,r),e.set_block(0,n,t),e}if("vertical"==e){if(n!=o)throw new Error(`A.concat(B, "vertical"): A and B need same number of columns, A has ${n} columns, B has ${o} columns.`);const e=new _(s+i,n,"zeros");return e.set_block(0,0,r),e.set_block(s,0,t),e}if("diag"==e){const e=new _(s+i,n+o,"zeros");return e.set_block(0,0,r),e.set_block(s,n,t),e}throw new Error(`type must be "horizontal" or "vertical", but type is ${e}!`)}set_block(t,e,r){let[s,n]=r.shape;for(let i=0;i<s;++i)if(!(i>this._rows))for(let s=0;s<n;++s)s>this._cols||this.set_entry(i+t,s+e,r.entry(i,s));return this}get_block(t,e,r=null,s=null){const[n,i]=this.shape;if(s=s??i,(r=r??n)<=t||s<=e)throw new Error(`\n                end_row must be greater than start_row, and \n                end_col must be greater than start_col, but\n                end_row = ${r}, start_row = ${t}, end_col = ${s}, and start_col = ${e}!`);const o=new _(r-t,s-e,"zeros");for(let n=t,i=0;n<r;++n,++i)for(let t=e,r=0;t<s;++t,++r)o.set_entry(i,r,this.entry(n,t));return o}gather(t,e){const r=t.length,s=e.length,n=new _(r,s);for(let s=0;s<r;++s){const i=t[s];for(let t=0;t<r;++t){const r=e[t];n.set_entry(s,t,this.entry(i,r))}}return n}_apply_array(t,e){const r=this.values,[s,n]=this.shape;for(let i=0;i<s;++i){const s=i*n;for(let o=0;o<n;++o){const n=s+o;r[n]=t(r[n],e(i,o))}}return this}_apply_rowwise_array(t,e){return this._apply_array(e,((e,r)=>t[r]))}_apply_colwise_array(t,e){const r=this.values,[s,n]=this.shape;for(let i=0;i<s;++i){const s=i*n;for(let o=0;o<n;++o){const n=s+o;r[n]=e(r[n],t[i])}}return this}_apply(t,e){let r=this.values;if(t instanceof _){let[s,n]=t.shape,[i,o]=this.shape;if(1===s){if(o!==n)throw new Error("cols !== value_cols");for(let s=0;s<i;++s)for(let n=0;n<o;++n)r[s*o+n]=e(r[s*o+n],t.entry(0,n))}else if(1===n){if(i!==s)throw new Error("rows !== value_rows");for(let s=0;s<i;++s)for(let n=0;n<o;++n)r[s*o+n]=e(r[s*o+n],t.entry(s,0))}else{if(i!=s||o!=n)throw new Error("error");for(let s=0;s<i;++s)for(let n=0;n<o;++n)r[s*o+n]=e(r[s*o+n],t.entry(s,n))}}else if(Array.isArray(t)){let s=this._rows,n=this._cols;if(t.length===s)for(let i=0;i<s;++i)for(let s=0;s<n;++s)r[i*n+s]=e(r[i*n+s],t[i]);else{if(t.length!==n)throw new Error("error");for(let i=0;i<s;++i)for(let s=0;s<n;++s)r[i*n+s]=e(r[i*n+s],t[s])}}else for(let s=0,n=this._rows*this._cols;s<n;++s)r[s]=e(r[s],t);return this}clone(){let t=new _;return t._rows=this._rows,t._cols=this._cols,t._data=this.values.slice(0),t}mult(t){return this.clone()._apply(t,((t,e)=>t*e))}divide(t){return this.clone()._apply(t,((t,e)=>t/e))}add(t){return this.clone()._apply(t,((t,e)=>t+e))}sub(t){return this.clone()._apply(t,((t,e)=>t-e))}get shape(){return[this._rows,this._cols]}set shape([t,e,r=(()=>0)]){this._rows=t,this._cols=e,this._data=new Float64Array(t*e);for(let s=0;s<t;++s)for(let t=0;t<e;++t)this._data[s*e+t]=r(s,t);return this}get to2dArray(){const t=[];for(const e of this.iterate_rows())t.push(e);return t}get asArray(){const t=[];for(const e of this.iterate_rows())t.push(Array.from(e));return t}get diag(){const t=this._rows,e=this._cols,r=Math.min(t,e);let s=new Float64Array(r);for(let t=0;t<r;++t)s[t]=this.entry(t,t);return s}get mean(){return this.sum/(this._rows*this._cols)}get sum(){return r(this.values)}get values(){return this._data}get meanRows(){const t=this.values,e=this._rows,r=this._cols,s=Float64Array.from({length:e});for(let n=0;n<e;++n){s[n]=0;for(let e=0;e<r;++e)s[n]+=t[n*r+e];s[n]/=r}return s}get meanCols(){const t=this.values,e=this._rows,r=this._cols,s=Float64Array.from({length:r});for(let n=0;n<r;++n){s[n]=0;for(let i=0;i<e;++i)s[n]+=t[i*r+n];s[n]/=e}return s}static solve_CG(t,e,r,s=.001){null===r&&(r=new c);const n=t.shape[0],i=e.shape[1];let o=new _(n,0);for(let a=0;a<i;++a){const i=_.from(e.col(a)).T;let h=new _(n,1,(()=>r.random)),l=i.sub(t.dot(h)),c=l.clone();do{const e=t.dot(c),r=l.T.dot(l).entry(0,0)/c.T.dot(e).entry(0,0);h=h.add(c.mult(r));const s=l.sub(e.mult(r)),n=s.T.dot(s).entry(0,0)/l.T.dot(l).entry(0,0);c=s.add(c.mult(n)),l=s}while(Math.abs(l.mean)>s);o=o.concat(h,"horizontal")}return o}static solve(t,e){let{L:r,U:s}="L"in t&&"U"in t?t:_.LU(t),n=r.shape[0],i=e.clone();for(let t=0;t<n;++t){for(let e=0;e<t-1;++e)i.set_entry(0,t,i.entry(0,t)-r.entry(t,e)*i.entry(1,e));i.set_entry(0,t,i.entry(0,t)/r.entry(t,t))}for(let t=n-1;t>=0;--t){for(let e=n-1;e>t;--e)i.set_entry(0,t,i.entry(0,t)-s.entry(t,e)*i.entry(0,e));i.set_entry(0,t,i.entry(0,t)/s.entry(t,t))}return i}static LU(t){const e=t.shape[0],r=new _(e,e,"zeros"),s=new _(e,e,"identity");for(let n=0;n<e;++n){for(let i=n;i<e;++i){let e=0;for(let t=0;t<n;++t)e+=r.entry(i,t)*s.entry(t,n);r.set_entry(i,n,t.entry(i,n)-e)}for(let i=n;i<e;++i){if(0===r.entry(n,n))return;let e=0;for(let t=0;t<n;++t)e+=r.entry(n,t)*s.entry(t,i);s.set_entry(n,i,(t.entry(n,i)-e)/r.entry(n,n))}}return{L:r,U:s}}static det(t){const e=t.shape[0],{L:r,U:s}=_.LU(t),n=r.diag,i=s.diag;let o=n[0]*i[0];for(let t=1;t<e;++t)o*=n[t]*i[t];return o}static SVD(t,e=2){const r=t.T;let s=r.dot(t),n=t.dot(r),{eigenvectors:i,eigenvalues:o}=l(s,e),{eigenvectors:a}=l(n,e);return{U:a,Sigma:o.map((t=>Math.sqrt(t))),V:i}}}class c{constructor(t){return this._N=624,this._M=397,this._MATRIX_A=2567483615,this._UPPER_MASK=2147483648,this._LOWER_MASK=2147483647,this._mt=new Array(this._N),this._mti=this.N+1,this.seed=t||(new Date).getTime(),this}set seed(t){this._seed=t;let e=this._mt;for(e[0]=t>>>0,this._mti=1;this._mti<this._N;this._mti+=1){let t=this._mti,r=e[t-1]^e[t-1]>>>30;e[t]=(1812433253*((4294901760&r)>>>16)<<16)+1812433253*(65535&r)+t,e[t]>>>=0}}get seed(){return this._seed}get random(){return this.random_int*(1/4294967296)}get random_int(){let t,e=new Array(0,this._MATRIX_A);if(this._mti>=this._N){let r,s=this._N-this._M,n=this._M-this._N;for(r=0;r<s;++r)t=this._mt[r]&this._UPPER_MASK|this._mt[r+1]&this._LOWER_MASK,this._mt[r]=this._mt[r+this._M]^t>>>1^e[1&t];for(;r<this._N-1;++r)t=this._mt[r]&this._UPPER_MASK|this._mt[r+1]&this._LOWER_MASK,this._mt[r]=this._mt[r+n]^t>>>1^e[1&t];t=this._mt[this._N-1]&this._UPPER_MASK|this._mt[0]&this._LOWER_MASK,this._mt[this._N-1]=this._mt[this._M-1]^t>>>1^e[1&t],this._mti=0}return t=this._mt[this._mti+=1],t^=t>>>11,t^=t<<7&2636928640,t^=t<<15&4022730752,t^=t>>>18,t>>>0}choice(t,e){if(t instanceof _){let r=t.shape[0];if(e>r)throw new Error("n bigger than A!");let s=new Array(e),n=o(0,r-1);for(let t=0,r=n.length;t<e;++t,--r){let e=this.random_int%r;s[t]=n.splice(e,1)[0]}return s.map((e=>t.row(e)))}if(Array.isArray(t)||t instanceof Float64Array){let r=t.length;if(e>r)throw new Error("n bigger than A!");let s=new Array(e),n=o(0,r-1);for(let t=0,r=n.length;t<e;++t,--r){let e=this.random_int%r;s[t]=n.splice(e,1)[0]}return s.map((e=>t[e]))}}static choice(t,e,r=1212){return new c(r).choice(t,e)}}function u(t){let e;for(const r of t)null!=r&&(e<r||void 0===e&&r>=r)&&(e=r);return e}function f(t){let e;for(const r of t)null!=r&&(e>r||void 0===e&&r<=r)&&(e=r);return e}class d{constructor(t=null,e=(t=>t),r="min"){return t?d.heapify(t,e,r):(this._accessor=e,this._container=[],this._comparator="min"==r?(t,e)=>t<e:"max"==r?(t,e)=>t>e:r,this)}static heapify(t,e=(t=>t),r="min"){const s=new d(null,e,r),n=s._container;for(const r of t)n.push({element:r,value:e(r)});for(let e=Math.floor(t.length/2-1);e>=0;--e)s._heapify_down(e);return s}_swap(t,e){const r=this._container;[r[e],r[t]]=[r[t],r[e]]}_heapify_up(){const t=this._container;let e=t.length-1;for(;e>0;){let r=Math.floor((e-1)/2);if(!this._comparator(t[e].value,t[r].value))break;this._swap(r,e),e=r}}push(t){const e={element:t,value:this._accessor(t)};return this._container.push(e),this._heapify_up(),this}_heapify_down(t=0){const e=this._container,r=this._comparator,s=e.length;let n=2*t+1,i=2*t+2,o=t;if(o>s)throw"index higher than length";n<s&&r(e[n].value,e[o].value)&&(o=n),i<s&&r(e[i].value,e[o].value)&&(o=i),o!==t&&(this._swap(t,o),this._heapify_down(o))}pop(){const t=this._container;if(0===t.length)return null;if(1===t.length)return t.pop();this._swap(0,t.length-1);const e=t.pop();return this._heapify_down(),e}get first(){return this._container.length>0?this._container[0]:null}*iterate(){for(let t=0,e=this._container.length;t<e;++t)yield this._container[t].element}toArray(){return this.data().sort(((t,e)=>this._comparator(t,e)?-1:0))}data(){return this._container.map((t=>t.element))}raw_data(){return this._container}get length(){return this._container.length}get empty(){return 0===this.length}}class p{constructor(t=null){if(this._list=new Set,t)for(const e of t)this.make_set(e);return this}make_set(t){const e=this._list;return e.has(t)||(e.add(t),t.__disjoint_set={},t.__disjoint_set.parent=t,t.__disjoint_set.children=new Set([t]),t.__disjoint_set.size=1),this}find(t){return this._list.has(t)?t.__disjoint_set.parent!==t?(t.__disjoint_set.children.add(...t),t.__disjoint_set.parent=this.find(t.__disjoint_set.parent),t.__disjoint_set.parent):t:null}union(t,e){let r=this.find(t),s=this.find(e);return r===s||(r.__disjoint_set.size<s.__disjoint_set.size&&([r,s]=[s,r]),s.__disjoint_set.parent=r,s.__disjoint_set.children.forEach(r.__disjoint_set.children.add,r.__disjoint_set.children),r.__disjoint_set.size+=s.__disjoint_set.size),this}}class m{constructor(t=null,r=e){return this._Node=class{constructor(t,e=null,r=null,s=null){this.pivot=t,this.child1=e,this.child2=r,this.radius=s}},this._Leaf=class{constructor(t){this.points=t}},this._metric=r,t&&this.add(t),this}add(t){return t=t.map(((t,e)=>({index:e,element:t}))),this._root=this._construct(t),this}_construct(t){if(1===t.length)return new this._Leaf(t);{let e,r=this._greatest_spread(t),s=t.sort(((t,e)=>t.element[r]-e.element[r])),n=s.length,i=Math.floor(n/2),o=t[i],a=s.slice(0,i),h=s.slice(i,n),l=Math.max(...t.map((t=>this._metric(o.element,t.element))));return e=a.length>0&&h.length>0?new this._Node(o,this._construct(a),this._construct(h),l):new this._Leaf(t),e}}_greatest_spread(t){let e=t[0].element.length,r=new Array(e);for(let t=0;t<e;++t)r[t]=[1/0,-1/0];let s=t.reduce(((t,r)=>{for(let s=0;s<e;++s)t[s][0]=Math.min(t[s][0],r.element[s]),t[s][1]=Math.max(t[s][1],r.element[s]);return t}),r);s=s.map((t=>t[1]-t[0]));let n=0;for(let t=0;t<e;++t)n=s[t]>s[n]?t:n;return n}search(t,e=5){return this._search(t,e,new d(null,(e=>this._metric(e.element,t)),"max"),this._root)}_search(t,e,r,s){if(r.length>=e&&s.pivot&&s.radius&&this._metric(t,s.pivot.element)-s.radius>=r.first.value)return r;if(s.child1&&this._search(t,e,r,s.child1),s.child2&&this._search(t,e,r,s.child2),s.points)for(let t=0,n=s.points.length;t<n;++t){let n=s.points[t];e>r.length?r.push(n):(r.push(n),r.pop())}return r}}class y{constructor(t=null,r=e){this._metric=r,this._elements=t instanceof _?t:_.from(t);const s=this._elements.shape[0];this._D="precomputed"===r?this._elements.clone():i(this._elements,r),this.KNN=[];for(let t=0;t<s;++t){const e=this._D.row(t),r=new d(null,(t=>t.value),"min");for(let t=0;t<s;++t)r.push({value:e[t],index:t});this.KNN.push(r)}}search(t,e=5){const r=this._metric,s=this.KNN;let n;if(Array.isArray(t)){if("precomputed"==this._metric)throw"Search by query element is only possible when not using a precomputed distance matrix!";const e=this._elements,i=s.length;let o=null,a=1/0;for(let s=0;s<i;++s){const n=r(t,e.row(s));n<a&&(o=s,a=n)}n=s[o]}else Number.isInteger(t)&&(n=s[t]);let i=[];for(let t=0;t<e;++t)i.push(n.pop());return i.forEach((t=>n.push(t.element))),i}}class g{constructor(t,e,r){if(this._parameters=Object.assign(Object.seal(e),r),Array.isArray(t))this._type="array",this.X=_.from(t);else{if(!(t instanceof _))throw new Error("No valid type for X!");this._type="matrix",this.X=t}return[this._N,this._D]=this.X.shape,this._randomizer=new c(this._parameters.seed),this._is_initialized=!1,this}parameter(t,e=null){if(!this._parameters.hasOwnProperty(t))throw new Error(`${t} is not a valid parameter!`);return e?(this._parameters[t]=e,this._is_initialized=!1,this):this._parameters[t]}para(t,e=null){return this.parameter(t,e)}p(t,e=null){return this.parameter(t,e)}transform(){return this.check_init(),this.projection}*generator(){return this.transform()}check_init(){return this._is_initialized||"function"!=typeof this.init||(this.init(),this._is_initialized=!0),this}get projection(){if(this.hasOwnProperty("Y"))return this.check_init(),"matrix"===this._type?this.Y:this.Y.to2dArray;throw new Error("The dataset is not transformed yet!")}async transform_async(...t){return this.transform(...t)}static transform(...t){return new this(...t).transform()}static async transform_async(...t){return this.transform(...t)}static*generator(...t){const e=new this(...t).generator();for(const t of e)yield t}}class w extends g{constructor(t,e){return super(t,{d:2,seed:1212,eig_args:{}},e),this._parameters.eig_args.hasOwnProperty("seed")||(this._parameters.eig_args.seed=this._randomizer),this}transform(t=null){const e=this.principal_components();if(null==t){const t=this.X;return this.Y=t.dot(e),this.projection}if(Array.isArray(t))return _.from(t).dot(e).asArray;if(t instanceof _)return t.dot(e);throw new Error("No valid type for A!")}principal_components(){if(this.V)return this.V;const{d:t,eig_args:e}=this._parameters,r=this.X,s=_.from(r.meanCols),n=r.sub(s),i=n.transpose().dot(n),{eigenvectors:o}=l(i,t,e);return this.V=_.from(o).transpose(),this.V}static principal_components(t,e){return new this(t,e).principal_components()}}class A extends g{constructor(t,r){return super(t,{d:2,metric:e,seed:1212,eig_args:{}},r),this._parameters.eig_args.hasOwnProperty("seed")||(this._parameters.eig_args.seed=this._randomizer),this}transform(){const t=this.X,e=t.shape[0],{d:r,metric:s,eig_args:n}=this._parameters,o="precomputed"===s?t:i(t,s),a=o.meanCols,h=o.meanRows,c=o.mean;this._d_X=o;const u=new _(e,e,((t,e)=>o.entry(t,e)-a[t]-h[e]+c)),{eigenvectors:f}=l(u,r,n);return this.Y=_.from(f).transpose(),this.projection}stress(){const t=this.X.shape[0],r=this.Y,s=this._d_X,n=new _;n.shape=[t,t,(t,s)=>t<s?e(r.row(t),r.row(s)):n.entry(s,t)];let i=0,o=0;for(let e=0;e<t;++e)for(let r=e+1;r<t;++r)i+=Math.pow(s.entry(e,r)-n.entry(e,r),2),o+=Math.pow(s.entry(e,r),2);return Math.sqrt(i/o)}}function x(t,e,r=300){const s=e.length;let n=.001,i=1e4,o=e.slice(),a=t(o),h=!1;for(;r-- >=0&&!h;){h=!0;for(let e=0;e<s;++e){o[e]+=1e-6;let r=t(o);o[e]-=1e-6;let s=(r-a)/1e-6;Math.abs(s)>.01&&(h=!1),o[e]-=n*s,a=t(o)}n*=i>=a?1.05:.4,i=a}return o}class b{constructor(t,e,r,s,n,i,o,a){return this.id=t,this.left=e,this.right=r,this.dist=s,this.index=i,this.size=o??e.size+r.size,this.depth=a??1+Math.max(e.depth,r.depth),this.centroid=n??this._calculate_centroid(e,r),this.parent=null,this}_calculate_centroid(t,e){const r=t.size,s=e.size,n=t.centroid,i=e.centroid,o=this.size,a=t.centroid.length,h=new Float64Array(a);for(let t=0;t<a;++t)h[t]=(r*n[t]+s*i[t])/o;return h}get isLeaf(){return 0===this.depth}leaves(){if(this.isLeaf)return[this];const t=this.left,e=this.right;return(t.isLeaf?[t]:t.leaves()).concat(e.isLeaf?[e]:e.leaves())}descendants(){if(this.isLeaf)return[this];const t=this.left.descendants(),e=this.right.descendants();return t.concat(e).concat([this])}}class M{constructor(t,r,s=null,n=e,i=1212){this._metric=n,this._matrix=t,this._A=this._matrix.to2dArray,this._K=r;const[o,a]=t.shape;return this._N=o,this._D=a,this._max_iter=s||10*Math.log10(o),this._distance_matrix=new _(o,o,"zeros"),r>o&&(r=o),this._randomizer=new c(i),this._clusters=new Array(o).fill(void 0),this._cluster_medoids=this._get_random_medoids(r),this._is_initialized=!1,this}get_clusters(){const t=this._K,e=this._A;this._is_initialized||this.init(t,this._cluster_medoids);const r=new Array(t).fill().map((()=>new Array));return e.forEach(((t,e)=>{r[this._nearest_medoid(t,e).index_nearest].push(e)})),r.medoids=this._cluster_medoids,r}async*generator(){const t=this._max_iter;yield this.get_clusters();let e=!1,r=0;do{e=this._iteration(),yield this.get_clusters()}while(!e&&++r<t)}_iteration(){const t=this._A,e=this._K,r=this._cluster_medoids,s=t.map(((t,e)=>this._nearest_medoid(t,e))),n=new Array(e).fill(0),i=new Array(e).fill(null);if(t.forEach(((o,a)=>{if(r.findIndex((t=>t===a))<0){const r=s[a].distance_nearest,h=new Array(e).fill(-r);t.forEach(((t,r)=>{if(a===r)return;const n=this._get_distance(r,a,t,o),{index_nearest:i,distance_nearest:l,distance_second:_}=s[r];if(h[i]+=Math.min(n,_)-l,n<l)for(let t=0;t<e;++t)t!==i&&(h[t]+=n-l)})),h.map(((t,e)=>[t,e])).filter((([t,e])=>t<n[e])).forEach((([t,e])=>{t<n[e]&&(n[e]=t,i[e]=a)}))}})),f(n)>=0)return!0;for(;f(n)<0;){const e=n.map(((t,e)=>[t,e])).sort((([t],[e])=>t-e))[0][1];0==r.filter((t=>t==i[e])).length&&(r[e]=i[e]),n[e]=0,n.map(((t,e)=>[t,e])).filter((([t])=>t<0)).forEach((([i,o])=>{const a=t[o];let h=0;t.forEach(((t,n)=>{r.findIndex((t=>t!=o&&t==n))>=0||e!=o&&(s[n].index_nearest===r[o]?h+=Math.min(this._get_distance(n,o,t,a),s[n].distance_second)-s[n].distance_nearest:h+=Math.min(this._get_distance(n,o,t,a)-s[n].distance_nearest,0))})),n[o]=h}))}return this._cluster_medoids=r,!1}_get_distance(t,e,r=null,s=null){if(t===e)return 0;const n=this._distance_matrix,i=this._A,o=this._metric;let a=n.entry(t,e);return 0===a&&(a=o(r||i[t],s||i[e]),n.set_entry(t,e,a),n.set_entry(e,t,a)),a}_nearest_medoid(t,e){const r=this._cluster_medoids,s=this._A,[n,i]=r.map(((r,n)=>{const i=s[r];return[this._get_distance(e,r,t,i),n]})).sort(((t,e)=>t[0]-e[0]));return{distance_nearest:n[0],index_nearest:n[1],distance_second:i[0],index_second:i[1]}}init(t,e){t||(t=this._K),e||(e=this._get_random_medoids(t));const r=this._max_iter;let s=!1,n=0;do{s=this._iteration()}while(!s&&++n<r);return this}_get_random_medoids(t){const e=this._N,r=this._A,s=o(0,e-1),n=this._randomizer,i=Math.min(e,10+Math.ceil(Math.sqrt(e))),a=new Array(i).fill(1/0),h=[];let l=1/0,_=n.choice(s,i);for(let t=0;t<i;++t){const e=_[t],s=r[e];for(let e=0;e<i;++e){if(e===t)continue;const n=r[_[e]];a[t]+=this._get_distance(t,e,s,n)}a[t]<l&&(l=a[t],h.push(e))}for(let e=1;e<t;++e){let t=1/0;_=n.choice(s.filter((t=>h.findIndex((e=>e===t))<0)),i);for(let e=0;e<i;++e){let s=0;const n=_[e],o=r[n];for(let t=0;t<i;++t){if(t===e)continue;const i=_[t],a=r[i];let l=this._get_distance(n,i,o,a)-f(h.map((t=>this._get_distance(i,t,a))));l<0&&(s+=l)}s<t&&(t=s,h.push(n))}l+=t}return h.slice(0,t)}}t.BallTree=m,t.DisjointSet=p,t.FASTMAP=class extends g{constructor(t,r){return super(t,{d:2,metric:e,seed:1212},r),this}_choose_distant_objects(t){const e=this.X.shape[0];let r=this._randomizer.random_int%e-1,s=null,n=-1/0;for(let i=0;i<e;++i){const e=t(r,i);e>n&&(n=e,s=i)}n=-1/0;for(let i=0;i<e;++i){const e=t(s,i);e>n&&(n=e,r=i)}return[r,s,n]}transform(){const t=this.X,e=t.shape[0],{d:r,metric:s}=this._parameters,n=new _(e,r,0);let i=(e,r)=>s(t.row(e),t.row(r));for(let t=0;t<r;++t){let r=i;const[s,o,a]=this._choose_distant_objects(i);if(0!==a){for(let r=0;r<e;++r){const e=(i(s,r)**2+a**2-i(o,r)**2)/(2*a);n.set_entry(r,t,e)}i=(e,s)=>Math.sqrt(r(e,s)**2-(n.entry(e,t)-n.entry(s,t))**2)}}return this.Y=n,this.projection}},t.Heap=d,t.Hierarchical_Clustering=class{constructor(t,r="complete",s=e){if(this._id=0,this._matrix=t instanceof _?t:_.from(t),this._metric=s,this._linkage=r,"precomputed"===s&&this._matrix.shape[0]!==this._matrix.shape[1])throw new Error("If metric is 'precomputed', then matrix has to be square!");return this.init(),this.root=this.do(),this}get_clusters(t,e="distance"){let r,s=[];switch(e){case"distance":r=t=>t.dist;break;case"depth":r=t=>t.depth;break;default:throw new Error("invalid type")}return this._traverse(this.root,r,t,s),s}_traverse(t,e,r,s){e(t)<=r?s.push(t.leaves()):(this._traverse(t.left,e,r,s),this._traverse(t.right,e,r,s))}init(){const t=this._metric,e=this._matrix,r=this._n=e.shape[0],s=this._d_min=new Float64Array(r);let n;if("precomputed"!==t){n=new _(r,r,0);for(let i=0;i<r;++i){s[i]=0;for(let o=0;o<r;++o)n.set_entry(i,o,i===o?1/0:t(e.row(i),e.row(o))),n.entry(i,s[i])>n.entry(i,o)&&(s[i]=o)}}else{n=this._matrix.clone();for(let t=0;t<r;++t)for(let e=0;e<r;++e)t===e?n.set_entry(t,e,1/0):n.entry(t,s[t])>n.entry(t,e)&&(s[t]=e)}this._distance_matrix=n;const i=this._clusters=new Array(r),o=this._c_size=new Uint16Array(r);for(let t=0;t<r;++t)i[t]=[],i[t][0]=new b(this._id++,null,null,0,e.row(t),t,1,0),o[t]=1;return this}do(){const t=this._n,e=this._d_min,r=this._distance_matrix,s=this._clusters,n=this._c_size,i=this._linkage;let o=null;for(let a=0,h=t-1;a<h;++a){let a=0;for(let s=0;s<t;++s){let n=r.entry(s,e[s]);for(let i=s+1;i<t;++i)n>r.entry(s,i)&&(e[s]=i,n=r.entry(s,e[s]))}for(let s=0;s<t;++s)r.entry(s,e[s])<r.entry(a,e[a])&&(a=s);let h=e[a],l=s[a][0],_=s[h][0],c=l.isLeaf?[l.index]:l.index,u=_.isLeaf?[_.index]:_.index,f=c.concat(u),d=new b(this._id++,l,_,r.entry(a,h),null,f);l.parent=d,_.parent=d,s[a].unshift(d),n[a]+=n[h];for(let e=0;e<t;++e){const t=r.entry(a,e),s=r.entry(h,e);let o;switch(i){case"single":o=Math.min(t,s);break;case"complete":o=Math.max(t,s);break;case"average":o=(n[a]*t+n[h]*s)/(n[a]+n[e])}r.set_entry(e,a,o),r.set_entry(a,e,o)}r.set_entry(a,a,1/0);for(let e=0;e<t;++e)r.set_entry(e,h,1/0),r.set_entry(h,e,1/0);o=d}return o}},t.ISOMAP=class extends g{constructor(t,r){return super(t,{neighbors:void 0,d:2,metric:e,seed:1212,eig_args:{}},r),this.parameter("neighbors",Math.min(this._parameters.neighbors??Math.max(Math.floor(this.X.shape[0]/10),2),this._N-1)),this._parameters.eig_args.hasOwnProperty("seed")||(this._parameters.eig_args.seed=this._randomizer),this}transform(){this.check_init();const t=this.X,e=this._N,{d:r,metric:s,eig_args:n,neighbors:i}=this._parameters,o=new _;o.shape=[e,e,(e,r)=>e<=r?s(t.row(e),t.row(r)):o.entry(r,e)];const a=[];for(let t=0;t<e;++t){const r=[];for(let s=0;s<e;++s)r.push({index:s,distance:o.entry(t,s)});const s=new d(r,(t=>t.distance),"min");a.push(s.toArray().slice(1,i+1))}const h=new _(e,e,((t,e)=>{const r=a[t].find((t=>t.index===e));return r?r.distance:1/0}));for(let t=0;t<e;++t)for(let r=0;r<e;++r)for(let s=0;s<e;++s)h.set_entry(t,r,Math.min(h.entry(t,r),h.entry(t,s)+h.entry(s,r)));let c=new Float64Array(e),u=new Float64Array(e),f=0;const p=new _(e,e,((t,e)=>{let r=h.entry(t,e);return r=r===1/0?0:r,c[t]+=r,u[e]+=r,f+=r,r}));c=c.map((t=>t/e)),u=u.map((t=>t/e)),f/=e**2;const m=new _(e,e,((t,e)=>p.entry(t,e)-c[t]-u[e]+f)),{eigenvectors:y}=l(m,r,n);return this.Y=_.from(y).transpose(),this.projection}},t.KMeans=class{constructor(t,r,s=e,n=1987,i=!0){this._metric=s,this._matrix=t,this._K=r;const[o,a]=t.shape;return this._N=o,this._D=a,r>o&&(r=o),this._randomizer=new c(n),this._clusters=new Array(o).fill(void 0),this._cluster_centroids=this._get_random_centroids(r),i&&this.init(r,this._cluster_centroids),this}get_clusters(){const t=this._K,e=this._clusters,r=new Array(t).fill().map((()=>new Array));return e.forEach(((t,e)=>r[t].push(e))),r}_furthest_point(t,e){const r=this._matrix,s=this._metric;let n=t.length;return d.heapify(e,(e=>{const i=r.row(e);let o=0;for(let e=0;e<n;++e)o+=s(i,t[e]);return o}),"max").pop().element}_get_random_centroids(t){const e=this._N,r=this._randomizer,s=this._matrix,n=new Array(t).fill(),i=o(0,e-1),a=r.random_int%(e-1);n[0]=s.row(a);const h=[a],l=Math.floor((e-t)/t);for(let e=1;e<t;++e){const t=r.choice(i.filter((t=>-1==h.indexOf(t))),l),o=this._furthest_point(n.slice(0,e),t);h.push(o),n[e]=s.row(o)}return n}_iteration(t){const e=t.length,r=this._N,s=this._D,n=this._matrix,i=this._metric,o=this._clusters;let a=!1;for(let s=0;s<r;++s){const r=n.row(s);let h=1/0,l=null;for(let s=0;s<e;++s){let e=i(t[s],r);e<h&&(h=e,l=s)}o[s]!==l&&(a=!0),o[s]=l}for(let r=0;r<e;++r){const e=t[r];for(let t=0;t<s;++t)e[t]=0}return this._compute_centroid(t),{clusters_changed:a,cluster_centroids:t}}_compute_centroid(t){const e=t.length,r=this._N,s=this._D,n=this._matrix,i=this._clusters,o=new Array(e).fill(0);for(let e=0;e<r;++e){const r=n.row(e),a=i[e];o[a]++;const h=t[a];for(let t=0;t<s;++t)h[t]+=r[t]}for(let r=0;r<e;++r){const e=o[r];t[r]=t[r].map((t=>t/e))}}init(t,e){t||(t=this._K),e||(e=this._get_random_centroids(t));let r=!1;do{const t=this._iteration(e);e=t.cluster_centroids,r=t.clusters_changed}while(r)}},t.KMedoids=M,t.KNN=y,t.LDA=class extends g{constructor(t,e){return super(t,{labels:null,d:2,seed:1212,eig_args:{}},e),this._parameters.eig_args.hasOwnProperty("seed")||(this._parameters.eig_args.seed=this._randomizer),this}transform(){const t=this.X,[e,r]=t.shape,{d:s,labels:n,eig_args:i}=this._parameters;if(null===n||n.length!=e)throw new Error("LDA needs parameter label to every datapoint to work!");const o={};let a=0;n.forEach(((e,r)=>{e in o?(o[e].count++,o[e].rows.push(t.row(r))):o[e]={id:a++,count:1,rows:[t.row(r)]}}));const h=t.mean,c=new _(a,r);for(const t in o){const e=_.from(o[t].rows).meanCols;for(let s=0;s<r;++s)c.set_entry(o[t].id,s,e[s])}let u=new _(r,r);for(const t in o){const e=c.row(o[t].id),s=new _(r,1,(t=>e[t]-h)),n=o[t].count;u=u.add(s.dot(s.transpose()).mult(n))}let f=new _(r,r);for(const t in o){const e=c.row(o[t].id),s=new _(r,1,(t=>e[t])),n=o[t].rows;for(let e=0,i=o[t].count;e<i;++e){const t=new _(r,1,((t,r)=>n[e][t]-s.entry(t,0)));f=f.add(t.dot(t.transpose()))}}let{eigenvectors:d}=l(f.inverse().dot(u),s,i);return d=_.from(d).transpose(),this.Y=t.dot(d),this.projection}},t.LLE=class extends g{constructor(t,r){return super(t,{neighbors:void 0,d:2,metric:e,seed:1212,eig_args:{}},r),this.parameter("neighbors",Math.min(r.neighbors??Math.max(Math.floor(this._N/10),2),this._N-1)),this._parameters.eig_args.hasOwnProperty("seed")||(this._parameters.eig_args.seed=this._randomizer),this}transform(){const t=this.X,e=this._N,s=this._D,{neighbors:i,d:o,eig_args:a,metric:h}=this._parameters,c=n(t,i,h),u=new _(i,1,1),f=new _(e,e);for(let n=0;n<e;++n){const e=c[n],o=new _(i,s,((r,s)=>t.entry(e[r].j,s)-t.entry(n,s))),a=o.dot(o.T);if(i>s){const t=r(a.diag)/1e3;for(let e=0;e<i;++e)a.set_entry(e,e,a.entry(e,e)+t)}let h=_.solve_CG(a,u,this._randomizer);h=h.divide(h.sum);for(let t=0;t<i;++t)f.set_entry(n,e[t].j,h.entry(t,0))}const d=new _(e,e,"identity").sub(f),p=d.T.dot(d),{eigenvectors:m}=l(p.T.inverse(),o+1,a);return this.Y=_.from(m.slice(1,1+o)).T,this.projection}},t.LSP=class extends g{constructor(t,r){return super(t,{neighbors:void 0,control_points:void 0,d:2,metric:e,seed:1212},r),this.parameter("neighbors",Math.min(r.neighbors??Math.max(Math.floor(this._N/10),2),this._N-1)),this.parameter("control_points",Math.min(r.control_points??Math.ceil(Math.sqrt(this._N)),this._N-1)),this._is_initialized=!1,this}init(t=A,e={},r=m){if(this._is_initialized)return this;const s=this.X,n=this._N,i=this.parameter("neighbors"),o=this.parameter("d"),a=this.parameter("seed"),h=this.parameter("metric");e=Object.assign({d:o,metric:h,seed:a},e);const l=this.parameter("control_points"),c=new M(s,l,null,h).get_clusters().medoids,u=new _(l,n,"zeros");c.forEach(((t,e)=>{u.set_entry(e,t,1)}));const f=new t(_.from(c.map((t=>s.row(t)))),e).transform(),d=s.to2dArray,p=new r(d,h),y=new _(n,n,"I"),g=-1/i;d.forEach(((t,e)=>{for(const{index:r}of p.search(t,i).iterate())e!==r&&y.set_entry(e,r,g)}));const w=y.concat(u,"vertical"),x=new _(n,o,"zeros").concat(f,"vertical");return this._A=w,this._b=x,this._is_initialized=!0,this}transform(){this.check_init();const t=this._A,e=t.T,r=this._b,s=e.dot(t),n=e.dot(r);return this.Y=_.solve_CG(s,n,this._randomizer),this.projection}},t.LTSA=class extends g{constructor(t,r){if(super(t,{neighbors:void 0,d:2,metric:e,seed:1212,eig_args:{}},r),this.parameter("neighbors",Math.min(r.neighbors??Math.max(Math.floor(this._N/10),2),this._N-1)),this._parameters.eig_args.hasOwnProperty("seed")||(this._parameters.eig_args.seed=this._randomizer),this._D<=this.parameter("d"))throw new Error(`Dimensionality of X (D = ${this._D}) must be greater than the required dimensionality of the result (d = ${this.parameter("d")})!`);return this}transform(){const t=this.X,[e,r]=t.shape,{d:s,neighbors:i,metric:o,eig_args:a}=this._parameters,h=n(t,i,o),c=new _(r,r,"center"),u=new _(e,e,0);for(let r=0;r<e;++r){const e=[r,...h[r].map((t=>t.j))];let n=_.from(e.map((e=>t.row(e))));n=n.dot(c);const o=n.dot(n.transpose()),{eigenvectors:f}=l(o,s,a),d=_.from(f),p=d.transpose().dot(d).add(1/Math.sqrt(i+1));for(let t=0;t<i+1;++t)for(let r=0;r<i+1;++r)u.set_entry(e[t],e[r],u.entry(e[t],e[r])-(t===r?1:0)+p.entry(t,r))}const{eigenvectors:f}=l(u,s+1,a);return this.Y=_.from(f.slice(1)).transpose(),this.projection}},t.MDS=A,t.Matrix=_,t.OPTICS=class{constructor(t,r,s,n=e){return this._matrix=t,this._epsilon=r,this._min_points=s,this._metric=n,this._ordered_list=[],this._clusters=[],this._DB=new Array(t.shape[0]).fill(),this.init(),this}init(){const t=this._ordered_list,e=this._matrix,r=e.shape[0],s=this._DB,n=this._clusters;let i=this._cluster_index=0;for(let t=0;t<r;++t)s[t]={element:e.row(t),index:t,reachability_distance:void 0,processed:!1};for(const e of s)if(!e.processed&&(e.neighbors=this._get_neighbors(e),e.processed=!0,n.push([e.index]),i=n.length-1,t.push(e),null!=this._core_distance(e))){const t=new d(null,(t=>t.reachability_distance),"min");this._update(e,t),this._expand_cluster(t,n[i])}return this}_get_neighbors(t){if("neighbors"in t)return t.neighbors;const e=this._DB,r=this._metric,s=this._epsilon,n=[];for(const i of e)i.index!=t.index&&r(t.element,i.element)<s&&n.push(i);return n}_core_distance(t){const e=this._min_points,r=this._metric;if(!(t.neighbors&&t.neighbors.length<=e))return r(t.element,t.neighbors[e].element)}_update(t,e){const r=this._metric,s=this._core_distance(t),n=this._get_neighbors(t);for(const i of n){if(i.processed)continue;const n=Math.max(s,r(t.element,i.element));e.raw_data().findIndex((t=>t.element==i))<0?(i.reachability_distance=n,e.push(i)):n<i.reachability_distance&&(i.reachability_distance=n,e=d.heapify(e.data(),(t=>t.reachability_distance),"min"))}}_expand_cluster(t,e){const r=this._ordered_list;for(;!t.empty;){const s=t.pop().element;s.neighbors=this._get_neighbors(s),s.processed=!0,e.push(s.index),r.push(s),null!=this._core_distance(s)&&(this._update(s,t),this._expand_cluster(t,e))}}get_clusters(){const t=[],e=[],r=this._min_points;for(const s of this._clusters)s.length<r?e.push(...s):t.push(s);return t.push(e),t}get_cluster_affirmation(){const t=this._matrix.shape[0],e=new Array(t).fill(),r=this.get_clusters();for(let t=0,s=r.length;t<s;++t){const n=r[t];for(const r of n)e[r]=t<s-1?t:-1}return e}},t.PCA=w,t.Randomizer=c,t.SAMMON=class extends g{constructor(t,r){return super(t,{magic:.1,d:2,metric:e,seed:1212,init_DR:"random",init_parameters:{}},r),this}init(){const t=this.X.shape[0],{d:e,metric:r,init_DR:s,init_parameters:n}=this._parameters;if("random"===s){const r=this._randomizer;this.Y=new _(t,e,(()=>r.random))}else{if(!["PCA","MDS"].includes(s))throw new Error('init_DR needs to be either "random" or a DR method!');this.Y=_.from("PCA"==s?w.transform(this.X,n):A.transform(this.X,n))}return this.distance_matrix="precomputed"==r?_.from(this.X):i(this.X,r),this}transform(t=200){this._is_initialized||this.init();for(let e=0;e<t;++e)this._step();return this.projection}*generator(t=200){this._is_initialized||this.init();for(let e=0;e<t;++e)this._step(),yield this.projection;return this.projection}_step(){const t=this.parameter("magic"),e=this.distance_matrix,r=this.X.shape[0],{d:s,metric:n}=this._parameters;let i=this.Y,o=new _(r,s,0),a=new Float64Array(s);for(let h=0;h<r;++h){let l=new Float64Array(s),_=new Float64Array(s);const c=i.row(h);for(let t=0;t<r;++t){if(h===t)continue;const r=i.row(t),o=new Float64Array(s);for(let t=0;t<s;++t)o[t]=c[t]-r[t];const a=n(c,r),u=e.entry(h,t),f=u-a,d=Math.max(u*a,.01);for(let t=0;t<s;++t)l[t]+=o[t]*f/d,_[t]+=(f-Math.pow(o[t],2)*(1+f/a)/a)/d}for(let e=0;e<s;++e){const r=i.entry(h,e)+(t*l[e]/Math.abs(_[e])||0);o.set_entry(h,e,r),a[e]+=r}}for(let t=0;t<s;++t)a[t]/=r;for(let t=0;t<r;++t)for(let e=0;e<s;++e)i.set_entry(t,e,o.entry(t,e)-a[e]);return i}},t.TSNE=class extends g{constructor(t,r){return super(t,{perplexity:50,epsilon:10,d:2,metric:e,seed:1212},r),[this._N,this._D]=this.X.shape,this._iter=0,this.Y=new _(this._N,this.parameter("d"),(()=>this._randomizer.random)),this}init(){const t=Math.log(this.parameter("perplexity")),e=this._N,r=this._D,{metric:s}=this._parameters,n=this.X;let i;if("precomputed"==s)i=druid.Matrix.from(n);else{i=new _(e,e);for(let t=0;t<e;++t){const r=n.row(t);for(let o=t+1;o<e;++o){const e=s(r,n.row(o));i.set_entry(t,o,e),i.set_entry(o,t,e)}}}const o=new _(e,e,"zeros");this._ystep=new _(e,r,"zeros"),this._gains=new _(e,r,1);let a=new Float64Array(e);for(let r=0;r<e;++r){let s=-1/0,n=1/0,h=1,l=!1,_=0;for(;!l;){let o=0;for(let t=0;t<e;++t){let e=Math.exp(-i.entry(r,t)*h);r===t&&(e=0),a[t]=e,o+=e}let c=0;for(let t=0;t<e;++t){let e=0===o?0:a[t]/o;a[t]=e,e>1e-7&&(c-=e*Math.log(e))}c>t?(s=h,h=n===1/0?2*h:(h+n)/2):(n=h,h=s===-1/0?h/2:(h+s)/2),++_,Math.abs(c-t)<1e-4&&(l=!0),_>=50&&(l=!0)}for(let t=0;t<e;++t)o.set_entry(r,t,a[t])}const h=new _(e,e,"zeros"),l=2*e;for(let t=0;t<e;++t)for(let r=t;r<e;++r){const e=Math.max((o.entry(t,r)+o.entry(r,t))/l,1e-100);h.set_entry(t,r,e),h.set_entry(r,t,e)}return this._P=h,this}transform(t=500){this.check_init();for(let e=0;e<t;++e)this.next();return this.projection}*generator(t=500){this.check_init();for(let e=0;e<t;++e)this.next(),yield this.projection;return this.projection}next(){const t=++this._iter,e=this._P,r=this._ystep,s=this._gains,n=this._N,{d:i,epsilon:o}=this._parameters;let a=this.Y;const h=t<100?4:1,l=new _(n,n,"zeros");let c=0;for(let t=0;t<n;++t)for(let e=t+1;e<n;++e){let r=0;for(let s=0;s<i;++s){const n=a.entry(t,s)-a.entry(e,s);r+=n*n}const s=1/(1+r);l.set_entry(t,e,s),l.set_entry(e,t,s),c+=2*s}const u=new _(n,n,0);for(let t=0;t<n;++t)for(let e=t+1;e<n;++e){const r=Math.max(l.entry(t,e)/c,1e-100);u.set_entry(t,e,r),u.set_entry(e,t,r)}const f=new _(n,i,"zeros");for(let t=0;t<n;++t)for(let r=0;r<n;++r){const s=4*(h*e.entry(t,r)-u.entry(t,r))*l.entry(t,r);for(let e=0;e<i;++e)f.set_entry(t,e,f.entry(t,e)+s*(a.entry(t,e)-a.entry(r,e)))}let d=new Float64Array(i);for(let e=0;e<n;++e)for(let n=0;n<i;++n){const i=f.entry(e,n),h=r.entry(e,n),l=s.entry(e,n);let _=Math.sign(i)===Math.sign(h)?.8*l:l+.2;_<.01&&(_=.01),s.set_entry(e,n,_);const c=(t<250?.5:.8)*h-o*_*i;r.set_entry(e,n,c),a.set_entry(e,n,a.entry(e,n)+c),d[n]+=a.entry(e,n)}for(let t=0;t<n;++t)for(let e=0;e<2;++e)a.set_entry(t,e,a.entry(t,e)-d[e]/n);return this.Y}},t.TopoMap=class extends g{constructor(t,r){return super(t,{metric:e,seed:1212},r),[this._N,this._D]=this.X.shape,this._distance_matrix=new _(this._N,this._N,0),this}__lazy_distance_matrix(t,e,r){const s=this._distance_matrix,n=this.X,i=s.entry(t,e);if(0===i){let i=r(n.row(t),n.row(e));return s.set_entry(t,e,i),s.set_entry(e,t,i),i}return i}_make_minimum_spanning_tree(t=e){const r=this._N,s=[...this.X];let n=new p(s);const i=[];let o=[];for(let e=0;e<r;++e)for(let s=e+1;s<r;++s)o.push([e,s,this.__lazy_distance_matrix(e,s,t)]);o=o.sort(((t,e)=>t[2]-e[2]));for(const[t,e,r]of o){const o=n.find(s[t]),a=n.find(s[e]);o!==a&&(i.push([t,e,r]),n.union(o,a))}return i.sort(((t,e)=>t[2]-e[2]))}init(){const{metric:t}=this._parameters;return this.Y=new _(this._N,2,0),this._Emst=this._make_minimum_spanning_tree(t),this._is_initialized=!0,this}__hull_cross([t,e],[r,s],[n,i]){return(r-t)*(i-e)-(s-e)*(n-t)<=0}__hull(t){const e=t.sort((([t,e],[r,s])=>e-s||t-r)),r=e.length;if(r<=2)return e;const s=[];for(let t=0;t<r;++t){for(;s.length>=2&&this.__hull_cross(s[s.length-2],s[s.length-1],e[t]);)s.pop();s.push(e[t])}const n=[];for(let t=r-1;t>=0;--t){for(;n.length>=2&&this.__hull_cross(n[n.length-2],n[n.length-1],e[t]);)n.pop();n.push(e[t])}return n.pop(),s.pop(),s.concat(n)}__findAngle([t,r],[s,n]){const i=e([t,r],[s,n]);if(0===i)return{sin:0,cos:1};const o=[(s-t)/i,(n-r)/i],a=o[0];let h=Math.sqrt(1-a*a);return h=o[1]>=0?-h:h,{sin:h,cos:a}}__align_hull(t,r,s){let n,i,o,a=-1;for(let s=0;s<t.length;++s){const i=e(t[s],r);(-1===a||n>i)&&(n=i,a=s)}s?(i=t[a],o=t[(a+1)%t.length]):(0==a&&(a=t.length-1),i=t[a],o=t[(a-1)%t.length]);const h={tx:-t[a][0],ty:-t[a][1]};if(t.length>=2){const{sin:t,cos:e}=this.__findAngle(i,o);h.sin=t,h.cos=e}else h.sin=0,h.cos=1;return h}__transform([t,e],{tx:r,ty:s,sin:n,cos:i}){let o=t+r,a=e+s;return[o*i-a*n,o*n+a*i]}__transform_component(t,e,r){const s=t.length;for(let n=0;n<s;++n){const s=t[n],[i,o]=this.__transform(s,e);s[0]=i,s[1]=o+r}}__align_components(t,e,r){const s=[...t.__disjoint_set.children],n=[...e.__disjoint_set.children],i=this.__hull(s),o=this.__hull(n),a=this.__align_hull(i,t,!1),h=this.__align_hull(o,e,!0);this.__transform_component(s,a,0),this.__transform_component(n,h,r)}transform(){this._is_initialized||this.init();const t=this._Emst,e=this.Y.to2dArray,r=new p(e.map(((t,e)=>(t.i=e,t))));for(const[s,n,i]of t){const t=r.find(e[s]),o=r.find(e[n]);t!==o&&(this.__align_components(t,o,i),r.union(t,o))}return this.projection}*generator(){this._is_initialized||this.init();const t=this._Emst,e=this.Y.to2dArray,r=new p(e.map(((t,e)=>(t.i=e,t))));for(const[s,n,i]of t){const t=r.find(e[s]),o=r.find(e[n]);t!==o&&(this.__align_components(t,o,i),r.union(t,o),yield this.projection)}return this.projection}},t.TriMap=class extends g{constructor(t,r){return super(t,{weight_adj:500,c:5,d:2,metric:e,tol:1e-8,seed:1212},r),this}init(t=null,e=null){const r=this.X,s=r.shape[0],{d:n,metric:i,c:o}=this._parameters;this.n_inliers=2*o,this.n_outliers=1*o,this.n_random=1*o,this.Y=t||new w(r,n).transform(),this.knn=e||new m(r.to2dArray,i);const{triplets:a,weights:h}=this._generate_triplets(this.n_inliers,this.n_outliers,this.n_random);return this.triplets=a,this.weights=h,this.lr=1e3*s/a.shape[0],this.C=1/0,this.vel=new _(s,n,0),this.gain=new _(s,n,1),this}_generate_triplets(t,e,r){const{metric:s,weight_adj:n}=this._parameters,i=this.X,o=i.shape[0],a=this.knn,h=Math.min(t+20,o),l=new _(o,h),c=new _(o,h);for(let t=0;t<o;++t)a.search(i.row(t),h+1).raw_data().filter((t=>0!=t.value)).sort(((t,e)=>t.value-e.value)).forEach(((e,r)=>{l.set_entry(t,r,e.element.index),c.set_entry(t,r,e.value)}));const u=new Float64Array(o);for(let t=0;t<o;++t)u[t]=Math.max((c.entry(t,3)+c.entry(t,4)+c.entry(t,5)+c.entry(t,6))/4,1e-10);const f=this._find_p(c,u,l);let d=this._sample_knn_triplets(f,l,t,e),p=d.shape[0];const m=new Float64Array(p);for(let t=0;t<p;++t){const e=d.entry(t,0),r=d.entry(t,2);m[t]=s(i.row(e),i.row(r))}let y=this._find_weights(d,f,l,m,u);if(r>0){const{random_triplets:t,random_weights:e}=this._sample_random_triplets(i,r,u);d=d.concat(t,"vertical"),y=Float64Array.from([...y,...e])}p=d.shape[0];let g=-1/0;for(let t=0;t<p;++t)isNaN(y[t])&&(y[t]=0),g<y[t]&&(g=y[t]);let w=-1/0;for(let t=0;t<p;++t)y[t]/=g,y[t]+=1e-4,y[t]=Math.log(1+n*y[t]),w<y[t]&&(w=y[t]);for(let t=0;t<p;++t)y[t]/=w;return{triplets:d,weights:y}}_find_p(t,e,r){const[s,n]=t.shape;return new _(s,n,((s,n)=>Math.exp(-(t.entry(s,n)**2)/e[s]/e[r.entry(s,n)])))}_sample_knn_triplets(t,e,r,s){const n=e.shape[0],i=new _(n*r*s,3);for(let o=0;o<n;++o){let a=o*r*s;const h=this.__argsort(t.row(o).map((t=>-t)));for(let t=0;t<r;++t){let r=t*s;const l=e.entry(o,h[t]),_=this._rejection_sample(s,n,h.slice(0,t+1));for(let t=0;t<s;++t){const e=a+r+t,s=_[t];i.set_entry(e,0,o),i.set_entry(e,1,l),i.set_entry(e,2,s)}}}return i}__argsort(t){return t.map(((t,e)=>({d:t,i:e}))).sort(((t,e)=>t.d-e.d)).map((t=>t.i))}_rejection_sample(t,e,r){const s=this._randomizer,n=o(0,e-1).filter((t=>r.indexOf(t)<0));return s.choice(n,Math.min(t,n.length-2))}_find_weights(t,e,r,s,n){const i=t.shape[0],o=new Float64Array(i);for(let a=0;a<i;++a){const i=t.entry(a,0),h=r.row(i).indexOf(t.entry(a,1)),l=e.entry(i,h);let _=Math.exp(-(s[a]**2)/(n[i]*n[t.entry(a,2)]));_<1e-20&&(_=1e-20),o[a]=l/_}return o}_sample_random_triplets(t,e,r){const s=this.parameter("metric"),n=this._randomizer,i=t.shape[0],a=new _(i*e,3),h=new Float64Array(i*e);for(let l=0;l<i;++l){const _=l*e,c=[...o(0,l-1),...o(l+1,i-1)];for(let i=0;i<e;++i){let[e,o]=n.choice(c,2),u=Math.exp(-(s(t.row(l),t.row(e))**2)/(r[l]*r[e]));u<1e-20&&(u=1e-20);let f=Math.exp(-(s(t.row(l),t.row(o))**2)/(r[l]*r[o]));f<1e-20&&(f=1e-20),u<f&&([e,o]=[o,e],[u,f]=[f,u]);const d=_+i;a.set_entry(d,0,l),a.set_entry(d,1,e),a.set_entry(d,2,o),h[d]=u/f}}return{random_triplets:a,random_weights:h}}_grad(t){const e=this.n_inliers,r=this.n_outliers,s=this.triplets,n=this.weights,[i,o]=t.shape,a=s.shape[0],h=new _(i,o,0);let l=new Float64Array(o),c=new Float64Array(o),u=1,f=1,d=0,p=0;const m=i*e*r;for(let e=0;e<a;++e){const[i,a,_]=s.row(e);if(e%r==0||e>=m){u=1,f=1;for(let e=0;e<o;++e){const r=t.entry(i,e),s=t.entry(a,e),n=t.entry(_,e);l[e]=r-s,c[e]=r-n,u+=l[e]**2,f+=c[e]**2}}else{f=1;for(let e=0;e<o;++e){const r=t.entry(i,e),s=t.entry(_,e);c[e]=r-s,f+=c[e]**2}}u>f&&++d,p+=n[e]/(1+f/u);const y=(n[e]/(u+f))**2;for(let t=0;t<o;++t){const e=l[t]*f*y,r=c[t]*u*y;h.set_entry(i,t,h.entry(i,t)+e-r),h.set_entry(a,t,h.entry(a,t)-e),h.set_entry(_,t,h.entry(_,t)+r)}}return{grad:h,loss:p,n_viol:d}}transform(t=400){this.check_init();for(let e=0;e<t;++e)this._next(e);return this.projection}*generator(t=800){this.check_init();for(let e=0;e<t;++e)this._next(e),yield this.projection;return this.projection}_next(t){const e=t>150?.5:.3,r=this.C,s=this.vel,n=this.Y.add(s.mult(e)),{grad:i,loss:o,n_viol:a}=this._grad(n);return this.C=o,this.Y=this._update_embedding(n,t,i),this.lr*=r>o+this._parameters.tol?1.01:.9,this.Y}_update_embedding(t,e,r){const[s,n]=t.shape,i=e>150?.9:.5,o=this.gain,a=this.vel,h=this.lr;for(let e=0;e<s;++e)for(let s=0;s<n;++s){const n=Math.sign(a.entry(e,s))!=Math.sign(r.entry(e,s))?o.entry(e,s)+.2:Math.max(.8*o.entry(e,s),.01);o.set_entry(e,s,n),a.set_entry(e,s,i*a.entry(e,s)-h*o.entry(e,s)*r.entry(e,s)),t.set_entry(e,s,t.entry(e,s)+a.entry(e,s))}return t}},t.UMAP=class extends g{constructor(t,r){if(super(t,{n_neighbors:15,local_connectivity:1,min_dist:1,d:2,metric:e,seed:1212,_spread:1,_set_op_mix_ratio:1,_repulsion_strength:1,_negative_sample_rate:5,_n_epochs:350,_initial_alpha:1},r),[this._N,this._D]=this.X.shape,this.parameter("n_neighbors")>this._N)throw new Error(`Parameter n_neighbors (=${this.parameter("n_neighbors")}) needs to be smaller than dataset size (N=${this._N})!`);if(this.parameter("local_connectivity")>this.parameter("n_neighbors"))throw new Error(`Parameter local_connectivity (=${this.parameter("local_connectivity")}) needs to be smaller than parameter n_neighbors (=${this.parameter("n_neighbors")})`);this._iter=0;const s=this._randomizer;return this.Y=new _(this._N,this.parameter("d"),(()=>s.random)),this}_find_ab_params(t,e){const s=o(0,3*t,300),n=o(0,3*t,300);for(let r=0,i=s.length;r<i;++r){const i=s[r];n[r]=i<e?1:Math.exp(-(i-e)/t)}return x((t=>{const e=o(1,300).map(((e,r)=>{return n[r]-(i=s[r],o=t[0],a=t[1],1/(1+o*Math.pow(i,2*a)));var i,o,a}));return Math.sqrt(r(e.map((t=>t*t))))}),[1,1])}_compute_membership_strengths(t,e,r){for(let s=0,n=t.length;s<n;++s)for(let n=0,i=t[s].length;n<i;++n){const i=t[s][n].value-r[s];t[s][n].value=i>0?Math.exp(-i/e[s]):1}return t}_smooth_knn_dist(t,e){const r=1e-5,s=.001,{local_connectivity:n,metric:i}=this._parameters,o=Math.log2(e),a=[],h=[],l=this.X,_=l.shape[0],c=[];if("precomputed"===i)for(let r=0;r<_;++r)c.push(t.search(r,e).reverse());else for(const r of l)c.push(t.search(r,e).raw_data().reverse());for(let t=0;t<_;++t){let i=0,l=1/0,_=1;const u=c[t],f=u.filter((t=>t.value>0)),d=f.length;if(d>=n){const e=Math.floor(n),s=n-e;e>0?(a.push(f[e-1]),s>r&&(a[t].value+=s*(f[e].value-f[e-1]))):a[t].value=s*f[0].value}else d>0&&(a[t]=f[d-1].value);for(let s=0;s<64;++s){let s=0;for(let r=0;r<e;++r){const e=u[r].value-a[t];s+=e>0?Math.exp(-e/_):1}if(Math.abs(s-o)<r)break;s>o?[l,_]=[_,(i+l)/2]:[i,_]=l===1/0?[_,2*_]:[_,(i+l)/2]}h[t]=_;const p=u.reduce(((t,e)=>t+e.value),0)/u.length;if(a[t]>0)h[t]<s*p&&(h[t]=s*p);else{const e=c.reduce(((t,e)=>t+e.reduce(((t,e)=>t+e.value),0)/e.length));h[t]>s*e&&(h[t]=s*e)}}return{distances:c,sigmas:h,rhos:a}}_fuzzy_simplicial_set(t,e){const r=t.shape[0],{metric:s,_set_op_mix_ratio:n}=this._parameters,i="precomputed"===s?new y(t,"precomputed"):new m(t.to2dArray,s);let{distances:o,sigmas:a,rhos:h}=this._smooth_knn_dist(i,e);o=this._compute_membership_strengths(o,a,h);const l=new _(r,r,"zeros");for(let t=0;t<r;++t){const e=o[t];for(let r=0;r<e.length;++r)l.set_entry(t,e[r].element.index,e[r].value)}const c=l.T,u=l.mult(c);return l.add(c).sub(u).mult(n).add(u.mult(1-n))}_make_epochs_per_sample(t){const e=this._weights,r=new Float32Array(e.length).fill(-1),s=u(e),n=e.map((e=>t*(e/s)));for(let e=0;e<r.length;++e)n[e]>0&&(r[e]=Math.round(t/n[e]));return r}_tocoo(t){const e=[],r=[],s=[],[n,i]=t.shape;for(let o=0;o<n;++o)for(let n=0;n<i;++n){const i=t.entry(o,n);0!==i&&(e.push(o),r.push(n),s.push(i))}return{rows:e,cols:r,data:s}}init(){const{_spread:t,min_dist:e,n_neighbors:r,_n_epochs:s,_negative_sample_rate:n}=this._parameters,[i,o]=this._find_ab_params(t,e);this._a=i,this._b=o,this._graph=this._fuzzy_simplicial_set(this.X,r);const{rows:a,cols:h,data:l}=this._tocoo(this._graph);return this._head=a,this._tail=h,this._weights=l,this._epochs_per_sample=this._make_epochs_per_sample(s),this._epochs_per_negative_sample=this._epochs_per_sample.map((t=>t*n)),this._epoch_of_next_sample=this._epochs_per_sample.slice(),this._epoch_of_next_negative_sample=this._epochs_per_negative_sample.slice(),this}graph(){return this.check_init(),{cols:this._head,rows:this._tail,weights:this._weights}}transform(t=350){this.parameter("_n_epochs")!=t&&(this.parameter("_n_epochs",t),this.init()),this.check_init();for(let e=0;e<t;++e)this.next();return this.projection}*generator(t=350){this.parameter("_n_epochs")!=t&&(this.parameter("_n_epochs",t),this.init()),this.check_init();for(let e=0;e<t;++e)this.next(),yield this.projection;return this.projection}_clip(t){return t>4?4:t<-4?-4:t}_optimize_layout(t,e,r,n){const i=this._randomizer,{_repulsion_strength:o,d:a}=this._parameters,{_alpha:h,_a:l,_b:_,_epochs_per_sample:c,_epochs_per_negative_sample:u,_epoch_of_next_negative_sample:f,_epoch_of_next_sample:d,_clip:p}=this,m=n.length;for(let y=0,g=c.length;y<g;++y)if(d[y]<=this._iter){const g=r[y],w=n[y],A=t.row(g),x=e.row(w),b=s(A,x);let M=0;b>0&&(M=-2*l*_*Math.pow(b,_-1)/(l*Math.pow(b,_)+1));for(let r=0;r<a;++r){const s=p(M*(A[r]-x[r]))*h,n=A[r]+s,i=x[r]-s;A[r]=n,x[r]=i,t.set_entry(g,r,n),e.set_entry(w,r,i)}d[y]+=c[y];const v=(this._iter-f[y])/u[y];for(let r=0;r<v;++r){const r=i.random_int%m,c=e.row(n[r]),u=s(A,c);let f=0;if(u>0)f=2*o*_/((.01+u)*(l*Math.pow(u,_)+1));else if(g===r)continue;for(let s=0;s<a;++s){const i=p(f*(A[s]-c[s]))*h,o=A[s]+i,a=c[s]-i;A[s]=o,c[s]=a,t.set_entry(g,s,o),e.set_entry(n[r],s,a)}}f[y]+=v*u[y]}return t}next(){const t=++this._iter,e=this.Y,{_initial_alpha:r,_n_epochs:s}=this._parameters;return this._alpha=r*(1-t/s),this.Y=this._optimize_layout(e,e,this._head,this._tail),this.Y}},t.canberra=function(t,e){if(t.length!==e.length)return;let r=t.length,s=0;for(let n=0;n<r;++n)s+=Math.abs(t[n]-e[n])/(Math.abs(t[n])+Math.abs(e[n]));return s},t.chebyshev=function(t,e){if(t.length!=e.length)return;let r=t.length,s=[];for(let n=0;n<r;++n)s.push(Math.abs(t[n]-e[n]));return Math.max(...s)},t.cosine=function(t,e){if(t.length!==e.length)return;let r=t.length,s=0,n=0,i=0;for(let o=0;o<r;++o)s+=t[o]*e[o],n+=t[o]*t[o],i+=e[o]*e[o];return Math.acos(s/(Math.sqrt(n)*Math.sqrt(i)))},t.distance_matrix=i,t.euclidean=e,t.euclidean_squared=s,t.hamming=function(t,e){if(t.length!=e.length)return;const r=t.length;let s=0;for(let n=0;n<r;++n){s+=t[n]!=e[n]}return s/r},t.inner_product=function(t,e){const r=t.length;if(r!=e.length)throw new Error("Array a and b must have the same length!");let s=0;for(let n=0;n<r;++n)s+=t*e;return s},t.jaccard=function(t,e){if(t.length!=e.length)return;const r=t.length;let s=0,n=0;for(let i=0;i<r;++i){const r=0!=t[i],o=0!=e[i];s+=r||o,n+=r&&o}return(s-n)/s},t.k_nearest_neighbors=n,t.kahan_sum=function(t){let e,r,s=t.length,n=0,i=0;for(let o=0;o<s;++o)e=t[o]-i,r=n+e,i=r-n-e,n=r;return n},t.linspace=o,t.manhattan=function(t,e){if(t.length!=e.length)return;let r=t.length,s=0;for(let n=0;n<r;++n)s+=Math.abs(t[n]-e[n]);return s},t.max=u,t.min=f,t.neumair_sum=r,t.norm=a,t.normalize=function(t,r=e){const s=a(t,r);return t.map((t=>t/s))},t.powell=x,t.qr=h,t.qr_householder=function(t){const[e,r]=t.shape,s=new _(e,e,"I"),n=t.clone();for(let t=0;t<r;++t){const e=_.from(n.col(t).slice(t)),r=a(e),i=e.entry(0,0),o=-Math.sign(i),h=i-o*r,l=e.divide(h).set_entry(0,0,1),c=-o*h/r,u=l.outer(l),f=n.get_block(t,0),d=f.sub(u.dot(f).mult(c)),p=s.get_block(0,t),m=p.sub(p.dot(u).mult(c));n.set_block(t,0,d),s.set_block(0,t,m)}return{R:n,Q:s}},t.simultaneous_poweriteration=l,t.sokal_michener=function(t,e){if(t.length!=e.length)return;const r=t.length;let s=0;for(let n=0;n<r;++n){s+=0!=t[n]!=(0!=e[n])}return 2*s/(r+s)},t.version="0.5.1",t.yule=function(t,e){if(t.length!=e.length)return;const r=t.length;let s=0,n=0,i=0;for(let o=0;o<r;++o){const r=0!=t[o],a=0!=e[o];s+=r&&a,n+=r&&!a,i+=!r&&r}return 0==n||0==i?0:2*n*i/(s*(r-s-n-i)+n*i)},Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZHJ1aWQubWluLmpzIiwic291cmNlcyI6WyIuLi9tZXRyaWNzL2V1Y2xpZGVhbi5qcyIsIi4uL251bWVyaWNhbC9uZXVtYWlyX3N1bS5qcyIsIi4uL21ldHJpY3MvZXVjbGlkZWFuX3NxdWFyZWQuanMiLCIuLi9tYXRyaXgva19uZWFyZXN0X25laWdoYm9ycy5qcyIsIi4uL21hdHJpeC9kaXN0YW5jZV9tYXRyaXguanMiLCIuLi9tYXRyaXgvbGluc3BhY2UuanMiLCIuLi9tYXRyaXgvbm9ybS5qcyIsIi4uL2xpbmVhcl9hbGdlYnJhL3FyLmpzIiwiLi4vbGluZWFyX2FsZ2VicmEvc2ltdWx0YW5lb3VzX3Bvd2VyaXRlcmF0aW9uLmpzIiwiLi4vbWF0cml4L01hdHJpeC5qcyIsIi4uL3V0aWwvcmFuZG9taXplci5qcyIsIi4uL3V0aWwvbWF4LmpzIiwiLi4vdXRpbC9taW4uanMiLCIuLi9kYXRhc3RydWN0dXJlL0hlYXAuanMiLCIuLi9kYXRhc3RydWN0dXJlL0Rpc2pvaW50U2V0LmpzIiwiLi4va25uL0JhbGxUcmVlLmpzIiwiLi4va25uL0tOTi5qcyIsIi4uL2RpbXJlZC9EUi5qcyIsIi4uL2RpbXJlZC9QQ0EuanMiLCIuLi9kaW1yZWQvTURTLmpzIiwiLi4vb3B0aW1pemF0aW9uL3Bvd2VsbC5qcyIsIi4uL2NsdXN0ZXJpbmcvSGllcmFyY2hpY2FsX0NsdXN0ZXJpbmcuanMiLCIuLi9jbHVzdGVyaW5nL0tNZWRvaWRzLmpzIiwiLi4vZGltcmVkL0ZBU1RNQVAuanMiLCIuLi9kaW1yZWQvSVNPTUFQLmpzIiwiLi4vY2x1c3RlcmluZy9LTWVhbnMuanMiLCIuLi9kaW1yZWQvTERBLmpzIiwiLi4vZGltcmVkL0xMRS5qcyIsIi4uL2RpbXJlZC9MU1AuanMiLCIuLi9kaW1yZWQvTFRTQS5qcyIsIi4uL2NsdXN0ZXJpbmcvT1BUSUNTLmpzIiwiLi4vZGltcmVkL1NBTU1PTi5qcyIsIi4uL2RpbXJlZC9UU05FLmpzIiwiLi4vZGltcmVkL1RvcG9NYXAuanMiLCIuLi9kaW1yZWQvVHJpTWFwLmpzIiwiLi4vZGltcmVkL1VNQVAuanMiLCIuLi9tZXRyaWNzL2NhbmJlcnJhLmpzIiwiLi4vbWV0cmljcy9jaGVieXNoZXYuanMiLCIuLi9tZXRyaWNzL2Nvc2luZS5qcyIsIi4uL21ldHJpY3MvaGFtbWluZy5qcyIsIi4uL2xpbmVhcl9hbGdlYnJhL2lubmVyX3Byb2R1Y3QuanMiLCIuLi9tZXRyaWNzL2phY2NhcmQuanMiLCIuLi9udW1lcmljYWwva2FoYW5fc3VtLmpzIiwiLi4vbWV0cmljcy9tYW5oYXR0YW4uanMiLCIuLi9tYXRyaXgvbm9ybWFsaXplLmpzIiwiLi4vbGluZWFyX2FsZ2VicmEvcXJfaG91c2Vob2xkZXIuanMiLCIuLi9tZXRyaWNzL3Nva2FsX21pY2hlbmVyLmpzIiwiLi4vbWV0cmljcy95dWxlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGV1Y2xpZGVhbl9zcXVhcmVkIH0gZnJvbSBcIi4uL21ldHJpY3MvaW5kZXguanNcIjtcbi8qKlxuICogQ29tcHV0ZXMgdGhlIGV1Y2xpZGVhbiBkaXN0YW5jZSAobDxzdWI+Mjwvc3ViPikgYmV0d2VlbiB7QGxpbmsgYX0gYW5kIHtAbGluayBifS5cbiAqIEBtZW1iZXJvZiBtb2R1bGU6bWV0cmljc1xuICogQGFsaWFzIGV1Y2xpZGVhblxuICogQHBhcmFtIHtBcnJheTxOdW1iZXI+fSBhXG4gKiBAcGFyYW0ge0FycmF5PE51bWJlcj59IGJcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IHRoZSBldWNsaWRlYW4gZGlzdGFuY2UgYmV0d2VlbiB7QGxpbmsgYX0gYW5kIHtAbGluayBifS5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKGEsIGIpIHtcbiAgICByZXR1cm4gTWF0aC5zcXJ0KGV1Y2xpZGVhbl9zcXVhcmVkKGEsIGIpKTtcbn1cbiIsIi8qKlxuICogTnVtZXJpY2FsIHN0YWJsZSBzdW1tYXRpb24gd2l0aCB0aGUgTmV1bWFpciBzdW1tYXRpb24gYWxnb3JpdGhtLlxuICogQG1lbWJlcm9mIG1vZHVsZTpudW1lcmljYWxcbiAqIEBhbGlhcyBuZXVtYWlyX3N1bVxuICogQHBhcmFtIHtBcnJheX0gc3VtbWFuZHMgLSBBcnJheSBvZiB2YWx1ZXMgdG8gc3VtIHVwLlxuICogQHJldHVybnMge251bWJlcn0gVGhlIHN1bS5cbiAqIEBzZWUge0BsaW5rIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0thaGFuX3N1bW1hdGlvbl9hbGdvcml0aG0jRnVydGhlcl9lbmhhbmNlbWVudHN9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIChzdW1tYW5kcykge1xuICAgIGxldCBuID0gc3VtbWFuZHMubGVuZ3RoO1xuICAgIGxldCBzdW0gPSAwO1xuICAgIGxldCBjb21wZW5zYXRpb24gPSAwO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuOyArK2kpIHtcbiAgICAgICAgbGV0IHN1bW1hbmQgPSBzdW1tYW5kc1tpXTtcbiAgICAgICAgbGV0IHQgPSBzdW0gKyBzdW1tYW5kO1xuICAgICAgICBpZiAoTWF0aC5hYnMoc3VtKSA+PSBNYXRoLmFicyhzdW1tYW5kKSkge1xuICAgICAgICAgICAgY29tcGVuc2F0aW9uICs9IHN1bSAtIHQgKyBzdW1tYW5kO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29tcGVuc2F0aW9uICs9IHN1bW1hbmQgLSB0ICsgc3VtO1xuICAgICAgICB9XG4gICAgICAgIHN1bSA9IHQ7XG4gICAgfVxuICAgIHJldHVybiBzdW0gKyBjb21wZW5zYXRpb247XG59XG4iLCJpbXBvcnQgeyBuZXVtYWlyX3N1bSB9IGZyb20gXCIuLi9udW1lcmljYWwvaW5kZXguanNcIjtcbi8qKlxuICogQ29tcHV0ZXMgdGhlIHNxdWFyZWQgZXVjbGlkZWFuIGRpc3RhbmNlIChsPHN1Yj4yPC9zdWI+PHN1cD4yPC9zdXA+KSBiZXR3ZWVuIHtAbGluayBhfSBhbmQge0BsaW5rIGJ9LlxuICogQG1lbWJlcm9mIG1vZHVsZTptZXRyaWNzXG4gKiBAYWxpYXMgZXVjbGlkZWFuX3NxdWFyZWRcbiAqIEBwYXJhbSB7QXJyYXk8TnVtYmVyPn0gYVxuICogQHBhcmFtIHtBcnJheTxOdW1iZXI+fSBiXG4gKiBAcmV0dXJucyB7TnVtYmVyfSB0aGUgc3F1YXJlZCBldWNsaWRlYW4gZGlzdGFuY2UgYmV0d2VlbiB7QGxpbmsgYX0gYW5kIHtAbGluayBifS5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKGEsIGIpIHtcbiAgICBpZiAoYS5sZW5ndGggIT0gYi5sZW5ndGgpIHJldHVybiB1bmRlZmluZWQ7XG4gICAgbGV0IG4gPSBhLmxlbmd0aDtcbiAgICBsZXQgcyA9IG5ldyBBcnJheShuKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG47ICsraSkge1xuICAgICAgICBsZXQgeCA9IGFbaV07XG4gICAgICAgIGxldCB5ID0gYltpXTtcbiAgICAgICAgc1tpXSA9ICh4IC0geSkgKiAoeCAtIHkpO1xuICAgIH1cbiAgICByZXR1cm4gbmV1bWFpcl9zdW0ocyk7XG59XG4iLCJpbXBvcnQgeyBkaXN0YW5jZV9tYXRyaXggfSBmcm9tIFwiLi4vbWF0cml4L2luZGV4LmpzXCI7XG5pbXBvcnQgeyBldWNsaWRlYW4gfSBmcm9tIFwiLi4vbWV0cmljcy9pbmRleC5qc1wiO1xuXG4vKipcbiAqIENvbXB1dGVzIHRoZSBrLW5lYXJlc3QgbmVpZ2hib3JzIG9mIGVhY2ggcm93IG9mIHtAbGluayBBfS5cbiAqIEBtZW1iZXJvZiBtb2R1bGU6bWF0cml4XG4gKiBAYWxpYXMga19uZWFyZXN0X25laWdiaG9yc1xuICogQHBhcmFtIHtNYXRyaXh9IEEgLSBFaXRoZXIgdGhlIGRhdGEgbWF0cml4LCBvciBhIGRpc3RhbmNlIG1hdHJpeC5cbiAqIEBwYXJhbSB7TnVtYmVyfSBrIC0gVGhlIG51bWJlciBvZiBuZWlnaGJvcnMgdG8gY29tcHV0ZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb258XCJwcmVjb21wdXRlZFwifSBbbWV0cmljPWV1Y2xpZGVhbl1cbiAqIEByZXR1cm5zIHtBcnJheTxPYmplY3Q+fSAtXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIChBLCBrLCBtZXRyaWMgPSBldWNsaWRlYW4pIHtcbiAgICBjb25zdCByb3dzID0gQS5zaGFwZVswXTtcbiAgICBsZXQgRCA9IG1ldHJpYyA9PSBcInByZWNvbXB1dGVkXCIgPyBBIDogZGlzdGFuY2VfbWF0cml4KEEsIG1ldHJpYyk7XG4gICAgbGV0IG5OID0gbmV3IEFycmF5KHJvd3MpO1xuICAgIGZvciAobGV0IHJvdyA9IDA7IHJvdyA8IHJvd3M7ICsrcm93KSB7XG4gICAgICAgIG5OW3Jvd10gPSBBcnJheS5mcm9tKEQucm93KHJvdykpXG4gICAgICAgICAgICAubWFwKChkaXN0YW5jZSwgY29sKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgaTogcm93LFxuICAgICAgICAgICAgICAgICAgICBqOiBjb2wsXG4gICAgICAgICAgICAgICAgICAgIGRpc3RhbmNlOiBkaXN0YW5jZSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5zb3J0KChhLCBiKSA9PiBhLmRpc3RhbmNlIC0gYi5kaXN0YW5jZSlcbiAgICAgICAgICAgIC5zbGljZSgxLCBrICsgMSk7XG4gICAgfVxuICAgIHJldHVybiBuTjtcbn1cbiIsImltcG9ydCB7IGV1Y2xpZGVhbiB9IGZyb20gXCIuLi9tZXRyaWNzL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBNYXRyaXggfSBmcm9tIFwiLi9pbmRleC5qc1wiO1xuXG4vKipcbiAqIENvbXB1dGVzIHRoZSBkaXN0YW5jZSBtYXRyaXggb2YgZGF0YW1hdHJpeCB7QGxpbmsgQX0uXG4gKiBAbWVtYmVyb2YgbW9kdWxlOm1hdHJpeFxuICogQGFsaWFzIGRpc3RhbmNlX21hdHJpeFxuICogQHBhcmFtIHtNYXRyaXh9IEEgLSBNYXRyaXguXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbbWV0cmljPWV1Y2xpZGVhbl0gLSBUaGUgZGlpc3RhbmNlIG1ldHJpYy5cbiAqIEByZXR1cm5zIHtNYXRyaXh9IEQgLSBUaGUgZGlzdGFuY2UgbWF0cml4IG9mIHtAbGluayBBfS5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKEEsIG1ldHJpYyA9IGV1Y2xpZGVhbikge1xuICAgIGxldCBuID0gQS5zaGFwZVswXTtcbiAgICBjb25zdCBEID0gbmV3IE1hdHJpeChuLCBuKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG47ICsraSkge1xuICAgICAgICBjb25zdCBBX2kgPSBBLnJvdyhpKTtcbiAgICAgICAgZm9yIChsZXQgaiA9IGkgKyAxOyBqIDwgbjsgKytqKSB7XG4gICAgICAgICAgICBjb25zdCBkaXN0ID0gbWV0cmljKEFfaSwgQS5yb3coaikpO1xuICAgICAgICAgICAgRC5zZXRfZW50cnkoaSwgaiwgZGlzdCk7XG4gICAgICAgICAgICBELnNldF9lbnRyeShqLCBpLCBkaXN0KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gRDtcbn1cbiIsIi8qKlxuICogQ3JlYXRlcyBhbiBBcnJheSBjb250YWluaW5nIHtAbGluayBudW1iZXJ9IG51bWJlcnMgZnJvbSB7QGxpbmsgc3RhcnR9IHRvIHtAbGluayBlbmR9LlxuICogSWYgPGNvZGU+e0BsaW5rIG51bWJlcn0gPSBudWxsPC9udWxsPi5cbiAqIEBtZW1iZXJvZiBtb2R1bGU6bWF0cml4XG4gKiBAYWxpYXMgbGluc3BhY2VcbiAqIEBwYXJhbSB7TnVtYmVyfSBzdGFydCAtIFN0YXJ0IHZhbHVlLlxuICogQHBhcmFtIHtOdW1iZXJ9IGVuZCAtIEVuZCB2YWx1ZS5cbiAqIEBwYXJhbSB7TnVtYmVyfSBbbnVtYmVyID0gbnVsbF0gLSBOdW1iZXIgb2YgbnVtYmVyIGJldHdlZW4ge0BsaW5rIHN0YXJ0fSBhbmQge0BsaW5rIGVuZH0uXG4gKiBAcmV0dXJucyB7QXJyYXl9IC0gQW4gYXJyYXkgd2l0aCB7QGxpbmsgbnVtYmVyfSBlbnRyaWVzLCBiZWdpbm5pbmcgYXQge0BsaW5rIHN0YXJ0fSBlbmRpbmcgYXQge0BsaW5rIGVuZH0uXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIChzdGFydCwgZW5kLCBudW1iZXIgPSBudWxsKSB7XG4gICAgaWYgKCFudW1iZXIpIHtcbiAgICAgICAgbnVtYmVyID0gTWF0aC5tYXgoTWF0aC5yb3VuZChlbmQgLSBzdGFydCkgKyAxLCAxKTtcbiAgICB9XG4gICAgaWYgKG51bWJlciA8IDIpIHtcbiAgICAgICAgcmV0dXJuIG51bWJlciA9PT0gMSA/IFtzdGFydF0gOiBbXTtcbiAgICB9XG4gICAgbGV0IHJlc3VsdCA9IG5ldyBBcnJheShudW1iZXIpO1xuICAgIG51bWJlciAtPSAxO1xuICAgIGZvciAobGV0IGkgPSBudW1iZXI7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHJlc3VsdFtpXSA9IChpICogZW5kICsgKG51bWJlciAtIGkpICogc3RhcnQpIC8gbnVtYmVyO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuIiwiaW1wb3J0IHsgZXVjbGlkZWFuIH0gZnJvbSBcIi4uL21ldHJpY3MvaW5kZXguanNcIjtcbmltcG9ydCB7IE1hdHJpeCB9IGZyb20gXCIuLi9tYXRyaXgvaW5kZXguanNcIjtcbi8vaW1wb3J0IHsgbmV1bWFpcl9zdW0gfSBmcm9tIFwiLi4vbnVtZXJpY2FsL2luZGV4XCI7XG5cbi8qKlxuICogQ29tcHV0ZXMgdGhlIG5vcm0gb2YgYSB2ZWN0b3IsIGJ5IGNvbXB1dGluZyBpdHMgZGlzdGFuY2UgdG8gKiowKiouXG4gKiBAbWVtYmVyb2YgbW9kdWxlOm1hdHJpeFxuICogQGFsaWFzIG5vcm1cbiAqIEBwYXJhbSB7TWF0cml4fEFycmF5PE51bWJlcj58RmxvYXQ2NEFycmF5fSB2IC0gVmVjdG9yLiBcbiAqIEBwYXJhbSB7RnVuY3Rpb259IFttZXRyaWMgPSBldWNsaWRlYW5dIC0gV2hpY2ggbWV0cmljIHNob3VsZCBiZSB1c2VkIHRvIGNvbXB1dGUgdGhlIG5vcm0uXG4gKiBAcmV0dXJucyB7TnVtYmVyfSAtIFRoZSBub3JtIG9mIHtAbGluayB2fS5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKHYsIG1ldHJpYyA9IGV1Y2xpZGVhbikge1xuICAgIGxldCB2ZWN0b3IgPSBudWxsO1xuICAgIGlmICh2IGluc3RhbmNlb2YgTWF0cml4KSB7XG4gICAgICAgIGxldCBbcm93cywgY29sc10gPSB2LnNoYXBlO1xuICAgICAgICBpZiAocm93cyA9PT0gMSkgdmVjdG9yID0gdi5yb3coMCk7XG4gICAgICAgIGVsc2UgaWYgKGNvbHMgPT09IDEpIHZlY3RvciA9IHYuY29sKDApO1xuICAgICAgICBlbHNlIHRocm93IG5ldyBFcnJvcihcIk1hdHJpeCBtdXN0IGJlIDFkIVwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB2ZWN0b3IgPSB2O1xuICAgIH1cbiAgICBjb25zdCBuID0gdmVjdG9yLmxlbmd0aDtcbiAgICBjb25zdCB6ZXJvcyA9IEZsb2F0NjRBcnJheS5mcm9tKHsgbGVuZ3RoOiBuIH0sICgpID0+IDApO1xuICAgIHJldHVybiBtZXRyaWModmVjdG9yLCB6ZXJvcyk7XG59XG4iLCJpbXBvcnQgeyBNYXRyaXgsIG5vcm0gfSBmcm9tIFwiLi4vbWF0cml4L2luZGV4LmpzXCI7XG5pbXBvcnQgeyBldWNsaWRlYW4gfSBmcm9tIFwiLi4vbWV0cmljcy9pbmRleC5qc1wiO1xuaW1wb3J0IHsgbmV1bWFpcl9zdW0gfSBmcm9tIFwiLi4vbnVtZXJpY2FsL2luZGV4LmpzXCI7XG5cbi8qKlxuICogQ29tcHV0ZXMgdGhlIFFSIERlY29tcG9zaXRpb24gb2YgdGhlIE1hdHJpeCB7QGxpbmsgQX0gdXNpbmcgR3JhbS1TY2htaWR0IHByb2Nlc3MuXG4gKiBAbWVtYmVyb2YgbW9kdWxlOmxpbmVhcl9hbGdlYnJhXG4gKiBAYWxpYXMgcXJcbiAqIEBwYXJhbSB7TWF0cml4fSBBXG4gKiBAcmV0dXJucyB7e1I6IE1hdHJpeCwgUTogTWF0cml4fX1cbiAqIEBzZWUge0BsaW5rIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1FSX2RlY29tcG9zaXRpb24jVXNpbmdfdGhlX0dyYW0lRTIlODAlOTNTY2htaWR0X3Byb2Nlc3N9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIChBKSB7XG4gICAgY29uc3QgW3Jvd3MsIGNvbHNdID0gQS5zaGFwZTtcbiAgICBjb25zdCBRID0gbmV3IE1hdHJpeChyb3dzLCBjb2xzLCBcImlkZW50aXR5XCIpO1xuICAgIGNvbnN0IFIgPSBuZXcgTWF0cml4KGNvbHMsIGNvbHMsIDApO1xuXG4gICAgZm9yIChsZXQgaiA9IDA7IGogPCBjb2xzOyArK2opIHtcbiAgICAgICAgbGV0IHYgPSBBLmNvbChqKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBqOyArK2kpIHtcbiAgICAgICAgICAgIGNvbnN0IHEgPSBRLmNvbChpKTtcbiAgICAgICAgICAgIGNvbnN0IHFfZG90X3YgPSBuZXVtYWlyX3N1bShxLm1hcCgocV8sIGspID0+IHFfICogdltrXSkpO1xuICAgICAgICAgICAgUi5zZXRfZW50cnkoaSwgaiwgcV9kb3Rfdik7XG4gICAgICAgICAgICB2ID0gdi5tYXAoKHZfLCBrKSA9PiB2XyAtIHFfZG90X3YgKiBxW2tdKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB2X25vcm0gPSBub3JtKHYsIGV1Y2xpZGVhbik7XG4gICAgICAgIGZvciAobGV0IGsgPSAwOyBrIDwgcm93czsgKytrKSB7XG4gICAgICAgICAgICBRLnNldF9lbnRyeShrLCBqLCB2W2tdIC8gdl9ub3JtKTtcbiAgICAgICAgfVxuICAgICAgICBSLnNldF9lbnRyeShqLCBqLCB2X25vcm0pO1xuICAgIH1cbiAgICByZXR1cm4geyBSLCBRIH07XG59XG4iLCJpbXBvcnQgeyBxciBhcyBxcl9ncmFtc2NobWlkdCB9IGZyb20gXCIuL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBNYXRyaXggfSBmcm9tIFwiLi4vbWF0cml4L2luZGV4LmpzXCI7XG5pbXBvcnQgeyBSYW5kb21pemVyIH0gZnJvbSBcIi4uL3V0aWwvaW5kZXguanNcIjtcbmltcG9ydCB7IGV1Y2xpZGVhbl9zcXVhcmVkIH0gZnJvbSBcIi4uL21ldHJpY3MvaW5kZXguanNcIjtcblxuLyoqXG4gKiBDb21wdXRlcyB0aGUge0BsaW5rIGt9IGJpZ2dlc3QgRWlnZW52ZWN0b3JzIGFuZCBFaWdlbnZhbHVlcyBmcm9tIE1hdHJpeCB7QGxpbmsgQX0gd2l0aCB0aGUgUVItQWxnb3JpdGhtLlxuICogQG1lbWJlcm9mIG1vZHVsZTpsaW5lYXJfYWxnZWJyYVxuICogQGFsaWFzIHNpbXVsdGFuZW91c19wb3dlcml0ZXJhdGlvblxuICogQHBhcmFtIHtNYXRyaXh9IEEgLSBUaGUgTWF0cml4XG4gKiBAcGFyYW0ge051bWJlcn0gayAtIFRoZSBudW1iZXIgb2YgZWlnZW52ZWN0b3JzIGFuZCBlaWdlbnZhbHVlcyB0byBjb21wdXRlLlxuICogQHBhcmFtIHtPYmplY3R9IHBhcmFtZXRlcnMgLSBPYmplY3QgY29udGFpbmluZyBwYXJhbWV0ZXJpemF0aW9uIG9mIHRoZSBzaW11bHRhbmlvdXMgcG93ZXJpdGVyYXRpb24gbWV0aG9kLlxuICogQHBhcmFtIHtOdW1iZXJ9IFtwYXJhbWV0ZXJzLm1heF9pdGVyYXRpb25zPTEwMF0gLSBUaGUgbnVtYmVyIG9mIG1heGl1bXVtIGl0ZXJhdGlvbnMgdGhlIGFsZ29yaXRobSBzaG91bGQgcnVuLlxuICogQHBhcmFtIHtOdW1iZXJ8UmFuZG9taXplcn0gW3BhcmFtZXRlcnMuc2VlZD0xMjEyXSAtIFRoZSBzZWVkIHZhbHVlIG9yIGEgcmFuZG9taXplciB1c2VkIGluIHRoZSBhbGdvcml0aG0uXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcGFyYW1ldGVycy5xcj1xcl9ncmFtc2NobWlkdF0gLSBUaGUgUVIgdGVjaG5pcXVlIHRvIHVzZS5cbiAqIEBwYXJhbSB7TnVtYmVyfSBbcGFyYW1ldGVycy50b2w9MWUtOF0gLSBBbGxvd2VkIGVycm9yIGZvciBzdG9wcGluZyBjcml0ZXJpYVxuICogQHJldHVybnMge3tlaWdlbnZhbHVlczogQXJyYXksIGVpZ2VudmVjdG9yczogQXJyYXl9fSAtIFRoZSB7QGxpbmsga30gYmlnZ2VzdCBlaWdlbnZlY3RvcnMgYW5kIGVpZ2VudmFsdWVzIG9mIE1hdHJpeCB7QGxpbmsgQX0uXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIChBLCBrID0gMiwge3NlZWQgPSAxMjEyLCBtYXhfaXRlcmF0aW9ucyA9IDEwMCwgcXIgPSBxcl9ncmFtc2NobWlkdCwgdG9sID0gMWUtOH0gPSB7fSkge1xuICAgIGNvbnN0IHJhbmRvbWl6ZXIgPSBzZWVkIGluc3RhbmNlb2YgUmFuZG9taXplciA/IHNlZWQgOiBuZXcgUmFuZG9taXplcihzZWVkKTtcbiAgICBpZiAoIShBIGluc3RhbmNlb2YgTWF0cml4KSkgQSA9IE1hdHJpeC5mcm9tKEEpO1xuICAgIGNvbnN0IG4gPSBBLnNoYXBlWzBdO1xuICAgIGxldCB7IFEsIFIgfSA9IHFyKG5ldyBNYXRyaXgobiwgaywgKCkgPT4gKHJhbmRvbWl6ZXIucmFuZG9tIC0gLjUpICogMikpO1xuICAgIHdoaWxlIChtYXhfaXRlcmF0aW9ucy0tKSB7XG4gICAgICAgIGNvbnN0IG9sZFEgPSBRLmNsb25lKCk7XG4gICAgICAgIGNvbnN0IFogPSBBLmRvdChRKTtcbiAgICAgICAgY29uc3QgUVIgPSBxcihaKTtcbiAgICAgICAgUSA9IFFSLlE7XG4gICAgICAgIFIgPSBRUi5SO1xuICAgICAgICBjb25zdCBlcnJvciA9IGV1Y2xpZGVhbl9zcXVhcmVkKFEudmFsdWVzLCBvbGRRLnZhbHVlcyk7XG4gICAgICAgIGlmIChlcnJvciA8IHRvbCkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBlaWdlbnZhbHVlcyA9IFIuZGlhZztcbiAgICBjb25zdCBlaWdlbnZlY3RvcnMgPSBRLnRyYW5zcG9zZSgpLnRvMmRBcnJheTtcbiAgICByZXR1cm4geyBlaWdlbnZhbHVlcywgZWlnZW52ZWN0b3JzIH07XG59XG4iLCJpbXBvcnQgeyBuZXVtYWlyX3N1bSB9IGZyb20gXCIuLi9udW1lcmljYWwvaW5kZXguanNcIjtcbmltcG9ydCB7IHNpbXVsdGFuZW91c19wb3dlcml0ZXJhdGlvbiB9IGZyb20gXCIuLi9saW5lYXJfYWxnZWJyYS9pbmRleC5qc1wiO1xuaW1wb3J0IHsgUmFuZG9taXplciB9IGZyb20gXCIuLi91dGlsL2luZGV4LmpzXCI7XG4vKipcbiAqIEBjbGFzc1xuICogQGFsaWFzIE1hdHJpeFxuICogQHJlcXVpcmVzIG1vZHVsZTpudW1lcmljYWwvbmV1bWFpcl9zdW1cbiAqL1xuZXhwb3J0IGNsYXNzIE1hdHJpeCB7XG4gICAgLyoqXG4gICAgICogY3JlYXRlcyBhIG5ldyBNYXRyaXguIEVudHJpZXMgYXJlIHN0b3JlZCBpbiBhIEZsb2F0NjRBcnJheS5cbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAbWVtYmVyb2YgbW9kdWxlOm1hdHJpeFxuICAgICAqIEBhbGlhcyBNYXRyaXhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcm93cyAtIFRoZSBhbW91bnQgb2Ygcm93cyBvZiB0aGUgbWF0cml4LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjb2xzIC0gVGhlIGFtb3VudCBvZiBjb2x1bW5zIG9mIHRoZSBtYXRyaXguXG4gICAgICogQHBhcmFtIHsoZnVuY3Rpb258c3RyaW5nfG51bWJlcil9IHZhbHVlPTAgLSBDYW4gYmUgYSBmdW5jdGlvbiB3aXRoIHJvdyBhbmQgY29sIGFzIHBhcmFtZXRlcnMsIGEgbnVtYmVyLCBvciBcInplcm9zXCIsIFwiaWRlbnRpdHlcIiBvciBcIklcIiwgb3IgXCJjZW50ZXJcIi5cbiAgICAgKiAgLSAqKmZ1bmN0aW9uKio6IGZvciBlYWNoIGVudHJ5IHRoZSBmdW5jdGlvbiBnZXRzIGNhbGxlZCB3aXRoIHRoZSBwYXJhbWV0ZXJzIGZvciB0aGUgYWN0dWFsIHJvdyBhbmQgY29sdW1uLlxuICAgICAqICAtICoqc3RyaW5nKio6IGFsbG93ZWQgYXJlXG4gICAgICogICAgICAtIFwiemVyb1wiLCBjcmVhdGVzIGEgemVybyBtYXRyaXguXG4gICAgICogICAgICAtIFwiaWRlbnRpdHlcIiBvciBcIklcIiwgY3JlYXRlcyBhbiBpZGVudGl0eSBtYXRyaXguXG4gICAgICogICAgICAtIFwiY2VudGVyXCIsIGNyZWF0ZXMgYW4gY2VudGVyIG1hdHJpeC5cbiAgICAgKiAgLSAqKm51bWJlcioqOiBjcmVhdGUgYSBtYXRyaXggZmlsbGVkIHdpdGggdGhlIGdpdmVuIHZhbHVlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBsZXQgQSA9IG5ldyBNYXRyaXgoMTAsIDEwLCAoKSA9PiBNYXRoLnJhbmRvbSgpKTsgLy9jcmVhdGVzIGEgMTAgdGltZXMgMTAgcmFuZG9tIG1hdHJpeC5cbiAgICAgKiBsZXQgQiA9IG5ldyBNYXRyaXgoMywgMywgXCJJXCIpOyAvLyBjcmVhdGVzIGEgMyB0aW1lcyAzIGlkZW50aXR5IG1hdHJpeC5cbiAgICAgKiBAcmV0dXJucyB7TWF0cml4fSByZXR1cm5zIGEge0BsaW5rIHJvd3N9IHRpbWVzIHtAbGluayBjb2xzfSBNYXRyaXggZmlsbGVkIHdpdGgge0BsaW5rIHZhbHVlfS5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcihyb3dzID0gbnVsbCwgY29scyA9IG51bGwsIHZhbHVlID0gbnVsbCkge1xuICAgICAgICB0aGlzLl9yb3dzID0gcm93cztcbiAgICAgICAgdGhpcy5fY29scyA9IGNvbHM7XG4gICAgICAgIHRoaXMuX2RhdGEgPSBudWxsO1xuICAgICAgICBpZiAocm93cyAmJiBjb2xzKSB7XG4gICAgICAgICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZGF0YSA9IG5ldyBGbG9hdDY0QXJyYXkocm93cyAqIGNvbHMpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZGF0YSA9IG5ldyBGbG9hdDY0QXJyYXkocm93cyAqIGNvbHMpO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IHJvdyA9IDA7IHJvdyA8IHJvd3M7ICsrcm93KSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGNvbCA9IDA7IGNvbCA8IGNvbHM7ICsrY29sKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9kYXRhW3JvdyAqIGNvbHMgKyBjb2xdID0gdmFsdWUocm93LCBjb2wpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gXCJ6ZXJvc1wiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgTWF0cml4KHJvd3MsIGNvbHMsIDApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IFwiaWRlbnRpdHlcIiB8fCB2YWx1ZSA9PT0gXCJJXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGF0YSA9IG5ldyBGbG9hdDY0QXJyYXkocm93cyAqIGNvbHMpO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCByb3cgPSAwOyByb3cgPCByb3dzOyArK3Jvdykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGF0YVtyb3cgKiBjb2xzICsgcm93XSA9IDE7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gXCJjZW50ZXJcIiAmJiByb3dzID09IGNvbHMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGF0YSA9IG5ldyBGbG9hdDY0QXJyYXkocm93cyAqIGNvbHMpO1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IChpLCBqKSA9PiAoaSA9PT0gaiA/IDEgOiAwKSAtIDEgLyByb3dzO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCByb3cgPSAwOyByb3cgPCByb3dzOyArK3Jvdykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgY29sID0gMDsgY29sIDwgY29sczsgKytjb2wpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9kYXRhW3JvdyAqIGNvbHMgKyBjb2xdID0gdmFsdWUocm93LCBjb2wpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9kYXRhID0gbmV3IEZsb2F0NjRBcnJheShyb3dzICogY29scyk7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgcm93ID0gMDsgcm93IDwgcm93czsgKytyb3cpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgY29sID0gMDsgY29sIDwgY29sczsgKytjb2wpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2RhdGFbcm93ICogY29scyArIGNvbF0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgTWF0cml4IG91dCBvZiB7QGxpbmsgQX0uXG4gICAgICogQHBhcmFtIHsoTWF0cml4fEFycmF5fEZsb2F0NjRBcnJheXxudW1iZXIpfSBBIC0gVGhlIG1hdHJpeCwgYXJyYXksIG9yIG51bWJlciwgd2hpY2ggc2hvdWxkIGNvbnZlcnRlZCB0byBhIE1hdHJpeC5cbiAgICAgKiBAcGFyYW0ge1wicm93XCJ8XCJjb2xcInxcImRpYWdcIn0gW3R5cGUgPSBcInJvd1wiXSAtIElmIHtAbGluayBBfSBpcyBhIEFycmF5IG9yIEZsb2F0NjRBcnJheSwgdGhlbiB0eXBlIGRlZmluZXMgaWYgaXQgaXMgYSByb3ctIG9yIGEgY29sdW1uIHZlY3Rvci5cbiAgICAgKiBAcmV0dXJucyB7TWF0cml4fVxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBsZXQgQSA9IE1hdHJpeC5mcm9tKFtbMSwgMF0sIFswLCAxXV0pOyAvL2NyZWF0ZXMgYSB0d28gYnkgdHdvIGlkZW50aXR5IG1hdHJpeC5cbiAgICAgKiBsZXQgUyA9IE1hdHJpeC5mcm9tKFsxLCAyLCAzXSwgXCJkaWFnXCIpOyAvLyBjcmVhdGVzIGEgMyBieSAzIG1hdHJpeCB3aXRoIDEsIDIsIDMgb24gaXRzIGRpYWdvbmFsLiBbWzEsIDAsIDBdLCBbMCwgMiwgMF0sIFswLCAwLCAzXV1cbiAgICAgKi9cbiAgICBzdGF0aWMgZnJvbShBLCB0eXBlID0gXCJyb3dcIikge1xuICAgICAgICBpZiAoQSBpbnN0YW5jZW9mIE1hdHJpeCkge1xuICAgICAgICAgICAgcmV0dXJuIEEuY2xvbmUoKTtcbiAgICAgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KEEpIHx8IEEgaW5zdGFuY2VvZiBGbG9hdDY0QXJyYXkpIHtcbiAgICAgICAgICAgIGxldCBtID0gQS5sZW5ndGg7XG4gICAgICAgICAgICBpZiAobSA9PT0gMCkgdGhyb3cgbmV3IEVycm9yKFwiQXJyYXkgaXMgZW1wdHlcIik7XG4gICAgICAgICAgICAvLyAxZFxuICAgICAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KEFbMF0pICYmICEoQVswXSBpbnN0YW5jZW9mIEZsb2F0NjRBcnJheSkpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZSA9PT0gXCJyb3dcIikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IE1hdHJpeCgxLCBtLCAoXywgaikgPT4gQVtqXSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSBcImNvbFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgTWF0cml4KG0sIDEsIChpKSA9PiBBW2ldKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09IFwiZGlhZ1wiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgTWF0cml4KG0sIG0sIChpLCBqKSA9PiAoaSA9PSBqID8gQVtpXSA6IDApKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCIxZCBhcnJheSBoYXMgTmFOIGVudHJpZXNcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIDJkXG4gICAgICAgICAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoQVswXSkgfHwgQVswXSBpbnN0YW5jZW9mIEZsb2F0NjRBcnJheSkge1xuICAgICAgICAgICAgICAgIGxldCBuID0gQVswXS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgcm93ID0gMDsgcm93IDwgbTsgKytyb3cpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKEFbcm93XS5sZW5ndGggIT09IG4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcInZhcmlvdXMgYXJyYXkgbGVuZ3Roc1wiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IE1hdHJpeChtLCBuLCAoaSwgaikgPT4gQVtpXVtqXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIEEgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgTWF0cml4KDEsIDEsIEEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiZXJyb3JcIik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSB7QGxpbmsgcm93fTxzdXA+dGg8L3N1cD4gcm93IGZyb20gdGhlIE1hdHJpeC5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gcm93XG4gICAgICogQHJldHVybnMge0Zsb2F0NjRBcnJheX1cbiAgICAgKi9cbiAgICByb3cocm93KSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLnZhbHVlcztcbiAgICAgICAgY29uc3QgY29scyA9IHRoaXMuX2NvbHM7XG4gICAgICAgIHJldHVybiBkYXRhLnN1YmFycmF5KHJvdyAqIGNvbHMsIChyb3cgKyAxKSAqIGNvbHMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYW4gZ2VuZXJhdG9yIHlpZWxkaW5nIGVhY2ggcm93IG9mIHRoZSBNYXRyaXguXG4gICAgICogQHlpZWxkcyB7RmxvYXQ2NEFycmF5fVxuICAgICAqL1xuICAgICppdGVyYXRlX3Jvd3MoKSB7XG4gICAgICAgIGNvbnN0IGNvbHMgPSB0aGlzLl9jb2xzO1xuICAgICAgICBjb25zdCByb3dzID0gdGhpcy5fcm93cztcbiAgICAgICAgY29uc3QgZGF0YSA9IHRoaXMudmFsdWVzO1xuICAgICAgICBmb3IgKGxldCByb3cgPSAwOyByb3cgPCByb3dzOyArK3Jvdykge1xuICAgICAgICAgICAgeWllbGQgZGF0YS5zdWJhcnJheShyb3cgKiBjb2xzLCAocm93ICsgMSkgKiBjb2xzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE1ha2VzIGEge0BsaW5rIE1hdHJpeH0gb2JqZWN0IGFuIGl0ZXJhYmxlIG9iamVjdC5cbiAgICAgKiBAeWllbGRzIHtGbG9hdDY0QXJyYXl9XG4gICAgICovXG4gICAgKltTeW1ib2wuaXRlcmF0b3JdKCkge1xuICAgICAgICBmb3IgKGNvbnN0IHJvdyBvZiB0aGlzLml0ZXJhdGVfcm93cygpKSB7XG4gICAgICAgICAgICB5aWVsZCByb3c7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBlbnRyaWVzIG9mIHtAbGluayByb3d9PHN1cD50aDwvc3VwPiByb3cgZnJvbSB0aGUgTWF0cml4IHRvIHRoZSBlbnRyaWVzIGZyb20ge0BsaW5rIHZhbHVlc30uXG4gICAgICogQHBhcmFtIHtpbnR9IHJvd1xuICAgICAqIEBwYXJhbSB7QXJyYXl9IHZhbHVlc1xuICAgICAqIEByZXR1cm5zIHtNYXRyaXh9XG4gICAgICovXG4gICAgc2V0X3Jvdyhyb3csIHZhbHVlcykge1xuICAgICAgICBsZXQgY29scyA9IHRoaXMuX2NvbHM7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlcykgJiYgdmFsdWVzLmxlbmd0aCA9PT0gY29scykge1xuICAgICAgICAgICAgbGV0IG9mZnNldCA9IHJvdyAqIGNvbHM7XG4gICAgICAgICAgICBmb3IgKGxldCBjb2wgPSAwOyBjb2wgPCBjb2xzOyArK2NvbCkge1xuICAgICAgICAgICAgICAgIHRoaXMudmFsdWVzW29mZnNldCArIGNvbF0gPSB2YWx1ZXNbY29sXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICh2YWx1ZXMgaW5zdGFuY2VvZiBNYXRyaXggJiYgdmFsdWVzLnNoYXBlWzFdID09PSBjb2xzICYmIHZhbHVlcy5zaGFwZVswXSA9PT0gMSkge1xuICAgICAgICAgICAgbGV0IG9mZnNldCA9IHJvdyAqIGNvbHM7XG4gICAgICAgICAgICBmb3IgKGxldCBjb2wgPSAwOyBjb2wgPCBjb2xzOyArK2NvbCkge1xuICAgICAgICAgICAgICAgIHRoaXMudmFsdWVzW29mZnNldCArIGNvbF0gPSB2YWx1ZXMuX2RhdGFbY29sXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSB7QGxpbmsgY29sfTxzdXA+dGg8L3N1cD4gY29sdW1uIGZyb20gdGhlIE1hdHJpeC5cbiAgICAgKiBAcGFyYW0ge2ludH0gY29sXG4gICAgICogQHJldHVybnMge0FycmF5fVxuICAgICAqL1xuICAgIGNvbChjb2wpIHtcbiAgICAgICAgbGV0IHJlc3VsdF9jb2wgPSBuZXcgRmxvYXQ2NEFycmF5KHRoaXMuX3Jvd3MpO1xuICAgICAgICBmb3IgKGxldCByb3cgPSAwOyByb3cgPCB0aGlzLl9yb3dzOyArK3Jvdykge1xuICAgICAgICAgICAgcmVzdWx0X2NvbFtyb3ddID0gdGhpcy52YWx1ZXNbcm93ICogdGhpcy5fY29scyArIGNvbF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdF9jb2w7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUge0BsaW5rIGNvbH08c3VwPnRoPC9zdXA+IGVudHJ5IGZyb20gdGhlIHtAbGluayByb3d9PHN1cD50aDwvc3VwPiByb3cgb2YgdGhlIE1hdHJpeC5cbiAgICAgKiBAcGFyYW0ge2ludH0gcm93XG4gICAgICogQHBhcmFtIHtpbnR9IGNvbFxuICAgICAqIEByZXR1cm5zIHtmbG9hdDY0fVxuICAgICAqL1xuICAgIGVudHJ5KHJvdywgY29sKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZhbHVlc1tyb3cgKiB0aGlzLl9jb2xzICsgY29sXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSB7QGxpbmsgY29sfTxzdXA+dGg8L3N1cD4gZW50cnkgZnJvbSB0aGUge0BsaW5rIHJvd308c3VwPnRoPC9zdXA+IHJvdyBvZiB0aGUgTWF0cml4IHRvIHRoZSBnaXZlbiB7QGxpbmsgdmFsdWV9LlxuICAgICAqIEBwYXJhbSB7aW50fSByb3dcbiAgICAgKiBAcGFyYW0ge2ludH0gY29sXG4gICAgICogQHBhcmFtIHtmbG9hdDY0fSB2YWx1ZVxuICAgICAqIEByZXR1cm5zIHtNYXRyaXh9XG4gICAgICovXG4gICAgc2V0X2VudHJ5KHJvdywgY29sLCB2YWx1ZSkge1xuICAgICAgICB0aGlzLnZhbHVlc1tyb3cgKiB0aGlzLl9jb2xzICsgY29sXSA9IHZhbHVlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbmV3IHRyYW5zcG9zZWQgTWF0cml4LlxuICAgICAqIEByZXR1cm5zIHtNYXRyaXh9XG4gICAgICovXG4gICAgdHJhbnNwb3NlKCkge1xuICAgICAgICBsZXQgQiA9IG5ldyBNYXRyaXgodGhpcy5fY29scywgdGhpcy5fcm93cywgKHJvdywgY29sKSA9PiB0aGlzLmVudHJ5KGNvbCwgcm93KSk7XG4gICAgICAgIHJldHVybiBCO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBuZXcgdHJhbnNwb3NlZCBNYXRyaXguIFNob3J0LWZvcm0gb2Yge0BmdW5jdGlvbiB0cmFuc3Bvc2V9LlxuICAgICAqIEByZXR1cm5zIHtNYXRyaXh9XG4gICAgICovXG4gICAgZ2V0IFQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRyYW5zcG9zZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGludmVyc2Ugb2YgdGhlIE1hdHJpeC5cbiAgICAgKiBAcmV0dXJucyB7TWF0cml4fVxuICAgICAqL1xuICAgIGludmVyc2UoKSB7XG4gICAgICAgIGNvbnN0IHJvd3MgPSB0aGlzLl9yb3dzO1xuICAgICAgICBjb25zdCBjb2xzID0gdGhpcy5fY29scztcbiAgICAgICAgbGV0IEIgPSBuZXcgTWF0cml4KHJvd3MsIDIgKiBjb2xzLCAoaSwgaikgPT4ge1xuICAgICAgICAgICAgaWYgKGogPj0gY29scykge1xuICAgICAgICAgICAgICAgIHJldHVybiBpID09PSBqIC0gY29scyA/IDEgOiAwO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5lbnRyeShpLCBqKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGxldCBoID0gMDtcbiAgICAgICAgbGV0IGsgPSAwO1xuICAgICAgICB3aGlsZSAoaCA8IHJvd3MgJiYgayA8IGNvbHMpIHtcbiAgICAgICAgICAgIHZhciBpX21heCA9IDA7XG4gICAgICAgICAgICBsZXQgbWF4X3ZhbCA9IC1JbmZpbml0eTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSBoOyBpIDwgcm93czsgKytpKSB7XG4gICAgICAgICAgICAgICAgbGV0IHZhbCA9IE1hdGguYWJzKEIuZW50cnkoaSwgaykpO1xuICAgICAgICAgICAgICAgIGlmIChtYXhfdmFsIDwgdmFsKSB7XG4gICAgICAgICAgICAgICAgICAgIGlfbWF4ID0gaTtcbiAgICAgICAgICAgICAgICAgICAgbWF4X3ZhbCA9IHZhbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoQi5lbnRyeShpX21heCwgaykgPT0gMCkge1xuICAgICAgICAgICAgICAgIGsrKztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gc3dhcCByb3dzXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCAyICogY29sczsgKytqKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBoX3ZhbCA9IEIuZW50cnkoaCwgaik7XG4gICAgICAgICAgICAgICAgICAgIGxldCBpX3ZhbCA9IEIuZW50cnkoaV9tYXgsIGopO1xuICAgICAgICAgICAgICAgICAgICBCLnNldF9lbnRyeShoLCBqLCBoX3ZhbCk7XG4gICAgICAgICAgICAgICAgICAgIEIuc2V0X2VudHJ5KGlfbWF4LCBqLCBpX3ZhbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBoICsgMTsgaSA8IHJvd3M7ICsraSkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgZiA9IEIuZW50cnkoaSwgaykgLyBCLmVudHJ5KGgsIGspO1xuICAgICAgICAgICAgICAgICAgICBCLnNldF9lbnRyeShpLCBrLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IGsgKyAxOyBqIDwgMiAqIGNvbHM7ICsraikge1xuICAgICAgICAgICAgICAgICAgICAgICAgQi5zZXRfZW50cnkoaSwgaiwgQi5lbnRyeShpLCBqKSAtIEIuZW50cnkoaCwgaikgKiBmKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBoKys7XG4gICAgICAgICAgICAgICAgaysrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgcm93ID0gMDsgcm93IDwgcm93czsgKytyb3cpIHtcbiAgICAgICAgICAgIGxldCBmID0gQi5lbnRyeShyb3csIHJvdyk7XG4gICAgICAgICAgICBmb3IgKGxldCBjb2wgPSByb3c7IGNvbCA8IDIgKiBjb2xzOyArK2NvbCkge1xuICAgICAgICAgICAgICAgIEIuc2V0X2VudHJ5KHJvdywgY29sLCBCLmVudHJ5KHJvdywgY29sKSAvIGYpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgcm93ID0gcm93cyAtIDE7IHJvdyA+PSAwOyAtLXJvdykge1xuICAgICAgICAgICAgbGV0IEJfcm93X3JvdyA9IEIuZW50cnkocm93LCByb3cpO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByb3c7IGkrKykge1xuICAgICAgICAgICAgICAgIGxldCBCX2lfcm93ID0gQi5lbnRyeShpLCByb3cpO1xuICAgICAgICAgICAgICAgIGxldCBmID0gQl9pX3JvdyAvIEJfcm93X3JvdztcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gaTsgaiA8IDIgKiBjb2xzOyArK2opIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IEJfaV9qID0gQi5lbnRyeShpLCBqKTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IEJfcm93X2ogPSBCLmVudHJ5KHJvdywgaik7XG4gICAgICAgICAgICAgICAgICAgIEJfaV9qID0gQl9pX2ogLSBCX3Jvd19qICogZjtcbiAgICAgICAgICAgICAgICAgICAgQi5zZXRfZW50cnkoaSwgaiwgQl9pX2opO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXcgTWF0cml4KHJvd3MsIGNvbHMsIChpLCBqKSA9PiBCLmVudHJ5KGksIGogKyBjb2xzKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgZG90IHByb2R1Y3QuIElmIHtAbGluayBCfSBpcyBhbiBBcnJheSBvciBGbG9hdDY0QXJyYXkgdGhlbiBhbiBBcnJheSBnZXRzIHJldHVybmVkLiBJZiB7QGxpbmsgQn0gaXMgYSBNYXRyaXggdGhlbiBhIE1hdHJpeCBnZXRzIHJldHVybmVkLlxuICAgICAqIEBwYXJhbSB7KE1hdHJpeHxBcnJheXxGbG9hdDY0QXJyYXkpfSBCIHRoZSByaWdodCBzaWRlXG4gICAgICogQHJldHVybnMgeyhNYXRyaXh8QXJyYXkpfVxuICAgICAqL1xuICAgIGRvdChCKSB7XG4gICAgICAgIGlmIChCIGluc3RhbmNlb2YgTWF0cml4KSB7XG4gICAgICAgICAgICBsZXQgQSA9IHRoaXM7XG4gICAgICAgICAgICBpZiAoQS5zaGFwZVsxXSAhPT0gQi5zaGFwZVswXSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQS5kb3QoQik6IEEgaXMgYSAke0Euc2hhcGUuam9pbihcIiDiqK8gXCIpfS1NYXRyaXgsIEIgaXMgYSAke0Iuc2hhcGUuam9pbihcIiDiqK8gXCIpfS1NYXRyaXg6IFxuICAgICAgICAgICAgICAgIEEgaGFzICR7QS5zaGFwZVsxXX0gY29scyBhbmQgQiAke0Iuc2hhcGVbMF19IHJvd3MuIFxuICAgICAgICAgICAgICAgIE11c3QgYmUgZXF1YWwhYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgSSA9IEEuc2hhcGVbMV07XG4gICAgICAgICAgICBsZXQgQyA9IG5ldyBNYXRyaXgoQS5zaGFwZVswXSwgQi5zaGFwZVsxXSwgKHJvdywgY29sKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgQV9pID0gQS5yb3cocm93KTtcbiAgICAgICAgICAgICAgICBjb25zdCBCX2kgPSBCLmNvbChjb2wpO1xuICAgICAgICAgICAgICAgIGxldCBzdW0gPSAwO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgSTsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1bSArPSBBX2lbaV0gKiBCX2lbaV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBzdW07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBDO1xuICAgICAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoQikgfHwgQiBpbnN0YW5jZW9mIEZsb2F0NjRBcnJheSkge1xuICAgICAgICAgICAgbGV0IHJvd3MgPSB0aGlzLl9yb3dzO1xuICAgICAgICAgICAgaWYgKEIubGVuZ3RoICE9PSByb3dzKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBBLmRvdChCKTogQSBoYXMgJHtyb3dzfSBjb2xzIGFuZCBCIGhhcyAke0IubGVuZ3RofSByb3dzLiBNdXN0IGJlIGVxdWFsIWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IEMgPSBuZXcgQXJyYXkocm93cyk7XG4gICAgICAgICAgICBmb3IgKGxldCByb3cgPSAwOyByb3cgPCByb3dzOyArK3Jvdykge1xuICAgICAgICAgICAgICAgIENbcm93XSA9IG5ldW1haXJfc3VtKHRoaXMucm93KHJvdykubWFwKChlKSA9PiBlICogQltyb3ddKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gQztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQiBtdXN0IGJlIE1hdHJpeCBvciBBcnJheWApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29tcHV0ZXMgdGhlIG91dGVyIHByb2R1Y3QgZnJvbSB7QGxpbmsgdGhpc30gYW5kIHtAbGluayBCfS5cbiAgICAgKiBAcGFyYW0ge01hdHJpeH0gQlxuICAgICAqIEByZXR1cm5zIHtNYXRyaXh9XG4gICAgICovXG4gICAgb3V0ZXIoQikge1xuICAgICAgICBsZXQgQSA9IHRoaXM7XG4gICAgICAgIGxldCBsID0gQS5fZGF0YS5sZW5ndGg7XG4gICAgICAgIGxldCByID0gQi5fZGF0YS5sZW5ndGg7XG4gICAgICAgIGlmIChsICE9IHIpIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIGxldCBDID0gbmV3IE1hdHJpeCgpO1xuICAgICAgICBDLnNoYXBlID0gW1xuICAgICAgICAgICAgbCxcbiAgICAgICAgICAgIGwsXG4gICAgICAgICAgICAoaSwgaikgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChpIDw9IGopIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEEuX2RhdGFbaV0gKiBCLl9kYXRhW2pdO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBDLmVudHJ5KGosIGkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgIF07XG4gICAgICAgIHJldHVybiBDO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFwcGVuZHMgbWF0cml4IHtAbGluayBCfSB0byB0aGUgbWF0cml4LlxuICAgICAqIEBwYXJhbSB7TWF0cml4fSBCIC0gbWF0cml4IHRvIGFwcGVuZC5cbiAgICAgKiBAcGFyYW0ge1wiaG9yaXpvbnRhbFwifFwidmVydGljYWxcInxcImRpYWdcIn0gW3R5cGUgPSBcImhvcml6b250YWxcIl0gLSB0eXBlIG9mIGNvbmNhdGVuYXRpb24uXG4gICAgICogQHJldHVybnMge01hdHJpeH1cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogbGV0IEEgPSBNYXRyaXguZnJvbShbWzEsIDFdLCBbMSwgMV1dKTsgLy8gMiBieSAyIG1hdHJpeCBmaWxsZWQgd2l0aCBvbmVzLlxuICAgICAqIGxldCBCID0gTWF0cml4LmZyb20oW1syLCAyXSwgWzIsIDJdXSk7IC8vIDIgYnkgMiBtYXRyaXggZmlsbGVkIHdpdGggdHdvcy5cbiAgICAgKlxuICAgICAqIEEuY29uY2F0KEIsIFwiaG9yaXpvbnRhbFwiKTsgLy8gMiBieSA0IG1hdHJpeC4gW1sxLCAxLCAyLCAyXSwgWzEsIDEsIDIsIDJdXVxuICAgICAqIEEuY29uY2F0KEIsIFwidmVydGljYWxcIik7IC8vIDQgYnkgMiBtYXRyaXguIFtbMSwgMV0sIFsxLCAxXSwgWzIsIDJdLCBbMiwgMl1dXG4gICAgICogQS5jb25jYXQoQiwgXCJkaWFnXCIpOyAvLyA0IGJ5IDQgbWF0cml4LiBbWzEsIDEsIDAsIDBdLCBbMSwgMSwgMCwgMF0sIFswLCAwLCAyLCAyXSwgWzAsIDAsIDIsIDJdXVxuICAgICAqL1xuICAgIGNvbmNhdChCLCB0eXBlID0gXCJob3Jpem9udGFsXCIpIHtcbiAgICAgICAgY29uc3QgQSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IFtyb3dzX0EsIGNvbHNfQV0gPSBBLnNoYXBlO1xuICAgICAgICBjb25zdCBbcm93c19CLCBjb2xzX0JdID0gQi5zaGFwZTtcbiAgICAgICAgaWYgKHR5cGUgPT0gXCJob3Jpem9udGFsXCIpIHtcbiAgICAgICAgICAgIGlmIChyb3dzX0EgIT0gcm93c19CKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBBLmNvbmNhdChCLCBcImhvcml6b250YWxcIik6IEEgYW5kIEIgbmVlZCBzYW1lIG51bWJlciBvZiByb3dzLCBBIGhhcyAke3Jvd3NfQX0gcm93cywgQiBoYXMgJHtyb3dzX0J9IHJvd3MuYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBYID0gbmV3IE1hdHJpeChyb3dzX0EsIGNvbHNfQSArIGNvbHNfQiwgXCJ6ZXJvc1wiKTtcbiAgICAgICAgICAgIFguc2V0X2Jsb2NrKDAsIDAsIEEpO1xuICAgICAgICAgICAgWC5zZXRfYmxvY2soMCwgY29sc19BLCBCKTtcbiAgICAgICAgICAgIHJldHVybiBYO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT0gXCJ2ZXJ0aWNhbFwiKSB7XG4gICAgICAgICAgICBpZiAoY29sc19BICE9IGNvbHNfQikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQS5jb25jYXQoQiwgXCJ2ZXJ0aWNhbFwiKTogQSBhbmQgQiBuZWVkIHNhbWUgbnVtYmVyIG9mIGNvbHVtbnMsIEEgaGFzICR7Y29sc19BfSBjb2x1bW5zLCBCIGhhcyAke2NvbHNfQn0gY29sdW1ucy5gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IFggPSBuZXcgTWF0cml4KHJvd3NfQSArIHJvd3NfQiwgY29sc19BLCBcInplcm9zXCIpO1xuICAgICAgICAgICAgWC5zZXRfYmxvY2soMCwgMCwgQSk7XG4gICAgICAgICAgICBYLnNldF9ibG9jayhyb3dzX0EsIDAsIEIpO1xuICAgICAgICAgICAgcmV0dXJuIFg7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PSBcImRpYWdcIikge1xuICAgICAgICAgICAgY29uc3QgWCA9IG5ldyBNYXRyaXgocm93c19BICsgcm93c19CLCBjb2xzX0EgKyBjb2xzX0IsIFwiemVyb3NcIik7XG4gICAgICAgICAgICBYLnNldF9ibG9jaygwLCAwLCBBKTtcbiAgICAgICAgICAgIFguc2V0X2Jsb2NrKHJvd3NfQSwgY29sc19BLCBCKTtcbiAgICAgICAgICAgIHJldHVybiBYO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGB0eXBlIG11c3QgYmUgXCJob3Jpem9udGFsXCIgb3IgXCJ2ZXJ0aWNhbFwiLCBidXQgdHlwZSBpcyAke3R5cGV9IWApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogV3JpdGVzIHRoZSBlbnRyaWVzIG9mIEIgaW4gQSBhdCBhbiBvZmZzZXQgcG9zaXRpb24gZ2l2ZW4gYnkge0BsaW5rIG9mZnNldF9yb3d9IGFuZCB7QGxpbmsgb2Zmc2V0X2NvbH0uXG4gICAgICogQHBhcmFtIHtpbnR9IG9mZnNldF9yb3dcbiAgICAgKiBAcGFyYW0ge2ludH0gb2Zmc2V0X2NvbFxuICAgICAqIEBwYXJhbSB7TWF0cml4fSBCXG4gICAgICogQHJldHVybnMge01hdHJpeH1cbiAgICAgKi9cbiAgICBzZXRfYmxvY2sob2Zmc2V0X3Jvdywgb2Zmc2V0X2NvbCwgQikge1xuICAgICAgICBsZXQgW3Jvd3MsIGNvbHNdID0gQi5zaGFwZTtcbiAgICAgICAgZm9yIChsZXQgcm93ID0gMDsgcm93IDwgcm93czsgKytyb3cpIHtcbiAgICAgICAgICAgIGlmIChyb3cgPiB0aGlzLl9yb3dzKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGxldCBjb2wgPSAwOyBjb2wgPCBjb2xzOyArK2NvbCkge1xuICAgICAgICAgICAgICAgIGlmIChjb2wgPiB0aGlzLl9jb2xzKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnNldF9lbnRyeShyb3cgKyBvZmZzZXRfcm93LCBjb2wgKyBvZmZzZXRfY29sLCBCLmVudHJ5KHJvdywgY29sKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXh0cmFjdHMgdGhlIGVudHJpZXMgZnJvbSB0aGUge0BsaW5rIHN0YXJ0X3Jvd308c3VwPnRoPC9zdXA+IHJvdyB0byB0aGUge0BsaW5rIGVuZF9yb3d9PHN1cD50aDwvc3VwPiByb3csIHRoZSB7QGxpbmsgc3RhcnRfY29sfTxzdXA+dGg8L3N1cD4gY29sdW1uIHRvIHRoZSB7QGxpbmsgZW5kX2NvbH08c3VwPnRoPC9zdXA+IGNvbHVtbiBvZiB0aGUgbWF0cml4LlxuICAgICAqIElmIHtAbGluayBlbmRfcm93fSBvciB7QGxpbmsgZW5kX2NvbH0gaXMgZW1wdHksIHRoZSByZXNwZWN0aXZlIHZhbHVlIGlzIHNldCB0byB7QGxpbmsgdGhpcy5yb3dzfSBvciB7QGxpbmsgdGhpcy5jb2xzfS5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gc3RhcnRfcm93XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHN0YXJ0X2NvbFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbZW5kX3JvdyA9IG51bGxdXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtlbmRfY29sID0gbnVsbF1cbiAgICAgKiBAcmV0dXJucyB7TWF0cml4fSBSZXR1cm5zIGEgZW5kX3JvdyAtIHN0YXJ0X3JvdyB0aW1lcyBlbmRfY29sIC0gc3RhcnRfY29sIG1hdHJpeCwgd2l0aCByZXNwZWN0aXZlIGVudHJpZXMgZnJvbSB0aGUgbWF0cml4LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBsZXQgQSA9IE1hdHJpeC5mcm9tKFtbMSwgMiwgM10sIFs0LCA1LCA2XSwgWzcsIDgsIDldXSk7IC8vIGEgMyBieSAzIG1hdHJpeC5cbiAgICAgKlxuICAgICAqIEEuZ2V0X2Jsb2NrKDEsIDEpOyAvLyBbWzUsIDZdLCBbOCwgOV1dXG4gICAgICogQS5nZXRfYmxvY2soMCwgMCwgMSwgMSk7IC8vIFtbMV1dXG4gICAgICogQS5nZXRfYmxvY2soMSwgMSwgMiwgMik7IC8vIFtbNV1dXG4gICAgICogQS5nZXRfYmxvY2soMCwgMCwgMiwgMik7IC8vIFtbMSwgMl0sIFs0LCA1XV1cbiAgICAgKi9cbiAgICBnZXRfYmxvY2soc3RhcnRfcm93LCBzdGFydF9jb2wsIGVuZF9yb3cgPSBudWxsLCBlbmRfY29sID0gbnVsbCkge1xuICAgICAgICBjb25zdCBbcm93cywgY29sc10gPSB0aGlzLnNoYXBlO1xuICAgICAgICBlbmRfcm93ID0gZW5kX3JvdyA/PyByb3dzO1xuICAgICAgICBlbmRfY29sID0gZW5kX2NvbCA/PyBjb2xzO1xuICAgICAgICBpZiAoZW5kX3JvdyA8PSBzdGFydF9yb3cgfHwgZW5kX2NvbCA8PSBzdGFydF9jb2wpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgXG4gICAgICAgICAgICAgICAgZW5kX3JvdyBtdXN0IGJlIGdyZWF0ZXIgdGhhbiBzdGFydF9yb3csIGFuZCBcbiAgICAgICAgICAgICAgICBlbmRfY29sIG11c3QgYmUgZ3JlYXRlciB0aGFuIHN0YXJ0X2NvbCwgYnV0XG4gICAgICAgICAgICAgICAgZW5kX3JvdyA9ICR7ZW5kX3Jvd30sIHN0YXJ0X3JvdyA9ICR7c3RhcnRfcm93fSwgZW5kX2NvbCA9ICR7ZW5kX2NvbH0sIGFuZCBzdGFydF9jb2wgPSAke3N0YXJ0X2NvbH0hYCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgWCA9IG5ldyBNYXRyaXgoZW5kX3JvdyAtIHN0YXJ0X3JvdywgZW5kX2NvbCAtIHN0YXJ0X2NvbCwgXCJ6ZXJvc1wiKTtcbiAgICAgICAgZm9yIChsZXQgcm93ID0gc3RhcnRfcm93LCBuZXdfcm93ID0gMDsgcm93IDwgZW5kX3JvdzsgKytyb3csICsrbmV3X3Jvdykge1xuICAgICAgICAgICAgZm9yIChsZXQgY29sID0gc3RhcnRfY29sLCBuZXdfY29sID0gMDsgY29sIDwgZW5kX2NvbDsgKytjb2wsICsrbmV3X2NvbCkge1xuICAgICAgICAgICAgICAgIFguc2V0X2VudHJ5KG5ld19yb3csIG5ld19jb2wsIHRoaXMuZW50cnkocm93LCBjb2wpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gWDtcbiAgICAgICAgLy9yZXR1cm4gbmV3IE1hdHJpeChlbmRfcm93IC0gc3RhcnRfcm93LCBlbmRfY29sIC0gc3RhcnRfY29sLCAoaSwgaikgPT4gdGhpcy5lbnRyeShpICsgc3RhcnRfcm93LCBqICsgc3RhcnRfY29sKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIG5ldyBhcnJheSBnYXRoZXJpbmcgZW50cmllcyBkZWZpbmVkIGJ5IHRoZSBpbmRpY2VzIGdpdmVuIGJ5IGFyZ3VtZW50LlxuICAgICAqIEBwYXJhbSB7QXJyYXk8TnVtYmVyPn0gcm93X2luZGljZXMgLSBBcnJheSBjb25zaXN0cyBvZiBpbmRpY2VzIG9mIHJvd3MgZm9yIGdhdGhlcmluZyBlbnRyaWVzIG9mIHRoaXMgbWF0cml4XG4gICAgICogQHBhcmFtIHtBcnJheTxOdW1iZXI+fSBjb2xfaW5kaWNlcyAgLSBBcnJheSBjb25zaXN0cyBvZiBpbmRpY2VzIG9mIGNvbHMgZm9yIGdhdGhlcmluZyBlbnRyaWVzIG9mIHRoaXMgbWF0cml4XG4gICAgICogQHJldHVybnMge01hdHJpeH1cbiAgICAgKi9cbiAgICBnYXRoZXIocm93X2luZGljZXMsIGNvbF9pbmRpY2VzKSB7XG4gICAgICAgIGNvbnN0IE4gPSByb3dfaW5kaWNlcy5sZW5ndGg7XG4gICAgICAgIGNvbnN0IEQgPSBjb2xfaW5kaWNlcy5sZW5ndGg7XG5cbiAgICAgICAgY29uc3QgUiA9IG5ldyBNYXRyaXgoTiwgRCk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgTjsgKytpKSB7XG4gICAgICAgICAgICBjb25zdCByb3dfaW5kZXggPSByb3dfaW5kaWNlc1tpXTtcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgTjsgKytqKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY29sX2luZGV4ID0gY29sX2luZGljZXNbal07XG4gICAgICAgICAgICAgICAgUi5zZXRfZW50cnkoaSwgaiwgdGhpcy5lbnRyeShyb3dfaW5kZXgsIGNvbF9pbmRleCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQXBwbGllcyBhIGZ1bmN0aW9uIHRvIGVhY2ggZW50cnkgb2YgdGhlIG1hdHJpeC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGYgZnVuY3Rpb24gdGFrZXMgMiBwYXJhbWV0ZXJzLCB0aGUgdmFsdWUgb2YgdGhlIGFjdHVhbCBlbnRyeSBhbmQgYSB2YWx1ZSBnaXZlbiBieSB0aGUgZnVuY3Rpb24ge0BsaW5rIHZ9LiBUaGUgcmVzdWx0IG9mIHtAbGluayBmfSBnZXRzIHdyaXRlbiB0byB0aGUgTWF0cml4LlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IHYgZnVuY3Rpb24gdGFrZXMgMiBwYXJhbWV0ZXJzIGZvciByb3cgYW5kIGNvbCwgYW5kIHJldHVybnMgYSB2YWx1ZSB3aXRjaCBzaG91bGQgYmUgYXBwbGllZCB0byB0aGUgY29sdGggZW50cnkgb2YgdGhlIHJvd3RoIHJvdyBvZiB0aGUgbWF0cml4LlxuICAgICAqL1xuICAgIF9hcHBseV9hcnJheShmLCB2KSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLnZhbHVlcztcbiAgICAgICAgY29uc3QgW3Jvd3MsIGNvbHNdID0gdGhpcy5zaGFwZTtcbiAgICAgICAgZm9yIChsZXQgcm93ID0gMDsgcm93IDwgcm93czsgKytyb3cpIHtcbiAgICAgICAgICAgIGNvbnN0IG9mZnNldCA9IHJvdyAqIGNvbHM7XG4gICAgICAgICAgICBmb3IgKGxldCBjb2wgPSAwOyBjb2wgPCBjb2xzOyArK2NvbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGkgPSBvZmZzZXQgKyBjb2w7XG4gICAgICAgICAgICAgICAgZGF0YVtpXSA9IGYoZGF0YVtpXSwgdihyb3csIGNvbCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIF9hcHBseV9yb3d3aXNlX2FycmF5KHZhbHVlcywgZikge1xuICAgICAgICByZXR1cm4gdGhpcy5fYXBwbHlfYXJyYXkoZiwgKF8sIGopID0+IHZhbHVlc1tqXSk7XG4gICAgfVxuXG4gICAgX2FwcGx5X2NvbHdpc2VfYXJyYXkodmFsdWVzLCBmKSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLnZhbHVlcztcbiAgICAgICAgY29uc3QgW3Jvd3MsIGNvbHNdID0gdGhpcy5zaGFwZTtcbiAgICAgICAgZm9yIChsZXQgcm93ID0gMDsgcm93IDwgcm93czsgKytyb3cpIHtcbiAgICAgICAgICAgIGNvbnN0IG9mZnNldCA9IHJvdyAqIGNvbHM7XG4gICAgICAgICAgICBmb3IgKGxldCBjb2wgPSAwOyBjb2wgPCBjb2xzOyArK2NvbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGkgPSBvZmZzZXQgKyBjb2w7XG4gICAgICAgICAgICAgICAgZGF0YVtpXSA9IGYoZGF0YVtpXSwgdmFsdWVzW3Jvd10pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIF9hcHBseSh2YWx1ZSwgZikge1xuICAgICAgICBsZXQgZGF0YSA9IHRoaXMudmFsdWVzO1xuICAgICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBNYXRyaXgpIHtcbiAgICAgICAgICAgIGxldCBbdmFsdWVfcm93cywgdmFsdWVfY29sc10gPSB2YWx1ZS5zaGFwZTtcbiAgICAgICAgICAgIGxldCBbcm93cywgY29sc10gPSB0aGlzLnNoYXBlO1xuICAgICAgICAgICAgaWYgKHZhbHVlX3Jvd3MgPT09IDEpIHtcbiAgICAgICAgICAgICAgICBpZiAoY29scyAhPT0gdmFsdWVfY29scykge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYGNvbHMgIT09IHZhbHVlX2NvbHNgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgcm93ID0gMDsgcm93IDwgcm93czsgKytyb3cpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgY29sID0gMDsgY29sIDwgY29sczsgKytjb2wpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFbcm93ICogY29scyArIGNvbF0gPSBmKGRhdGFbcm93ICogY29scyArIGNvbF0sIHZhbHVlLmVudHJ5KDAsIGNvbCkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmICh2YWx1ZV9jb2xzID09PSAxKSB7XG4gICAgICAgICAgICAgICAgaWYgKHJvd3MgIT09IHZhbHVlX3Jvd3MpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGByb3dzICE9PSB2YWx1ZV9yb3dzYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZvciAobGV0IHJvdyA9IDA7IHJvdyA8IHJvd3M7ICsrcm93KSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGNvbCA9IDA7IGNvbCA8IGNvbHM7ICsrY29sKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhW3JvdyAqIGNvbHMgKyBjb2xdID0gZihkYXRhW3JvdyAqIGNvbHMgKyBjb2xdLCB2YWx1ZS5lbnRyeShyb3csIDApKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAocm93cyA9PSB2YWx1ZV9yb3dzICYmIGNvbHMgPT0gdmFsdWVfY29scykge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IHJvdyA9IDA7IHJvdyA8IHJvd3M7ICsrcm93KSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGNvbCA9IDA7IGNvbCA8IGNvbHM7ICsrY29sKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhW3JvdyAqIGNvbHMgKyBjb2xdID0gZihkYXRhW3JvdyAqIGNvbHMgKyBjb2xdLCB2YWx1ZS5lbnRyeShyb3csIGNvbCkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYGVycm9yYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICAgIGxldCByb3dzID0gdGhpcy5fcm93cztcbiAgICAgICAgICAgIGxldCBjb2xzID0gdGhpcy5fY29scztcbiAgICAgICAgICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IHJvd3MpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCByb3cgPSAwOyByb3cgPCByb3dzOyArK3Jvdykge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBjb2wgPSAwOyBjb2wgPCBjb2xzOyArK2NvbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVtyb3cgKiBjb2xzICsgY29sXSA9IGYoZGF0YVtyb3cgKiBjb2xzICsgY29sXSwgdmFsdWVbcm93XSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHZhbHVlLmxlbmd0aCA9PT0gY29scykge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IHJvdyA9IDA7IHJvdyA8IHJvd3M7ICsrcm93KSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGNvbCA9IDA7IGNvbCA8IGNvbHM7ICsrY29sKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhW3JvdyAqIGNvbHMgKyBjb2xdID0gZihkYXRhW3JvdyAqIGNvbHMgKyBjb2xdLCB2YWx1ZVtjb2xdKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBlcnJvcmApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIG4gPSB0aGlzLl9yb3dzICogdGhpcy5fY29sczsgaSA8IG47ICsraSkge1xuICAgICAgICAgICAgICAgIGRhdGFbaV0gPSBmKGRhdGFbaV0sIHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDbG9uZXMgdGhlIE1hdHJpeC5cbiAgICAgKiBAcmV0dXJucyB7TWF0cml4fVxuICAgICAqL1xuICAgIGNsb25lKCkge1xuICAgICAgICBsZXQgQiA9IG5ldyBNYXRyaXgoKTtcbiAgICAgICAgQi5fcm93cyA9IHRoaXMuX3Jvd3M7XG4gICAgICAgIEIuX2NvbHMgPSB0aGlzLl9jb2xzO1xuICAgICAgICBCLl9kYXRhID0gdGhpcy52YWx1ZXMuc2xpY2UoMCk7XG4gICAgICAgIHJldHVybiBCO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVudHJ5d2lzZSBtdWx0aXBsaWNhdGlvbiB3aXRoIHtAbGluayB2YWx1ZX0uXG4gICAgICogQHBhcmFtIHtNYXRyaXh8QXJyYXl8TnVtYmVyfSB2YWx1ZVxuICAgICAqIEByZXR1cm5zIHtNYXRyaXh9XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGxldCBBID0gTWF0cml4LmZyb20oW1sxLCAyXSwgWzMsIDRdXSk7IC8vIGEgMiBieSAyIG1hdHJpeC5cbiAgICAgKiBsZXQgQiA9IEEuY2xvbmUoKTsgLy8gQiA9PSBBO1xuICAgICAqXG4gICAgICogQS5tdWx0KDIpOyAvLyBbWzIsIDRdLCBbNiwgOF1dO1xuICAgICAqIEEubXVsdChCKTsgLy8gW1sxLCA0XSwgWzksIDE2XV07XG4gICAgICovXG4gICAgbXVsdCh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5jbG9uZSgpLl9hcHBseSh2YWx1ZSwgKGEsIGIpID0+IGEgKiBiKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFbnRyeXdpc2UgZGl2aXNpb24gd2l0aCB7QGxpbmsgdmFsdWV9LlxuICAgICAqIEBwYXJhbSB7TWF0cml4fEFycmF5fE51bWJlcn0gdmFsdWVcbiAgICAgKiBAcmV0dXJucyB7TWF0cml4fVxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBsZXQgQSA9IE1hdHJpeC5mcm9tKFtbMSwgMl0sIFszLCA0XV0pOyAvLyBhIDIgYnkgMiBtYXRyaXguXG4gICAgICogbGV0IEIgPSBBLmNsb25lKCk7IC8vIEIgPT0gQTtcbiAgICAgKlxuICAgICAqIEEuZGl2aWRlKDIpOyAvLyBbWzAuNSwgMV0sIFsxLjUsIDJdXTtcbiAgICAgKiBBLmRpdmlkZShCKTsgLy8gW1sxLCAxXSwgWzEsIDFdXTtcbiAgICAgKi9cbiAgICBkaXZpZGUodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2xvbmUoKS5fYXBwbHkodmFsdWUsIChhLCBiKSA9PiBhIC8gYik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRW50cnl3aXNlIGFkZGl0aW9uIHdpdGgge0BsaW5rIHZhbHVlfS5cbiAgICAgKiBAcGFyYW0ge01hdHJpeHxBcnJheXxOdW1iZXJ9IHZhbHVlXG4gICAgICogQHJldHVybnMge01hdHJpeH1cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogbGV0IEEgPSBNYXRyaXguZnJvbShbWzEsIDJdLCBbMywgNF1dKTsgLy8gYSAyIGJ5IDIgbWF0cml4LlxuICAgICAqIGxldCBCID0gQS5jbG9uZSgpOyAvLyBCID09IEE7XG4gICAgICpcbiAgICAgKiBBLmFkZCgyKTsgLy8gW1szLCA0XSwgWzUsIDZdXTtcbiAgICAgKiBBLmFkZChCKTsgLy8gW1syLCA0XSwgWzYsIDhdXTtcbiAgICAgKi9cbiAgICBhZGQodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2xvbmUoKS5fYXBwbHkodmFsdWUsIChhLCBiKSA9PiBhICsgYik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRW50cnl3aXNlIHN1YnRyYWN0aW9uIHdpdGgge0BsaW5rIHZhbHVlfS5cbiAgICAgKiBAcGFyYW0ge01hdHJpeHxBcnJheXxOdW1iZXJ9IHZhbHVlXG4gICAgICogQHJldHVybnMge01hdHJpeH1cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogbGV0IEEgPSBNYXRyaXguZnJvbShbWzEsIDJdLCBbMywgNF1dKTsgLy8gYSAyIGJ5IDIgbWF0cml4LlxuICAgICAqIGxldCBCID0gQS5jbG9uZSgpOyAvLyBCID09IEE7XG4gICAgICpcbiAgICAgKiBBLnN1YigyKTsgLy8gW1stMSwgMF0sIFsxLCAyXV07XG4gICAgICogQS5zdWIoQik7IC8vIFtbMCwgMF0sIFswLCAwXV07XG4gICAgICovXG4gICAgc3ViKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNsb25lKCkuX2FwcGx5KHZhbHVlLCAoYSwgYikgPT4gYSAtIGIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIG51bWJlciBvZiByb3dzIGFuZCBjb2x1bW5zIG9mIHRoZSBNYXRyaXguXG4gICAgICogQHJldHVybnMge0FycmF5fSBBbiBBcnJheSBpbiB0aGUgZm9ybSBbcm93cywgY29sdW1uc10uXG4gICAgICovXG4gICAgZ2V0IHNoYXBlKCkge1xuICAgICAgICByZXR1cm4gW3RoaXMuX3Jvd3MsIHRoaXMuX2NvbHNdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIG1hdHJpeCBpbiB0aGUgZ2l2ZW4gc2hhcGUgd2l0aCB0aGUgZ2l2ZW4gZnVuY3Rpb24gd2hpY2ggcmV0dXJucyB2YWx1ZXMgZm9yIHRoZSBlbnRyaWVzIG9mIHRoZSBtYXRyaXguXG4gICAgICogQHBhcmFtIHtBcnJheX0gcGFyYW1ldGVyIC0gdGFrZXMgYW4gQXJyYXkgaW4gdGhlIGZvcm0gW3Jvd3MsIGNvbHMsIHZhbHVlXSwgd2hlcmUgcm93cyBhbmQgY29scyBhcmUgdGhlIG51bWJlciBvZiByb3dzIGFuZCBjb2x1bW5zIG9mIHRoZSBtYXRyaXgsIGFuZCB2YWx1ZSBpcyBhIGZ1bmN0aW9uIHdoaWNoIHRha2VzIHR3byBwYXJhbWV0ZXJzIChyb3cgYW5kIGNvbCkgd2hpY2ggaGFzIHRvIHJldHVybiBhIHZhbHVlIGZvciB0aGUgY29sdGggZW50cnkgb2YgdGhlIHJvd3RoIHJvdy5cbiAgICAgKiBAcmV0dXJucyB7TWF0cml4fVxuICAgICAqL1xuICAgIHNldCBzaGFwZShbcm93cywgY29scywgdmFsdWUgPSAoKSA9PiAwXSkge1xuICAgICAgICB0aGlzLl9yb3dzID0gcm93cztcbiAgICAgICAgdGhpcy5fY29scyA9IGNvbHM7XG4gICAgICAgIHRoaXMuX2RhdGEgPSBuZXcgRmxvYXQ2NEFycmF5KHJvd3MgKiBjb2xzKTtcbiAgICAgICAgZm9yIChsZXQgcm93ID0gMDsgcm93IDwgcm93czsgKytyb3cpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGNvbCA9IDA7IGNvbCA8IGNvbHM7ICsrY29sKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZGF0YVtyb3cgKiBjb2xzICsgY29sXSA9IHZhbHVlKHJvdywgY29sKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBNYXRyaXggYXMgYSBBcnJheSBvZiBGbG9hdDY0QXJyYXlzLlxuICAgICAqIEByZXR1cm5zIHtBcnJheTxGbG9hdDY0QXJyYXk+fVxuICAgICAqL1xuICAgIGdldCB0bzJkQXJyYXkoKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IHJvdyBvZiB0aGlzLml0ZXJhdGVfcm93cygpKSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaChyb3cpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgTWF0cml4IGFzIGEgQXJyYXkgb2YgQXJyYXlzLlxuICAgICAqIEByZXR1cm5zIHtBcnJheTxBcnJheT59XG4gICAgICovXG4gICAgZ2V0IGFzQXJyYXkoKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IHJvdyBvZiB0aGlzLml0ZXJhdGVfcm93cygpKSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaChBcnJheS5mcm9tKHJvdykpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgZGlhZ29uYWwgb2YgdGhlIE1hdHJpeC5cbiAgICAgKiBAcmV0dXJucyB7RmxvYXQ2NEFycmF5fVxuICAgICAqL1xuICAgIGdldCBkaWFnKCkge1xuICAgICAgICBjb25zdCByb3dzID0gdGhpcy5fcm93cztcbiAgICAgICAgY29uc3QgY29scyA9IHRoaXMuX2NvbHM7XG4gICAgICAgIGNvbnN0IG1pbl9yb3dfY29sID0gTWF0aC5taW4ocm93cywgY29scyk7XG4gICAgICAgIGxldCByZXN1bHQgPSBuZXcgRmxvYXQ2NEFycmF5KG1pbl9yb3dfY29sKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtaW5fcm93X2NvbDsgKytpKSB7XG4gICAgICAgICAgICByZXN1bHRbaV0gPSB0aGlzLmVudHJ5KGksIGkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbWVhbiBvZiBhbGwgZW50cmllcyBvZiB0aGUgTWF0cml4LlxuICAgICAqIEByZXR1cm5zIHtOdW1iZXJ9XG4gICAgICovXG4gICAgZ2V0IG1lYW4oKSB7XG4gICAgICAgIGNvbnN0IHN1bSA9IHRoaXMuc3VtO1xuICAgICAgICBjb25zdCBuID0gdGhpcy5fcm93cyAqIHRoaXMuX2NvbHM7XG4gICAgICAgIHJldHVybiBzdW0gLyBuO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHN1bSBvb2YgYWxsIGVudHJpZXMgb2YgdGhlIE1hdHJpeC5cbiAgICAgKiBAcmV0dXJucyB7TnVtYmVyfVxuICAgICAqL1xuICAgIGdldCBzdW0oKSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLnZhbHVlcztcbiAgICAgICAgcmV0dXJuIG5ldW1haXJfc3VtKGRhdGEpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHN1bSBvb2YgYWxsIGVudHJpZXMgb2YgdGhlIE1hdHJpeC5cbiAgICAgKiBAcmV0dXJucyB7RmxvYXQ2NEFycmF5fVxuICAgICAqL1xuICAgIGdldCB2YWx1ZXMoKSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLl9kYXRhO1xuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBtZWFuIG9mIGVhY2ggcm93IG9mIHRoZSBtYXRyaXguXG4gICAgICogQHJldHVybnMge0Zsb2F0NjRBcnJheX1cbiAgICAgKi9cbiAgICBnZXQgbWVhblJvd3MoKSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLnZhbHVlcztcbiAgICAgICAgY29uc3Qgcm93cyA9IHRoaXMuX3Jvd3M7XG4gICAgICAgIGNvbnN0IGNvbHMgPSB0aGlzLl9jb2xzO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBGbG9hdDY0QXJyYXkuZnJvbSh7IGxlbmd0aDogcm93cyB9KTtcbiAgICAgICAgZm9yIChsZXQgcm93ID0gMDsgcm93IDwgcm93czsgKytyb3cpIHtcbiAgICAgICAgICAgIHJlc3VsdFtyb3ddID0gMDtcbiAgICAgICAgICAgIGZvciAobGV0IGNvbCA9IDA7IGNvbCA8IGNvbHM7ICsrY29sKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0W3Jvd10gKz0gZGF0YVtyb3cgKiBjb2xzICsgY29sXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlc3VsdFtyb3ddIC89IGNvbHM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKiogUmV0dXJucyB0aGUgbWVhbiBvZiBlYWNoIGNvbHVtbiBvZiB0aGUgbWF0cml4LlxuICAgICAqIEByZXR1cm5zIHtGbG9hdDY0QXJyYXl9XG4gICAgICovXG4gICAgZ2V0IG1lYW5Db2xzKCkge1xuICAgICAgICBjb25zdCBkYXRhID0gdGhpcy52YWx1ZXM7XG4gICAgICAgIGNvbnN0IHJvd3MgPSB0aGlzLl9yb3dzO1xuICAgICAgICBjb25zdCBjb2xzID0gdGhpcy5fY29scztcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gRmxvYXQ2NEFycmF5LmZyb20oeyBsZW5ndGg6IGNvbHMgfSk7XG4gICAgICAgIGZvciAobGV0IGNvbCA9IDA7IGNvbCA8IGNvbHM7ICsrY29sKSB7XG4gICAgICAgICAgICByZXN1bHRbY29sXSA9IDA7XG4gICAgICAgICAgICBmb3IgKGxldCByb3cgPSAwOyByb3cgPCByb3dzOyArK3Jvdykge1xuICAgICAgICAgICAgICAgIHJlc3VsdFtjb2xdICs9IGRhdGFbcm93ICogY29scyArIGNvbF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXN1bHRbY29sXSAvPSByb3dzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU29sdmVzIHRoZSBlcXVhdGlvbiB7QGxpbmsgQX14ID0ge0BsaW5rIGJ9IHVzaW5nIHRoZSBjb25qdWdhdGUgZ3JhZGllbnQgbWV0aG9kLiBSZXR1cm5zIHRoZSByZXN1bHQgeC5cbiAgICAgKiBAcGFyYW0ge01hdHJpeH0gQSAtIE1hdHJpeFxuICAgICAqIEBwYXJhbSB7TWF0cml4fSBiIC0gTWF0cml4XG4gICAgICogQHBhcmFtIHtSYW5kb21pemVyfSBbcmFuZG9taXplcj1udWxsXVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbdG9sPTFlLTNdXG4gICAgICogQHJldHVybnMge01hdHJpeH1cbiAgICAgKi9cbiAgICBzdGF0aWMgc29sdmVfQ0coQSwgYiwgcmFuZG9taXplciwgdG9sID0gMWUtMykge1xuICAgICAgICBpZiAocmFuZG9taXplciA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmFuZG9taXplciA9IG5ldyBSYW5kb21pemVyKCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgcm93cyA9IEEuc2hhcGVbMF07XG4gICAgICAgIGNvbnN0IGNvbHMgPSBiLnNoYXBlWzFdO1xuICAgICAgICBsZXQgcmVzdWx0ID0gbmV3IE1hdHJpeChyb3dzLCAwKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb2xzOyArK2kpIHtcbiAgICAgICAgICAgIGNvbnN0IGJfaSA9IE1hdHJpeC5mcm9tKGIuY29sKGkpKS5UO1xuICAgICAgICAgICAgbGV0IHggPSBuZXcgTWF0cml4KHJvd3MsIDEsICgpID0+IHJhbmRvbWl6ZXIucmFuZG9tKTtcbiAgICAgICAgICAgIGxldCByID0gYl9pLnN1YihBLmRvdCh4KSk7XG4gICAgICAgICAgICBsZXQgZCA9IHIuY2xvbmUoKTtcbiAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICBjb25zdCB6ID0gQS5kb3QoZCk7XG4gICAgICAgICAgICAgICAgY29uc3QgYWxwaGEgPSByLlQuZG90KHIpLmVudHJ5KDAsIDApIC8gZC5ULmRvdCh6KS5lbnRyeSgwLCAwKTtcbiAgICAgICAgICAgICAgICB4ID0geC5hZGQoZC5tdWx0KGFscGhhKSk7XG4gICAgICAgICAgICAgICAgY29uc3Qgcl9uZXh0ID0gci5zdWIoei5tdWx0KGFscGhhKSk7XG4gICAgICAgICAgICAgICAgY29uc3QgYmV0YSA9IHJfbmV4dC5ULmRvdChyX25leHQpLmVudHJ5KDAsIDApIC8gci5ULmRvdChyKS5lbnRyeSgwLCAwKTtcbiAgICAgICAgICAgICAgICBkID0gcl9uZXh0LmFkZChkLm11bHQoYmV0YSkpO1xuICAgICAgICAgICAgICAgIHIgPSByX25leHQ7XG4gICAgICAgICAgICB9IHdoaWxlIChNYXRoLmFicyhyLm1lYW4pID4gdG9sKTtcbiAgICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdC5jb25jYXQoeCwgXCJob3Jpem9udGFsXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU29sdmVzIHRoZSBlcXVhdGlvbiB7QGxpbmsgQX14ID0ge0BsaW5rIGJ9LiBSZXR1cm5zIHRoZSByZXN1bHQgeC5cbiAgICAgKiBAcGFyYW0ge01hdHJpeH0gQSAtIE1hdHJpeCBvciBMVSBEZWNvbXBvc2l0aW9uXG4gICAgICogQHBhcmFtIHtNYXRyaXh9IGIgLSBNYXRyaXhcbiAgICAgKiBAcmV0dXJucyB7TWF0cml4fVxuICAgICAqL1xuICAgIHN0YXRpYyBzb2x2ZShBLCBiKSB7XG4gICAgICAgIGxldCB7IEw6IEwsIFU6IFUgfSA9IFwiTFwiIGluIEEgJiYgXCJVXCIgaW4gQSA/IEEgOiBNYXRyaXguTFUoQSk7XG4gICAgICAgIGxldCByb3dzID0gTC5zaGFwZVswXTtcbiAgICAgICAgbGV0IHggPSBiLmNsb25lKCk7XG5cbiAgICAgICAgLy8gZm9yd2FyZFxuICAgICAgICBmb3IgKGxldCByb3cgPSAwOyByb3cgPCByb3dzOyArK3Jvdykge1xuICAgICAgICAgICAgZm9yIChsZXQgY29sID0gMDsgY29sIDwgcm93IC0gMTsgKytjb2wpIHtcbiAgICAgICAgICAgICAgICB4LnNldF9lbnRyeSgwLCByb3csIHguZW50cnkoMCwgcm93KSAtIEwuZW50cnkocm93LCBjb2wpICogeC5lbnRyeSgxLCBjb2wpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHguc2V0X2VudHJ5KDAsIHJvdywgeC5lbnRyeSgwLCByb3cpIC8gTC5lbnRyeShyb3csIHJvdykpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gYmFja3dhcmRcbiAgICAgICAgZm9yIChsZXQgcm93ID0gcm93cyAtIDE7IHJvdyA+PSAwOyAtLXJvdykge1xuICAgICAgICAgICAgZm9yIChsZXQgY29sID0gcm93cyAtIDE7IGNvbCA+IHJvdzsgLS1jb2wpIHtcbiAgICAgICAgICAgICAgICB4LnNldF9lbnRyeSgwLCByb3csIHguZW50cnkoMCwgcm93KSAtIFUuZW50cnkocm93LCBjb2wpICogeC5lbnRyeSgwLCBjb2wpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHguc2V0X2VudHJ5KDAsIHJvdywgeC5lbnRyeSgwLCByb3cpIC8gVS5lbnRyeShyb3csIHJvdykpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHg7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICoge0BsaW5rIEx9e0BsaW5rIFV9IGRlY29tcG9zaXRpb24gb2YgdGhlIE1hdHJpeCB7QGxpbmsgQX0uIENyZWF0ZXMgdHdvIG1hdHJpY2VzLCBzbyB0aGF0IHRoZSBkb3QgcHJvZHVjdCBMVSBlcXVhbHMgQS5cbiAgICAgKiBAcGFyYW0ge01hdHJpeH0gQVxuICAgICAqIEByZXR1cm5zIHt7TDogTWF0cml4LCBVOiBNYXRyaXh9fSByZXN1bHQgLSBSZXR1cm5zIHRoZSBsZWZ0IHRyaWFuZ2xlIG1hdHJpeCB7QGxpbmsgTH0gYW5kIHRoZSB1cHBlciB0cmlhbmdsZSBtYXRyaXgge0BsaW5rIFV9LlxuICAgICAqL1xuICAgIHN0YXRpYyBMVShBKSB7XG4gICAgICAgIGNvbnN0IHJvd3MgPSBBLnNoYXBlWzBdO1xuICAgICAgICBjb25zdCBMID0gbmV3IE1hdHJpeChyb3dzLCByb3dzLCBcInplcm9zXCIpO1xuICAgICAgICBjb25zdCBVID0gbmV3IE1hdHJpeChyb3dzLCByb3dzLCBcImlkZW50aXR5XCIpO1xuXG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgcm93czsgKytqKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gajsgaSA8IHJvd3M7ICsraSkge1xuICAgICAgICAgICAgICAgIGxldCBzdW0gPSAwO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGsgPSAwOyBrIDwgajsgKytrKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1bSArPSBMLmVudHJ5KGksIGspICogVS5lbnRyeShrLCBqKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgTC5zZXRfZW50cnkoaSwgaiwgQS5lbnRyeShpLCBqKSAtIHN1bSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gajsgaSA8IHJvd3M7ICsraSkge1xuICAgICAgICAgICAgICAgIGlmIChMLmVudHJ5KGosIGopID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxldCBzdW0gPSAwO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGsgPSAwOyBrIDwgajsgKytrKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1bSArPSBMLmVudHJ5KGosIGspICogVS5lbnRyeShrLCBpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgVS5zZXRfZW50cnkoaiwgaSwgKEEuZW50cnkoaiwgaSkgLSBzdW0pIC8gTC5lbnRyeShqLCBqKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4geyBMOiBMLCBVOiBVIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29tcHV0ZXMgdGhlIGRldGVybWluYW50ZSBvZiB7QGxpbmsgQX0sIGJ5IHVzaW5nIHRoZSBMVSBkZWNvbXBvc2l0aW9uIG9mIHtAbGluayBBfS5cbiAgICAgKiBAcGFyYW0ge01hdHJpeH0gQVxuICAgICAqIEByZXR1cm5zIHtOdW1iZXJ9IGRldCAtIFJldHVybnMgdGhlIGRldGVybWluYXRlIG9mIHRoZSBNYXRyaXgge0BsaW5rIEF9LlxuICAgICAqL1xuICAgIHN0YXRpYyBkZXQoQSkge1xuICAgICAgICBjb25zdCByb3dzID0gQS5zaGFwZVswXTtcbiAgICAgICAgY29uc3QgeyBMLCBVIH0gPSBNYXRyaXguTFUoQSk7XG4gICAgICAgIGNvbnN0IExfZGlhZyA9IEwuZGlhZztcbiAgICAgICAgY29uc3QgVV9kaWFnID0gVS5kaWFnO1xuICAgICAgICBsZXQgZGV0ID0gTF9kaWFnWzBdICogVV9kaWFnWzBdO1xuICAgICAgICBmb3IgKGxldCByb3cgPSAxOyByb3cgPCByb3dzOyArK3Jvdykge1xuICAgICAgICAgICAgZGV0ICo9IExfZGlhZ1tyb3ddICogVV9kaWFnW3Jvd107XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRldDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyB0aGUge0BsaW5rIGt9IGNvbXBvbmVudHMgb2YgdGhlIFNWRCBkZWNvbXBvc2l0aW9uIG9mIHRoZSBtYXRyaXgge0BsaW5rIE19XG4gICAgICogQHBhcmFtIHtNYXRyaXh9IE1cbiAgICAgKiBAcGFyYW0ge2ludH0gW2s9Ml1cbiAgICAgKiBAcmV0dXJucyB7e1U6IE1hdHJpeCwgU2lnbWE6IE1hdHJpeCwgVjogTWF0cml4fX1cbiAgICAgKi9cbiAgICBzdGF0aWMgU1ZEKE0sIGsgPSAyKSB7XG4gICAgICAgIGNvbnN0IE1UID0gTS5UO1xuICAgICAgICBsZXQgTXRNID0gTVQuZG90KE0pO1xuICAgICAgICBsZXQgTU10ID0gTS5kb3QoTVQpO1xuICAgICAgICBsZXQgeyBlaWdlbnZlY3RvcnM6IFYsIGVpZ2VudmFsdWVzOiBTaWdtYSB9ID0gc2ltdWx0YW5lb3VzX3Bvd2VyaXRlcmF0aW9uKE10TSwgayk7XG4gICAgICAgIGxldCB7IGVpZ2VudmVjdG9yczogVSB9ID0gc2ltdWx0YW5lb3VzX3Bvd2VyaXRlcmF0aW9uKE1NdCwgayk7XG4gICAgICAgIHJldHVybiB7IFU6IFUsIFNpZ21hOiBTaWdtYS5tYXAoKHNpZ21hKSA9PiBNYXRoLnNxcnQoc2lnbWEpKSwgVjogViB9O1xuXG4gICAgICAgIC8vQWxnb3JpdGhtIDFhOiBIb3VzZWhvbGRlciByZWR1Y3Rpb24gdG8gYmlkaWFnb25hbCBmb3JtOlxuICAgICAgICAvKiBjb25zdCBbbSwgbl0gPSBBLnNoYXBlO1xuICAgICAgICBsZXQgVSA9IG5ldyBNYXRyaXgobSwgbiwgKGksIGopID0+IGkgPT0gaiA/IDEgOiAwKTtcbiAgICAgICAgY29uc29sZS5sb2coVS50bzJkQXJyYXkpXG4gICAgICAgIGxldCBWID0gbmV3IE1hdHJpeChuLCBtLCAoaSwgaikgPT4gaSA9PSBqID8gMSA6IDApO1xuICAgICAgICBjb25zb2xlLmxvZyhWLnRvMmRBcnJheSlcbiAgICAgICAgbGV0IEIgPSBNYXRyaXguYmlkaWFnb25hbChBLmNsb25lKCksIFUsIFYpO1xuICAgICAgICBjb25zb2xlLmxvZyhVLFYsQilcbiAgICAgICAgcmV0dXJuIHsgVTogVSwgXCJTaWdtYVwiOiBCLCBWOiBWIH07ICovXG4gICAgfVxufVxuIiwiaW1wb3J0IHsgbGluc3BhY2UsIE1hdHJpeCB9IGZyb20gXCIuLi9tYXRyaXgvaW5kZXguanNcIjtcblxuLyoqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBtb2R1bGU6dXRpbHNcbiAqIEBhbGlhcyBSYW5kb21pemVyXG4gKi9cbmV4cG9ydCBjbGFzcyBSYW5kb21pemVyIHtcbiAgICAvKipcbiAgICAgKiBNZXJzZW5uZSBUd2lzdGVyIHJhbmRvbSBudW1iZXIgZ2VuZXJhdG9yLlxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbX3NlZWQ9bmV3IERhdGUoKS5nZXRUaW1lKCldIC0gVGhlIHNlZWQgZm9yIHRoZSByYW5kb20gbnVtYmVyIGdlbmVyYXRvci4gSWYgPGNvZGU+X3NlZWQgPT0gbnVsbDwvY29kZT4gdGhlbiB0aGUgYWN0dWFsIHRpbWUgZ2V0cyB1c2VkIGFzIHNlZWQuXG4gICAgICogQHNlZSBodHRwczovL2dpdGh1Yi5jb20vYm11cnJheTcvbWVyc2VubmUtdHdpc3Rlci1leGFtcGxlcy9ibG9iL21hc3Rlci9qYXZhc2NyaXB0LW1lcnNlbm5lLXR3aXN0ZXIuanNcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcihfc2VlZCkge1xuICAgICAgICB0aGlzLl9OID0gNjI0O1xuICAgICAgICB0aGlzLl9NID0gMzk3O1xuICAgICAgICB0aGlzLl9NQVRSSVhfQSA9IDB4OTkwOGIwZGY7XG4gICAgICAgIHRoaXMuX1VQUEVSX01BU0sgPSAweDgwMDAwMDAwO1xuICAgICAgICB0aGlzLl9MT1dFUl9NQVNLID0gMHg3ZmZmZmZmZjtcbiAgICAgICAgdGhpcy5fbXQgPSBuZXcgQXJyYXkodGhpcy5fTik7XG4gICAgICAgIHRoaXMuX210aSA9IHRoaXMuTiArIDE7XG5cbiAgICAgICAgdGhpcy5zZWVkID0gX3NlZWQgfHwgbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHNldCBzZWVkKF9zZWVkKSB7XG4gICAgICAgIHRoaXMuX3NlZWQgPSBfc2VlZDtcbiAgICAgICAgbGV0IG10ID0gdGhpcy5fbXQ7XG5cbiAgICAgICAgbXRbMF0gPSBfc2VlZCA+Pj4gMDtcbiAgICAgICAgZm9yICh0aGlzLl9tdGkgPSAxOyB0aGlzLl9tdGkgPCB0aGlzLl9OOyB0aGlzLl9tdGkgKz0gMSkge1xuICAgICAgICAgICAgbGV0IG10aSA9IHRoaXMuX210aTtcbiAgICAgICAgICAgIGxldCBzID0gbXRbbXRpIC0gMV0gXiAobXRbbXRpIC0gMV0gPj4+IDMwKTtcbiAgICAgICAgICAgIG10W210aV0gPSAoKCgocyAmIDB4ZmZmZjAwMDApID4+PiAxNikgKiAxODEyNDMzMjUzKSA8PCAxNikgKyAocyAmIDB4MDAwMGZmZmYpICogMTgxMjQzMzI1MyArIG10aTtcbiAgICAgICAgICAgIG10W210aV0gPj4+PSAwO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgc2VlZCBvZiB0aGUgcmFuZG9tIG51bWJlciBnZW5lcmF0b3IuXG4gICAgICogQHJldHVybnMge051bWJlcn0gLSBUaGUgc2VlZC5cbiAgICAgKi9cbiAgICBnZXQgc2VlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NlZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIGZsb2F0IGJldHdlZW4gMCBhbmQgMS5cbiAgICAgKiBAcmV0dXJucyB7TnVtYmVyfSAtIEEgcmFuZG9tIG51bWJlciBiZXR3ZWVuIFswLCAxXVxuICAgICAqL1xuICAgIGdldCByYW5kb20oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJhbmRvbV9pbnQgKiAoMS4wIC8gNDI5NDk2NzI5Ni4wKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGFuIGludGVnZXIgYmV0d2VlbiAwIGFuZCBNQVhfSU5URUdFUi5cbiAgICAgKiBAcmV0dXJucyB7SW50ZWdlcn0gLSBBIHJhbmRvbSBpbnRlZ2VyLlxuICAgICAqL1xuICAgIGdldCByYW5kb21faW50KCkge1xuICAgICAgICBsZXQgeSxcbiAgICAgICAgICAgIG1hZzAxID0gbmV3IEFycmF5KDB4MCwgdGhpcy5fTUFUUklYX0EpO1xuICAgICAgICBpZiAodGhpcy5fbXRpID49IHRoaXMuX04pIHtcbiAgICAgICAgICAgIGxldCBraztcblxuICAgICAgICAgICAgLyogaWYgKHRoaXMuX210aSA9PSB0aGlzLl9OICsgMSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2VlZCA9IDU0ODk7XG4gICAgICAgICAgICB9ICovXG5cbiAgICAgICAgICAgIGxldCBOX00gPSB0aGlzLl9OIC0gdGhpcy5fTTtcbiAgICAgICAgICAgIGxldCBNX04gPSB0aGlzLl9NIC0gdGhpcy5fTjtcblxuICAgICAgICAgICAgZm9yIChrayA9IDA7IGtrIDwgTl9NOyArK2trKSB7XG4gICAgICAgICAgICAgICAgeSA9ICh0aGlzLl9tdFtra10gJiB0aGlzLl9VUFBFUl9NQVNLKSB8ICh0aGlzLl9tdFtrayArIDFdICYgdGhpcy5fTE9XRVJfTUFTSyk7XG4gICAgICAgICAgICAgICAgdGhpcy5fbXRba2tdID0gdGhpcy5fbXRba2sgKyB0aGlzLl9NXSBeICh5ID4+PiAxKSBeIG1hZzAxW3kgJiAweDFdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yICg7IGtrIDwgdGhpcy5fTiAtIDE7ICsra2spIHtcbiAgICAgICAgICAgICAgICB5ID0gKHRoaXMuX210W2trXSAmIHRoaXMuX1VQUEVSX01BU0spIHwgKHRoaXMuX210W2trICsgMV0gJiB0aGlzLl9MT1dFUl9NQVNLKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9tdFtra10gPSB0aGlzLl9tdFtrayArIE1fTl0gXiAoeSA+Pj4gMSkgXiBtYWcwMVt5ICYgMHgxXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgeSA9ICh0aGlzLl9tdFt0aGlzLl9OIC0gMV0gJiB0aGlzLl9VUFBFUl9NQVNLKSB8ICh0aGlzLl9tdFswXSAmIHRoaXMuX0xPV0VSX01BU0spO1xuICAgICAgICAgICAgdGhpcy5fbXRbdGhpcy5fTiAtIDFdID0gdGhpcy5fbXRbdGhpcy5fTSAtIDFdIF4gKHkgPj4+IDEpIF4gbWFnMDFbeSAmIDB4MV07XG5cbiAgICAgICAgICAgIHRoaXMuX210aSA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICB5ID0gdGhpcy5fbXRbKHRoaXMuX210aSArPSAxKV07XG4gICAgICAgIHkgXj0geSA+Pj4gMTE7XG4gICAgICAgIHkgXj0gKHkgPDwgNykgJiAweDlkMmM1NjgwO1xuICAgICAgICB5IF49ICh5IDw8IDE1KSAmIDB4ZWZjNjAwMDA7XG4gICAgICAgIHkgXj0geSA+Pj4gMTg7XG5cbiAgICAgICAgcmV0dXJuIHkgPj4+IDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBzYW1wbGVzIGZyb20gYW4gaW5wdXQgTWF0cml4IG9yIEFycmF5LlxuICAgICAqIEBwYXJhbSB7TWF0cml4fEFycmF5fEZsb2F0NjRBcnJheX0gQSAtIFRoZSBpbnB1dCBNYXRyaXggb3IgQXJyYXkuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IG4gLSBUaGUgbnVtYmVyIG9mIHNhbXBsZXMuXG4gICAgICogQHJldHVybnMge0FycmF5fSAtIEEgcmFuZG9tIHNlbGVjdGlvbiBmb3JtIHtAbGluayBBfSBvZiB7QGxpbmsgbn0gc2FtcGxlcy5cbiAgICAgKi9cbiAgICBjaG9pY2UoQSwgbikge1xuICAgICAgICBpZiAoQSBpbnN0YW5jZW9mIE1hdHJpeCkge1xuICAgICAgICAgICAgbGV0IHJvd3MgPSBBLnNoYXBlWzBdO1xuICAgICAgICAgICAgaWYgKG4gPiByb3dzKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibiBiaWdnZXIgdGhhbiBBIVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBzYW1wbGUgPSBuZXcgQXJyYXkobik7XG4gICAgICAgICAgICBsZXQgaW5kZXhfbGlzdCA9IGxpbnNwYWNlKDAsIHJvd3MgLSAxKTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwLCBsID0gaW5kZXhfbGlzdC5sZW5ndGg7IGkgPCBuOyArK2ksIC0tbCkge1xuICAgICAgICAgICAgICAgIGxldCByYW5kb21faW5kZXggPSB0aGlzLnJhbmRvbV9pbnQgJSBsO1xuICAgICAgICAgICAgICAgIHNhbXBsZVtpXSA9IGluZGV4X2xpc3Quc3BsaWNlKHJhbmRvbV9pbmRleCwgMSlbMF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gc2FtcGxlLm1hcCgoZCkgPT4gQS5yb3coZCkpO1xuICAgICAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoQSkgfHwgQSBpbnN0YW5jZW9mIEZsb2F0NjRBcnJheSkge1xuICAgICAgICAgICAgbGV0IHJvd3MgPSBBLmxlbmd0aDtcbiAgICAgICAgICAgIGlmIChuID4gcm93cykge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIm4gYmlnZ2VyIHRoYW4gQSFcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgc2FtcGxlID0gbmV3IEFycmF5KG4pO1xuICAgICAgICAgICAgbGV0IGluZGV4X2xpc3QgPSBsaW5zcGFjZSgwLCByb3dzIC0gMSk7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMCwgbCA9IGluZGV4X2xpc3QubGVuZ3RoOyBpIDwgbjsgKytpLCAtLWwpIHtcbiAgICAgICAgICAgICAgICBsZXQgcmFuZG9tX2luZGV4ID0gdGhpcy5yYW5kb21faW50ICUgbDtcbiAgICAgICAgICAgICAgICBzYW1wbGVbaV0gPSBpbmRleF9saXN0LnNwbGljZShyYW5kb21faW5kZXgsIDEpWzBdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHNhbXBsZS5tYXAoKGQpID0+IEFbZF0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHN0YXRpY1xuICAgICAqIFJldHVybnMgc2FtcGxlcyBmcm9tIGFuIGlucHV0IE1hdHJpeCBvciBBcnJheS5cbiAgICAgKiBAcGFyYW0ge01hdHJpeHxBcnJheXxGbG9hdDY0QXJyYXl9IEEgLSBUaGUgaW5wdXQgTWF0cml4IG9yIEFycmF5LlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBuIC0gVGhlIG51bWJlciBvZiBzYW1wbGVzLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBzZWVkIC0gVGhlIHNlZWQgZm9yIHRoZSByYW5kb20gbnVtYmVyIGdlbmVyYXRvci5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IC0gQSByYW5kb20gc2VsZWN0aW9uIGZvcm0ge0BsaW5rIEF9IG9mIHtAbGluayBufSBzYW1wbGVzLlxuICAgICAqL1xuICAgIHN0YXRpYyBjaG9pY2UoQSwgbiwgc2VlZCA9IDEyMTIpIHtcbiAgICAgICAgY29uc3QgUiA9IG5ldyBSYW5kb21pemVyKHNlZWQpO1xuICAgICAgICByZXR1cm4gUi5jaG9pY2UoQSwgbik7XG4gICAgICAgIC8qIGxldCByb3dzID0gQS5zaGFwZVswXTtcbiAgICAgICAgaWYgKG4gPiByb3dzKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJuIGJpZ2dlciB0aGFuIEEhXCIpO1xuICAgICAgICB9XG4gICAgICAgIGxldCByYW5kID0gbmV3IFJhbmRvbWl6ZXIoc2VlZCk7XG4gICAgICAgIGxldCBzYW1wbGUgPSBuZXcgQXJyYXkobik7XG4gICAgICAgIGxldCBpbmRleF9saXN0ID0gbGluc3BhY2UoMCwgcm93cyAtIDEpO1xuICAgICAgICBmb3IgKGxldCBpID0gMCwgbCA9IGluZGV4X2xpc3QubGVuZ3RoOyBpIDwgbjsgKytpLCAtLWwpIHtcbiAgICAgICAgICAgIGxldCByYW5kb21faW5kZXggPSByYW5kLnJhbmRvbV9pbnQgJSBsO1xuICAgICAgICAgICAgc2FtcGxlW2ldID0gaW5kZXhfbGlzdC5zcGxpY2UocmFuZG9tX2luZGV4LCAxKVswXTtcbiAgICAgICAgfVxuICAgICAgICAvL3JldHVybiByZXN1bHQ7XG4gICAgICAgIC8vcmV0dXJuIG5ldyBNYXRyaXgobiwgY29scywgKHJvdywgY29sKSA9PiBBLmVudHJ5KHNhbXBsZVtyb3ddLCBjb2wpKVxuICAgICAgICByZXR1cm4gc2FtcGxlLm1hcCgoZCkgPT4gQS5yb3coZCkpOyAqL1xuICAgIH1cbn1cbiIsIi8qKlxuICogUmV0dXJucyBtYXhpbXVtIGluIEFycmF5IHtAbGluayB2YWx1ZXN9LlxuICogQG1lbWJlcm9mIG1vZHVsZTp1dGlsc1xuICogQGFsaWFzIG1heFxuICogQHBhcmFtIHtBcnJheX0gdmFsdWVzIFxuICogQHJldHVybnMge051bWJlcn1cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKHZhbHVlcykge1xuICAgIGxldCBtYXg7XG4gICAgZm9yIChjb25zdCB2YWx1ZSBvZiB2YWx1ZXMpIHtcbiAgICAgICAgaWYgKHZhbHVlICE9IG51bGwgJiYgKG1heCA8IHZhbHVlIHx8IChtYXggPT09IHVuZGVmaW5lZCAmJiB2YWx1ZSA+PSB2YWx1ZSkpKSB7XG4gICAgICAgICAgICBtYXggPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWF4O1xufSIsIi8qKlxuICogUmV0dXJucyBtYXhpbXVtIGluIEFycmF5IHtAbGluayB2YWx1ZXN9LlxuICogQG1lbWJlcm9mIG1vZHVsZTp1dGlsc1xuICogQGFsaWFzIG1pblxuICogQHBhcmFtIHtBcnJheX0gdmFsdWVzXG4gKiBAcmV0dXJucyB7TnVtYmVyfVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAodmFsdWVzKSB7XG4gICAgbGV0IG1pbjtcbiAgICBmb3IgKGNvbnN0IHZhbHVlIG9mIHZhbHVlcykge1xuICAgICAgICBpZiAodmFsdWUgIT0gbnVsbCAmJiAobWluID4gdmFsdWUgfHwgKG1pbiA9PT0gdW5kZWZpbmVkICYmIHZhbHVlIDw9IHZhbHVlKSkpIHtcbiAgICAgICAgICAgIG1pbiA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtaW47XG59IiwiLyoqXG4gKiBAY2xhc3NcbiAqIEBhbGlhcyBIZWFwXG4gKi9cbmV4cG9ydCBjbGFzcyBIZWFwIHtcbiAgICAvKipcbiAgICAgKiBBIGhlYXAgaXMgYSBkYXRhc3RydWN0dXJlIGhvbGRpbmcgaXRzIGVsZW1lbnRzIGluIGEgc3BlY2lmaWMgd2F5LCBzbyB0aGF0IHRoZSB0b3AgZWxlbWVudCB3b3VsZCBiZSB0aGUgZmlyc3QgZW50cnkgb2YgYW4gb3JkZXJlZCBsaXN0LlxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBtZW1iZXJvZiBtb2R1bGU6ZGF0YXN0cnVjdHVyZVxuICAgICAqIEBhbGlhcyBIZWFwXG4gICAgICogQHBhcmFtIHtBcnJheT19IGVsZW1lbnRzIC0gQ29udGFpbnMgdGhlIGVsZW1lbnRzIGZvciB0aGUgSGVhcC4ge0BsaW5rIGVsZW1lbnRzfSBjYW4gYmUgbnVsbC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbYWNjZXNzb3IgPSAoZCkgPT4gZF0gLSBGdW5jdGlvbiByZXR1cm5zIHRoZSB2YWx1ZSBvZiB0aGUgZWxlbWVudC5cbiAgICAgKiBAcGFyYW0geyhcIm1pblwifFwibWF4XCJ8RnVuY3Rpb24pfSBbY29tcGFyYXRvciA9IFwibWluXCJdIC0gRnVuY3Rpb24gcmV0dXJuaW5nIHRydWUgb3IgZmFsc2UgZGVmaW5pbmcgdGhlIHdpc2hlZCBvcmRlciBvZiB0aGUgSGVhcCwgb3IgU3RyaW5nIGZvciBwcmVkZWZpbmVkIGZ1bmN0aW9uLiAoXCJtaW5cIiBmb3IgYSBNaW4tSGVhcCwgXCJtYXhcIiBmb3IgYSBNYXhfaGVhcClcbiAgICAgKiBAcmV0dXJucyB7SGVhcH1cbiAgICAgKiBAc2VlIHtAbGluayBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9CaW5hcnlfaGVhcH1cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50cyA9IG51bGwsIGFjY2Vzc29yID0gZCA9PiBkLCBjb21wYXJhdG9yID0gXCJtaW5cIikge1xuICAgICAgICBpZiAoZWxlbWVudHMpIHtcbiAgICAgICAgICAgIHJldHVybiBIZWFwLmhlYXBpZnkoZWxlbWVudHMsIGFjY2Vzc29yLCBjb21wYXJhdG9yKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2FjY2Vzc29yID0gYWNjZXNzb3I7XG4gICAgICAgICAgICB0aGlzLl9jb250YWluZXIgPSBbXTtcbiAgICAgICAgICAgIGlmIChjb21wYXJhdG9yID09IFwibWluXCIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jb21wYXJhdG9yID0gKGEsIGIpID0+IGEgPCBiO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjb21wYXJhdG9yID09IFwibWF4XCIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jb21wYXJhdG9yID0gKGEsIGIpID0+IGEgPiBiO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jb21wYXJhdG9yID0gY29tcGFyYXRvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgSGVhcCBmcm9tIGFuIEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheXxTZXR9IGVsZW1lbnRzIC0gQ29udGFpbnMgdGhlIGVsZW1lbnRzIGZvciB0aGUgSGVhcC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9uPX0gW2FjY2Vzc29yID0gKGQpID0+IGRdIC0gRnVuY3Rpb24gcmV0dXJucyB0aGUgdmFsdWUgb2YgdGhlIGVsZW1lbnQuXG4gICAgICogQHBhcmFtIHsoU3RyaW5nPXxGdW5jdGlvbil9IFtjb21wYXJhdG9yID0gXCJtaW5cIl0gLSBGdW5jdGlvbiByZXR1cm5pbmcgdHJ1ZSBvciBmYWxzZSBkZWZpbmluZyB0aGUgd2lzaGVkIG9yZGVyIG9mIHRoZSBIZWFwLCBvciBTdHJpbmcgZm9yIHByZWRlZmluZWQgZnVuY3Rpb24uIChcIm1pblwiIGZvciBhIE1pbi1IZWFwLCBcIm1heFwiIGZvciBhIE1heF9oZWFwKVxuICAgICAqIEByZXR1cm5zIHtIZWFwfVxuICAgICAqL1xuICAgIHN0YXRpYyBoZWFwaWZ5KGVsZW1lbnRzLCBhY2Nlc3NvciA9IGQgPT4gZCwgY29tcGFyYXRvciA9IFwibWluXCIpIHtcbiAgICAgICAgY29uc3QgaGVhcCA9IG5ldyBIZWFwKG51bGwsIGFjY2Vzc29yLCBjb21wYXJhdG9yKTtcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gaGVhcC5fY29udGFpbmVyO1xuICAgICAgICBmb3IgKGNvbnN0IGUgb2YgZWxlbWVudHMpIHtcbiAgICAgICAgICAgIGNvbnRhaW5lci5wdXNoKHtcbiAgICAgICAgICAgICAgICBcImVsZW1lbnRcIjogZSxcbiAgICAgICAgICAgICAgICBcInZhbHVlXCI6IGFjY2Vzc29yKGUpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgaSA9IE1hdGguZmxvb3IoKGVsZW1lbnRzLmxlbmd0aCAvIDIpIC0gMSk7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgICAgICBoZWFwLl9oZWFwaWZ5X2Rvd24oaSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGhlYXA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU3dhcHMgZWxlbWVudHMgb2YgY29udGFpbmVyIGFycmF5LlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGluZGV4X2EgXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGluZGV4X2IgXG4gICAgICovXG4gICAgX3N3YXAoaW5kZXhfYSwgaW5kZXhfYikge1xuICAgICAgICBjb25zdCBjb250YWluZXIgPSB0aGlzLl9jb250YWluZXI7XG4gICAgICAgIFtjb250YWluZXJbaW5kZXhfYl0sIGNvbnRhaW5lcltpbmRleF9hXV0gPSBbY29udGFpbmVyW2luZGV4X2FdLCBjb250YWluZXJbaW5kZXhfYl1dO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfaGVhcGlmeV91cCgpIHtcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gdGhpcy5fY29udGFpbmVyO1xuICAgICAgICBsZXQgaW5kZXggPSBjb250YWluZXIubGVuZ3RoIC0gMTtcbiAgICAgICAgd2hpbGUgKGluZGV4ID4gMCkge1xuICAgICAgICAgICAgbGV0IHBhcmVudEluZGV4ID0gTWF0aC5mbG9vcigoaW5kZXggLSAxKSAvIDIpO1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9jb21wYXJhdG9yKGNvbnRhaW5lcltpbmRleF0udmFsdWUsIGNvbnRhaW5lcltwYXJlbnRJbmRleF0udmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fc3dhcChwYXJlbnRJbmRleCwgaW5kZXgpXG4gICAgICAgICAgICBpbmRleCA9IHBhcmVudEluZGV4O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUHVzaGVzIHRoZSBlbGVtZW50IHRvIHRoZSBoZWFwLlxuICAgICAqIEBwYXJhbSB7fSBlbGVtZW50XG4gICAgICogQHJldHVybnMge0hlYXB9XG4gICAgICovXG4gICAgcHVzaChlbGVtZW50KSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gdGhpcy5fYWNjZXNzb3IoZWxlbWVudCk7XG4gICAgICAgIC8vY29uc3Qgbm9kZSA9IG5ldyBOb2RlKGVsZW1lbnQsIHZhbHVlKTtcbiAgICAgICAgY29uc3Qgbm9kZSA9IHtcImVsZW1lbnRcIjogZWxlbWVudCwgXCJ2YWx1ZVwiOiB2YWx1ZX07XG4gICAgICAgIHRoaXMuX2NvbnRhaW5lci5wdXNoKG5vZGUpO1xuICAgICAgICB0aGlzLl9oZWFwaWZ5X3VwKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtzdGFydF9pbmRleCA9IDBdIFxuICAgICAqL1xuICAgIF9oZWFwaWZ5X2Rvd24oc3RhcnRfaW5kZXg9MCkge1xuICAgICAgICBjb25zdCBjb250YWluZXIgPSB0aGlzLl9jb250YWluZXI7XG4gICAgICAgIGNvbnN0IGNvbXBhcmF0b3IgPSB0aGlzLl9jb21wYXJhdG9yO1xuICAgICAgICBjb25zdCBsZW5ndGggPSBjb250YWluZXIubGVuZ3RoO1xuICAgICAgICBsZXQgbGVmdCA9IDIgKiBzdGFydF9pbmRleCArIDE7XG4gICAgICAgIGxldCByaWdodCA9IDIgKiBzdGFydF9pbmRleCArIDI7XG4gICAgICAgIGxldCBpbmRleCA9IHN0YXJ0X2luZGV4O1xuICAgICAgICBpZiAoaW5kZXggPiBsZW5ndGgpIHRocm93IFwiaW5kZXggaGlnaGVyIHRoYW4gbGVuZ3RoXCJcbiAgICAgICAgaWYgKGxlZnQgPCBsZW5ndGggJiYgY29tcGFyYXRvcihjb250YWluZXJbbGVmdF0udmFsdWUsIGNvbnRhaW5lcltpbmRleF0udmFsdWUpKSB7XG4gICAgICAgICAgICBpbmRleCA9IGxlZnQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJpZ2h0IDwgbGVuZ3RoICYmIGNvbXBhcmF0b3IoY29udGFpbmVyW3JpZ2h0XS52YWx1ZSwgY29udGFpbmVyW2luZGV4XS52YWx1ZSkpIHtcbiAgICAgICAgICAgIGluZGV4ID0gcmlnaHQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGluZGV4ICE9PSBzdGFydF9pbmRleCkge1xuICAgICAgICAgICAgdGhpcy5fc3dhcChzdGFydF9pbmRleCwgaW5kZXgpO1xuICAgICAgICAgICAgdGhpcy5faGVhcGlmeV9kb3duKGluZGV4KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYW5kIHJldHVybnMgdGhlIHRvcCBlbnRyeSBvZiB0aGUgaGVhcC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBPYmplY3QgY29uc2lzdHMgb2YgdGhlIGVsZW1lbnQgYW5kIGl0cyB2YWx1ZSAoY29tcHV0ZWQgYnkge0BsaW5rIGFjY2Vzc29yfSkuXG4gICAgICovXG4gICAgcG9wKCkge1xuICAgICAgICBjb25zdCBjb250YWluZXIgPSB0aGlzLl9jb250YWluZXI7XG4gICAgICAgIGlmIChjb250YWluZXIubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfSBlbHNlIGlmIChjb250YWluZXIubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICByZXR1cm4gY29udGFpbmVyLnBvcCgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3N3YXAoMCwgY29udGFpbmVyLmxlbmd0aCAtIDEpO1xuICAgICAgICBjb25zdCBpdGVtID0gY29udGFpbmVyLnBvcCgpO1xuICAgICAgICB0aGlzLl9oZWFwaWZ5X2Rvd24oKTtcbiAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgdG9wIGVudHJ5IG9mIHRoZSBoZWFwIHdpdGhvdXQgcmVtb3ZpbmcgaXQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gT2JqZWN0IGNvbnNpc3RzIG9mIHRoZSBlbGVtZW50IGFuZCBpdHMgdmFsdWUgKGNvbXB1dGVkIGJ5IHtAbGluayBhY2Nlc3Nvcn0pLlxuICAgICAqL1xuICAgIGdldCBmaXJzdCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbnRhaW5lci5sZW5ndGggPiAwID8gdGhpcy5fY29udGFpbmVyWzBdIDogbnVsbDtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIFlpZWxkcyB0aGUgcmF3IGRhdGFcbiAgICAgKiBAeWllbGRzIHtPYmplY3R9IE9iamVjdCBjb25zaXN0cyBvZiB0aGUgZWxlbWVudCBhbmQgaXRzIHZhbHVlIChjb21wdXRlZCBieSB7QGxpbmsgYWNjZXNzb3J9KS5cbiAgICAgKi9cbiAgICAqIGl0ZXJhdGUoKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBuID0gdGhpcy5fY29udGFpbmVyLmxlbmd0aDsgaSA8IG47ICsraSkge1xuICAgICAgICAgICAgeWllbGQgdGhpcy5fY29udGFpbmVyW2ldLmVsZW1lbnQ7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBoZWFwIGFzIG9yZGVyZWQgYXJyYXkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBBcnJheSBjb25zaXN0aW5nIHRoZSBlbGVtZW50cyBvcmRlcmVkIGJ5IHtAbGluayBjb21wYXJhdG9yfS5cbiAgICAgKi9cbiAgICB0b0FycmF5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhKClcbiAgICAgICAgICAgIC5zb3J0KChhLGIpID0+IHRoaXMuX2NvbXBhcmF0b3IoYSwgYikgPyAtMSA6IDApXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBlbGVtZW50cyBvZiBjb250YWluZXIgYXJyYXkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBBcnJheSBjb25zaXN0aW5nIHRoZSBlbGVtZW50cy5cbiAgICAgKi9cbiAgICBkYXRhKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY29udGFpbmVyXG4gICAgICAgICAgICAubWFwKGQgPT4gZC5lbGVtZW50KVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGNvbnRhaW5lciBhcnJheS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFRoZSBjb250YWluZXIgYXJyYXkuXG4gICAgICovXG4gICAgcmF3X2RhdGEoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jb250YWluZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIHNpemUgb2YgdGhlIGhlYXAuXG4gICAgICogQHJldHVybnMge051bWJlcn1cbiAgICAgKi9cbiAgICBnZXQgbGVuZ3RoKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY29udGFpbmVyLmxlbmd0aDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGZhbHNlIGlmIHRoZSB0aGUgaGVhcCBoYXMgZW50cmllcywgdHJ1ZSBpZiB0aGUgaGVhcCBoYXMgbm8gZW50cmllcy5cbiAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn1cbiAgICAgKi9cbiAgICBnZXQgZW1wdHkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxlbmd0aCA9PT0gMDtcbiAgICB9XG59IiwiLyoqXG4gKiBAY2xhc3NcbiAqIEBhbGlhcyBEaXNqb2ludFNldFxuICogQHNlZSB7QGxpbmsgaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvRGlzam9pbnQtc2V0X2RhdGFfc3RydWN0dXJlfVxuICovXG5leHBvcnQgY2xhc3MgRGlzam9pbnRTZXQge1xuICAgIC8qKlxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBhbGlhcyBEaXNqb2ludFNldFxuICAgICAqIEBtZW1iZXJvZiBtb2R1bGU6ZGF0YXN0cnVjdHVyZVxuICAgICAqIEBwYXJhbSB7QXJyYXk9fSBlbGVtZW50cyBcbiAgICAgKiBAcmV0dXJucyB7RGlzam9pbnRTZXR9XG4gICAgICovXG4gICAgY29uc3RydWN0b3IoZWxlbWVudHMgPSBudWxsKSB7XG4gICAgICAgIHRoaXMuX2xpc3QgPSBuZXcgU2V0KCk7XG4gICAgICAgIGlmIChlbGVtZW50cykge1xuICAgICAgICAgICAgZm9yIChjb25zdCBlIG9mIGVsZW1lbnRzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tYWtlX3NldChlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBtYWtlX3NldCh4KSB7XG4gICAgICAgIGNvbnN0IGxpc3QgPSB0aGlzLl9saXN0O1xuICAgICAgICBpZiAoIWxpc3QuaGFzKHgpKSB7XG4gICAgICAgICAgICBsaXN0LmFkZCh4KTtcbiAgICAgICAgICAgIHguX19kaXNqb2ludF9zZXQgPSB7fTtcbiAgICAgICAgICAgIHguX19kaXNqb2ludF9zZXQucGFyZW50ID0geDtcbiAgICAgICAgICAgIHguX19kaXNqb2ludF9zZXQuY2hpbGRyZW4gPSBuZXcgU2V0KFt4XSk7XG4gICAgICAgICAgICB4Ll9fZGlzam9pbnRfc2V0LnNpemUgPSAxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGZpbmQoeCkge1xuICAgICAgICBjb25zdCBsaXN0ID0gdGhpcy5fbGlzdDtcbiAgICAgICAgaWYgKGxpc3QuaGFzKHgpKSB7XG4gICAgICAgICAgICBpZiAoeC5fX2Rpc2pvaW50X3NldC5wYXJlbnQgIT09IHgpIHtcbiAgICAgICAgICAgICAgICB4Ll9fZGlzam9pbnRfc2V0LmNoaWxkcmVuLmFkZCguLi54KTtcbiAgICAgICAgICAgICAgICB4Ll9fZGlzam9pbnRfc2V0LnBhcmVudCA9IHRoaXMuZmluZCh4Ll9fZGlzam9pbnRfc2V0LnBhcmVudCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHguX19kaXNqb2ludF9zZXQucGFyZW50O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4geDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdW5pb24oeCwgeSkge1xuICAgICAgICBsZXQgbm9kZV94ID0gdGhpcy5maW5kKHgpO1xuICAgICAgICBsZXQgbm9kZV95ID0gdGhpcy5maW5kKHkpO1xuXG4gICAgICAgIGlmIChub2RlX3ggPT09IG5vZGVfeSkgcmV0dXJuIHRoaXM7XG4gICAgICAgIGlmIChub2RlX3guX19kaXNqb2ludF9zZXQuc2l6ZSA8IG5vZGVfeS5fX2Rpc2pvaW50X3NldC5zaXplKSBbbm9kZV94LCBub2RlX3ldID0gW25vZGVfeSwgbm9kZV94XTtcblxuICAgICAgICBub2RlX3kuX19kaXNqb2ludF9zZXQucGFyZW50ID0gbm9kZV94O1xuICAgICAgICAvLyBrZWVwIHRyYWNrIG9mIGNoaWxkcmVuP1xuICAgICAgICBub2RlX3kuX19kaXNqb2ludF9zZXQuY2hpbGRyZW4uZm9yRWFjaChub2RlX3guX19kaXNqb2ludF9zZXQuY2hpbGRyZW4uYWRkLCBub2RlX3guX19kaXNqb2ludF9zZXQuY2hpbGRyZW4pO1xuICAgICAgICBub2RlX3guX19kaXNqb2ludF9zZXQuc2l6ZSArPSBub2RlX3kuX19kaXNqb2ludF9zZXQuc2l6ZTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG59IiwiaW1wb3J0IHsgZXVjbGlkZWFuIH0gZnJvbSBcIi4uL21ldHJpY3MvaW5kZXguanNcIjtcbmltcG9ydCB7IEhlYXAgfSBmcm9tIFwiLi4vZGF0YXN0cnVjdHVyZS9pbmRleC5qc1wiO1xuLyoqXG4gKiBAY2xhc3NcbiAqIEBhbGlhcyBCYWxsVHJlZVxuICovXG5leHBvcnQgY2xhc3MgQmFsbFRyZWUge1xuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlcyBhIEJhbGxUcmVlIHdpdGggZ2l2ZW4ge0BsaW5rIGVsZW1lbnRzfS5cbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAbWVtYmVyb2YgbW9kdWxlOmtublxuICAgICAqIEBhbGlhcyBCYWxsVHJlZVxuICAgICAqIEBwYXJhbSB7QXJyYXk9fSBlbGVtZW50cyAtIEVsZW1lbnRzIHdoaWNoIHNob3VsZCBiZSBhZGRlZCB0byB0aGUgQmFsbFRyZWVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbbWV0cmljID0gZXVjbGlkZWFuXSBtZXRyaWMgdG8gdXNlOiAoYSwgYikgPT4gZGlzdGFuY2VcbiAgICAgKiBAc2VlIHtAbGluayBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9CYWxsX3RyZWV9XG4gICAgICogQHNlZSB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL2ludmlzYWwvbm9vYmpzL2Jsb2IvbWFzdGVyL3NyYy90cmVlL0JhbGxUcmVlLmpzfVxuICAgICAqIEByZXR1cm5zIHtCYWxsVHJlZX1cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50cyA9IG51bGwsIG1ldHJpYyA9IGV1Y2xpZGVhbikge1xuICAgICAgICB0aGlzLl9Ob2RlID0gY2xhc3Mge1xuICAgICAgICAgICAgY29uc3RydWN0b3IocGl2b3QsIGNoaWxkMT1udWxsLCBjaGlsZDI9bnVsbCwgcmFkaXVzPW51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBpdm90ID0gcGl2b3Q7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGlsZDEgPSBjaGlsZDE7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGlsZDIgPSBjaGlsZDI7XG4gICAgICAgICAgICAgICAgdGhpcy5yYWRpdXMgPSByYWRpdXM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fTGVhZiA9IGNsYXNzIHtcbiAgICAgICAgICAgIGNvbnN0cnVjdG9yKHBvaW50cykge1xuICAgICAgICAgICAgICAgIHRoaXMucG9pbnRzID0gcG9pbnRzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuX21ldHJpYyA9IG1ldHJpYztcbiAgICAgICAgaWYgKGVsZW1lbnRzKSB7XG4gICAgICAgICAgICB0aGlzLmFkZChlbGVtZW50cyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogQHBhcmFtIHtBcnJheTwqPn0gZWxlbWVudHMgLSBuZXcgZWxlbWVudHMuXG4gICAgICogQHJldHVybnMge0JhbGxUcmVlfVxuICAgICAqL1xuICAgIGFkZChlbGVtZW50cykge1xuICAgICAgICBlbGVtZW50cyA9IGVsZW1lbnRzLm1hcCgoZWxlbWVudCwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB7aW5kZXg6IGluZGV4LCBlbGVtZW50OiBlbGVtZW50fVxuICAgICAgICB9KVxuICAgICAgICB0aGlzLl9yb290ID0gdGhpcy5fY29uc3RydWN0KGVsZW1lbnRzKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5PCo+fSBlbGVtZW50cyBcbiAgICAgKiBAcmV0dXJucyB7Tm9kZX0gcm9vdCBvZiBiYWxsdHJlZS5cbiAgICAgKi9cbiAgICBfY29uc3RydWN0KGVsZW1lbnRzKSB7XG4gICAgICAgIGlmIChlbGVtZW50cy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgdGhpcy5fTGVhZihlbGVtZW50cyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZXQgYyA9IHRoaXMuX2dyZWF0ZXN0X3NwcmVhZChlbGVtZW50cyk7XG4gICAgICAgICAgICBsZXQgc29ydGVkX2VsZW1lbnRzID0gZWxlbWVudHMuc29ydCgoYSwgYikgPT4gYS5lbGVtZW50W2NdIC0gYi5lbGVtZW50W2NdKTtcbiAgICAgICAgICAgIGxldCBuID0gc29ydGVkX2VsZW1lbnRzLmxlbmd0aDtcbiAgICAgICAgICAgIGxldCBwX2luZGV4ID0gTWF0aC5mbG9vcihuIC8gMik7XG4gICAgICAgICAgICBsZXQgcCA9IGVsZW1lbnRzW3BfaW5kZXhdO1xuICAgICAgICAgICAgbGV0IEwgPSBzb3J0ZWRfZWxlbWVudHMuc2xpY2UoMCwgcF9pbmRleCk7XG4gICAgICAgICAgICBsZXQgUiA9IHNvcnRlZF9lbGVtZW50cy5zbGljZShwX2luZGV4LCBuKTtcbiAgICAgICAgICAgIGxldCByYWRpdXMgPSBNYXRoLm1heCguLi5lbGVtZW50cy5tYXAoZCA9PiB0aGlzLl9tZXRyaWMocC5lbGVtZW50LCBkLmVsZW1lbnQpKSk7XG4gICAgICAgICAgICBsZXQgQlxuICAgICAgICAgICAgaWYgKEwubGVuZ3RoID4gMCAmJiBSLmxlbmd0aCA+IDApIHsgICAgICAgICBcbiAgICAgICAgICAgICAgICBCID0gbmV3IHRoaXMuX05vZGUocCwgdGhpcy5fY29uc3RydWN0KEwpLCB0aGlzLl9jb25zdHJ1Y3QoUiksIHJhZGl1cyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIEIgPSBuZXcgdGhpcy5fTGVhZihlbGVtZW50cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gQjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtOb2RlfSBCIFxuICAgICAqIEByZXR1cm5zIHtOdW1iZXJ9XG4gICAgICovXG4gICAgX2dyZWF0ZXN0X3NwcmVhZChCKSB7XG4gICAgICAgIGxldCBkID0gQlswXS5lbGVtZW50Lmxlbmd0aDtcbiAgICAgICAgbGV0IHN0YXJ0ID0gbmV3IEFycmF5KGQpO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZDsgKytpKSB7XG4gICAgICAgICAgICBzdGFydFtpXSA9IFtJbmZpbml0eSwgLUluZmluaXR5XTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBzcHJlYWQgPSBCLnJlZHVjZSgoYWNjLCBjdXJyZW50KSA9PiB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGQ7ICsraSkge1xuICAgICAgICAgICAgICAgIGFjY1tpXVswXSA9IE1hdGgubWluKGFjY1tpXVswXSwgY3VycmVudC5lbGVtZW50W2ldKTtcbiAgICAgICAgICAgICAgICBhY2NbaV1bMV0gPSBNYXRoLm1heChhY2NbaV1bMV0sIGN1cnJlbnQuZWxlbWVudFtpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICB9LCBzdGFydCk7XG4gICAgICAgIHNwcmVhZCA9IHNwcmVhZC5tYXAoZCA9PiBkWzFdIC0gZFswXSk7XG4gICAgICAgIFxuICAgICAgICBsZXQgYyA9IDA7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZDsgKytpKSB7XG4gICAgICAgICAgICBjID0gc3ByZWFkW2ldID4gc3ByZWFkW2NdID8gaSA6IGM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogQHBhcmFtIHsqfSB0IC0gcXVlcnkgZWxlbWVudC5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2sgPSA1XSAtIG51bWJlciBvZiBuZWFyZXN0IG5laWdoYm9ycyB0byByZXR1cm4uXG4gICAgICogQHJldHVybnMge0hlYXB9IC0gSGVhcCBjb25zaXN0cyBvZiB0aGUge0BsaW5rIGt9IG5lYXJlc3QgbmVpZ2hib3JzLlxuICAgICAqL1xuICAgIHNlYXJjaCh0LCBrID0gNSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc2VhcmNoKHQsIGssIG5ldyBIZWFwKG51bGwsIGQgPT4gdGhpcy5fbWV0cmljKGQuZWxlbWVudCwgdCksIFwibWF4XCIpLCB0aGlzLl9yb290KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdCAtIHF1ZXJ5IGVsZW1lbnQuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtrID0gNV0gLSBudW1iZXIgb2YgbmVhcmVzdCBuZWlnaGJvcnMgdG8gcmV0dXJuLlxuICAgICAqIEBwYXJhbSB7SGVhcH0gUSAtIEhlYXAgY29uc2lzdHMgb2YgdGhlIGN1cnJlbnRseSBmb3VuZCB7QGxpbmsga30gbmVhcmVzdCBuZWlnaGJvcnMuXG4gICAgICogQHBhcmFtIHtOb2RlfExlYWZ9IEIgXG4gICAgICovXG4gICAgX3NlYXJjaCh0LCBrLCBRLCBCKSB7XG4gICAgICAgIC8vIEIgaXMgTm9kZVxuICAgICAgICBpZiAoUS5sZW5ndGggPj0gayAmJiBCLnBpdm90ICYmIEIucmFkaXVzICYmIHRoaXMuX21ldHJpYyh0LCBCLnBpdm90LmVsZW1lbnQpIC0gQi5yYWRpdXMgPj0gUS5maXJzdC52YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIFE7XG4gICAgICAgIH0gXG4gICAgICAgIGlmIChCLmNoaWxkMSkgdGhpcy5fc2VhcmNoKHQsIGssIFEsIEIuY2hpbGQxKTtcbiAgICAgICAgaWYgKEIuY2hpbGQyKSB0aGlzLl9zZWFyY2godCwgaywgUSwgQi5jaGlsZDIpO1xuICAgICAgICBcbiAgICAgICAgLy8gQiBpcyBsZWFmXG4gICAgICAgIGlmIChCLnBvaW50cykge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIG4gPSBCLnBvaW50cy5sZW5ndGg7IGkgPCBuOyArK2kpIHtcbiAgICAgICAgICAgICAgICBsZXQgcCA9IEIucG9pbnRzW2ldO1xuICAgICAgICAgICAgICAgIGlmIChrID4gUS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgUS5wdXNoKHApO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIFEucHVzaChwKTtcbiAgICAgICAgICAgICAgICAgICAgUS5wb3AoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFE7XG4gICAgfVxufSIsImltcG9ydCB7IGV1Y2xpZGVhbiB9IGZyb20gXCIuLi9tZXRyaWNzL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBIZWFwIH0gZnJvbSBcIi4uL2RhdGFzdHJ1Y3R1cmUvaW5kZXguanNcIjtcbmltcG9ydCB7IGRpc3RhbmNlX21hdHJpeCwgTWF0cml4IH0gZnJvbSBcIi4uL21hdHJpeC9pbmRleC5qc1wiO1xuXG4vKipcbiAqIEBjbGFzc1xuICogQGFsaWFzIEtOTlxuICovXG5leHBvcnQgY2xhc3MgS05OIHtcbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZXMgYSBLTk4gbGlzdCB3aXRoIGdpdmVuIHtAbGluayBlbGVtZW50c30uXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQG1lbWJlcm9mIG1vZHVsZTprbm5cbiAgICAgKiBAYWxpYXMgS05OXG4gICAgICogQHBhcmFtIHtBcnJheT19IGVsZW1lbnRzIC0gRWxlbWVudHMgd2hpY2ggc2hvdWxkIGJlIGFkZGVkIHRvIHRoZSBLTk4gbGlzdFxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258XCJwcmVjb21wdXRlZFwifSBbbWV0cmljID0gZXVjbGlkZWFuXSBtZXRyaWMgaXMgZWl0aGVyIHByZWNvbXB1dGVkIG9yIGEgZnVuY3Rpb24gdG8gdXNlOiAoYSwgYikgPT4gZGlzdGFuY2VcbiAgICAgKiBAcmV0dXJucyB7S05OfVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnRzPW51bGwsIG1ldHJpYz1ldWNsaWRlYW4pIHtcbiAgICAgICAgdGhpcy5fbWV0cmljID0gbWV0cmljO1xuICAgICAgICB0aGlzLl9lbGVtZW50cyA9IGVsZW1lbnRzIGluc3RhbmNlb2YgTWF0cml4ID8gZWxlbWVudHMgOiBNYXRyaXguZnJvbShlbGVtZW50cyk7XG4gICAgICAgIGNvbnN0IE4gPSB0aGlzLl9lbGVtZW50cy5zaGFwZVswXTtcbiAgICAgICAgaWYgKG1ldHJpYyA9PT0gXCJwcmVjb21wdXRlZFwiKSB7XG4gICAgICAgICAgICB0aGlzLl9EID0gdGhpcy5fZWxlbWVudHMuY2xvbmUoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX0QgPSBkaXN0YW5jZV9tYXRyaXgodGhpcy5fZWxlbWVudHMsIG1ldHJpYyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5LTk4gPSBbXTtcbiAgICAgICAgZm9yIChsZXQgcm93ID0gMDsgcm93IDwgTjsgKytyb3cpIHtcbiAgICAgICAgICAgIGNvbnN0IGRpc3RhbmNlcyA9IHRoaXMuX0Qucm93KHJvdyk7XG4gICAgICAgICAgICBjb25zdCBIID0gbmV3IEhlYXAobnVsbCwgZCA9PiBkLnZhbHVlLCBcIm1pblwiKTtcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgTjsgKytqKSB7XG4gICAgICAgICAgICAgICAgSC5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGRpc3RhbmNlc1tqXSxcbiAgICAgICAgICAgICAgICAgICAgaW5kZXg6IGosXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLktOTi5wdXNoKEgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogQHBhcmFtIHtBcnJheXxOdW1iZXJ9IHQgLSBxdWVyeSBlbGVtZW50IG9yIGluZGV4LlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbayA9IDVdIC0gbnVtYmVyIG9mIG5lYXJlc3QgbmVpZ2hib3JzIHRvIHJldHVybi5cbiAgICAgKiBAcmV0dXJucyB7SGVhcH0gLSBIZWFwIGNvbnNpc3RzIG9mIHRoZSB7QGxpbmsga30gbmVhcmVzdCBuZWlnaGJvcnMuXG4gICAgICovXG4gICAgc2VhcmNoKHQsIGsgPSA1KSB7XG4gICAgICAgIGNvbnN0IG1ldHJpYyA9IHRoaXMuX21ldHJpYztcbiAgICAgICAgY29uc3QgS05OID0gdGhpcy5LTk47XG4gICAgICAgIGxldCBIO1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh0KSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX21ldHJpYyA9PSBcInByZWNvbXB1dGVkXCIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBcIlNlYXJjaCBieSBxdWVyeSBlbGVtZW50IGlzIG9ubHkgcG9zc2libGUgd2hlbiBub3QgdXNpbmcgYSBwcmVjb21wdXRlZCBkaXN0YW5jZSBtYXRyaXghXCJcbiAgICAgICAgICAgIH0gXG4gICAgICAgICAgICBjb25zdCBlbGVtZW50cyA9IHRoaXMuX2VsZW1lbnRzO1xuICAgICAgICAgICAgY29uc3QgTiA9IEtOTi5sZW5ndGg7XG4gICAgICAgICAgICBsZXQgbmVhcmVzdF9lbGVtZW50X2luZGV4ID0gbnVsbDtcbiAgICAgICAgICAgIGxldCBuZWFyZXN0X2Rpc3QgPSBJbmZpbml0eTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgTjsgKytpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IGVsZW1lbnRzLnJvdyhpKTtcbiAgICAgICAgICAgICAgICBjb25zdCBkaXN0ID0gbWV0cmljKHQsIGVsZW1lbnQpO1xuICAgICAgICAgICAgICAgIGlmIChkaXN0IDwgbmVhcmVzdF9kaXN0KSB7XG4gICAgICAgICAgICAgICAgICAgIG5lYXJlc3RfZWxlbWVudF9pbmRleCA9IGk7XG4gICAgICAgICAgICAgICAgICAgIG5lYXJlc3RfZGlzdCA9IGRpc3Q7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgSCA9IEtOTltuZWFyZXN0X2VsZW1lbnRfaW5kZXhdO1xuICAgICAgICB9IGVsc2UgaWYgKE51bWJlci5pc0ludGVnZXIodCkpIHtcbiAgICAgICAgICAgIEggPSBLTk5bdF1cbiAgICAgICAgfVxuXG4gICAgICAgIGxldCByZXN1bHQgPSBbXVxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGs7ICsraSkge1xuICAgICAgICAgICAgcmVzdWx0LnB1c2goSC5wb3AoKSlcbiAgICAgICAgfVxuICAgICAgICByZXN1bHQuZm9yRWFjaChyZXMgPT4gSC5wdXNoKHJlcy5lbGVtZW50KSlcbiAgICAgICAgcmV0dXJuIHJlc3VsdFxuICAgIH0gICAgXG59XG4iLCJpbXBvcnQgeyBldWNsaWRlYW4gfSBmcm9tIFwiLi4vbWV0cmljcy9pbmRleC5qc1wiO1xuaW1wb3J0IHsgTWF0cml4IH0gZnJvbSBcIi4uL21hdHJpeC9pbmRleC5qc1wiO1xuaW1wb3J0IHsgUmFuZG9taXplciB9IGZyb20gXCIuLi91dGlsL2luZGV4LmpzXCI7XG5cbi8qKlxuICogQGNsYXNzXG4gKiBAYWxpYXMgRFJcbiAqIEBib3Jyb3dzIERSI3BhcmFtZXRlciBhcyBEUiNwYXJhXG4gKiBAYm9ycm93cyBEUiNwYXJhbWV0ZXIgYXMgRFIjcFxuICovXG5leHBvcnQgY2xhc3MgRFIge1xuICAgIC8qKlxuICAgICAqIFRha2VzIHRoZSBkZWZhdWx0IHBhcmFtZXRlcnMgYW5kIHNlYWxzIHRoZW0sIHJlbWVtYmVycyB0aGUgdHlwZSBvZiBpbnB1dCA8Y29kZT5YPC9jb2RlPiwgYW5kIGluaXRpYWxpemVzIHRoZSByYW5kb20gbnVtYmVyIGdlbmVyYXRvci5cbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAbWVtYmVyb2YgbW9kdWxlOkBkcnVpZC9kaW1lbnNpb25hbGl0eV9yZWR1Y3Rpb25cbiAgICAgKiBAYWxpYXMgRFJcbiAgICAgKiBAcGFyYW0ge01hdHJpeHxOdW1iZXJbXVtdfSBYIC0gdGhlIGhpZ2gtZGltZW5zaW9uYWwgZGF0YS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW3BhcmFtZXRlcnNdIC0gT2JqZWN0IGNvbnRhaW5pbmcgcGFyYW1ldGVyaXphdGlvbiBvZiB0aGUgRFIgbWV0aG9kLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbcGFyYW1ldGVycy5kID0gMl0gLSB0aGUgZGltZW5zaW9uYWxpdHkgb2YgdGhlIHByb2plY3Rpb24uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3BhcmFtZXRlcnMubWV0cmljID0gZXVjbGlkZWFuXSAtIHRoZSBtZXRyaWMgd2hpY2ggZGVmaW5lcyB0aGUgZGlzdGFuY2UgYmV0d2VlbiB0d28gcG9pbnRzLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbcGFyYW1ldGVycy5zZWVkID0gMTIxMl0gLSB0aGUgc2VlZCB2YWx1ZSBmb3IgdGhlIHJhbmRvbSBudW1iZXIgZ2VuZXJhdG9yLlxuICAgICAqIEByZXR1cm5zIHtEUn1cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihYLCBkZWZhdWx0X3BhcmFtZXRlcnMsIHBhcmFtZXRlcnMpIHtcbiAgICAgICAgdGhpcy5fcGFyYW1ldGVycyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LnNlYWwoZGVmYXVsdF9wYXJhbWV0ZXJzKSwgcGFyYW1ldGVycyk7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KFgpKSB7XG4gICAgICAgICAgICB0aGlzLl90eXBlID0gXCJhcnJheVwiO1xuICAgICAgICAgICAgdGhpcy5YID0gTWF0cml4LmZyb20oWCk7XG4gICAgICAgIH0gZWxzZSBpZiAoWCBpbnN0YW5jZW9mIE1hdHJpeCkge1xuICAgICAgICAgICAgdGhpcy5fdHlwZSA9IFwibWF0cml4XCI7XG4gICAgICAgICAgICB0aGlzLlggPSBYO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gdmFsaWQgdHlwZSBmb3IgWCFcIik7XG4gICAgICAgIH1cbiAgICAgICAgW3RoaXMuX04sIHRoaXMuX0RdID0gdGhpcy5YLnNoYXBlO1xuICAgICAgICB0aGlzLl9yYW5kb21pemVyID0gbmV3IFJhbmRvbWl6ZXIodGhpcy5fcGFyYW1ldGVycy5zZWVkKTtcbiAgICAgICAgdGhpcy5faXNfaW5pdGlhbGl6ZWQgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IGFuZCBnZXQgcGFyYW1ldGVyc1xuICAgICAqIEBjaGFpbmFibGVcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gbmFtZSAtIG5hbWUgb2YgdGhlIHBhcmFtZXRlci5cbiAgICAgKiBAcGFyYW0ge2FueX0gW3ZhbHVlID0gbnVsbF0gLSB2YWx1ZSBvZiB0aGUgcGFyYW1ldGVyIHRvIHNldC5cbiAgICAgKiBAcmV0dXJucyB7RFJ8YW55fSAtIE9uIHNldHRpbmcgYSBwYXJhbWV0ZXIsIHRoaXMgZnVuY3Rpb24gcmV0dXJucyB0aGUgRFIgb2JqZWN0LiBJZiA8Y29kZT52YWx1ZSA9PSBudWxsPC9jb2RlPiB0aGVuIHJldHVybiBhY3R1YWwgcGFyYW1ldGVyIHZhbHVlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3QgRFIgPSBuZXcgZHJ1aWQuVFNORShYLCB7ZDogM30pOyAvLyBjcmVhdGVzIGEgbmV3IERSIG9iamVjdCwgd2l0aCBwYXJhbWV0ZXIgZm9yIDxjb2RlPmQ8L2NvZGU+ID0gMy5cbiAgICAgKiBEUi5wYXJhbWV0ZXIoXCJkXCIpOyAvLyByZXR1cm5zIDMsXG4gICAgICogRFIucGFyYW1ldGVyKFwiZFwiLCAyKTsgLy8gc2V0cyBwYXJhbWV0ZXIgPGNvZGU+ZDwvY29kZT4gdG8gMiBhbmQgcmV0dXJucyA8Y29kZT5EUjwvY29kZT4uXG4gICAgICovXG4gICAgcGFyYW1ldGVyKG5hbWUsIHZhbHVlID0gbnVsbCkge1xuICAgICAgICBpZiAoIXRoaXMuX3BhcmFtZXRlcnMuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgJHtuYW1lfSBpcyBub3QgYSB2YWxpZCBwYXJhbWV0ZXIhYCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLl9wYXJhbWV0ZXJzW25hbWVdID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLl9pc19pbml0aWFsaXplZCA9IGZhbHNlO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcGFyYW1ldGVyc1tuYW1lXTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHBhcmEobmFtZSwgdmFsdWUgPSBudWxsKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBhcmFtZXRlcihuYW1lLCB2YWx1ZSk7XG4gICAgfVxuXG4gICAgcChuYW1lLCB2YWx1ZSA9IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGFyYW1ldGVyKG5hbWUsIHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyB0aGUgcHJvamVjdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7TWF0cml4fSAtIFJldHVybnMgdGhlIHByb2plY3Rpb24uXG4gICAgICovXG4gICAgdHJhbnNmb3JtKCkge1xuICAgICAgICB0aGlzLmNoZWNrX2luaXQoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvamVjdGlvbjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyB0aGUgcHJvamVjdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7R2VuZXJhdG9yfSAtIEEgZ2VuZXJhdG9yIHlpZWxkaW5nIHRoZSBpbnRlcm1lZGlhdGUgc3RlcHMgb2YgdGhlIGRpbWVuc2lvbmFsaXR5IHJlZHVjdGlvbiBtZXRob2QuXG4gICAgICovXG4gICAgKmdlbmVyYXRvcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNmb3JtKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSWYgdGhlIHJlc3BlY3RpdmUgRFIgbWV0aG9kIGhhcyBhbiA8Y29kZT5pbml0PC9jb2RlPiBmdW5jdGlvbiwgY2FsbCBpdCBiZWZvcmUgPGNvZGU+dHJhbnNmb3JtPC9jb2RlPi5cbiAgICAgKiBAcmV0dXJucyB7RFJ9XG4gICAgICovXG4gICAgY2hlY2tfaW5pdCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9pc19pbml0aWFsaXplZCAmJiB0eXBlb2YgdGhpcy5pbml0ID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIHRoaXMuaW5pdCgpO1xuICAgICAgICAgICAgdGhpcy5faXNfaW5pdGlhbGl6ZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEByZXR1cm5zIHtNYXRyaXh8TnVtYmVyW11bXX0gUmV0dXJucyB0aGUgcHJvamVjdGlvbi5cbiAgICAgKi9cbiAgICBnZXQgcHJvamVjdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMuaGFzT3duUHJvcGVydHkoXCJZXCIpKSB7XG4gICAgICAgICAgICB0aGlzLmNoZWNrX2luaXQoKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90eXBlID09PSBcIm1hdHJpeFwiID8gdGhpcy5ZIDogdGhpcy5ZLnRvMmRBcnJheTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlRoZSBkYXRhc2V0IGlzIG5vdCB0cmFuc2Zvcm1lZCB5ZXQhXCIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0gIHsuLi5hbnl9IFthcmdzXSAtIEFyZ3VtZW50cyB0aGUgdHJhbnNmb3JtIG1ldGhvZCBvZiB0aGUgcmVzcGVjdGl2ZSBEUiBtZXRob2QgdGFrZXMuXG4gICAgICogQHJldHVybnMge1Byb21pc2V9IC0gQSBwcm9taXNlIHlpZWxkaW5nIHRoZSBkaW1lbnNpb25hbGl0eSByZWR1Y2VkIGRhdGFzZXQuXG4gICAgICovXG4gICAgYXN5bmMgdHJhbnNmb3JtX2FzeW5jKC4uLmFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNmb3JtKC4uLmFyZ3MpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0gIHsuLi5hbnl9IFthcmdzXSAtIFRha2VzIHRoZSBzYW1lIGFyZ3VtZW50cyBvZiB0aGUgY29uc3RydWN0b3Igb2YgdGhlIHJlc3BlY3RpdmUgRFIgbWV0aG9kLlxuICAgICAqIEByZXR1cm5zIHtNYXRyaXh8QXJyYXl9IC0gVGhlIGRpbWVuc2lvbmFsaXR5IHJlZHVjZWQgZGF0YXNldC5cbiAgICAgKi9cbiAgICBzdGF0aWMgdHJhbnNmb3JtKC4uLmFyZ3MpIHtcbiAgICAgICAgbGV0IGRyID0gbmV3IHRoaXMoLi4uYXJncyk7XG4gICAgICAgIHJldHVybiBkci50cmFuc2Zvcm0oKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtICB7Li4uYW55fSBbYXJnc10gLSBUYWtlcyB0aGUgc2FtZSBhcmd1bWVudHMgb2YgdGhlIGNvbnN0cnVjdG9yIG9mIHRoZSByZXNwZWN0aXZlIERSIG1ldGhvZC5cbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZX0gLSBBIHByb21pc2UgeWllbGRpbmcgdGhlIGRpbWVuc2lvbmFsaXR5IHJlZHVjZWQgZGF0YXNldC5cbiAgICAgKi9cbiAgICBzdGF0aWMgYXN5bmMgdHJhbnNmb3JtX2FzeW5jKC4uLmFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNmb3JtKC4uLmFyZ3MpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0gIHsuLi5hbnl9IFthcmdzXSAtIFRha2VzIHRoZSBzYW1lIGFyZ3VtZW50cyBvZiB0aGUgY29uc3RydWN0b3Igb2YgdGhlIHJlc3BlY3RpdmUgRFIgbWV0aG9kLlxuICAgICAqIEByZXR1cm5zIHtHZW5lcmF0b3J9IC0gQSBnZW5lcmF0b3IgeWllbGRpbmcgdGhlIGludGVybWVkaWF0ZSBzdGVwcyBvZiB0aGUgZGltZW5zaW9uYWxpdHkgcmVkdWN0aW9uIG1ldGhvZC5cbiAgICAgKi9cbiAgICBzdGF0aWMgKmdlbmVyYXRvciguLi5hcmdzKSB7XG4gICAgICAgIGNvbnN0IGRyID0gbmV3IHRoaXMoLi4uYXJncyk7XG4gICAgICAgIGNvbnN0IGdlbmVyYXRvciA9IGRyLmdlbmVyYXRvcigpO1xuICAgICAgICBmb3IgKGNvbnN0IHJlc3VsdCBvZiBnZW5lcmF0b3IpIHtcbiAgICAgICAgICAgIHlpZWxkIHJlc3VsdDtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCB7IHNpbXVsdGFuZW91c19wb3dlcml0ZXJhdGlvbiB9IGZyb20gXCIuLi9saW5lYXJfYWxnZWJyYS9pbmRleC5qc1wiO1xuaW1wb3J0IHsgTWF0cml4IH0gZnJvbSBcIi4uL21hdHJpeC9pbmRleC5qc1wiO1xuaW1wb3J0IHsgRFIgfSBmcm9tIFwiLi9EUi5qc1wiO1xuXG4vKipcbiAqIEBjbGFzc1xuICogQGFsaWFzIFBDQVxuICogQGF1Z21lbnRzIERSXG4gKi9cbmV4cG9ydCBjbGFzcyBQQ0EgZXh0ZW5kcyBEUiB7XG4gICAgLyoqXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQG1lbWJlcm9mIG1vZHVsZTpkcnVpZC9kaW1lbnNpb25hbGl0eV9yZWR1Y3Rpb25cbiAgICAgKiBAYWxpYXMgUENBXG4gICAgICogQHBhcmFtIHtNYXRyaXh8TnVtYmVyW11bXX0gWCAtIHRoZSBoaWdoLWRpbWVuc2lvbmFsIGRhdGEuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHBhcmFtZXRlcnMgLSBPYmplY3QgY29udGFpbmluZyBwYXJhbWV0ZXJpemF0aW9uIG9mIHRoZSBEUiBtZXRob2QuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtwYXJhbWV0ZXJzLmQgPSAyXSAtIHRoZSBkaW1lbnNpb25hbGl0eSBvZiB0aGUgcHJvamVjdGlvbi5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3BhcmFtZXRlcnMuc2VlZCA9IDEyMTJdIC0gdGhlIHNlZWQgZm9yIHRoZSByYW5kb20gbnVtYmVyIGdlbmVyYXRvci5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3BhcmFtZXRlcnMuZWlnX2FyZ3NdIC0gUGFyYW1ldGVycyBmb3IgdGhlIGVpZ2VuZGVjb21wb3NpdGlvbiBhbGdvcml0aG0uXG4gICAgICogQHJldHVybnMge1BDQX1cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihYLCBwYXJhbWV0ZXJzKSB7XG4gICAgICAgIHN1cGVyKFgsIHsgZDogMiwgc2VlZDogMTIxMiwgZWlnX2FyZ3M6IHt9IH0sIHBhcmFtZXRlcnMpO1xuICAgICAgICBpZiAoIXRoaXMuX3BhcmFtZXRlcnMuZWlnX2FyZ3MuaGFzT3duUHJvcGVydHkoXCJzZWVkXCIpKSB7XG4gICAgICAgICAgICB0aGlzLl9wYXJhbWV0ZXJzLmVpZ19hcmdzLnNlZWQgPSB0aGlzLl9yYW5kb21pemVyO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRyYW5zZm9ybXMgdGhlIGlucHV0ZGF0YSB7QGxpbmsgWH0gdG8gZGltZW5zaW9uYWxpdHkge0BsaW5rIGR9LiBJZiBwYXJhbWV0ZXIge0BsaW5rIEF9IGlzIGdpdmVuLCB0aGVuIHByb2plY3Qge0BsaW5rIEF9IHdpdGggdGhlIHByaW5jaXBhbCBjb21wb25lbnRzIG9mIHtAbGluayBYfS5cbiAgICAgKiBAcGFyYW0ge251bGx8TWF0cml4fEFycmF5fSBbQSA9IG51bGxdIC0gSWYgZ2l2ZW4sIHRoZSBkYXRhIHRvIHByb2plY3QuXG4gICAgICogQHJldHVybnMge01hdHJpeHxBcnJheX0gLSBUaGUgcHJvamVjdGVkIGRhdGEuXG4gICAgICovXG4gICAgdHJhbnNmb3JtKEEgPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IFYgPSB0aGlzLnByaW5jaXBhbF9jb21wb25lbnRzKCk7XG4gICAgICAgIGlmIChBID09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnN0IFggPSB0aGlzLlg7XG4gICAgICAgICAgICB0aGlzLlkgPSBYLmRvdChWKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnByb2plY3Rpb247XG4gICAgICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShBKSkge1xuICAgICAgICAgICAgcmV0dXJuIE1hdHJpeC5mcm9tKEEpLmRvdChWKS5hc0FycmF5O1xuICAgICAgICB9IGVsc2UgaWYgKEEgaW5zdGFuY2VvZiBNYXRyaXgpIHtcbiAgICAgICAgICAgIHJldHVybiBBLmRvdChWKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vIHZhbGlkIHR5cGUgZm9yIEEhXCIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29tcHV0ZXMgdGhlIHtAbGluayBkfSBwcmluY2lwYWwgY29tcG9uZW50cyBvZiBNYXRyaXgge0BsaW5rIFh9LlxuICAgICAqIEByZXR1cm5zIHtNYXRyaXh9XG4gICAgICovXG4gICAgcHJpbmNpcGFsX2NvbXBvbmVudHMoKSB7XG4gICAgICAgIGlmICh0aGlzLlYpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLlY7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeyBkLCBlaWdfYXJncyB9ID0gdGhpcy5fcGFyYW1ldGVycztcbiAgICAgICAgY29uc3QgWCA9IHRoaXMuWDtcbiAgICAgICAgY29uc3QgbWVhbnMgPSBNYXRyaXguZnJvbShYLm1lYW5Db2xzKTtcbiAgICAgICAgY29uc3QgWF9jZW50ID0gWC5zdWIobWVhbnMpO1xuICAgICAgICBjb25zdCBDID0gWF9jZW50LnRyYW5zcG9zZSgpLmRvdChYX2NlbnQpO1xuICAgICAgICBjb25zdCB7IGVpZ2VudmVjdG9yczogViB9ID0gc2ltdWx0YW5lb3VzX3Bvd2VyaXRlcmF0aW9uKEMsIGQsIGVpZ19hcmdzKTtcbiAgICAgICAgdGhpcy5WID0gTWF0cml4LmZyb20oVikudHJhbnNwb3NlKCk7XG4gICAgICAgIHJldHVybiB0aGlzLlY7XG4gICAgfVxuXG4gICAgc3RhdGljIHByaW5jaXBhbF9jb21wb25lbnRzKFgsIHBhcmFtZXRlcnMpIHtcbiAgICAgICAgY29uc3QgZHIgPSBuZXcgdGhpcyhYLCBwYXJhbWV0ZXJzKTtcbiAgICAgICAgcmV0dXJuIGRyLnByaW5jaXBhbF9jb21wb25lbnRzKCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgc2ltdWx0YW5lb3VzX3Bvd2VyaXRlcmF0aW9uIH0gZnJvbSBcIi4uL2xpbmVhcl9hbGdlYnJhL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBkaXN0YW5jZV9tYXRyaXgsIE1hdHJpeCB9IGZyb20gXCIuLi9tYXRyaXgvaW5kZXguanNcIjtcbmltcG9ydCB7IGV1Y2xpZGVhbiB9IGZyb20gXCIuLi9tZXRyaWNzL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBEUiB9IGZyb20gXCIuL0RSLmpzXCI7XG5cbi8qKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBEUlxuICovXG5leHBvcnQgY2xhc3MgTURTIGV4dGVuZHMgRFIge1xuICAgIC8qKlxuICAgICAqIENsYXNzaWNhbCBNRFMuXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQG5hbWUgZHJ1aWQuTURTXG4gICAgICogQGFsaWFzIE1EU1xuICAgICAqIEBtZW1iZXJvZiBtb2R1bGU6QGRydWlkL2RpbWVuc2lvbmFsaXR5X3JlZHVjdGlvblxuICAgICAqIEBwYXJhbSB7TWF0cml4fSBYIC0gdGhlIGhpZ2gtZGltZW5zaW9uYWwgZGF0YS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW3BhcmFtZXRlcnNdIC0gT2JqZWN0IGNvbnRhaW5pbmcgcGFyYW1ldGVyaXphdGlvbiBvZiB0aGUgRFIgbWV0aG9kLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbcGFyYW1ldGVycy5kID0gMl0gLSB0aGUgZGltZW5zaW9uYWxpdHkgb2YgdGhlIHByb2plY3Rpb24uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbnxcInByZWNvbXB1dGVkXCJ9IFtwYXJhbWV0ZXJzLm1ldHJpYyA9IGV1Y2xpZGVhbl0gLSB0aGUgbWV0cmljIHdoaWNoIGRlZmluZXMgdGhlIGRpc3RhbmNlIGJldHdlZW4gdHdvIHBvaW50cy5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3BhcmFtZXRlcnMuc2VlZCA9IDEyMTJdIC0gdGhlIHNlZWQgZm9yIHRoZSByYW5kb20gbnVtYmVyIGdlbmVyYXRvci5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW3BhcmFtZXRlcnMuZWlnX2FyZ3NdIC0gUGFyYW1ldGVycyBmb3IgdGhlIGVpZ2VuZGVjb21wb3NpdGlvbiBhbGdvcml0aG0uXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoWCwgcGFyYW1ldGVycykge1xuICAgICAgICBzdXBlcihYLCB7IGQ6IDIsIG1ldHJpYzogZXVjbGlkZWFuLCBzZWVkOiAxMjEyLCBlaWdfYXJnczoge30gfSwgcGFyYW1ldGVycyk7XG4gICAgICAgIGlmICghdGhpcy5fcGFyYW1ldGVycy5laWdfYXJncy5oYXNPd25Qcm9wZXJ0eShcInNlZWRcIikpIHtcbiAgICAgICAgICAgIHRoaXMuX3BhcmFtZXRlcnMuZWlnX2FyZ3Muc2VlZCA9IHRoaXMuX3JhbmRvbWl6ZXI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVHJhbnNmb3JtcyB0aGUgaW5wdXRkYXRhIHtAbGluayBYfSB0byBkaW1lbnNpb25hbGl0eSB7QGxpbmsgZH0uXG4gICAgICogQHJldHVybnMge01hdHJpeHxBcnJheX1cbiAgICAgKi9cbiAgICB0cmFuc2Zvcm0oKSB7XG4gICAgICAgIGNvbnN0IFggPSB0aGlzLlg7XG4gICAgICAgIGNvbnN0IHJvd3MgPSBYLnNoYXBlWzBdO1xuICAgICAgICBjb25zdCB7IGQsIG1ldHJpYywgZWlnX2FyZ3MgfSA9IHRoaXMuX3BhcmFtZXRlcnM7XG4gICAgICAgIGNvbnN0IEEgPSBtZXRyaWMgPT09IFwicHJlY29tcHV0ZWRcIiA/IFggOiBkaXN0YW5jZV9tYXRyaXgoWCwgbWV0cmljKTtcbiAgICAgICAgY29uc3QgYWlfID0gQS5tZWFuQ29scztcbiAgICAgICAgY29uc3QgYV9qID0gQS5tZWFuUm93cztcbiAgICAgICAgY29uc3QgYV9fID0gQS5tZWFuO1xuXG4gICAgICAgIHRoaXMuX2RfWCA9IEE7XG4gICAgICAgIGNvbnN0IEIgPSBuZXcgTWF0cml4KHJvd3MsIHJvd3MsIChpLCBqKSA9PiBBLmVudHJ5KGksIGopIC0gYWlfW2ldIC0gYV9qW2pdICsgYV9fKTtcblxuICAgICAgICBjb25zdCB7IGVpZ2VudmVjdG9yczogViB9ID0gc2ltdWx0YW5lb3VzX3Bvd2VyaXRlcmF0aW9uKEIsIGQsIGVpZ19hcmdzKTtcbiAgICAgICAgdGhpcy5ZID0gTWF0cml4LmZyb20oVikudHJhbnNwb3NlKCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMucHJvamVjdGlvbjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcmV0dXJucyB7TnVtYmVyfSAtIHRoZSBzdHJlc3Mgb2YgdGhlIHByb2plY3Rpb24uXG4gICAgICovXG4gICAgc3RyZXNzKCkge1xuICAgICAgICBjb25zdCBOID0gdGhpcy5YLnNoYXBlWzBdO1xuICAgICAgICBjb25zdCBZID0gdGhpcy5ZO1xuICAgICAgICBjb25zdCBkX1ggPSB0aGlzLl9kX1g7XG4gICAgICAgIGNvbnN0IGRfWSA9IG5ldyBNYXRyaXgoKTtcbiAgICAgICAgZF9ZLnNoYXBlID0gW1xuICAgICAgICAgICAgTixcbiAgICAgICAgICAgIE4sXG4gICAgICAgICAgICAoaSwgaikgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBpIDwgaiA/IGV1Y2xpZGVhbihZLnJvdyhpKSwgWS5yb3coaikpIDogZF9ZLmVudHJ5KGosIGkpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgXTtcbiAgICAgICAgbGV0IHRvcF9zdW0gPSAwO1xuICAgICAgICBsZXQgYm90dG9tX3N1bSA9IDA7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgTjsgKytpKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gaSArIDE7IGogPCBOOyArK2opIHtcbiAgICAgICAgICAgICAgICB0b3Bfc3VtICs9IE1hdGgucG93KGRfWC5lbnRyeShpLCBqKSAtIGRfWS5lbnRyeShpLCBqKSwgMik7XG4gICAgICAgICAgICAgICAgYm90dG9tX3N1bSArPSBNYXRoLnBvdyhkX1guZW50cnkoaSwgaiksIDIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBNYXRoLnNxcnQodG9wX3N1bSAvIGJvdHRvbV9zdW0pO1xuICAgIH1cbn1cbiIsIi8qKlxuICpcbiAqIEBtZW1iZXJvZiBtb2R1bGU6b3B0aW1pemF0aW9uXG4gKiBAYWxpYXMgcG93ZWxsXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmXG4gKiBAcGFyYW0ge0FycmF5fSB4MFxuICogQHBhcmFtIHtOdW1iZXJ9IFttYXhfaXRlciA9IDMwMF1cbiAqIEByZXR1cm5zIHtBcnJheX1cbiAqIEBzZWUgaHR0cDovL29wdGltaXphdGlvbi1qcy5naXRodWIuaW8vb3B0aW1pemF0aW9uLWpzL29wdGltaXphdGlvbi5qcy5odG1sI2xpbmU0MzhcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKGYsIHgwLCBtYXhfaXRlciA9IDMwMCkge1xuICAgIGNvbnN0IGVwc2lsb24gPSAxZS0yO1xuICAgIGNvbnN0IG4gPSB4MC5sZW5ndGg7XG4gICAgbGV0IGFscGhhID0gMWUtMztcbiAgICBsZXQgcGZ4ID0gMTAwMDA7XG4gICAgbGV0IHggPSB4MC5zbGljZSgpO1xuICAgIGxldCBmeCA9IGYoeCk7XG4gICAgbGV0IGNvbnZlcmdlbmNlID0gZmFsc2U7XG5cbiAgICB3aGlsZSAobWF4X2l0ZXItLSA+PSAwICYmICFjb252ZXJnZW5jZSkge1xuICAgICAgICBjb252ZXJnZW5jZSA9IHRydWU7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbjsgKytpKSB7XG4gICAgICAgICAgICB4W2ldICs9IDFlLTY7XG4gICAgICAgICAgICBsZXQgZnhpID0gZih4KTtcbiAgICAgICAgICAgIHhbaV0gLT0gMWUtNjtcbiAgICAgICAgICAgIGxldCBkeCA9IChmeGkgLSBmeCkgLyAxZS02O1xuICAgICAgICAgICAgaWYgKE1hdGguYWJzKGR4KSA+IGVwc2lsb24pIHtcbiAgICAgICAgICAgICAgICBjb252ZXJnZW5jZSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgeFtpXSAtPSBhbHBoYSAqIGR4O1xuICAgICAgICAgICAgZnggPSBmKHgpO1xuICAgICAgICB9XG4gICAgICAgIGFscGhhICo9IHBmeCA+PSBmeCA/IDEuMDUgOiAwLjQ7XG4gICAgICAgIHBmeCA9IGZ4O1xuICAgIH1cbiAgICByZXR1cm4geDtcbn1cbiIsImltcG9ydCB7IGV1Y2xpZGVhbiB9IGZyb20gXCIuLi9tZXRyaWNzL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBNYXRyaXggfSBmcm9tIFwiLi4vbWF0cml4L2luZGV4LmpzXCI7XG4vKipcbiAqIEBjbGFzc1xuICogQGFsaWFzIEhpZXJhcmNoaWNhbF9DbHVzdGVyaW5nXG4gKi9cbmV4cG9ydCBjbGFzcyBIaWVyYXJjaGljYWxfQ2x1c3RlcmluZyB7XG4gICAgLyoqXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQG1lbWJlcm9mIG1vZHVsZTpjbHVzdGVyaW5nXG4gICAgICogQGFsaWFzIEhpZXJhcmNoaWNhbF9DbHVzdGVyaW5nXG4gICAgICogQHRvZG8gbmVlZHMgcmVzdHJ1Y3R1cmluZy5cbiAgICAgKiBAcGFyYW0ge01hdHJpeH0gLSBEYXRhIG9yIGRpc3RhbmNlIG1hdHJpeCBpZiBtZXRyaWMgaXMgJ3ByZWNvbXB1dGVkJ1xuICAgICAqIEBwYXJhbSB7KFwic2luZ2xlXCJ8XCJjb21wbGV0ZVwifFwiYXZlcmFnZVwiKX0gW2xpbmthZ2UgPSBcImNvbXBsZXRlXCJdXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbnxcInByZWNvbXB1dGVkXCJ9IFttZXRyaWMgPSBldWNsaWRlYW5dXG4gICAgICogQHJldHVybnMge0hpZXJhcmNoaWNhbF9DbHVzdGVyaW5nfVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKG1hdHJpeCwgbGlua2FnZSA9IFwiY29tcGxldGVcIiwgbWV0cmljID0gZXVjbGlkZWFuKSB7XG4gICAgICAgIHRoaXMuX2lkID0gMDtcbiAgICAgICAgdGhpcy5fbWF0cml4ID0gbWF0cml4IGluc3RhbmNlb2YgTWF0cml4ID8gbWF0cml4IDogTWF0cml4LmZyb20obWF0cml4KTtcbiAgICAgICAgdGhpcy5fbWV0cmljID0gbWV0cmljO1xuICAgICAgICB0aGlzLl9saW5rYWdlID0gbGlua2FnZTtcbiAgICAgICAgaWYgKG1ldHJpYyA9PT0gXCJwcmVjb21wdXRlZFwiICYmIHRoaXMuX21hdHJpeC5zaGFwZVswXSAhPT0gdGhpcy5fbWF0cml4LnNoYXBlWzFdKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJZiBtZXRyaWMgaXMgJ3ByZWNvbXB1dGVkJywgdGhlbiBtYXRyaXggaGFzIHRvIGJlIHNxdWFyZSFcIik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pbml0KCk7XG4gICAgICAgIHRoaXMucm9vdCA9IHRoaXMuZG8oKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gdmFsdWUgLSB2YWx1ZSB3aGVyZSB0byBjdXQgdGhlIHRyZWUuXG4gICAgICogQHBhcmFtIHsoXCJkaXN0YW5jZVwifFwiZGVwdGhcIil9IFt0eXBlID0gXCJkaXN0YW5jZVwiXSAtIHR5cGUgb2YgdmFsdWUuXG4gICAgICogQHJldHVybnMge0FycmF5PEFycmF5Pn0gLSBBcnJheSBvZiBjbHVzdGVycyB3aXRoIHRoZSBpbmRpY2VzIG9mIHRoZSByb3dzIGluIGdpdmVuIHtAbGluayBtYXRyaXh9LlxuICAgICAqL1xuICAgIGdldF9jbHVzdGVycyh2YWx1ZSwgdHlwZSA9IFwiZGlzdGFuY2VcIikge1xuICAgICAgICBsZXQgY2x1c3RlcnMgPSBbXTtcbiAgICAgICAgbGV0IGFjY2Vzc29yO1xuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJkaXN0YW5jZVwiOlxuICAgICAgICAgICAgICAgIGFjY2Vzc29yID0gKGQpID0+IGQuZGlzdDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJkZXB0aFwiOlxuICAgICAgICAgICAgICAgIGFjY2Vzc29yID0gKGQpID0+IGQuZGVwdGg7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImludmFsaWQgdHlwZVwiKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl90cmF2ZXJzZSh0aGlzLnJvb3QsIGFjY2Vzc29yLCB2YWx1ZSwgY2x1c3RlcnMpO1xuICAgICAgICByZXR1cm4gY2x1c3RlcnM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge30gbm9kZVxuICAgICAqIEBwYXJhbSB7Kn0gZlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWVcbiAgICAgKiBAcGFyYW0geyp9IHJlc3VsdFxuICAgICAqL1xuICAgIF90cmF2ZXJzZShub2RlLCBmLCB2YWx1ZSwgcmVzdWx0KSB7XG4gICAgICAgIGlmIChmKG5vZGUpIDw9IHZhbHVlKSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaChub2RlLmxlYXZlcygpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3RyYXZlcnNlKG5vZGUubGVmdCwgZiwgdmFsdWUsIHJlc3VsdCk7XG4gICAgICAgICAgICB0aGlzLl90cmF2ZXJzZShub2RlLnJpZ2h0LCBmLCB2YWx1ZSwgcmVzdWx0KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGNvbXB1dGVzIHRoZSB0cmVlLlxuICAgICAqL1xuICAgIGluaXQoKSB7XG4gICAgICAgIGNvbnN0IG1ldHJpYyA9IHRoaXMuX21ldHJpYztcbiAgICAgICAgY29uc3QgQSA9IHRoaXMuX21hdHJpeDtcbiAgICAgICAgY29uc3QgbiA9ICh0aGlzLl9uID0gQS5zaGFwZVswXSk7XG4gICAgICAgIGNvbnN0IGRfbWluID0gKHRoaXMuX2RfbWluID0gbmV3IEZsb2F0NjRBcnJheShuKSk7XG4gICAgICAgIGxldCBkaXN0YW5jZV9tYXRyaXg7XG4gICAgICAgIGlmIChtZXRyaWMgIT09IFwicHJlY29tcHV0ZWRcIikge1xuICAgICAgICAgICAgZGlzdGFuY2VfbWF0cml4ID0gbmV3IE1hdHJpeChuLCBuLCAwKTsgLy9uZXcgQXJyYXkobik7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG47ICsraSkge1xuICAgICAgICAgICAgICAgIGRfbWluW2ldID0gMDtcbiAgICAgICAgICAgICAgICAvL2Rpc3RhbmNlX21hdHJpeFtpXSA9IG5ldyBGbG9hdDY0QXJyYXkobik7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBuOyArK2opIHtcbiAgICAgICAgICAgICAgICAgICAgZGlzdGFuY2VfbWF0cml4LnNldF9lbnRyeShpLCBqLCBpID09PSBqID8gSW5maW5pdHkgOiBtZXRyaWMoQS5yb3coaSksIEEucm93KGopKSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkaXN0YW5jZV9tYXRyaXguZW50cnkoaSwgZF9taW5baV0pID4gZGlzdGFuY2VfbWF0cml4LmVudHJ5KGksIGopKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkX21pbltpXSA9IGo7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkaXN0YW5jZV9tYXRyaXggPSB0aGlzLl9tYXRyaXguY2xvbmUoKTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbjsgKytpKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBuOyArK2opIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGkgPT09IGopIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3RhbmNlX21hdHJpeC5zZXRfZW50cnkoaSwgaiwgSW5maW5pdHkpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGRpc3RhbmNlX21hdHJpeC5lbnRyeShpLCBkX21pbltpXSkgPiBkaXN0YW5jZV9tYXRyaXguZW50cnkoaSwgaikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRfbWluW2ldID0gajtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9kaXN0YW5jZV9tYXRyaXggPSBkaXN0YW5jZV9tYXRyaXg7XG4gICAgICAgIGNvbnN0IGNsdXN0ZXJzID0gKHRoaXMuX2NsdXN0ZXJzID0gbmV3IEFycmF5KG4pKTtcbiAgICAgICAgY29uc3QgY19zaXplID0gKHRoaXMuX2Nfc2l6ZSA9IG5ldyBVaW50MTZBcnJheShuKSk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbjsgKytpKSB7XG4gICAgICAgICAgICBjbHVzdGVyc1tpXSA9IFtdO1xuICAgICAgICAgICAgY2x1c3RlcnNbaV1bMF0gPSBuZXcgQ2x1c3Rlcih0aGlzLl9pZCsrLCBudWxsLCBudWxsLCAwLCBBLnJvdyhpKSwgaSwgMSwgMCk7XG4gICAgICAgICAgICBjX3NpemVbaV0gPSAxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGNvbXB1dGVzIHRoZSB0cmVlLlxuICAgICAqL1xuICAgIGRvKCkge1xuICAgICAgICBjb25zdCBuID0gdGhpcy5fbjtcbiAgICAgICAgY29uc3QgZF9taW4gPSB0aGlzLl9kX21pbjtcbiAgICAgICAgY29uc3QgRCA9IHRoaXMuX2Rpc3RhbmNlX21hdHJpeDtcbiAgICAgICAgY29uc3QgY2x1c3RlcnMgPSB0aGlzLl9jbHVzdGVycztcbiAgICAgICAgY29uc3QgY19zaXplID0gdGhpcy5fY19zaXplO1xuICAgICAgICBjb25zdCBsaW5rYWdlID0gdGhpcy5fbGlua2FnZTtcbiAgICAgICAgbGV0IHJvb3QgPSBudWxsO1xuICAgICAgICBmb3IgKGxldCBwID0gMCwgcF9tYXggPSBuIC0gMTsgcCA8IHBfbWF4OyArK3ApIHtcbiAgICAgICAgICAgIGxldCBjMSA9IDA7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG47ICsraSkge1xuICAgICAgICAgICAgICAgIGxldCBEX2lfbWluID0gRC5lbnRyeShpLCBkX21pbltpXSk7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IGkgKyAxOyBqIDwgbjsgKytqKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChEX2lfbWluID4gRC5lbnRyeShpLCBqKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZF9taW5baV0gPSBqO1xuICAgICAgICAgICAgICAgICAgICAgICAgRF9pX21pbiA9IEQuZW50cnkoaSwgZF9taW5baV0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuOyArK2kpIHtcbiAgICAgICAgICAgICAgICBpZiAoRC5lbnRyeShpLCBkX21pbltpXSkgPCBELmVudHJ5KGMxLCBkX21pbltjMV0pKSB7XG4gICAgICAgICAgICAgICAgICAgIGMxID0gaTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgYzIgPSBkX21pbltjMV07XG4gICAgICAgICAgICBsZXQgYzFfY2x1c3RlciA9IGNsdXN0ZXJzW2MxXVswXTtcbiAgICAgICAgICAgIGxldCBjMl9jbHVzdGVyID0gY2x1c3RlcnNbYzJdWzBdO1xuICAgICAgICAgICAgbGV0IGMxX2NsdXN0ZXJfaW5kaWNlcyA9IGMxX2NsdXN0ZXIuaXNMZWFmID8gW2MxX2NsdXN0ZXIuaW5kZXhdIDogYzFfY2x1c3Rlci5pbmRleDtcbiAgICAgICAgICAgIGxldCBjMl9jbHVzdGVyX2luZGljZXMgPSBjMl9jbHVzdGVyLmlzTGVhZiA/IFtjMl9jbHVzdGVyLmluZGV4XSA6IGMyX2NsdXN0ZXIuaW5kZXg7XG4gICAgICAgICAgICBsZXQgaW5kaWNlcyA9IGMxX2NsdXN0ZXJfaW5kaWNlcy5jb25jYXQoYzJfY2x1c3Rlcl9pbmRpY2VzKTtcbiAgICAgICAgICAgIGxldCBuZXdfY2x1c3RlciA9IG5ldyBDbHVzdGVyKHRoaXMuX2lkKyssIGMxX2NsdXN0ZXIsIGMyX2NsdXN0ZXIsIEQuZW50cnkoYzEsIGMyKSwgbnVsbCwgaW5kaWNlcyk7XG4gICAgICAgICAgICBjMV9jbHVzdGVyLnBhcmVudCA9IG5ld19jbHVzdGVyO1xuICAgICAgICAgICAgYzJfY2x1c3Rlci5wYXJlbnQgPSBuZXdfY2x1c3RlcjtcbiAgICAgICAgICAgIGNsdXN0ZXJzW2MxXS51bnNoaWZ0KG5ld19jbHVzdGVyKTtcbiAgICAgICAgICAgIGNfc2l6ZVtjMV0gKz0gY19zaXplW2MyXTtcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgbjsgKytqKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgRF9jMV9qID0gRC5lbnRyeShjMSwgaik7XG4gICAgICAgICAgICAgICAgY29uc3QgRF9jMl9qID0gRC5lbnRyeShjMiwgaik7XG4gICAgICAgICAgICAgICAgbGV0IHZhbHVlO1xuICAgICAgICAgICAgICAgIHN3aXRjaCAobGlua2FnZSkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwic2luZ2xlXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IE1hdGgubWluKERfYzFfaiwgRF9jMl9qKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiY29tcGxldGVcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gTWF0aC5tYXgoRF9jMV9qLCBEX2MyX2opO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJhdmVyYWdlXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IChjX3NpemVbYzFdICogRF9jMV9qICsgY19zaXplW2MyXSAqIERfYzJfaikgLyAoY19zaXplW2MxXSArIGNfc2l6ZVtqXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgRC5zZXRfZW50cnkoaiwgYzEsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICBELnNldF9lbnRyeShjMSwgaiwgdmFsdWUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBELnNldF9lbnRyeShjMSwgYzEsIEluZmluaXR5KTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbjsgKytpKSB7XG4gICAgICAgICAgICAgICAgRC5zZXRfZW50cnkoaSwgYzIsIEluZmluaXR5KTtcbiAgICAgICAgICAgICAgICBELnNldF9lbnRyeShjMiwgaSwgSW5maW5pdHkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvKiBmb3IgKGxldCBqID0gMDsgaiA8IG47ICsraikge1xuICAgICAgICAgICAgICAgIGlmIChkX21pbltqXSA9PT0gYzIpIHtcbiAgICAgICAgICAgICAgICAgICAgZF9taW5bal0gPSBjMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKEQuZW50cnkoYzEsIGopIDwgRC5lbnRyeShjMSwgZF9taW5bYzFdKSkge1xuICAgICAgICAgICAgICAgICAgICBkX21pbltjMV0gPSBqO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gKi9cbiAgICAgICAgICAgIHJvb3QgPSBuZXdfY2x1c3RlcjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcm9vdDtcbiAgICB9XG59XG5cbmNsYXNzIENsdXN0ZXIge1xuICAgIGNvbnN0cnVjdG9yKGlkLCBsZWZ0LCByaWdodCwgZGlzdCwgY2VudHJvaWQsIGluZGV4LCBzaXplLCBkZXB0aCkge1xuICAgICAgICB0aGlzLmlkID0gaWQ7XG4gICAgICAgIHRoaXMubGVmdCA9IGxlZnQ7XG4gICAgICAgIHRoaXMucmlnaHQgPSByaWdodDtcbiAgICAgICAgdGhpcy5kaXN0ID0gZGlzdDtcbiAgICAgICAgdGhpcy5pbmRleCA9IGluZGV4O1xuICAgICAgICB0aGlzLnNpemUgPSBzaXplID8/IGxlZnQuc2l6ZSArIHJpZ2h0LnNpemU7XG4gICAgICAgIHRoaXMuZGVwdGggPSBkZXB0aCA/PyAxICsgTWF0aC5tYXgobGVmdC5kZXB0aCwgcmlnaHQuZGVwdGgpO1xuICAgICAgICB0aGlzLmNlbnRyb2lkID0gY2VudHJvaWQgPz8gdGhpcy5fY2FsY3VsYXRlX2NlbnRyb2lkKGxlZnQsIHJpZ2h0KTtcbiAgICAgICAgdGhpcy5wYXJlbnQgPSBudWxsO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBfY2FsY3VsYXRlX2NlbnRyb2lkKGxlZnQsIHJpZ2h0KSB7XG4gICAgICAgIGNvbnN0IGxfc2l6ZSA9IGxlZnQuc2l6ZTtcbiAgICAgICAgY29uc3Qgcl9zaXplID0gcmlnaHQuc2l6ZTtcbiAgICAgICAgY29uc3QgbF9jZW50cm9pZCA9IGxlZnQuY2VudHJvaWQ7XG4gICAgICAgIGNvbnN0IHJfY2VudHJvaWQgPSByaWdodC5jZW50cm9pZDtcbiAgICAgICAgY29uc3Qgc2l6ZSA9IHRoaXMuc2l6ZTtcbiAgICAgICAgY29uc3QgbiA9IGxlZnQuY2VudHJvaWQubGVuZ3RoO1xuICAgICAgICBjb25zdCBuZXdfY2VudHJvaWQgPSBuZXcgRmxvYXQ2NEFycmF5KG4pO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG47ICsraSkge1xuICAgICAgICAgICAgbmV3X2NlbnRyb2lkW2ldID0gKGxfc2l6ZSAqIGxfY2VudHJvaWRbaV0gKyByX3NpemUgKiByX2NlbnRyb2lkW2ldKSAvIHNpemU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ld19jZW50cm9pZDtcbiAgICB9XG5cbiAgICBnZXQgaXNMZWFmKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kZXB0aCA9PT0gMDtcbiAgICB9XG5cbiAgICBsZWF2ZXMoKSB7XG4gICAgICAgIGlmICh0aGlzLmlzTGVhZikgcmV0dXJuIFt0aGlzXTtcbiAgICAgICAgY29uc3QgbGVmdCA9IHRoaXMubGVmdDtcbiAgICAgICAgY29uc3QgcmlnaHQgPSB0aGlzLnJpZ2h0O1xuICAgICAgICByZXR1cm4gKGxlZnQuaXNMZWFmID8gW2xlZnRdIDogbGVmdC5sZWF2ZXMoKSkuY29uY2F0KHJpZ2h0LmlzTGVhZiA/IFtyaWdodF0gOiByaWdodC5sZWF2ZXMoKSk7XG4gICAgfVxuXG4gICAgZGVzY2VuZGFudHMoKSB7XG4gICAgICAgIGlmICh0aGlzLmlzTGVhZikgcmV0dXJuIFt0aGlzXTtcbiAgICAgICAgY29uc3QgbGVmdF9kZXNjZW5kYW50cyA9IHRoaXMubGVmdC5kZXNjZW5kYW50cygpO1xuICAgICAgICBjb25zdCByaWdodF9kZXNjZW5kYW50cyA9IHRoaXMucmlnaHQuZGVzY2VuZGFudHMoKTtcbiAgICAgICAgcmV0dXJuIGxlZnRfZGVzY2VuZGFudHMuY29uY2F0KHJpZ2h0X2Rlc2NlbmRhbnRzKS5jb25jYXQoW3RoaXNdKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBldWNsaWRlYW4gfSBmcm9tIFwiLi4vbWV0cmljcy9pbmRleC5qc1wiO1xuaW1wb3J0IHsgUmFuZG9taXplciB9IGZyb20gXCIuLi91dGlsL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBsaW5zcGFjZSwgTWF0cml4IH0gZnJvbSBcIi4uL21hdHJpeC9pbmRleC5qc1wiO1xuaW1wb3J0IHsgbWluIH0gZnJvbSBcIi4uL3V0aWwvaW5kZXguanNcIjtcbi8qKlxuICogQGNsYXNzXG4gKiBAYWxpYXMgS01lZG9pZHNcbiAqL1xuZXhwb3J0IGNsYXNzIEtNZWRvaWRzIHtcbiAgICAvKipcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAbWVtYmVyb2YgbW9kdWxlOmNsdXN0ZXJpbmdcbiAgICAgKiBAYWxpYXMgS01lZG9pZHNcbiAgICAgKiBAdG9kbyBuZWVkcyByZXN0cnVjdHVyaW5nLiBcbiAgICAgKiBAcGFyYW0ge01hdHJpeH0gbWF0cml4IC0gZGF0YSBtYXRyaXhcbiAgICAgKiBAcGFyYW0ge051bWJlcnN9IEsgLSBudW1iZXIgb2YgY2x1c3RlcnNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW21heF9pdGVyPW51bGxdIC0gbWF4aW11bSBudW1iZXIgb2YgaXRlcmF0aW9ucy4gRGVmYXVsdCBpcyAxMCAqIE1hdGgubG9nMTAoTilcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbbWV0cmljID0gZXVjbGlkZWFuXSAtIG1ldHJpYyBkZWZpbmluZyB0aGUgZGlzc2ltaWxhcml0eSBcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3NlZWQgPSAxMjEyXSAtIHNlZWQgdmFsdWUgZm9yIHJhbmRvbSBudW1iZXIgZ2VuZXJhdG9yXG4gICAgICogQHJldHVybnMge0tNZWRvaWRzfVxuICAgICAqIEBzZWUge0BsaW5rIGh0dHBzOi8vbGluay5zcHJpbmdlci5jb20vY2hhcHRlci8xMC4xMDA3Lzk3OC0zLTAzMC0zMjA0Ny04XzE2fSBGYXN0ZXIgay1NZWRvaWRzIENsdXN0ZXJpbmc6IEltcHJvdmluZyB0aGUgUEFNLCBDTEFSQSwgYW5kIENMQVJBTlMgQWxnb3JpdGhtc1xuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKG1hdHJpeCwgSywgbWF4X2l0ZXI9bnVsbCwgbWV0cmljID0gZXVjbGlkZWFuLCBzZWVkPTEyMTIpIHtcbiAgICAgICAgdGhpcy5fbWV0cmljID0gbWV0cmljO1xuICAgICAgICB0aGlzLl9tYXRyaXggPSBtYXRyaXg7XG4gICAgICAgIHRoaXMuX0EgPSB0aGlzLl9tYXRyaXgudG8yZEFycmF5O1xuICAgICAgICB0aGlzLl9LID0gSztcbiAgICAgICAgY29uc3QgW04sIERdID0gbWF0cml4LnNoYXBlO1xuICAgICAgICB0aGlzLl9OID0gTjtcbiAgICAgICAgdGhpcy5fRCA9IEQ7XG4gICAgICAgIHRoaXMuX21heF9pdGVyID0gbWF4X2l0ZXIgfHwgMTAgKiBNYXRoLmxvZzEwKE4pIFxuICAgICAgICB0aGlzLl9kaXN0YW5jZV9tYXRyaXggPSBuZXcgTWF0cml4KE4sIE4sIFwiemVyb3NcIik7XG4gICAgICAgIC8qIGZvciAobGV0IGkgPSAxOyBpIDwgTjsgKytpKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gaSArIDE7IGogPCBOOyArK2opIHtcbiAgICAgICAgICAgICAgICBsZXQgZGlzdCA9IG1ldHJpYyh0aGlzLl9BW2ldLCB0aGlzLl9BW2pdKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9kaXN0YW5jZV9tYXRyaXguc2V0X2VudHJ5KGksIGosIGRpc3QpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2Rpc3RhbmNlX21hdHJpeC5zZXRfZW50cnkoaiwgaSwgZGlzdClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSAqL1xuICAgICAgICBpZiAoSyA+IE4pIEsgPSBOO1xuICAgICAgICB0aGlzLl9yYW5kb21pemVyID0gbmV3IFJhbmRvbWl6ZXIoc2VlZCk7XG4gICAgICAgIHRoaXMuX2NsdXN0ZXJzID0gbmV3IEFycmF5KE4pLmZpbGwodW5kZWZpbmVkKTtcbiAgICAgICAgdGhpcy5fY2x1c3Rlcl9tZWRvaWRzID0gdGhpcy5fZ2V0X3JhbmRvbV9tZWRvaWRzKEspO1xuICAgICAgICAvL2lmIChpbml0KSB0aGlzLmluaXQoSywgdGhpcy5fY2x1c3Rlcl9tZWRvaWRzKTtcbiAgICAgICAgdGhpcy5faXNfaW5pdGlhbGl6ZWQgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHJldHVybnMge0FycmF5PEFycmF5Pn0gLSBBcnJheSBvZiBjbHVzdGVycyB3aXRoIHRoZSBpbmRpY2VzIG9mIHRoZSByb3dzIGluIGdpdmVuIHtAbGluayBtYXRyaXh9LiBcbiAgICAgKi9cbiAgICBnZXRfY2x1c3RlcnMoKSB7XG4gICAgICAgIGNvbnN0IEsgPSB0aGlzLl9LO1xuICAgICAgICBjb25zdCBBID0gdGhpcy5fQTtcbiAgICAgICAgaWYgKCF0aGlzLl9pc19pbml0aWFsaXplZCkge1xuICAgICAgICAgICAgdGhpcy5pbml0KEssIHRoaXMuX2NsdXN0ZXJfbWVkb2lkcyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVzdWx0ID0gbmV3IEFycmF5KEspLmZpbGwoKS5tYXAoKCkgPT4gbmV3IEFycmF5KCkpO1xuICAgICAgICBBLmZvckVhY2goKHhfaiwgaikgPT4ge1xuICAgICAgICAgICAgcmVzdWx0W3RoaXMuX25lYXJlc3RfbWVkb2lkKHhfaiwgaikuaW5kZXhfbmVhcmVzdF0ucHVzaChqKTtcbiAgICAgICAgfSlcbiAgICAgICAgcmVzdWx0Lm1lZG9pZHMgPSB0aGlzLl9jbHVzdGVyX21lZG9pZHM7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgYXN5bmMqIGdlbmVyYXRvcigpIHtcbiAgICAgICAgY29uc3QgbWF4X2l0ZXIgPSB0aGlzLl9tYXhfaXRlcjtcbiAgICAgICAgeWllbGQgdGhpcy5nZXRfY2x1c3RlcnMoKVxuICAgICAgICBsZXQgZmluaXNoID0gZmFsc2U7XG4gICAgICAgIGxldCBpID0gMFxuICAgICAgICBkbyB7XG4gICAgICAgICAgICBmaW5pc2ggPSB0aGlzLl9pdGVyYXRpb24oKTtcbiAgICAgICAgICAgIHlpZWxkIHRoaXMuZ2V0X2NsdXN0ZXJzKCk7XG4gICAgICAgIH0gd2hpbGUgKCFmaW5pc2ggJiYgKytpIDwgbWF4X2l0ZXIpXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWxnb3JpdGhtIDEuIEZhc3RQQU0xOiBJbXByb3ZlZCBTV0FQIGFsZ29yaXRobVxuICAgICAqL1xuICAgIC8qIF9pdGVyYXRpb25fMSgpIHtcbiAgICAgICAgY29uc3QgQSA9IHRoaXMuX0E7XG4gICAgICAgIGNvbnN0IE4gPSB0aGlzLl9OO1xuICAgICAgICBjb25zdCBLID0gdGhpcy5fSztcbiAgICAgICAgY29uc3QgbWVkb2lkcyA9IHRoaXMuX2NsdXN0ZXJfbWVkb2lkcztcbiAgICAgICAgbGV0IERlbHRhVEQgPSAwO1xuICAgICAgICBsZXQgbTAgPSBudWxsO1xuICAgICAgICBsZXQgeDAgPSBudWxsO1xuICAgICAgICBBLmZvckVhY2goKHhfaiwgaikgPT4ge1xuICAgICAgICAgICAgaWYgKG1lZG9pZHMuZmluZEluZGV4KG0gPT4gbSA9PT0gaikgPCAwKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmVhcmVzdF9tZWRvaWQgPSB0aGlzLl9uZWFyZXN0X21lZG9pZCh4X2osIGopO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRfaiA9IG5lYXJlc3RfbWVkb2lkLmRpc3RhbmNlX25lYXJlc3Q7IC8vIGRpc3RhbmNlIHRvIGN1cnJlbnQgbWVkb2lkXG4gICAgICAgICAgICAgICAgY29uc3QgZGVsdGFURCA9IG5ldyBBcnJheShLKS5maWxsKC1kX2opOyAvLyBjaGFuZ2UgaWYgbWFraW5nIGogYSBtZWRvaWRcbiAgICAgICAgICAgICAgICBBLmZvckVhY2goKHhfbywgbykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAvLyBkaXNhbmNlIHRvIG5ldyBtZWRvaWRcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZF9vaiA9IHRoaXMuX2dldF9kaXN0YW5jZShvLCBqLCB4X28sIHhfaik7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiaW5kZXhfbmVhcmVzdFwiOiBuLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJkaXN0YW5jZV9uZWFyZXN0XCI6IGRfbixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiZGlzdGFuY2Vfc2Vjb25kXCI6IGRfcyxcbiAgICAgICAgICAgICAgICAgICAgfSA9IHRoaXMuX25lYXJlc3RfbWVkb2lkKHhfbywgbyk7IFxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jbHVzdGVyc1tvXSA9IG47IC8vIGNhY2hlZCB2YWx1ZXNcbiAgICAgICAgICAgICAgICAgICAgZGVsdGFURFtuXSArPSBNYXRoLm1pbihkX29qLCBkX3MpIC0gZF9uOyAvLyBsb3NzIGNoYW5nZVxuICAgICAgICAgICAgICAgICAgICBpZiAoZF9vaiA8IGRfbikgeyAvLyByZWFzc2lnbm1lbnQgY2hlY2tcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbHRhVEQuZm9yRWFjaCgoZF9pLCBpKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG4gIT09IGkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsdGFURFtpXSA9IGRfaSArIGRfb2ogLSBkX247IC8vIHVwZGF0ZSBsb3NzIGNoYW5nZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgLy8gY2hvb3NlIGJlc3QgbWVkb2lkIGk7XG4gICAgICAgICAgICAgICAgY29uc3QgaSA9IGRlbHRhVERcbiAgICAgICAgICAgICAgICAgICAgLm1hcCgoZCwgaSkgPT4gW2QsIGldKVxuICAgICAgICAgICAgICAgICAgICAuc29ydCgoZDEsIGQyKSA9PiBkMVswXSAtIGQyWzBdKVswXVsxXTtcbiAgICAgICAgICAgICAgICBjb25zdCBkZWx0YVREX2kgPSBkZWx0YVREW2ldO1xuICAgICAgICAgICAgICAgIC8vIHN0b3JlXG4gICAgICAgICAgICAgICAgaWYgKGRlbHRhVERfaSA8IERlbHRhVEQpIHtcbiAgICAgICAgICAgICAgICAgICAgRGVsdGFURCA9IGRlbHRhVERfaTtcbiAgICAgICAgICAgICAgICAgICAgbTAgPSBpO1xuICAgICAgICAgICAgICAgICAgICB4MCA9IGo7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoRGVsdGFURCA+PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZSAvLyBicmVhayBsb29wIGlmIERlbHRhVEQgPj0gMFxuICAgICAgICB9XG4gICAgICAgIC8vIHN3YXAgcm9sZXMgb2YgbWVkb2lkIG0gYW5kIG5vbi1tZWRvaWQgeDtcbiAgICAgICAgbWVkb2lkc1ttMF0gPSB4MDtcbiAgICAgICAgdGhpcy5fY2x1c3Rlcl9tZWRvaWRzID0gbWVkb2lkcztcbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfSAqL1xuXG4gICAgLyoqIEFsZ29yaXRobSAyLiBGYXN0UEFNMjogU1dBUCB3aXRoIG11bHRpcGxlIGNhbmRpZGF0ZXNcbiAgICAgKiBcbiAgICAgKi9cbiAgICBfaXRlcmF0aW9uKCkge1xuICAgICAgICBjb25zdCBBID0gdGhpcy5fQTtcbiAgICAgICAgY29uc3QgSyA9IHRoaXMuX0s7XG4gICAgICAgIGNvbnN0IG1lZG9pZHMgPSB0aGlzLl9jbHVzdGVyX21lZG9pZHM7XG4gICAgICAgIGNvbnN0IGNhY2hlID0gQS5tYXAoKHhfbywgbykgPT4gdGhpcy5fbmVhcmVzdF9tZWRvaWQoeF9vLCBvKSk7XG4gICAgICAgIC8vIGVtcHR5IGJlc3QgY2FuZGlkYXRlcyBhcnJheVxuICAgICAgICBjb25zdCBEZWx0YVREID0gbmV3IEFycmF5KEspLmZpbGwoMCk7XG4gICAgICAgIGNvbnN0IHhzID0gbmV3IEFycmF5KEspLmZpbGwobnVsbCk7XG4gICAgICAgIEEuZm9yRWFjaCgoeF9qLCBqKSA9PiB7XG4gICAgICAgICAgICBpZiAobWVkb2lkcy5maW5kSW5kZXgobSA9PiBtID09PSBqKSA8IDApIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkX2ogPSBjYWNoZVtqXS5kaXN0YW5jZV9uZWFyZXN0OyAvLyBkaXN0YW5jZSB0byBjdXJyZW50IG1lZG9pZFxuICAgICAgICAgICAgICAgIGNvbnN0IGRlbHRhVEQgPSBuZXcgQXJyYXkoSykuZmlsbCgtZF9qKTsgLy8gY2hhbmdlIGlmIG1ha2luZyBqIGEgbWVkb2lkXG4gICAgICAgICAgICAgICAgQS5mb3JFYWNoKCh4X28sIG8pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGogPT09IG8pIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZF9vaiA9IHRoaXMuX2dldF9kaXN0YW5jZShvLCBqLCB4X28sIHhfaik7IC8vIGRpc3RhbmNlIHRvIG5ldyBtZWRvaWRcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qge1wiaW5kZXhfbmVhcmVzdFwiOiBuLCBcImRpc3RhbmNlX25lYXJlc3RcIjogZF9uLCBcImRpc3RhbmNlX3NlY29uZFwiOiBkX3N9ID0gY2FjaGVbb107IC8vIGNhY2hlZFxuICAgICAgICAgICAgICAgICAgICBkZWx0YVREW25dICs9IE1hdGgubWluKGRfb2osIGRfcykgLSBkX247IC8vIGxvc3MgY2hhbmdlIGZvciB4X29cbiAgICAgICAgICAgICAgICAgICAgLy8gUmVhc3NpZ25tZW50IGNoZWNrXG4gICAgICAgICAgICAgICAgICAgIGlmIChkX29qIDwgZF9uKSB7IFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdXBkYXRlIGxvc3MgY2hhbmdlXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IEs7ICsraSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpICE9PSBuKSBkZWx0YVREW2ldICs9IGRfb2ogLSBkX247XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAvLyByZW1lbWJlciBiZXN0IHN3YXAgZm9yIGk7XG4gICAgICAgICAgICAgICAgZGVsdGFURFxuICAgICAgICAgICAgICAgICAgICAubWFwKChkLCBpKSA9PiBbZCwgaV0pXG4gICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoKFtkLCBpXSkgPT4gZCA8IERlbHRhVERbaV0pXG4gICAgICAgICAgICAgICAgICAgIC5mb3JFYWNoKChbZCwgaV0pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkIDwgRGVsdGFURFtpXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlbHRhVERbaV0gPSBkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHhzW2ldID0gajtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgLy8gc3RvcCBpZiBubyBpbXByb3ZlbWVudHMgd2VyZSBmb3VuZFxuICAgICAgICBpZiAobWluKERlbHRhVEQpID49IDApIHJldHVybiB0cnVlOyBcblxuICAgICAgICAvLyBleGVjdXRlIGFsbCBpbXByb3ZlbWVudHNcbiAgICAgICAgd2hpbGUgKG1pbihEZWx0YVREKSA8IDApIHtcbiAgICAgICAgICAgIC8vIHN3YXAgcm9sZXMgb2YgbWVkb2lkIG1faSBhbmQgbm9uX21lZG9pZCB4c19pXG4gICAgICAgICAgICBjb25zdCBpID0gRGVsdGFURFxuICAgICAgICAgICAgICAgIC5tYXAoKGQsIGkpID0+IFtkLCBpXSlcbiAgICAgICAgICAgICAgICAuc29ydCgoW2FdLCBbYl0pID0+IGEgLSBiKVswXVsxXTtcbiAgICAgICAgICAgIGlmIChtZWRvaWRzLmZpbHRlcihtID0+IG0gPT0geHNbaV0pLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICAgICAgbWVkb2lkc1tpXSA9IHhzW2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gZGlzYWJsZSB0aGUgc3dhcCBqdXN0IHBlcmZvcm1lZFxuICAgICAgICAgICAgRGVsdGFURFtpXSA9IDA7IFxuICAgICAgICAgICAgLy8gcmVjb21wdXRlIFREIGZvciByZW1haW5pbmcgc3dhcCBjYW5kaWRhdGVzXG4gICAgICAgICAgICBEZWx0YVREXG4gICAgICAgICAgICAgICAgLm1hcCgoZF9qLCBqKSA9PiBbZF9qLCBqXSlcbiAgICAgICAgICAgICAgICAuZmlsdGVyKChbZF9qXSkgPT4gZF9qIDwgMClcbiAgICAgICAgICAgICAgICAuZm9yRWFjaCgoW18sIGpdKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHhfaiA9IEFbal07XG4gICAgICAgICAgICAgICAgICAgIGxldCBzdW0gPSAwO1xuICAgICAgICAgICAgICAgICAgICBBLmZvckVhY2goKHhfbywgbykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1lZG9pZHMuZmluZEluZGV4KG0gPT4gbSAhPSBqICYmIG0gPT0gbykgPj0gMCkgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGkgPT0gaikgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNhY2hlW29dLmluZGV4X25lYXJlc3QgPT09IG1lZG9pZHNbal0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VtICs9IChNYXRoLm1pbih0aGlzLl9nZXRfZGlzdGFuY2UobywgaiwgeF9vLCB4X2opLCBjYWNoZVtvXS5kaXN0YW5jZV9zZWNvbmQpIC0gY2FjaGVbb10uZGlzdGFuY2VfbmVhcmVzdCk7IFxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VtICs9IChNYXRoLm1pbih0aGlzLl9nZXRfZGlzdGFuY2UobywgaiwgeF9vLCB4X2opIC0gY2FjaGVbb10uZGlzdGFuY2VfbmVhcmVzdCwgMCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgRGVsdGFURFtqXSA9IHN1bTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2NsdXN0ZXJfbWVkb2lkcyA9IG1lZG9pZHM7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBfZ2V0X2Rpc3RhbmNlKGksIGosIHhfaT1udWxsLCB4X2o9bnVsbCkge1xuICAgICAgICBpZiAoaSA9PT0gaikgcmV0dXJuIDA7XG4gICAgICAgIGNvbnN0IEQgPSB0aGlzLl9kaXN0YW5jZV9tYXRyaXg7XG4gICAgICAgIGNvbnN0IEEgPSB0aGlzLl9BO1xuICAgICAgICBjb25zdCBtZXRyaWMgPSB0aGlzLl9tZXRyaWM7XG4gICAgICAgIGxldCBkX2lqID0gRC5lbnRyeShpLCBqKTtcbiAgICAgICAgaWYgKGRfaWogPT09IDApIHtcbiAgICAgICAgICAgIGRfaWogPSBtZXRyaWMoeF9pIHx8IEFbaV0sIHhfaiB8fCBBW2pdKTtcbiAgICAgICAgICAgIEQuc2V0X2VudHJ5KGksIGosIGRfaWopO1xuICAgICAgICAgICAgRC5zZXRfZW50cnkoaiwgaSwgZF9paik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRfaWo7XG4gICAgfVxuXG4gICAgX25lYXJlc3RfbWVkb2lkKHhfaiwgaikge1xuICAgICAgICBjb25zdCBtZWRvaWRzID0gdGhpcy5fY2x1c3Rlcl9tZWRvaWRzO1xuICAgICAgICBjb25zdCBBID0gdGhpcy5fQTtcbiAgICAgICAgY29uc3QgW25lYXJlc3QsIHNlY29uZF0gPSBtZWRvaWRzXG4gICAgICAgICAgICAubWFwKChtLCBpKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgeF9tID0gQVttXTsgXG4gICAgICAgICAgICAgICAgcmV0dXJuIFt0aGlzLl9nZXRfZGlzdGFuY2UoaiwgbSwgeF9qLCB4X20pLCBpXTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuc29ydCgobTEsIG0yKSA9PiBtMVswXSAtIG0yWzBdKTtcbiAgICAgICAgXG4gICAgICAgIHJldHVybiB7IFxuICAgICAgICAgICAgXCJkaXN0YW5jZV9uZWFyZXN0XCI6IG5lYXJlc3RbMF0sIFxuICAgICAgICAgICAgXCJpbmRleF9uZWFyZXN0XCI6IG5lYXJlc3RbMV0sXG4gICAgICAgICAgICBcImRpc3RhbmNlX3NlY29uZFwiOiBzZWNvbmRbMF0sXG4gICAgICAgICAgICBcImluZGV4X3NlY29uZFwiOiBzZWNvbmRbMV0sXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29tcHV0ZXMge0BsaW5rIEt9IGNsdXN0ZXJzIG91dCBvZiB0aGUge0BsaW5rIG1hdHJpeH0uXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IEsgLSBudW1iZXIgb2YgY2x1c3RlcnMuXG4gICAgICovXG4gICAgaW5pdChLLCBjbHVzdGVyX21lZG9pZHMpIHtcbiAgICAgICAgaWYgKCFLKSBLID0gdGhpcy5fSztcbiAgICAgICAgaWYgKCFjbHVzdGVyX21lZG9pZHMpIGNsdXN0ZXJfbWVkb2lkcyA9IHRoaXMuX2dldF9yYW5kb21fbWVkb2lkcyhLKTtcbiAgICAgICAgY29uc3QgbWF4X2l0ZXIgPSB0aGlzLl9tYXhfaXRlcjtcbiAgICAgICAgbGV0IGZpbmlzaCA9IGZhbHNlO1xuICAgICAgICBsZXQgaSA9IDBcbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgZmluaXNoID0gdGhpcy5faXRlcmF0aW9uKCk7XG4gICAgICAgIH0gd2hpbGUgKCFmaW5pc2ggJiYgKytpIDwgbWF4X2l0ZXIpXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFsZ29yaXRobSAzLiBGYXN0UEFNIExBQjogTGluZWFyIEFwcHJveGltYXRlIEJVSUxEIGluaXRpYWxpemF0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBLIC0gbnVtYmVyIG9mIGNsdXN0ZXJzXG4gICAgICogXG4gICAgICovXG4gICAgX2dldF9yYW5kb21fbWVkb2lkcyhLKSB7XG4gICAgICAgIGNvbnN0IE4gPSB0aGlzLl9OO1xuICAgICAgICBjb25zdCBBID0gdGhpcy5fQTtcbiAgICAgICAgY29uc3QgaW5kaWNlcyA9IGxpbnNwYWNlKDAsIE4gLSAxKTtcbiAgICAgICAgY29uc3QgcmFuZG9taXplciA9IHRoaXMuX3JhbmRvbWl6ZXI7XG4gICAgICAgIGNvbnN0IG4gPSBNYXRoLm1pbihOLCAxMCArIE1hdGguY2VpbChNYXRoLnNxcnQoTikpKTtcbiAgICAgICAgY29uc3QgVEQgPSBuZXcgQXJyYXkobikuZmlsbChJbmZpbml0eSk7XG4gICAgICAgIGNvbnN0IG1lZG9pZHMgPSBbXTtcbiAgICAgICAgLy8gZmlyc3QgbWVkb2lkXG4gICAgICAgIGxldCBURDAgPSBJbmZpbml0eTtcbiAgICAgICAgbGV0IFMgPSByYW5kb21pemVyLmNob2ljZShpbmRpY2VzLCBuKTtcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBuOyArK2opIHtcbiAgICAgICAgICAgIGNvbnN0IFNfaiA9IFNbal07XG4gICAgICAgICAgICBjb25zdCB4X2ogPSBBW1Nfal07XG4gICAgICAgICAgICBmb3IgKGxldCBvID0gMDsgbyA8IG47ICsrbykge1xuICAgICAgICAgICAgICAgIGlmIChvID09PSBqKSBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjb25zdCB4X28gPSBBW1Nbb11dO1xuICAgICAgICAgICAgICAgIFREW2pdICs9IHRoaXMuX2dldF9kaXN0YW5jZShqLCBvLCB4X2osIHhfbyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoVERbal0gPCBURDApIHtcbiAgICAgICAgICAgICAgICBURDAgPSBURFtqXTsgLy8gc21hbGxlc3QgZGlzdGFuY2Ugc3VtXG4gICAgICAgICAgICAgICAgbWVkb2lkcy5wdXNoKFNfaik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gb3RoZXIgbWVkb2lkc1xuICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IEs7ICsraSkge1xuICAgICAgICAgICAgbGV0IERlbHRhVEQgPSBJbmZpbml0eTtcbiAgICAgICAgICAgIFMgPSByYW5kb21pemVyLmNob2ljZShpbmRpY2VzLmZpbHRlcihpbmRleCA9PiBtZWRvaWRzLmZpbmRJbmRleChkID0+IGQgPT09IGluZGV4KSA8IDApLCBuKTtcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgbjsgKytqKSB7XG4gICAgICAgICAgICAgICAgbGV0IGRlbHRhVEQgPSAwO1xuICAgICAgICAgICAgICAgIGNvbnN0IFNfaiA9IFNbal07XG4gICAgICAgICAgICAgICAgY29uc3QgeF9qID0gQVtTX2pdO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IG8gPSAwOyBvIDwgbjsgKytvKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvID09PSBqKSBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgU19vID0gU1tvXTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeF9vID0gQVtTX29dO1xuICAgICAgICAgICAgICAgICAgICBsZXQgZGVsdGEgPSB0aGlzLl9nZXRfZGlzdGFuY2UoU19qLCBTX28sIHhfaiwgeF9vKSAtIG1pbihtZWRvaWRzLm1hcChtID0+IHRoaXMuX2dldF9kaXN0YW5jZShTX28sIG0sIHhfbykpKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRlbHRhIDwgMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVsdGFURCA9IGRlbHRhVEQgKyBkZWx0YTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBiZXN0IHJlZHVjdGlvblxuICAgICAgICAgICAgICAgIGlmIChkZWx0YVREIDwgRGVsdGFURCkge1xuICAgICAgICAgICAgICAgICAgICBEZWx0YVREID0gZGVsdGFURDtcbiAgICAgICAgICAgICAgICAgICAgbWVkb2lkcy5wdXNoKFNfaik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgVEQwICs9IERlbHRhVEQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lZG9pZHMuc2xpY2UoMCwgSyk7XG4gICAgfVxuICAgIFxufVxuIiwiaW1wb3J0IHsgTWF0cml4IH0gZnJvbSBcIi4uL21hdHJpeC9pbmRleC5qc1wiO1xuaW1wb3J0IHsgZXVjbGlkZWFuIH0gZnJvbSBcIi4uL21ldHJpY3MvaW5kZXguanNcIjtcbmltcG9ydCB7IERSIH0gZnJvbSBcIi4vRFIuanNcIjtcblxuZXhwb3J0IGNsYXNzIEZBU1RNQVAgZXh0ZW5kcyBEUiB7XG4gICAgLyoqXG4gICAgICogRmFzdE1hcDogYSBmYXN0IGFsZ29yaXRobSBmb3IgaW5kZXhpbmcsIGRhdGEtbWluaW5nIGFuZCB2aXN1YWxpemF0aW9uIG9mIHRyYWRpdGlvbmFsIGFuZCBtdWx0aW1lZGlhIGRhdGFzZXRzXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQG1lbWJlcm9mIGRydWlkL0ZBU1RNQVBcbiAgICAgKiBAYWxpYXMgRkFTVE1BUFxuICAgICAqIEB0eXBpY2FsbmFtZSBkcnVpZC5GQVNUTUFQXG4gICAgICogQHBhcmFtIHtNYXRyaXh9IFggLSB0aGUgaGlnaC1kaW1lbnNpb25hbCBkYXRhLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbcGFyYW1ldGVyc10gLSBPYmplY3QgY29udGFpbmluZyBwYXJhbWV0ZXJpemF0aW9uIG9mIHRoZSBEUiBtZXRob2QuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtwYXJhbWV0ZXJzLmQgPSAyXSAtIHRoZSBkaW1lbnNpb25hbGl0eSBvZiB0aGUgcHJvamVjdGlvbi5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcGFyYW1ldGVycy5tZXRyaWMgPSBldWNsaWRlYW5dIC0gdGhlIG1ldHJpYyB3aGljaCBkZWZpbmVzIHRoZSBkaXN0YW5jZSBiZXR3ZWVuIHR3byBwb2ludHMuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtwYXJhbWV0ZXJzLnNlZWQgPSAxMjEyXSAtIHRoZSBkaW1lbnNpb25hbGl0eSBvZiB0aGUgcHJvamVjdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7RkFTVE1BUH1cbiAgICAgKiBAc2VlIHtAbGluayBodHRwczovL2RvaS5vcmcvMTAuMTE0NS8yMjM3ODQuMjIzODEyfVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKFgsIHBhcmFtZXRlcnMpIHtcbiAgICAgICAgc3VwZXIoWCwgeyBkOiAyLCBtZXRyaWM6IGV1Y2xpZGVhbiwgc2VlZDogMTIxMiB9LCBwYXJhbWV0ZXJzKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hvb3NlcyB0d28gcG9pbnRzIHdoaWNoIGFyZSB0aGUgbW9zdCBkaXN0YW50IGluIHRoZSBhY3R1YWwgcHJvamVjdGlvbi5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGRpc3RcbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IEFuIGFycmF5IGNvbnNpc3Rpbmcgb2YgZmlyc3QgaW5kZXgsIHNlY29uZCBpbmRleCwgYW5kIGRpc3RhbmNlIGJldHdlZW4gdGhlIHR3byBwb2ludHMuXG4gICAgICovXG4gICAgX2Nob29zZV9kaXN0YW50X29iamVjdHMoZGlzdCkge1xuICAgICAgICBjb25zdCBYID0gdGhpcy5YO1xuICAgICAgICBjb25zdCBOID0gWC5zaGFwZVswXTtcbiAgICAgICAgbGV0IGFfaW5kZXggPSAodGhpcy5fcmFuZG9taXplci5yYW5kb21faW50ICUgTikgLSAxO1xuICAgICAgICBsZXQgYl9pbmRleCA9IG51bGw7XG4gICAgICAgIGxldCBtYXhfZGlzdCA9IC1JbmZpbml0eTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBOOyArK2kpIHtcbiAgICAgICAgICAgIGNvbnN0IGRfYWkgPSBkaXN0KGFfaW5kZXgsIGkpO1xuICAgICAgICAgICAgaWYgKGRfYWkgPiBtYXhfZGlzdCkge1xuICAgICAgICAgICAgICAgIG1heF9kaXN0ID0gZF9haTtcbiAgICAgICAgICAgICAgICBiX2luZGV4ID0gaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBtYXhfZGlzdCA9IC1JbmZpbml0eTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBOOyArK2kpIHtcbiAgICAgICAgICAgIGNvbnN0IGRfYmkgPSBkaXN0KGJfaW5kZXgsIGkpO1xuICAgICAgICAgICAgaWYgKGRfYmkgPiBtYXhfZGlzdCkge1xuICAgICAgICAgICAgICAgIG1heF9kaXN0ID0gZF9iaTtcbiAgICAgICAgICAgICAgICBhX2luZGV4ID0gaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW2FfaW5kZXgsIGJfaW5kZXgsIG1heF9kaXN0XTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyB0aGUgcHJvamVjdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7TWF0cml4fSBUaGUgKipkKiotZGltZW5zaW9uYWwgcHJvamVjdGlvbiBvZiB0aGUgZGF0YSBtYXRyaXggPGNvZGU+WDwvY29kZT4uXG4gICAgICovXG4gICAgdHJhbnNmb3JtKCkge1xuICAgICAgICBjb25zdCBYID0gdGhpcy5YO1xuICAgICAgICBjb25zdCBOID0gWC5zaGFwZVswXTtcbiAgICAgICAgY29uc3QgeyBkLCBtZXRyaWMgfSA9IHRoaXMuX3BhcmFtZXRlcnM7XG4gICAgICAgIGNvbnN0IFkgPSBuZXcgTWF0cml4KE4sIGQsIDApO1xuICAgICAgICBsZXQgZGlzdCA9IChhLCBiKSA9PiBtZXRyaWMoWC5yb3coYSksIFgucm93KGIpKTtcblxuICAgICAgICBmb3IgKGxldCBfY29sID0gMDsgX2NvbCA8IGQ7ICsrX2NvbCkge1xuICAgICAgICAgICAgbGV0IG9sZF9kaXN0ID0gZGlzdDtcbiAgICAgICAgICAgIC8vIGNob29zZSBwaXZvdCBvYmplY3RzXG4gICAgICAgICAgICBjb25zdCBbYV9pbmRleCwgYl9pbmRleCwgZF9hYl0gPSB0aGlzLl9jaG9vc2VfZGlzdGFudF9vYmplY3RzKGRpc3QpO1xuICAgICAgICAgICAgaWYgKGRfYWIgIT09IDApIHtcbiAgICAgICAgICAgICAgICAvLyBwcm9qZWN0IHRoZSBvYmplY3RzIG9uIHRoZSBsaW5lIChPX2EsIE9fYilcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IE47ICsraSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBkX2FpID0gZGlzdChhX2luZGV4LCBpKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZF9iaSA9IGRpc3QoYl9pbmRleCwgaSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHlfaSA9IChkX2FpICoqIDIgKyBkX2FiICoqIDIgLSBkX2JpICoqIDIpIC8gKDIgKiBkX2FiKTtcbiAgICAgICAgICAgICAgICAgICAgWS5zZXRfZW50cnkoaSwgX2NvbCwgeV9pKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gY29uc2lkZXIgdGhlIHByb2plY3Rpb25zIG9mIHRoZSBvYmplY3RzIG9uIGFcbiAgICAgICAgICAgICAgICAvLyBoeXBlcnBsYW5lIHBlcnBlbmRpY2x1YXIgdG8gdGhlIGxpbmUgKGEsIGIpO1xuICAgICAgICAgICAgICAgIC8vIHRoZSBkaXN0YW5jZSBmdW5jdGlvbiBEJygpIGJldHdlZW4gdHdvXG4gICAgICAgICAgICAgICAgLy8gcHJvamVjdGlvbnMgaXMgZ2l2ZW4gYnkgRXEuNFxuICAgICAgICAgICAgICAgIGRpc3QgPSAoYSwgYikgPT4gTWF0aC5zcXJ0KG9sZF9kaXN0KGEsIGIpICoqIDIgLSAoWS5lbnRyeShhLCBfY29sKSAtIFkuZW50cnkoYiwgX2NvbCkpICoqIDIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIHJldHVybiBlbWJlZGRpbmcuXG4gICAgICAgIHRoaXMuWSA9IFk7XG4gICAgICAgIHJldHVybiB0aGlzLnByb2plY3Rpb247XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgc2ltdWx0YW5lb3VzX3Bvd2VyaXRlcmF0aW9uIH0gZnJvbSBcIi4uL2xpbmVhcl9hbGdlYnJhL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBNYXRyaXggfSBmcm9tIFwiLi4vbWF0cml4L2luZGV4LmpzXCI7XG5pbXBvcnQgeyBIZWFwIH0gZnJvbSBcIi4uL2RhdGFzdHJ1Y3R1cmUvaW5kZXguanNcIjtcbmltcG9ydCB7IERSIH0gZnJvbSBcIi4vRFIuanNcIjtcbmltcG9ydCBldWNsaWRlYW4gZnJvbSBcIi4uL21ldHJpY3MvZXVjbGlkZWFuLmpzXCI7XG5cbi8qKlxuICogQGNsYXNzXG4gKiBAYWxpYXMgSVNPTUFQXG4gKiBAZXh0ZW5kcyBEUlxuICovXG5leHBvcnQgY2xhc3MgSVNPTUFQIGV4dGVuZHMgRFIge1xuICAgIC8qKlxuICAgICAqIElzb21ldHJpYyBmZWF0dXJlIG1hcHBpbmcgKElTT01BUCkuXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQG1lbWJlcm9mIG1vZHVsZTpkcnVpZC9kaW1lbnNpb25hbGl0eV9yZWR1Y3Rpb25cbiAgICAgKiBAYWxpYXMgSVNPTUFQXG4gICAgICogQHBhcmFtIHtNYXRyaXh9IFggLSB0aGUgaGlnaC1kaW1lbnNpb25hbCBkYXRhLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwYXJhbWV0ZXJzIC0gT2JqZWN0IGNvbnRhaW5pbmcgcGFyYW1ldGVyaXphdGlvbiBvZiB0aGUgRFIgbWV0aG9kLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBwYXJhbWV0ZXJzLm5laWdoYm9ycyAtIHRoZSBudW1iZXIgb2YgbmVpZ2hib3JzIHtAbGluayBJU09NQVB9IHNob3VsZCB1c2UgdG8gcHJvamVjdCB0aGUgZGF0YS5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3BhcmFtZXRlcnMuZCA9IDJdIC0gdGhlIGRpbWVuc2lvbmFsaXR5IG9mIHRoZSBwcm9qZWN0aW9uLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwYXJhbWV0ZXJzLm1ldHJpYyA9IGV1Y2xpZGVhbl0gLSB0aGUgbWV0cmljIHdoaWNoIGRlZmluZXMgdGhlIGRpc3RhbmNlIGJldHdlZW4gdHdvIHBvaW50cy5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3BhcmFtZXRlcnMuc2VlZCA9IDEyMTJdIC0gdGhlIHNlZWQgZm9yIHRoZSByYW5kb20gbnVtYmVyIGdlbmVyYXRvci5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3BhcmFtZXRlcnMuZWlnX2FyZ3NdIC0gUGFyYW1ldGVycyBmb3IgdGhlIGVpZ2VuZGVjb21wb3NpdGlvbiBhbGdvcml0aG0uXG4gICAgICogQHNlZSB7QGxpbmsgaHR0cHM6Ly9kb2kub3JnLzEwLjExMjYvc2NpZW5jZS4yOTAuNTUwMC4yMzE5fVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKFgsIHBhcmFtZXRlcnMpIHtcbiAgICAgICAgc3VwZXIoWCwgeyBuZWlnaGJvcnM6IHVuZGVmaW5lZCwgZDogMiwgbWV0cmljOiBldWNsaWRlYW4sIHNlZWQ6IDEyMTIsIGVpZ19hcmdzOiB7fSB9LCBwYXJhbWV0ZXJzKTtcbiAgICAgICAgdGhpcy5wYXJhbWV0ZXIoXCJuZWlnaGJvcnNcIiwgTWF0aC5taW4odGhpcy5fcGFyYW1ldGVycy5uZWlnaGJvcnMgPz8gTWF0aC5tYXgoTWF0aC5mbG9vcih0aGlzLlguc2hhcGVbMF0gLyAxMCksIDIpLCB0aGlzLl9OIC0gMSkpO1xuICAgICAgICBpZiAoIXRoaXMuX3BhcmFtZXRlcnMuZWlnX2FyZ3MuaGFzT3duUHJvcGVydHkoXCJzZWVkXCIpKSB7XG4gICAgICAgICAgICB0aGlzLl9wYXJhbWV0ZXJzLmVpZ19hcmdzLnNlZWQgPSB0aGlzLl9yYW5kb21pemVyO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbXB1dGVzIHRoZSBwcm9qZWN0aW9uLlxuICAgICAqIEByZXR1cm5zIHtNYXRyaXh9IFJldHVybnMgdGhlIHByb2plY3Rpb24uXG4gICAgICovXG4gICAgdHJhbnNmb3JtKCkge1xuICAgICAgICB0aGlzLmNoZWNrX2luaXQoKTtcbiAgICAgICAgY29uc3QgWCA9IHRoaXMuWDtcbiAgICAgICAgY29uc3Qgcm93cyA9IHRoaXMuX047XG4gICAgICAgIGNvbnN0IHsgZCwgbWV0cmljLCBlaWdfYXJncywgbmVpZ2hib3JzIH0gPSB0aGlzLl9wYXJhbWV0ZXJzO1xuICAgICAgICAvLyBUT0RPOiBtYWtlIGtubiBleHRlcm4gYW5kIHBhcmFtZXRlciBmb3IgY29uc3RydWN0b3Igb3IgdHJhbnNmb3JtP1xuICAgICAgICBjb25zdCBEID0gbmV3IE1hdHJpeCgpO1xuICAgICAgICBELnNoYXBlID0gW3Jvd3MsIHJvd3MsIChpLCBqKSA9PiAoaSA8PSBqID8gbWV0cmljKFgucm93KGkpLCBYLnJvdyhqKSkgOiBELmVudHJ5KGosIGkpKV07XG4gICAgICAgIGNvbnN0IGtOZWFyZXN0TmVpZ2hib3JzID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcm93czsgKytpKSB7XG4gICAgICAgICAgICBjb25zdCByb3cgPSBbXTtcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgcm93czsgKytqKSB7XG4gICAgICAgICAgICAgICAgcm93LnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBpbmRleDogaixcbiAgICAgICAgICAgICAgICAgICAgZGlzdGFuY2U6IEQuZW50cnkoaSwgaiksXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBIID0gbmV3IEhlYXAocm93LCAoZCkgPT4gZC5kaXN0YW5jZSwgXCJtaW5cIik7XG4gICAgICAgICAgICBrTmVhcmVzdE5laWdoYm9ycy5wdXNoKEgudG9BcnJheSgpLnNsaWNlKDEsIG5laWdoYm9ycyArIDEpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qRCA9IGRpamtzdHJhKGtOZWFyZXN0TmVpZ2hib3JzKTsqL1xuICAgICAgICAvLyBjb21wdXRlIHNob3J0ZXN0IHBhdGhzXG4gICAgICAgIC8vIFRPRE86IG1ha2UgZXh0ZXJuXG4gICAgICAgIC8qKiBAc2VlIHtAbGluayBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9GbG95ZCVFMiU4MCU5M1dhcnNoYWxsX2FsZ29yaXRobX0gKi9cbiAgICAgICAgY29uc3QgRyA9IG5ldyBNYXRyaXgocm93cywgcm93cywgKGksIGopID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG90aGVyID0ga05lYXJlc3ROZWlnaGJvcnNbaV0uZmluZCgobikgPT4gbi5pbmRleCA9PT0gaik7XG4gICAgICAgICAgICByZXR1cm4gb3RoZXIgPyBvdGhlci5kaXN0YW5jZSA6IEluZmluaXR5O1xuICAgICAgICB9KTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJvd3M7ICsraSkge1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCByb3dzOyArK2opIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBrID0gMDsgayA8IHJvd3M7ICsraykge1xuICAgICAgICAgICAgICAgICAgICBHLnNldF9lbnRyeShpLCBqLCBNYXRoLm1pbihHLmVudHJ5KGksIGopLCBHLmVudHJ5KGksIGspICsgRy5lbnRyeShrLCBqKSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBhaV8gPSBuZXcgRmxvYXQ2NEFycmF5KHJvd3MpO1xuICAgICAgICBsZXQgYV9qID0gbmV3IEZsb2F0NjRBcnJheShyb3dzKTtcbiAgICAgICAgbGV0IGFfXyA9IDA7XG4gICAgICAgIGNvbnN0IEEgPSBuZXcgTWF0cml4KHJvd3MsIHJvd3MsIChpLCBqKSA9PiB7XG4gICAgICAgICAgICBsZXQgdmFsID0gRy5lbnRyeShpLCBqKTtcbiAgICAgICAgICAgIHZhbCA9IHZhbCA9PT0gSW5maW5pdHkgPyAwIDogdmFsO1xuICAgICAgICAgICAgYWlfW2ldICs9IHZhbDtcbiAgICAgICAgICAgIGFfaltqXSArPSB2YWw7XG4gICAgICAgICAgICBhX18gKz0gdmFsO1xuICAgICAgICAgICAgcmV0dXJuIHZhbDtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgYWlfID0gYWlfLm1hcCgodikgPT4gdiAvIHJvd3MpO1xuICAgICAgICBhX2ogPSBhX2oubWFwKCh2KSA9PiB2IC8gcm93cyk7XG4gICAgICAgIGFfXyAvPSByb3dzICoqIDI7XG4gICAgICAgIGNvbnN0IEIgPSBuZXcgTWF0cml4KHJvd3MsIHJvd3MsIChpLCBqKSA9PiBBLmVudHJ5KGksIGopIC0gYWlfW2ldIC0gYV9qW2pdICsgYV9fKTtcblxuICAgICAgICAvLyBjb21wdXRlIGQgZWlnZW52ZWN0b3JzXG4gICAgICAgIGNvbnN0IHsgZWlnZW52ZWN0b3JzOiBWIH0gPSBzaW11bHRhbmVvdXNfcG93ZXJpdGVyYXRpb24oQiwgZCwgZWlnX2FyZ3MpO1xuICAgICAgICB0aGlzLlkgPSBNYXRyaXguZnJvbShWKS50cmFuc3Bvc2UoKTtcbiAgICAgICAgLy8gcmV0dXJuIGVtYmVkZGluZ1xuICAgICAgICByZXR1cm4gdGhpcy5wcm9qZWN0aW9uO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IGV1Y2xpZGVhbiB9IGZyb20gXCIuLi9tZXRyaWNzL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBSYW5kb21pemVyIH0gZnJvbSBcIi4uL3V0aWwvaW5kZXguanNcIjtcbmltcG9ydCB7IEhlYXAgfSBmcm9tIFwiLi4vZGF0YXN0cnVjdHVyZS9pbmRleC5qc1wiO1xuaW1wb3J0IHsgbGluc3BhY2UgfSBmcm9tIFwiLi4vbWF0cml4L2luZGV4LmpzXCI7XG5cbi8qKlxuICogQGNsYXNzXG4gKiBAYWxpYXMgS01lYW5zXG4gKi9cbmV4cG9ydCBjbGFzcyBLTWVhbnMge1xuICAgIC8qKlxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBtZW1iZXJvZiBtb2R1bGU6Y2x1c3RlcmluZ1xuICAgICAqIEBhbGlhcyBLTWVhbnNcbiAgICAgKiBAdG9kbyBuZWVkcyByZXN0cnVjdHVyaW5nLiBcbiAgICAgKiBAcGFyYW0ge01hdHJpeH0gbWF0cml4IFxuICAgICAqIEBwYXJhbSB7TnVtYmVyc30gSyBcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbbWV0cmljID0gZXVjbGlkZWFuXSBcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3NlZWQgPSAxOTg3XVxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2luaXQgPSB0cnVlXVxuICAgICAqIEByZXR1cm5zIHtLTWVhbnN9XG4gICAgICovXG4gICAgY29uc3RydWN0b3IobWF0cml4LCBLLCBtZXRyaWMgPSBldWNsaWRlYW4sIHNlZWQ9MTk4NywgaW5pdCA9IHRydWUpIHtcbiAgICAgICAgdGhpcy5fbWV0cmljID0gbWV0cmljO1xuICAgICAgICB0aGlzLl9tYXRyaXggPSBtYXRyaXg7XG4gICAgICAgIHRoaXMuX0sgPSBLO1xuICAgICAgICBjb25zdCBbTiwgRF0gPSBtYXRyaXguc2hhcGU7XG4gICAgICAgIHRoaXMuX04gPSBOO1xuICAgICAgICB0aGlzLl9EID0gRDtcbiAgICAgICAgaWYgKEsgPiBOKSBLID0gTjtcbiAgICAgICAgdGhpcy5fcmFuZG9taXplciA9IG5ldyBSYW5kb21pemVyKHNlZWQpO1xuICAgICAgICB0aGlzLl9jbHVzdGVycyA9IG5ldyBBcnJheShOKS5maWxsKHVuZGVmaW5lZCk7XG4gICAgICAgIHRoaXMuX2NsdXN0ZXJfY2VudHJvaWRzID0gdGhpcy5fZ2V0X3JhbmRvbV9jZW50cm9pZHMoSyk7XG4gICAgICAgIGlmIChpbml0KSB0aGlzLmluaXQoSywgdGhpcy5fY2x1c3Rlcl9jZW50cm9pZHMpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcmV0dXJucyB7QXJyYXk8QXJyYXk+fSAtIEFycmF5IG9mIGNsdXN0ZXJzIHdpdGggdGhlIGluZGljZXMgb2YgdGhlIHJvd3MgaW4gZ2l2ZW4ge0BsaW5rIG1hdHJpeH0uIFxuICAgICAqL1xuICAgIGdldF9jbHVzdGVycygpIHtcbiAgICAgICAgY29uc3QgSyA9IHRoaXMuX0s7XG4gICAgICAgIGNvbnN0IGNsdXN0ZXJzID0gdGhpcy5fY2x1c3RlcnM7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IG5ldyBBcnJheShLKS5maWxsKCkubWFwKCgpID0+IG5ldyBBcnJheSgpKTtcbiAgICAgICAgY2x1c3RlcnMuZm9yRWFjaCgoYywgaSkgPT4gcmVzdWx0W2NdLnB1c2goaSkpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gcG9pbnRzIFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGNhbmRpZGF0ZXMgXG4gICAgICovXG4gICAgX2Z1cnRoZXN0X3BvaW50KHBvaW50cywgY2FuZGlkYXRlcykge1xuICAgICAgICBjb25zdCBBID0gdGhpcy5fbWF0cml4O1xuICAgICAgICBjb25zdCBtZXRyaWMgPSB0aGlzLl9tZXRyaWM7XG4gICAgICAgIGxldCBpID0gcG9pbnRzLmxlbmd0aDtcbiAgICAgICAgbGV0IEggPSBIZWFwLmhlYXBpZnkoXG4gICAgICAgICAgICBjYW5kaWRhdGVzLCBcbiAgICAgICAgICAgIChkKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgQWQgPSBBLnJvdyhkKVxuICAgICAgICAgICAgICAgIGxldCBzdW0gPSAwO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgaTsgKytqKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1bSArPSBtZXRyaWMoQWQsIHBvaW50c1tqXSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN1bTtcbiAgICAgICAgICAgIH0sIFxuICAgICAgICAgICAgXCJtYXhcIlxuICAgICAgICApXG4gICAgICAgIHJldHVybiBILnBvcCgpLmVsZW1lbnQ7XG4gICAgfVxuXG4gICAgX2dldF9yYW5kb21fY2VudHJvaWRzKEspIHtcbiAgICAgICAgY29uc3QgTiA9IHRoaXMuX047XG4gICAgICAgIGNvbnN0IHJhbmRvbWl6ZXIgPSB0aGlzLl9yYW5kb21pemVyO1xuICAgICAgICBjb25zdCBBID0gdGhpcy5fbWF0cml4O1xuICAgICAgICBjb25zdCBjbHVzdGVyX2NlbnRyb2lkcyA9IG5ldyBBcnJheShLKS5maWxsKClcbiAgICAgICAgY29uc3QgaW5kaWNlcyA9IGxpbnNwYWNlKDAsIE4gLSAxKTtcbiAgICAgICAgY29uc3QgcmFuZG9tX3BvaW50ID0gcmFuZG9taXplci5yYW5kb21faW50ICUgKE4gLSAxKTtcbiAgICAgICAgY2x1c3Rlcl9jZW50cm9pZHNbMF0gPSBBLnJvdyhyYW5kb21fcG9pbnQpO1xuICAgICAgICBjb25zdCBpbml0X3BvaW50cyA9IFtyYW5kb21fcG9pbnRdO1xuICAgICAgICBjb25zdCBzYW1wbGVfc2l6ZSA9IE1hdGguZmxvb3IoKE4gLSBLKSAvIEspOy8vIC8gS1xuICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IEs7ICsraSkge1xuICAgICAgICAgICAgLy8gc2FtcGxpbmcgKyBrbWVhbnMrKyBpbXByb3ZlbWVudD9cbiAgICAgICAgICAgIGNvbnN0IHNhbXBsZSA9IHJhbmRvbWl6ZXIuY2hvaWNlKGluZGljZXMuZmlsdGVyKGQgPT4gaW5pdF9wb2ludHMuaW5kZXhPZihkKSA9PSAtMSksIHNhbXBsZV9zaXplKTtcbiAgICAgICAgICAgIGNvbnN0IGZ1cnRoZXN0X3BvaW50ID0gdGhpcy5fZnVydGhlc3RfcG9pbnQoY2x1c3Rlcl9jZW50cm9pZHMuc2xpY2UoMCwgaSksIHNhbXBsZSk7XG4gICAgICAgICAgICBpbml0X3BvaW50cy5wdXNoKGZ1cnRoZXN0X3BvaW50KTtcbiAgICAgICAgICAgIGNsdXN0ZXJfY2VudHJvaWRzW2ldID0gQS5yb3coZnVydGhlc3RfcG9pbnQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjbHVzdGVyX2NlbnRyb2lkcztcbiAgICB9XG5cbiAgICBfaXRlcmF0aW9uKGNsdXN0ZXJfY2VudHJvaWRzKSB7XG4gICAgICAgIGNvbnN0IEsgPSBjbHVzdGVyX2NlbnRyb2lkcy5sZW5ndGg7XG4gICAgICAgIGNvbnN0IE4gPSB0aGlzLl9OO1xuICAgICAgICBjb25zdCBEID0gdGhpcy5fRDtcbiAgICAgICAgY29uc3QgQSA9IHRoaXMuX21hdHJpeDtcbiAgICAgICAgY29uc3QgbWV0cmljID0gdGhpcy5fbWV0cmljO1xuICAgICAgICBjb25zdCBjbHVzdGVycyA9IHRoaXMuX2NsdXN0ZXJzO1xuICAgICAgICBsZXQgY2x1c3RlcnNfY2hhbmdlZCA9IGZhbHNlO1xuICAgICAgICAvLyBmaW5kIG5lYXJlc3QgY2x1c3RlciBjZW50cm9pZC5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBOOyArK2kpIHtcbiAgICAgICAgICAgIGNvbnN0IEFpID0gQS5yb3coaSlcbiAgICAgICAgICAgIGxldCBtaW5fZGlzdCA9IEluZmluaXR5O1xuICAgICAgICAgICAgbGV0IG1pbl9jbHVzdGVyID0gbnVsbDtcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgSzsgKytqKSB7XG4gICAgICAgICAgICAgICAgbGV0IGQgPSBtZXRyaWMoY2x1c3Rlcl9jZW50cm9pZHNbal0sIEFpKTtcbiAgICAgICAgICAgICAgICBpZiAoZCA8IG1pbl9kaXN0KSB7XG4gICAgICAgICAgICAgICAgICAgIG1pbl9kaXN0ID0gZDtcbiAgICAgICAgICAgICAgICAgICAgbWluX2NsdXN0ZXIgPSBqOyBcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY2x1c3RlcnNbaV0gIT09IG1pbl9jbHVzdGVyKSB7XG4gICAgICAgICAgICAgICAgY2x1c3RlcnNfY2hhbmdlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjbHVzdGVyc1tpXSA9IG1pbl9jbHVzdGVyO1xuICAgICAgICB9XG4gICAgICAgIC8vIHVwZGF0ZSBjbHVzdGVyIGNlbnRyb2lkXG4gICAgICAgIC8vIHJlc2V0IGNsdXN0ZXIgY2VudHJvaWRzIHRvIDBcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBLOyArK2kpIHtcbiAgICAgICAgICAgIGNvbnN0IGNlbnRyb2lkID0gY2x1c3Rlcl9jZW50cm9pZHNbaV07XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IEQ7ICsraikge1xuICAgICAgICAgICAgICAgIGNlbnRyb2lkW2pdID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBjb21wdXRlIGNlbnRyb2lkXG4gICAgICAgIHRoaXMuX2NvbXB1dGVfY2VudHJvaWQoY2x1c3Rlcl9jZW50cm9pZHMpO1xuXG4gICAgICAgIHJldHVybiB7ICAgXG4gICAgICAgICAgICBcImNsdXN0ZXJzX2NoYW5nZWRcIjogY2x1c3RlcnNfY2hhbmdlZCxcbiAgICAgICAgICAgIFwiY2x1c3Rlcl9jZW50cm9pZHNcIjogY2x1c3Rlcl9jZW50cm9pZHNcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBfY29tcHV0ZV9jZW50cm9pZChjbHVzdGVyX2NlbnRyb2lkcykge1xuICAgICAgICBjb25zdCBLID0gY2x1c3Rlcl9jZW50cm9pZHMubGVuZ3RoO1xuICAgICAgICBjb25zdCBOID0gdGhpcy5fTjtcbiAgICAgICAgY29uc3QgRCA9IHRoaXMuX0Q7XG4gICAgICAgIGNvbnN0IEEgPSB0aGlzLl9tYXRyaXg7XG4gICAgICAgIGNvbnN0IGNsdXN0ZXJzID0gdGhpcy5fY2x1c3RlcnM7XG4gICAgICAgIGNvbnN0IGNsdXN0ZXJfY291bnRlciA9IG5ldyBBcnJheShLKS5maWxsKDApO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgTjsgKytpKSB7XG4gICAgICAgICAgICBjb25zdCBBaSA9IEEucm93KGkpO1xuICAgICAgICAgICAgY29uc3QgY2kgPSBjbHVzdGVyc1tpXTtcbiAgICAgICAgICAgIGNsdXN0ZXJfY291bnRlcltjaV0rKztcbiAgICAgICAgICAgIGNvbnN0IGNlbnRyb2lkID0gY2x1c3Rlcl9jZW50cm9pZHNbY2ldO1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBEOyArK2opIHtcbiAgICAgICAgICAgICAgICBjZW50cm9pZFtqXSArPSBBaVtqXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IEs7ICsraSkge1xuICAgICAgICAgICAgY29uc3QgbiA9IGNsdXN0ZXJfY291bnRlcltpXTtcbiAgICAgICAgICAgIGNsdXN0ZXJfY2VudHJvaWRzW2ldID0gY2x1c3Rlcl9jZW50cm9pZHNbaV0ubWFwKGMgPT4gYyAvIG4pO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbXB1dGVzIHtAbGluayBLfSBjbHVzdGVycyBvdXQgb2YgdGhlIHtAbGluayBtYXRyaXh9LlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBLIC0gbnVtYmVyIG9mIGNsdXN0ZXJzLlxuICAgICAqL1xuICAgIGluaXQoSywgY2x1c3Rlcl9jZW50cm9pZHMpIHtcbiAgICAgICAgaWYgKCFLKSBLID0gdGhpcy5fSztcbiAgICAgICAgaWYgKCFjbHVzdGVyX2NlbnRyb2lkcykgY2x1c3Rlcl9jZW50cm9pZHMgPSB0aGlzLl9nZXRfcmFuZG9tX2NlbnRyb2lkcyhLKTtcbiAgICAgICAgbGV0IGNsdXN0ZXJzX2NoYW5nZWQgPSBmYWxzZTtcbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgY29uc3QgaXRlcmF0aW9uX3Jlc3VsdCA9IHRoaXMuX2l0ZXJhdGlvbihjbHVzdGVyX2NlbnRyb2lkcylcbiAgICAgICAgICAgIGNsdXN0ZXJfY2VudHJvaWRzID0gaXRlcmF0aW9uX3Jlc3VsdC5jbHVzdGVyX2NlbnRyb2lkcztcbiAgICAgICAgICAgIGNsdXN0ZXJzX2NoYW5nZWQgPSBpdGVyYXRpb25fcmVzdWx0LmNsdXN0ZXJzX2NoYW5nZWQ7XG4gICAgICAgIH0gd2hpbGUgKGNsdXN0ZXJzX2NoYW5nZWQpXG4gICAgfVxuICAgIFxufVxuIiwiaW1wb3J0IHsgTWF0cml4IH0gZnJvbSBcIi4uL21hdHJpeC9pbmRleC5qc1wiO1xuaW1wb3J0IHsgc2ltdWx0YW5lb3VzX3Bvd2VyaXRlcmF0aW9uIH0gZnJvbSBcIi4uL2xpbmVhcl9hbGdlYnJhL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBEUiB9IGZyb20gXCIuL0RSLmpzXCI7XG5cbi8qKlxuICogQGNsYXNzXG4gKiBAYWxpYXMgTERBXG4gKiBAZXh0ZW5kcyBEUlxuICovXG5leHBvcnQgY2xhc3MgTERBIGV4dGVuZHMgRFIge1xuICAgIC8qKlxuICAgICAqIExpbmVhciBEaXNjcmltaW5hbnQgQW5hbHlzaXMuXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQG1lbWJlcm9mIG1vZHVsZTpkcnVpZC9kaW1lbnNpb25hbGl0eV9yZWR1Y3Rpb25cbiAgICAgKiBAYWxpYXMgTERBXG4gICAgICogQHBhcmFtIHtNYXRyaXh9IFggLSBUaGUgaGlnaC1kaW1lbnNpb25hbCBkYXRhLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwYXJhbWV0ZXJzIC0gT2JqZWN0IGNvbnRhaW5pbmcgcGFyYW1ldGVyaXphdGlvbiBvZiB0aGUgRFIgbWV0aG9kLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHBhcmFtZXRlcnMubGFiZWxzIC0gVGhlIGxhYmVscyAvIGNsYXNzZXMgZm9yIGVhY2ggZGF0YSBwb2ludC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3BhcmFtZXRlcnMuZCA9IDJdIC0gVGhlIGRpbWVuc2lvbmFsaXR5IG9mIHRoZSBwcm9qZWN0aW9uLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbcGFyYW1ldGVycy5zZWVkID0gMTIxMl0gLSB0aGUgc2VlZCBmb3IgdGhlIHJhbmRvbSBudW1iZXIgZ2VuZXJhdG9yLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbcGFyYW1ldGVycy5laWdfYXJnc10gLSBQYXJhbWV0ZXJzIGZvciB0aGUgZWlnZW5kZWNvbXBvc2l0aW9uIGFsZ29yaXRobS5cbiAgICAgKiBAc2VlIHtAbGluayBodHRwczovL29ubGluZWxpYnJhcnkud2lsZXkuY29tL2RvaS8xMC4xMTExL2ouMTQ2OS0xODA5LjE5MzYudGIwMjEzNy54fVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKFgsIHBhcmFtZXRlcnMpIHtcbiAgICAgICAgc3VwZXIoWCwgeyBsYWJlbHM6IG51bGwsIGQ6IDIsIHNlZWQ6IDEyMTIsIGVpZ19hcmdzOiB7fSB9LCBwYXJhbWV0ZXJzKTtcbiAgICAgICAgaWYgKCF0aGlzLl9wYXJhbWV0ZXJzLmVpZ19hcmdzLmhhc093blByb3BlcnR5KFwic2VlZFwiKSkge1xuICAgICAgICAgICAgdGhpcy5fcGFyYW1ldGVycy5laWdfYXJncy5zZWVkID0gdGhpcy5fcmFuZG9taXplcjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUcmFuc2Zvcm1zIHRoZSBpbnB1dGRhdGEge0BsaW5rIFh9IHRvIGRpbWVuaW9uYWxpdHkge0BsaW5rIGR9LlxuICAgICAqL1xuICAgIHRyYW5zZm9ybSgpIHtcbiAgICAgICAgY29uc3QgWCA9IHRoaXMuWDtcbiAgICAgICAgY29uc3QgW3Jvd3MsIGNvbHNdID0gWC5zaGFwZTtcbiAgICAgICAgY29uc3QgeyBkLCBsYWJlbHMsIGVpZ19hcmdzIH0gPSB0aGlzLl9wYXJhbWV0ZXJzO1xuICAgICAgICBpZiAobGFiZWxzID09PSBudWxsIHx8IGxhYmVscy5sZW5ndGggIT0gcm93cykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTERBIG5lZWRzIHBhcmFtZXRlciBsYWJlbCB0byBldmVyeSBkYXRhcG9pbnQgdG8gd29yayFcIik7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdW5pcXVlX2xhYmVscyA9IHt9O1xuICAgICAgICBsZXQgbGFiZWxfaWQgPSAwO1xuICAgICAgICBsYWJlbHMuZm9yRWFjaCgobCwgaSkgPT4ge1xuICAgICAgICAgICAgaWYgKGwgaW4gdW5pcXVlX2xhYmVscykge1xuICAgICAgICAgICAgICAgIHVuaXF1ZV9sYWJlbHNbbF0uY291bnQrKztcbiAgICAgICAgICAgICAgICB1bmlxdWVfbGFiZWxzW2xdLnJvd3MucHVzaChYLnJvdyhpKSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHVuaXF1ZV9sYWJlbHNbbF0gPSB7XG4gICAgICAgICAgICAgICAgICAgIGlkOiBsYWJlbF9pZCsrLFxuICAgICAgICAgICAgICAgICAgICBjb3VudDogMSxcbiAgICAgICAgICAgICAgICAgICAgcm93czogW1gucm93KGkpXSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBjcmVhdGUgWF9tZWFuIGFuZCB2ZWN0b3IgbWVhbnM7XG4gICAgICAgIGNvbnN0IFhfbWVhbiA9IFgubWVhbjtcbiAgICAgICAgY29uc3QgVl9tZWFuID0gbmV3IE1hdHJpeChsYWJlbF9pZCwgY29scyk7XG4gICAgICAgIGZvciAoY29uc3QgbGFiZWwgaW4gdW5pcXVlX2xhYmVscykge1xuICAgICAgICAgICAgY29uc3QgViA9IE1hdHJpeC5mcm9tKHVuaXF1ZV9sYWJlbHNbbGFiZWxdLnJvd3MpO1xuICAgICAgICAgICAgY29uc3Qgdl9tZWFuID0gVi5tZWFuQ29scztcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgY29sczsgKytqKSB7XG4gICAgICAgICAgICAgICAgVl9tZWFuLnNldF9lbnRyeSh1bmlxdWVfbGFiZWxzW2xhYmVsXS5pZCwgaiwgdl9tZWFuW2pdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBzY2F0dGVyX2JldHdlZW5cbiAgICAgICAgbGV0IFNfYiA9IG5ldyBNYXRyaXgoY29scywgY29scyk7XG4gICAgICAgIGZvciAoY29uc3QgbGFiZWwgaW4gdW5pcXVlX2xhYmVscykge1xuICAgICAgICAgICAgY29uc3QgdiA9IFZfbWVhbi5yb3codW5pcXVlX2xhYmVsc1tsYWJlbF0uaWQpO1xuICAgICAgICAgICAgY29uc3QgbSA9IG5ldyBNYXRyaXgoY29scywgMSwgKGopID0+IHZbal0gLSBYX21lYW4pO1xuICAgICAgICAgICAgY29uc3QgTiA9IHVuaXF1ZV9sYWJlbHNbbGFiZWxdLmNvdW50O1xuICAgICAgICAgICAgU19iID0gU19iLmFkZChtLmRvdChtLnRyYW5zcG9zZSgpKS5tdWx0KE4pKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHNjYXR0ZXJfd2l0aGluXG4gICAgICAgIGxldCBTX3cgPSBuZXcgTWF0cml4KGNvbHMsIGNvbHMpO1xuICAgICAgICBmb3IgKGNvbnN0IGxhYmVsIGluIHVuaXF1ZV9sYWJlbHMpIHtcbiAgICAgICAgICAgIGNvbnN0IHYgPSBWX21lYW4ucm93KHVuaXF1ZV9sYWJlbHNbbGFiZWxdLmlkKTtcbiAgICAgICAgICAgIGNvbnN0IG0gPSBuZXcgTWF0cml4KGNvbHMsIDEsIChqKSA9PiB2W2pdKTtcbiAgICAgICAgICAgIGNvbnN0IFIgPSB1bmlxdWVfbGFiZWxzW2xhYmVsXS5yb3dzO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIG4gPSB1bmlxdWVfbGFiZWxzW2xhYmVsXS5jb3VudDsgaSA8IG47ICsraSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJvd192ID0gbmV3IE1hdHJpeChjb2xzLCAxLCAoaiwgXykgPT4gUltpXVtqXSAtIG0uZW50cnkoaiwgMCkpO1xuICAgICAgICAgICAgICAgIFNfdyA9IFNfdy5hZGQocm93X3YuZG90KHJvd192LnRyYW5zcG9zZSgpKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgeyBlaWdlbnZlY3RvcnM6IFYgfSA9IHNpbXVsdGFuZW91c19wb3dlcml0ZXJhdGlvbihTX3cuaW52ZXJzZSgpLmRvdChTX2IpLCBkLCBlaWdfYXJncyk7XG4gICAgICAgIFYgPSBNYXRyaXguZnJvbShWKS50cmFuc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5ZID0gWC5kb3QoVik7XG5cbiAgICAgICAgLy8gcmV0dXJuIGVtYmVkZGluZ1xuICAgICAgICByZXR1cm4gdGhpcy5wcm9qZWN0aW9uO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IE1hdHJpeCB9IGZyb20gXCIuLi9tYXRyaXgvaW5kZXguanNcIjtcbmltcG9ydCB7IGV1Y2xpZGVhbiB9IGZyb20gXCIuLi9tZXRyaWNzL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBzaW11bHRhbmVvdXNfcG93ZXJpdGVyYXRpb24gfSBmcm9tIFwiLi4vbGluZWFyX2FsZ2VicmEvaW5kZXguanNcIjtcbmltcG9ydCB7IGtfbmVhcmVzdF9uZWlnaGJvcnMgfSBmcm9tIFwiLi4vbWF0cml4L2luZGV4LmpzXCI7XG5pbXBvcnQgeyBuZXVtYWlyX3N1bSB9IGZyb20gXCIuLi9udW1lcmljYWwvaW5kZXguanNcIjtcbmltcG9ydCB7IERSIH0gZnJvbSBcIi4vRFIuanNcIjtcblxuLyoqXG4gKiBAY2xhc3NcbiAqIEBhbGlhcyBMTEVcbiAqIEBleHRlbmRzIERSXG4gKi9cbmV4cG9ydCBjbGFzcyBMTEUgZXh0ZW5kcyBEUiB7XG4gICAgLyoqXG4gICAgICogTG9jYWxseSBMaW5lYXIgRW1iZWRkaW5nLlxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBtZW1iZXJvZiBtb2R1bGU6ZHJ1aWQvZGltZW5zaW9uYWxpdHlfcmVkdWN0aW9uXG4gICAgICogQGFsaWFzIExMRVxuICAgICAqIEBwYXJhbSB7TWF0cml4fSBYIC0gdGhlIGhpZ2gtZGltZW5zaW9uYWwgZGF0YS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcGFyYW1ldGVycyAtIE9iamVjdCBjb250YWluaW5nIHBhcmFtZXRlcml6YXRpb24gb2YgdGhlIERSIG1ldGhvZC5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gbmVpZ2hib3JzIC0gdGhlIGxhYmVsIC8gY2xhc3Mgb2YgZWFjaCBkYXRhIHBvaW50LlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbZCA9IDJdIC0gdGhlIGRpbWVuc2lvbmFsaXR5IG9mIHRoZSBwcm9qZWN0aW9uLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFttZXRyaWMgPSBldWNsaWRlYW5dIC0gdGhlIG1ldHJpYyB3aGljaCBkZWZpbmVzIHRoZSBkaXN0YW5jZSBiZXR3ZWVuIHR3byBwb2ludHMuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtzZWVkID0gMTIxMl0gLSB0aGUgZGltZW5zaW9uYWxpdHkgb2YgdGhlIHByb2plY3Rpb24uXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtwYXJhbWV0ZXJzLmVpZ19hcmdzXSAtIFBhcmFtZXRlcnMgZm9yIHRoZSBlaWdlbmRlY29tcG9zaXRpb24gYWxnb3JpdGhtLlxuICAgICAqIEBzZWUge0BsaW5rIGh0dHBzOi8vZG9pLm9yZy8xMC4xMTI2L3NjaWVuY2UuMjkwLjU1MDAuMjMyM31cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihYLCBwYXJhbWV0ZXJzKSB7XG4gICAgICAgIHN1cGVyKFgsIHsgbmVpZ2hib3JzOiB1bmRlZmluZWQsIGQ6IDIsIG1ldHJpYzogZXVjbGlkZWFuLCBzZWVkOiAxMjEyLCBlaWdfYXJnczoge30gfSwgcGFyYW1ldGVycyk7XG4gICAgICAgIHRoaXMucGFyYW1ldGVyKFwibmVpZ2hib3JzXCIsIE1hdGgubWluKHBhcmFtZXRlcnMubmVpZ2hib3JzID8/IE1hdGgubWF4KE1hdGguZmxvb3IodGhpcy5fTiAvIDEwKSwgMiksIHRoaXMuX04gLSAxKSk7XG4gICAgICAgIGlmICghdGhpcy5fcGFyYW1ldGVycy5laWdfYXJncy5oYXNPd25Qcm9wZXJ0eShcInNlZWRcIikpIHtcbiAgICAgICAgICAgIHRoaXMuX3BhcmFtZXRlcnMuZWlnX2FyZ3Muc2VlZCA9IHRoaXMuX3JhbmRvbWl6ZXI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVHJhbnNmb3JtcyB0aGUgaW5wdXRkYXRhIHtAbGluayBYfSB0byBkaW1lbmlvbmFsaXR5IHtAbGluayBkfS5cbiAgICAgKi9cbiAgICB0cmFuc2Zvcm0oKSB7XG4gICAgICAgIGNvbnN0IFggPSB0aGlzLlg7XG4gICAgICAgIGNvbnN0IHJvd3MgPSB0aGlzLl9OO1xuICAgICAgICBjb25zdCBjb2xzID0gdGhpcy5fRDtcbiAgICAgICAgY29uc3QgeyBuZWlnaGJvcnMsIGQsIGVpZ19hcmdzLCBtZXRyaWMgfSA9IHRoaXMuX3BhcmFtZXRlcnM7XG4gICAgICAgIGNvbnN0IG5OID0ga19uZWFyZXN0X25laWdoYm9ycyhYLCBuZWlnaGJvcnMsIG1ldHJpYyk7XG4gICAgICAgIGNvbnN0IE8gPSBuZXcgTWF0cml4KG5laWdoYm9ycywgMSwgMSk7XG4gICAgICAgIGNvbnN0IFcgPSBuZXcgTWF0cml4KHJvd3MsIHJvd3MpO1xuXG4gICAgICAgIGZvciAobGV0IHJvdyA9IDA7IHJvdyA8IHJvd3M7ICsrcm93KSB7XG4gICAgICAgICAgICBjb25zdCBuTl9yb3cgPSBuTltyb3ddO1xuICAgICAgICAgICAgY29uc3QgWiA9IG5ldyBNYXRyaXgobmVpZ2hib3JzLCBjb2xzLCAoaSwgaikgPT4gWC5lbnRyeShuTl9yb3dbaV0uaiwgaikgLSBYLmVudHJ5KHJvdywgaikpO1xuICAgICAgICAgICAgY29uc3QgQyA9IFouZG90KFouVCk7XG4gICAgICAgICAgICBpZiAobmVpZ2hib3JzID4gY29scykge1xuICAgICAgICAgICAgICAgIGNvbnN0IENfdHJhY2UgPSBuZXVtYWlyX3N1bShDLmRpYWcpIC8gMTAwMDtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IG5laWdoYm9yczsgKytqKSB7XG4gICAgICAgICAgICAgICAgICAgIEMuc2V0X2VudHJ5KGosIGosIEMuZW50cnkoaiwgaikgKyBDX3RyYWNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyByZWNvbnN0cnVjdDtcbiAgICAgICAgICAgIGxldCB3ID0gTWF0cml4LnNvbHZlX0NHKEMsIE8sIHRoaXMuX3JhbmRvbWl6ZXIpO1xuICAgICAgICAgICAgdyA9IHcuZGl2aWRlKHcuc3VtKTtcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgbmVpZ2hib3JzOyArK2opIHtcbiAgICAgICAgICAgICAgICBXLnNldF9lbnRyeShyb3csIG5OX3Jvd1tqXS5qLCB3LmVudHJ5KGosIDApKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBjb21wIGVtYmVkZGluZ1xuICAgICAgICBjb25zdCBJID0gbmV3IE1hdHJpeChyb3dzLCByb3dzLCBcImlkZW50aXR5XCIpO1xuICAgICAgICBjb25zdCBJVyA9IEkuc3ViKFcpO1xuICAgICAgICBjb25zdCBNID0gSVcuVC5kb3QoSVcpO1xuICAgICAgICBjb25zdCB7IGVpZ2VudmVjdG9yczogViB9ID0gc2ltdWx0YW5lb3VzX3Bvd2VyaXRlcmF0aW9uKE0uVC5pbnZlcnNlKCksIGQgKyAxLCBlaWdfYXJncyk7XG4gICAgICAgIHRoaXMuWSA9IE1hdHJpeC5mcm9tKFYuc2xpY2UoMSwgMSArIGQpKS5UO1xuXG4gICAgICAgIC8vIHJldHVybiBlbWJlZGRpbmdcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvamVjdGlvbjtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBNYXRyaXggfSBmcm9tIFwiLi4vbWF0cml4L2luZGV4LmpzXCI7XG5pbXBvcnQgeyBEUiB9IGZyb20gXCIuL0RSLmpzXCI7XG5pbXBvcnQgeyBNRFMgfSBmcm9tIFwiLi9NRFMuanNcIjtcbmltcG9ydCB7IEtNZWRvaWRzIH0gZnJvbSBcIi4uL2NsdXN0ZXJpbmcvaW5kZXguanNcIjtcbmltcG9ydCB7IGV1Y2xpZGVhbiB9IGZyb20gXCIuLi9tZXRyaWNzL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBCYWxsVHJlZSB9IGZyb20gXCIuLi9rbm4vaW5kZXguanNcIjtcbi8qKlxuICogQGNsYXNzXG4gKiBAYWxpYXMgTFNQXG4gKiBAZXh0ZW5kcyBEUlxuICovXG5leHBvcnQgY2xhc3MgTFNQIGV4dGVuZHMgRFIge1xuICAgIC8qKlxuICAgICAqIExlYXN0IFNxdWFyZXMgUHJvamVjdGlvbi5cbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAbWVtYmVyb2YgbW9kdWxlOmRydWlkL2RpbWVuc2lvbmFsaXR5X3JlZHVjdGlvblxuICAgICAqIEBhbGlhcyBMU1BcbiAgICAgKiBAcGFyYW0ge01hdHJpeH0gWCAtIHRoZSBoaWdoLWRpbWVuc2lvbmFsIGRhdGEuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHBhcmFtZXRlcnMgLSBPYmplY3QgY29udGFpbmluZyBwYXJhbWV0ZXJpemF0aW9uIG9mIHRoZSBEUiBtZXRob2QuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtwYXJhbWV0ZXJzLm5laWdoYm9ycyA9IE1hdGgubWF4KE1hdGguZmxvb3IoTiAvIDEwKSwgMildIC0gbnVtYmVyIG9mIG5laWdoYm9ycyB0byBjb25zaWRlci5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3BhcmFtZXRlcnMuY29udHJvbF9wb2ludHMgPSBNYXRoLmNlaWwoTWF0aC5zcXJ0KE4pKV0gLSBudW1iZXIgb2YgY29udHJvbHBvaW50c1xuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbcGFyYW1ldGVycy5kID0gMl0gLSB0aGUgZGltZW5zaW9uYWxpdHkgb2YgdGhlIHByb2plY3Rpb24uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3BhcmFtZXRlcnMubWV0cmljID0gZXVjbGlkZWFuXSAtIHRoZSBtZXRyaWMgd2hpY2ggZGVmaW5lcyB0aGUgZGlzdGFuY2UgYmV0d2VlbiB0d28gcG9pbnRzLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbcGFyYW1ldGVycy5zZWVkID0gMTIxMl0gLSB0aGUgc2VlZCBmb3IgdGhlIHJhbmRvbSBudW1iZXIgZ2VuZXJhdG9yLlxuICAgICAqIEByZXR1cm5zIHtMU1B9XG4gICAgICogQHNlZSB7QGxpbmsgaHR0cHM6Ly9pZWVleHBsb3JlLmllZWUub3JnL2RvY3VtZW50LzQzNzgzNzB9XG4gICAgICogQHRvZG8gYWNjZXB0IHByZWNvbXB1dGVkIGRpc3RhbmNlIG1hdHJpeC5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihYLCBwYXJhbWV0ZXJzKSB7XG4gICAgICAgIHN1cGVyKFgsIHsgbmVpZ2hib3JzOiB1bmRlZmluZWQsIGNvbnRyb2xfcG9pbnRzOiB1bmRlZmluZWQsIGQ6IDIsIG1ldHJpYzogZXVjbGlkZWFuLCBzZWVkOiAxMjEyIH0sIHBhcmFtZXRlcnMpO1xuICAgICAgICB0aGlzLnBhcmFtZXRlcihcIm5laWdoYm9yc1wiLCBNYXRoLm1pbihwYXJhbWV0ZXJzLm5laWdoYm9ycyA/PyBNYXRoLm1heChNYXRoLmZsb29yKHRoaXMuX04gLyAxMCksIDIpLCB0aGlzLl9OIC0gMSkpO1xuICAgICAgICB0aGlzLnBhcmFtZXRlcihcImNvbnRyb2xfcG9pbnRzXCIsIE1hdGgubWluKHBhcmFtZXRlcnMuY29udHJvbF9wb2ludHMgPz8gTWF0aC5jZWlsKE1hdGguc3FydCh0aGlzLl9OKSksIHRoaXMuX04gLSAxKSk7XG4gICAgICAgIHRoaXMuX2lzX2luaXRpYWxpemVkID0gZmFsc2U7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHtEUn0gRFIgLSBtZXRob2QgdXNlZCBmb3IgcG9zaXRpb24gY29udHJvbCBwb2ludHMuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IERSX3BhcmFtZXRlcnMgLSBPYmplY3QgY29udGFpbmluZyBwYXJhbWV0ZXJzIGZvciB0aGUgRFIgbWV0aG9kIHdoaWNoIHByb2plY3RzIHRoZSBjb250cm9sIHBvaW50c1xuICAgICAqIEByZXR1cm5zIHtMU1B9XG4gICAgICovXG4gICAgaW5pdChEUiA9IE1EUywgRFJfcGFyYW1ldGVycyA9IHt9LCBLTk4gPSBCYWxsVHJlZSkge1xuICAgICAgICBpZiAodGhpcy5faXNfaW5pdGlhbGl6ZWQpIHJldHVybiB0aGlzO1xuICAgICAgICBjb25zdCBYID0gdGhpcy5YO1xuICAgICAgICBjb25zdCBOID0gdGhpcy5fTjtcbiAgICAgICAgY29uc3QgSyA9IHRoaXMucGFyYW1ldGVyKFwibmVpZ2hib3JzXCIpO1xuICAgICAgICBjb25zdCBkID0gdGhpcy5wYXJhbWV0ZXIoXCJkXCIpO1xuICAgICAgICBjb25zdCBzZWVkID0gdGhpcy5wYXJhbWV0ZXIoXCJzZWVkXCIpO1xuICAgICAgICBjb25zdCBtZXRyaWMgPSB0aGlzLnBhcmFtZXRlcihcIm1ldHJpY1wiKTtcbiAgICAgICAgRFJfcGFyYW1ldGVycyA9IE9iamVjdC5hc3NpZ24oe2QsIG1ldHJpYywgc2VlZCB9LCBEUl9wYXJhbWV0ZXJzKTtcbiAgICAgICAgY29uc3QgbmMgPSB0aGlzLnBhcmFtZXRlcihcImNvbnRyb2xfcG9pbnRzXCIpO1xuICAgICAgICBjb25zdCBjb250cm9sX3BvaW50cyA9IG5ldyBLTWVkb2lkcyhYLCBuYywgbnVsbCwgbWV0cmljKS5nZXRfY2x1c3RlcnMoKS5tZWRvaWRzO1xuICAgICAgICBjb25zdCBDID0gbmV3IE1hdHJpeChuYywgTiwgXCJ6ZXJvc1wiKTtcbiAgICAgICAgY29udHJvbF9wb2ludHMuZm9yRWFjaCgoY19pLCBpKSA9PiB7XG4gICAgICAgICAgICBDLnNldF9lbnRyeShpLCBjX2ksIDEpO1xuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgWV9DID0gbmV3IERSKE1hdHJpeC5mcm9tKGNvbnRyb2xfcG9pbnRzLm1hcCgoY19pKSA9PiBYLnJvdyhjX2kpKSksIERSX3BhcmFtZXRlcnMpLnRyYW5zZm9ybSgpO1xuXG4gICAgICAgIGNvbnN0IFhBID0gWC50bzJkQXJyYXk7XG4gICAgICAgIGNvbnN0IGtubiA9IG5ldyBLTk4oWEEsIG1ldHJpYyk7XG4gICAgICAgIGNvbnN0IEwgPSBuZXcgTWF0cml4KE4sIE4sIFwiSVwiKTtcbiAgICAgICAgY29uc3QgYWxwaGEgPSAtMSAvIEs7XG4gICAgICAgIFhBLmZvckVhY2goKHhfaSwgaSkgPT4ge1xuICAgICAgICAgICAgZm9yIChjb25zdCB7IGluZGV4OiBqIH0gb2Yga25uLnNlYXJjaCh4X2ksIEspLml0ZXJhdGUoKSkge1xuICAgICAgICAgICAgICAgIGlmIChpID09PSBqKSBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBMLnNldF9lbnRyeShpLCBqLCBhbHBoYSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBBID0gTC5jb25jYXQoQywgXCJ2ZXJ0aWNhbFwiKTtcblxuICAgICAgICBjb25zdCB6ID0gbmV3IE1hdHJpeChOLCBkLCBcInplcm9zXCIpO1xuICAgICAgICBjb25zdCBiID0gei5jb25jYXQoWV9DLCBcInZlcnRpY2FsXCIpO1xuXG4gICAgICAgIHRoaXMuX0EgPSBBO1xuICAgICAgICB0aGlzLl9iID0gYjtcbiAgICAgICAgdGhpcy5faXNfaW5pdGlhbGl6ZWQgPSB0cnVlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyB0aGUgcHJvamVjdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7TWF0cml4fSBSZXR1cm5zIHRoZSBwcm9qZWN0aW9uLlxuICAgICAqL1xuICAgIHRyYW5zZm9ybSgpIHtcbiAgICAgICAgdGhpcy5jaGVja19pbml0KCk7XG4gICAgICAgIGNvbnN0IEEgPSB0aGlzLl9BO1xuICAgICAgICBjb25zdCBBVCA9IEEuVDtcbiAgICAgICAgY29uc3QgYiA9IHRoaXMuX2I7XG4gICAgICAgIGNvbnN0IEFUQSA9IEFULmRvdChBKTtcbiAgICAgICAgY29uc3QgQVRiID0gQVQuZG90KGIpO1xuICAgICAgICB0aGlzLlkgPSBNYXRyaXguc29sdmVfQ0coQVRBLCBBVGIsIHRoaXMuX3JhbmRvbWl6ZXIpO1xuICAgICAgICByZXR1cm4gdGhpcy5wcm9qZWN0aW9uO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IE1hdHJpeCwga19uZWFyZXN0X25laWdoYm9ycyB9IGZyb20gXCIuLi9tYXRyaXgvaW5kZXguanNcIjtcbmltcG9ydCB7IGV1Y2xpZGVhbiB9IGZyb20gXCIuLi9tZXRyaWNzL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBzaW11bHRhbmVvdXNfcG93ZXJpdGVyYXRpb24gfSBmcm9tIFwiLi4vbGluZWFyX2FsZ2VicmEvaW5kZXguanNcIjtcbmltcG9ydCB7IERSIH0gZnJvbSBcIi4vRFIuanNcIjtcblxuLyoqXG4gKiBAY2xhc3NcbiAqIEBhbGlhcyBMVFNBXG4gKiBAZXh0ZW5kcyBEUlxuICovXG5leHBvcnQgY2xhc3MgTFRTQSBleHRlbmRzIERSIHtcbiAgICAvKipcbiAgICAgKiBMb2NhbCBUYW5nZW50IFNwYWNlIEFsaWdubWVudFxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBtZW1iZXJvZiBtb2R1bGU6ZHJ1aWQvZGltZW5zaW9uYWxpdHlfcmVkdWN0aW9uXG4gICAgICogQGFsaWFzIExUU0FcbiAgICAgKiBAcGFyYW0ge01hdHJpeH0gWCAtIHRoZSBoaWdoLWRpbWVuc2lvbmFsIGRhdGEuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHBhcmFtZXRlcnMgLSBPYmplY3QgY29udGFpbmluZyBwYXJhbWV0ZXJpemF0aW9uIG9mIHRoZSBEUiBtZXRob2QuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHBhcmFtZXRlcnMubmVpZ2hib3JzIC0gdGhlIG51bWJlciBvZiBuZWlnaGJvcnMge0BsaW5rIExUU0F9IHNob3VsZCB1c2UgdG8gcHJvamVjdCB0aGUgZGF0YS5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3BhcmFtZXRlcnMuZCA9IDJdIC0gdGhlIGRpbWVuc2lvbmFsaXR5IG9mIHRoZSBwcm9qZWN0aW9uLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwYXJhbWV0ZXJzLm1ldHJpYyA9IGV1Y2xpZGVhbl0gLSB0aGUgbWV0cmljIHdoaWNoIGRlZmluZXMgdGhlIGRpc3RhbmNlIGJldHdlZW4gdHdvIHBvaW50cy5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3BhcmFtZXRlcnMuc2VlZCA9IDEyMTJdIC0gdGhlIHNlZWQgZm9yIHRoZSByYW5kb20gbnVtYmVyIGdlbmVyYXRvci5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3BhcmFtZXRlcnMuZWlnX2FyZ3NdIC0gUGFyYW1ldGVycyBmb3IgdGhlIGVpZ2VuZGVjb21wb3NpdGlvbiBhbGdvcml0aG0uXG4gICAgICogQHNlZSB7QGxpbmsgaHR0cHM6Ly9lcHVicy5zaWFtLm9yZy9kb2kvYWJzLzEwLjExMzcvUzEwNjQ4Mjc1MDI0MTkxNTR9XG4gICAgICovXG4gICAgY29uc3RydWN0b3IoWCwgcGFyYW1ldGVycykge1xuICAgICAgICBzdXBlcihYLCB7IG5laWdoYm9yczogdW5kZWZpbmVkLCBkOiAyLCBtZXRyaWM6IGV1Y2xpZGVhbiwgc2VlZDogMTIxMiwgZWlnX2FyZ3M6IHt9IH0sIHBhcmFtZXRlcnMpO1xuICAgICAgICB0aGlzLnBhcmFtZXRlcihcIm5laWdoYm9yc1wiLCBNYXRoLm1pbihwYXJhbWV0ZXJzLm5laWdoYm9ycyA/PyBNYXRoLm1heChNYXRoLmZsb29yKHRoaXMuX04gLyAxMCksIDIpLCB0aGlzLl9OIC0gMSkpO1xuICAgICAgICBpZiAoIXRoaXMuX3BhcmFtZXRlcnMuZWlnX2FyZ3MuaGFzT3duUHJvcGVydHkoXCJzZWVkXCIpKSB7XG4gICAgICAgICAgICB0aGlzLl9wYXJhbWV0ZXJzLmVpZ19hcmdzLnNlZWQgPSB0aGlzLl9yYW5kb21pemVyO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9EIDw9IHRoaXMucGFyYW1ldGVyKFwiZFwiKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBEaW1lbnNpb25hbGl0eSBvZiBYIChEID0gJHt0aGlzLl9EfSkgbXVzdCBiZSBncmVhdGVyIHRoYW4gdGhlIHJlcXVpcmVkIGRpbWVuc2lvbmFsaXR5IG9mIHRoZSByZXN1bHQgKGQgPSAke3RoaXMucGFyYW1ldGVyKFwiZFwiKX0pIWApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRyYW5zZm9ybXMgdGhlIGlucHV0ZGF0YSB7QGxpbmsgWH0gdG8gZGltZW5pb25hbGl0eSB7QGxpbmsgZH0uXG4gICAgICovXG4gICAgdHJhbnNmb3JtKCkge1xuICAgICAgICBjb25zdCBYID0gdGhpcy5YO1xuICAgICAgICBjb25zdCBbcm93cywgRF0gPSBYLnNoYXBlO1xuICAgICAgICBjb25zdCB7IGQsIG5laWdoYm9ycywgbWV0cmljLCBlaWdfYXJncyB9ID0gdGhpcy5fcGFyYW1ldGVycztcbiAgICAgICAgLy8gMS4xIGRldGVybWluZSBrIG5lYXJlc3QgbmVpZ2hib3JzXG4gICAgICAgIGNvbnN0IG5OID0ga19uZWFyZXN0X25laWdoYm9ycyhYLCBuZWlnaGJvcnMsIG1ldHJpYyk7XG4gICAgICAgIC8vIGNlbnRlciBtYXRyaXhcbiAgICAgICAgY29uc3QgTyA9IG5ldyBNYXRyaXgoRCwgRCwgXCJjZW50ZXJcIik7XG4gICAgICAgIGNvbnN0IEIgPSBuZXcgTWF0cml4KHJvd3MsIHJvd3MsIDApO1xuXG4gICAgICAgIGZvciAobGV0IHJvdyA9IDA7IHJvdyA8IHJvd3M7ICsrcm93KSB7XG4gICAgICAgICAgICAvLyAxLjIgY29tcHV0ZSB0aGUgZCBsYXJnZXN0IGVpZ2VudmVjdG9ycyBvZiB0aGUgY29ycmVsYXRpb24gbWF0cml4XG4gICAgICAgICAgICBjb25zdCBJX2kgPSBbcm93LCAuLi5uTltyb3ddLm1hcCgobikgPT4gbi5qKV07XG4gICAgICAgICAgICBsZXQgWF9pID0gTWF0cml4LmZyb20oSV9pLm1hcCgobikgPT4gWC5yb3cobikpKTtcbiAgICAgICAgICAgIC8vIGNlbnRlciBYX2lcbiAgICAgICAgICAgIFhfaSA9IFhfaS5kb3QoTyk7XG4gICAgICAgICAgICAvLyBjb3JyZWxhdGlvbiBtYXRyaXhcbiAgICAgICAgICAgIGNvbnN0IEMgPSBYX2kuZG90KFhfaS50cmFuc3Bvc2UoKSk7XG4gICAgICAgICAgICBjb25zdCB7IGVpZ2VudmVjdG9yczogZyB9ID0gc2ltdWx0YW5lb3VzX3Bvd2VyaXRlcmF0aW9uKEMsIGQsIGVpZ19hcmdzKTtcbiAgICAgICAgICAgIC8vZy5wdXNoKGxpbnNwYWNlKDAsIGspLm1hcChfID0+IDEgLyBNYXRoLnNxcnQoayArIDEpKSk7XG4gICAgICAgICAgICBjb25zdCBHX2lfdCA9IE1hdHJpeC5mcm9tKGcpO1xuICAgICAgICAgICAgLy8gMi4gQ29uc3RydWN0aW5nIGFsaWdubWVudCBtYXRyaXhcbiAgICAgICAgICAgIGNvbnN0IFdfaSA9IEdfaV90LnRyYW5zcG9zZSgpXG4gICAgICAgICAgICAgICAgLmRvdChHX2lfdClcbiAgICAgICAgICAgICAgICAuYWRkKDEgLyBNYXRoLnNxcnQobmVpZ2hib3JzICsgMSkpO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuZWlnaGJvcnMgKyAxOyArK2kpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IG5laWdoYm9ycyArIDE7ICsraikge1xuICAgICAgICAgICAgICAgICAgICBCLnNldF9lbnRyeShJX2lbaV0sIElfaVtqXSwgQi5lbnRyeShJX2lbaV0sIElfaVtqXSkgLSAoaSA9PT0gaiA/IDEgOiAwKSArIFdfaS5lbnRyeShpLCBqKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gMy4gQWxpZ25pbmcgZ2xvYmFsIGNvb3JkaW5hdGVzXG4gICAgICAgIGNvbnN0IHsgZWlnZW52ZWN0b3JzOiBZIH0gPSBzaW11bHRhbmVvdXNfcG93ZXJpdGVyYXRpb24oQiwgZCArIDEsIGVpZ19hcmdzKTtcbiAgICAgICAgdGhpcy5ZID0gTWF0cml4LmZyb20oWS5zbGljZSgxKSkudHJhbnNwb3NlKCk7XG5cbiAgICAgICAgLy8gcmV0dXJuIGVtYmVkZGluZ1xuICAgICAgICByZXR1cm4gdGhpcy5wcm9qZWN0aW9uO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IGV1Y2xpZGVhbiB9IGZyb20gXCIuLi9tZXRyaWNzL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBIZWFwIH0gZnJvbSBcIi4uL2RhdGFzdHJ1Y3R1cmUvaW5kZXguanNcIjtcblxuLyoqXG4gKiBAY2xhc3NcbiAqIEBhbGlhcyBPUFRJQ1NcbiAqL1xuZXhwb3J0IGNsYXNzIE9QVElDUyB7XG4gICAgLyoqXG4gICAgICogKipPKipyZGVyaW5nICoqUCoqb2ludHMgKipUKipvICoqSSoqZGVudGlmeSB0aGUgKipDKipsdXN0ZXJpbmcgKipTKip0cnVjdHVyZS5cbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAbWVtYmVyb2YgbW9kdWxlOmNsdXN0ZXJpbmdcbiAgICAgKiBAYWxpYXMgT1BUSUNTXG4gICAgICogQHRvZG8gbmVlZHMgcmVzdHJ1Y3R1cmluZy4gXG4gICAgICogQHBhcmFtIHtNYXRyaXh9IG1hdHJpeCAtIHRoZSBkYXRhLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBlcHNpbG9uIC0gdGhlIG1pbmltdW0gZGlzdGFuY2Ugd2hpY2ggZGVmaW5lcyB3aGV0aGVyIGEgcG9pbnQgaXMgYSBuZWlnaGJvciBvciBub3QuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IG1pbl9wb2ludHMgLSB0aGUgbWluaW11bSBudW1iZXIgb2YgcG9pbnRzIHdoaWNoIGEgcG9pbnQgbmVlZHMgdG8gY3JlYXRlIGEgY2x1c3Rlci4gKFNob3VsZCBiZSBoaWdoZXIgdGhhbiAxLCBlbHNlIGVhY2ggcG9pbnQgY3JlYXRlcyBhIGNsdXN0ZXIuKVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFttZXRyaWMgPSBldWNsaWRlYW5dIC0gdGhlIGRpc3RhbmNlIG1ldHJpYyB3aGljaCBkZWZpbmVzIHRoZSBkaXN0YW5jZSBiZXR3ZWVuIHR3byBwb2ludHMgb2YgdGhlIHtAbGluayBtYXRyaXh9LlxuICAgICAqIEByZXR1cm5zIHtPUFRJQ1N9XG4gICAgICogQHNlZSB7QGxpbmsgaHR0cHM6Ly93d3cuZGJzLmlmaS5sbXUuZGUvUHVibGlrYXRpb25lbi9QYXBlcnMvT1BUSUNTLnBkZn1cbiAgICAgKiBAc2VlIHtAbGluayBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9PUFRJQ1NfYWxnb3JpdGhtfVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKG1hdHJpeCwgZXBzaWxvbiwgbWluX3BvaW50cywgbWV0cmljID0gZXVjbGlkZWFuKSB7XG4gICAgICAgIHRoaXMuX21hdHJpeCA9IG1hdHJpeDtcbiAgICAgICAgdGhpcy5fZXBzaWxvbiA9IGVwc2lsb247XG4gICAgICAgIHRoaXMuX21pbl9wb2ludHMgPSBtaW5fcG9pbnRzO1xuICAgICAgICB0aGlzLl9tZXRyaWMgPSBtZXRyaWM7XG5cbiAgICAgICAgdGhpcy5fb3JkZXJlZF9saXN0ID0gW107XG4gICAgICAgIHRoaXMuX2NsdXN0ZXJzID0gW107XG4gICAgICAgIHRoaXMuX0RCID0gbmV3IEFycmF5KG1hdHJpeC5zaGFwZVswXSkuZmlsbCgpO1xuICAgICAgICB0aGlzLmluaXQoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29tcHV0ZXMgdGhlIGNsdXN0ZXJpbmcuXG4gICAgICovXG4gICAgaW5pdCgpIHtcbiAgICAgICAgY29uc3Qgb3JkZXJlZF9saXN0ID0gdGhpcy5fb3JkZXJlZF9saXN0O1xuICAgICAgICBjb25zdCBtYXRyaXggPSB0aGlzLl9tYXRyaXg7XG4gICAgICAgIGNvbnN0IE4gPSBtYXRyaXguc2hhcGVbMF07XG4gICAgICAgIGNvbnN0IERCID0gdGhpcy5fREI7XG4gICAgICAgIGNvbnN0IGNsdXN0ZXJzID0gdGhpcy5fY2x1c3RlcnM7XG4gICAgICAgIGxldCBjbHVzdGVyX2luZGV4ID0gdGhpcy5fY2x1c3Rlcl9pbmRleCA9IDA7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBOOyArK2kpIHtcbiAgICAgICAgICAgIERCW2ldID0ge1xuICAgICAgICAgICAgICAgIFwiZWxlbWVudFwiOiBtYXRyaXgucm93KGkpLFxuICAgICAgICAgICAgICAgIFwiaW5kZXhcIjogaSxcbiAgICAgICAgICAgICAgICBcInJlYWNoYWJpbGl0eV9kaXN0YW5jZVwiOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgXCJwcm9jZXNzZWRcIjogZmFsc2UsXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCBwIG9mIERCKSB7XG4gICAgICAgICAgICBpZiAocC5wcm9jZXNzZWQpIGNvbnRpbnVlO1xuICAgICAgICAgICAgcC5uZWlnaGJvcnMgPSB0aGlzLl9nZXRfbmVpZ2hib3JzKHApO1xuICAgICAgICAgICAgcC5wcm9jZXNzZWQgPSB0cnVlO1xuICAgICAgICAgICAgY2x1c3RlcnMucHVzaChbcC5pbmRleF0pXG4gICAgICAgICAgICBjbHVzdGVyX2luZGV4ID0gY2x1c3RlcnMubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgIG9yZGVyZWRfbGlzdC5wdXNoKHApO1xuICAgICAgICAgICAgaWYgKHRoaXMuX2NvcmVfZGlzdGFuY2UocCkgIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2VlZHMgPSBuZXcgSGVhcChudWxsLCBkID0+IGQucmVhY2hhYmlsaXR5X2Rpc3RhbmNlLCBcIm1pblwiKVxuICAgICAgICAgICAgICAgIHRoaXMuX3VwZGF0ZShwLCBzZWVkcyk7XG4gICAgICAgICAgICAgICAgdGhpcy5fZXhwYW5kX2NsdXN0ZXIoc2VlZHMsIGNsdXN0ZXJzW2NsdXN0ZXJfaW5kZXhdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwIC0gYSBwb2ludCBvZiB7QGxpbmsgbWF0cml4fS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IEFuIGFycmF5IGNvbnNpc3Rpbmcgb2YgdGhlIHtAbGluayBlcHNpbG9ufS1uZWlnaGJvcmhvb2Qgb2Yge0BsaW5rIHB9LlxuICAgICAqL1xuICAgIF9nZXRfbmVpZ2hib3JzKHApIHtcbiAgICAgICAgaWYgKFwibmVpZ2hib3JzXCIgaW4gcCkgcmV0dXJuIHAubmVpZ2hib3JzO1xuICAgICAgICBjb25zdCBEQiA9IHRoaXMuX0RCO1xuICAgICAgICBjb25zdCBtZXRyaWMgPSB0aGlzLl9tZXRyaWM7XG4gICAgICAgIGNvbnN0IGVwc2lsb24gPSB0aGlzLl9lcHNpbG9uO1xuICAgICAgICBjb25zdCBuZWlnaGJvcnMgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBxIG9mIERCKSB7XG4gICAgICAgICAgICBpZiAocS5pbmRleCA9PSBwLmluZGV4KSBjb250aW51ZTtcbiAgICAgICAgICAgIGlmIChtZXRyaWMocC5lbGVtZW50LCBxLmVsZW1lbnQpIDwgZXBzaWxvbikge1xuICAgICAgICAgICAgICAgIG5laWdoYm9ycy5wdXNoKHEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZWlnaGJvcnM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcCAtIGEgcG9pbnQgb2Yge0BsaW5rIG1hdHJpeH0uXG4gICAgICogQHJldHVybnMge051bWJlcn0gVGhlIGRpc3RhbmNlIHRvIHRoZSB7QGxpbmsgbWluX3BvaW50c30tdGggbmVhcmVzdCBwb2ludCBvZiB7QGxpbmsgcH0sIG9yIHVuZGVmaW5lZCBpZiB0aGUge0BsaW5rIGVwc2lsb259LW5laWdoYm9yaG9vZCBoYXMgZmV3ZXIgZWxlbWVudHMgdGhhbiB7QGxpbmsgbWluX3BvaW50c30uXG4gICAgICovXG4gICAgX2NvcmVfZGlzdGFuY2UocCkge1xuICAgICAgICBjb25zdCBtaW5fcG9pbnRzID0gdGhpcy5fbWluX3BvaW50cztcbiAgICAgICAgY29uc3QgbWV0cmljID0gdGhpcy5fbWV0cmljO1xuICAgICAgICBpZiAocC5uZWlnaGJvcnMgJiYgcC5uZWlnaGJvcnMubGVuZ3RoIDw9IG1pbl9wb2ludHMpIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1ldHJpYyhwLmVsZW1lbnQsIHAubmVpZ2hib3JzW21pbl9wb2ludHNdLmVsZW1lbnQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIHJlYWNoYWJpbGl0eSBkaXN0YW5jZSBvZiB0aGUgcG9pbnRzLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHAgXG4gICAgICogQHBhcmFtIHtIZWFwfSBzZWVkcyBcbiAgICAgKi9cbiAgICBfdXBkYXRlKHAsIHNlZWRzKSB7XG4gICAgICAgIGNvbnN0IG1ldHJpYyA9IHRoaXMuX21ldHJpYztcbiAgICAgICAgY29uc3QgY29yZV9kaXN0YW5jZSA9IHRoaXMuX2NvcmVfZGlzdGFuY2UocCk7XG4gICAgICAgIGNvbnN0IG5laWdoYm9ycyA9IHRoaXMuX2dldF9uZWlnaGJvcnMocCk7Ly9wLm5laWdoYm9ycztcbiAgICAgICAgZm9yIChjb25zdCBxIG9mIG5laWdoYm9ycykge1xuICAgICAgICAgICAgaWYgKHEucHJvY2Vzc2VkKSBjb250aW51ZTtcbiAgICAgICAgICAgIGNvbnN0IG5ld19yZWFjaGFiaWxpdHlfZGlzdGFuY2UgPSBNYXRoLm1heChjb3JlX2Rpc3RhbmNlLCBtZXRyaWMocC5lbGVtZW50LCBxLmVsZW1lbnQpKTtcbiAgICAgICAgICAgIC8vaWYgKHEucmVhY2hhYmlsaXR5X2Rpc3RhbmNlID09IHVuZGVmaW5lZCkgeyAvLyBxIGlzIG5vdCBpbiBzZWVkc1xuICAgICAgICAgICAgaWYgKHNlZWRzLnJhd19kYXRhKCkuZmluZEluZGV4KGQgPT4gZC5lbGVtZW50ID09IHEpIDwgMCkge1xuICAgICAgICAgICAgICAgIHEucmVhY2hhYmlsaXR5X2Rpc3RhbmNlID0gbmV3X3JlYWNoYWJpbGl0eV9kaXN0YW5jZTtcbiAgICAgICAgICAgICAgICBzZWVkcy5wdXNoKHEpO1xuICAgICAgICAgICAgfSBlbHNlIHsgLy8gcSBpcyBpbiBzZWVkc1xuICAgICAgICAgICAgICAgIGlmIChuZXdfcmVhY2hhYmlsaXR5X2Rpc3RhbmNlIDwgcS5yZWFjaGFiaWxpdHlfZGlzdGFuY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgcS5yZWFjaGFiaWxpdHlfZGlzdGFuY2UgPSBuZXdfcmVhY2hhYmlsaXR5X2Rpc3RhbmNlO1xuICAgICAgICAgICAgICAgICAgICBzZWVkcyA9IEhlYXAuaGVhcGlmeShzZWVkcy5kYXRhKCksIGQgPT4gZC5yZWFjaGFiaWxpdHlfZGlzdGFuY2UsIFwibWluXCIpOyAvLyBzZWVkcyBjaGFuZ2Uga2V5ID0vXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXhwYW5kcyB0aGUge0BsaW5rIGNsdXN0ZXJ9IHdpdGggcG9pbnRzIGluIHtAbGluayBzZWVkc30uXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0hlYXB9IHNlZWRzIFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGNsdXN0ZXIgXG4gICAgICovXG4gICAgX2V4cGFuZF9jbHVzdGVyKHNlZWRzLCBjbHVzdGVyKSB7XG4gICAgICAgIGNvbnN0IG9yZGVyZWRfbGlzdCA9IHRoaXMuX29yZGVyZWRfbGlzdDtcbiAgICAgICAgd2hpbGUgKCFzZWVkcy5lbXB0eSkge1xuICAgICAgICAgICAgY29uc3QgcSA9IHNlZWRzLnBvcCgpLmVsZW1lbnQ7XG4gICAgICAgICAgICBxLm5laWdoYm9ycyA9IHRoaXMuX2dldF9uZWlnaGJvcnMocSk7XG4gICAgICAgICAgICBxLnByb2Nlc3NlZCA9IHRydWU7XG4gICAgICAgICAgICBjbHVzdGVyLnB1c2gocS5pbmRleCk7XG4gICAgICAgICAgICBvcmRlcmVkX2xpc3QucHVzaChxKTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9jb3JlX2Rpc3RhbmNlKHEpICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3VwZGF0ZShxLCBzZWVkcyk7XG4gICAgICAgICAgICAgICAgdGhpcy5fZXhwYW5kX2NsdXN0ZXIoc2VlZHMsIGNsdXN0ZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhbiBhcnJheSBvZiBjbHVzdGVycy5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXk8QXJyYXk+fSBBcnJheSBvZiBjbHVzdGVycyB3aXRoIHRoZSBpbmRpY2VzIG9mIHRoZSByb3dzIGluIGdpdmVuIHtAbGluayBtYXRyaXh9LlxuICAgICAqL1xuICAgIGdldF9jbHVzdGVycygpIHtcbiAgICAgICAgY29uc3QgY2x1c3RlcnMgPSBbXTtcbiAgICAgICAgY29uc3Qgb3V0bGllcnMgPSBbXTtcbiAgICAgICAgY29uc3QgbWluX3BvaW50cyA9IHRoaXMuX21pbl9wb2ludHM7XG4gICAgICAgIGZvciAoY29uc3QgY2x1c3RlciBvZiB0aGlzLl9jbHVzdGVycykge1xuICAgICAgICAgICAgaWYgKGNsdXN0ZXIubGVuZ3RoIDwgbWluX3BvaW50cykge1xuICAgICAgICAgICAgICAgIG91dGxpZXJzLnB1c2goLi4uY2x1c3Rlcik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNsdXN0ZXJzLnB1c2goY2x1c3Rlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2x1c3RlcnMucHVzaChvdXRsaWVycyk7XG4gICAgICAgIHJldHVybiBjbHVzdGVycztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYW4gYXJyYXksIHdoZXJlIHRoZSBpdGggZW50cnkgZGVmaW5lcyB0aGUgY2x1c3RlciBhZmZpcm1hdGlvbiBvZiB0aGUgaXRoIHBvaW50IG9mIHtAbGluayBtYXRyaXh9LiAoLTEgc3RhbmRzIGZvciBvdXRsaWVyKVxuICAgICAqL1xuICAgIGdldF9jbHVzdGVyX2FmZmlybWF0aW9uKCkge1xuICAgICAgICBjb25zdCBOID0gdGhpcy5fbWF0cml4LnNoYXBlWzBdO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBuZXcgQXJyYXkoTikuZmlsbCgpO1xuICAgICAgICBjb25zdCBjbHVzdGVycyA9IHRoaXMuZ2V0X2NsdXN0ZXJzKCk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBuID0gY2x1c3RlcnMubGVuZ3RoOyBpIDwgbjsgKytpKSB7XG4gICAgICAgICAgICBjb25zdCBjbHVzdGVyID0gY2x1c3RlcnNbaV1cbiAgICAgICAgICAgIGZvciAoY29uc3QgaW5kZXggb2YgY2x1c3Rlcikge1xuICAgICAgICAgICAgICAgIHJlc3VsdFtpbmRleF0gPSAoaSA8IG4gLSAxKSA/IGkgOiAtMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbn1cbiIsImltcG9ydCB7IE1hdHJpeCB9IGZyb20gXCIuLi9tYXRyaXgvaW5kZXguanNcIjtcbmltcG9ydCB7IGV1Y2xpZGVhbiB9IGZyb20gXCIuLi9tZXRyaWNzL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBEUiB9IGZyb20gXCIuL0RSLmpzXCI7XG5pbXBvcnQgeyBQQ0EsIE1EUyB9IGZyb20gXCIuL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBkaXN0YW5jZV9tYXRyaXggfSBmcm9tIFwiLi4vbWF0cml4L2luZGV4LmpzXCI7XG5cbi8qKlxuICogQGNsYXNzXG4gKiBAYWxpYXMgU0FNTU9OXG4gKiBAZXh0ZW5kcyBEUlxuICovXG5leHBvcnQgY2xhc3MgU0FNTU9OIGV4dGVuZHMgRFIge1xuICAgIC8qKlxuICAgICAqIFNBTU1PTidzIE1hcHBpbmdcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAbWVtYmVyb2YgbW9kdWxlOkBkcnVpZC9kaW1lbnNpb25hbGl0eV9yZWR1Y3Rpb25cbiAgICAgKiBAYWxpYXMgU0FNTU9OXG4gICAgICogQHBhcmFtIHtNYXRyaXh8TnVtYmVyW11bXX0gWCAtIHRoZSBoaWdoLWRpbWVuc2lvbmFsIGRhdGEuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHBhcmFtZXRlcnMgLSBPYmplY3QgY29udGFpbmluZyBwYXJhbWV0ZXJpemF0aW9uIG9mIHRoZSBEUiBtZXRob2QuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtwYXJhbWV0ZXJzLmQgPSAyXSAtIHRoZSBkaW1lbnNpb25hbGl0eSBvZiB0aGUgcHJvamVjdGlvbi5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufFwicHJlY29tcHV0ZWRcIn0gW3BhcmFtZXRlcnMubWV0cmljID0gZXVjbGlkZWFuXSAtIHRoZSBtZXRyaWMgd2hpY2ggZGVmaW5lcyB0aGUgZGlzdGFuY2UgYmV0d2VlbiB0d28gcG9pbnRzLlxuICAgICAqIEBwYXJhbSB7XCJQQ0FcInxcIk1EU1wifFwicmFuZG9tXCJ9IFtwYXJhbWV0ZXJzLmluaXQgPSBcInJhbmRvbVwiXSAtIEVpdGhlciBcIlBDQVwiIG9yIFwiTURTXCIsIHdpdGggd2hpY2ggU0FNTU9OIGluaXRpYWxpYXRlcyB0aGUgcHJvamVjdGlvbi4gV2l0aCBcInJhbmRvbVwiIGEgcmFuZG9tIG1hdHJpeCBnZXRzIHVzZWQgYXMgc3RhcnRpbmcgcG9pbnQuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtwYXJhbWV0ZXJzLmluaXRfcGFyYW1ldGVyc10gLSBQYXJhbWV0ZXJzIGZvciB0aGUge0BsaW5rIGluaXR9LURSIG1ldGhvZC5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3BhcmFtZXRlcnMuc2VlZCA9IDEyMTJdIC0gdGhlIHNlZWQgZm9yIHRoZSByYW5kb20gbnVtYmVyIGdlbmVyYXRvci5cbiAgICAgKiBAcmV0dXJucyB7U0FNTU9OfVxuICAgICAqIEBzZWUge0BsaW5rIGh0dHBzOi8vYXJ4aXYub3JnL3BkZi8yMDA5LjAxNTEyLnBkZn1cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihYLCBwYXJhbWV0ZXJzKSB7XG4gICAgICAgIHN1cGVyKFgsIHsgbWFnaWM6IDAuMSwgZDogMiwgbWV0cmljOiBldWNsaWRlYW4sIHNlZWQ6IDEyMTIsIGluaXRfRFI6IFwicmFuZG9tXCIsIGluaXRfcGFyYW1ldGVyczoge30gfSwgcGFyYW1ldGVycyk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGluaXRpYWxpemVzIHRoZSBwcm9qZWN0aW9uLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgaW5pdCgpIHtcbiAgICAgICAgY29uc3QgTiA9IHRoaXMuWC5zaGFwZVswXTtcbiAgICAgICAgY29uc3QgeyBkLCBtZXRyaWMsIGluaXRfRFI6IGluaXRfRFIsIGluaXRfcGFyYW1ldGVyczogRFJfcGFyYW1ldGVycyB9ID0gdGhpcy5fcGFyYW1ldGVycztcbiAgICAgICAgaWYgKGluaXRfRFIgPT09IFwicmFuZG9tXCIpIHtcbiAgICAgICAgICAgIGNvbnN0IHJhbmRvbWl6ZXIgPSB0aGlzLl9yYW5kb21pemVyO1xuICAgICAgICAgICAgdGhpcy5ZID0gbmV3IE1hdHJpeChOLCBkLCAoKSA9PiByYW5kb21pemVyLnJhbmRvbSk7XG4gICAgICAgIH0gZWxzZSBpZiAoW1wiUENBXCIsIFwiTURTXCJdLmluY2x1ZGVzKGluaXRfRFIpKSB7XG4gICAgICAgICAgICB0aGlzLlkgPSBNYXRyaXguZnJvbShpbml0X0RSID09IFwiUENBXCIgPyBQQ0EudHJhbnNmb3JtKHRoaXMuWCwgRFJfcGFyYW1ldGVycykgOiBNRFMudHJhbnNmb3JtKHRoaXMuWCwgRFJfcGFyYW1ldGVycykpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbml0X0RSIG5lZWRzIHRvIGJlIGVpdGhlciBcInJhbmRvbVwiIG9yIGEgRFIgbWV0aG9kIScpXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kaXN0YW5jZV9tYXRyaXggPSBtZXRyaWMgPT0gXCJwcmVjb21wdXRlZFwiID8gTWF0cml4LmZyb20odGhpcy5YKSA6IGRpc3RhbmNlX21hdHJpeCh0aGlzLlgsIG1ldHJpYyk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRyYW5zZm9ybXMgdGhlIGlucHV0ZGF0YSB7QGxpbmsgWH0gdG8gZGltZW5pb25hbGl0eSAyLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbbWF4X2l0ZXI9MjAwXSAtIE1heGltdW0gbnVtYmVyIG9mIGl0ZXJhdGlvbiBzdGVwcy5cbiAgICAgKiBAcmV0dXJucyB7TWF0cml4fEFycmF5fSAtIFRoZSBwcm9qZWN0aW9uIG9mIHtAbGluayBYfS5cbiAgICAgKi9cbiAgICB0cmFuc2Zvcm0obWF4X2l0ZXIgPSAyMDApIHtcbiAgICAgICAgaWYgKCF0aGlzLl9pc19pbml0aWFsaXplZCkgdGhpcy5pbml0KCk7XG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgbWF4X2l0ZXI7ICsraikge1xuICAgICAgICAgICAgdGhpcy5fc3RlcCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnByb2plY3Rpb247XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVHJhbnNmb3JtcyB0aGUgaW5wdXRkYXRhIHtAbGluayBYfSB0byBkaW1lbmlvbmFsaXR5IDIuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFttYXhfaXRlcj0yMDBdIC0gTWF4aW11bSBudW1iZXIgb2YgaXRlcmF0aW9uIHN0ZXBzLlxuICAgICAqIEByZXR1cm5zIHtHZW5lcmF0b3J9IC0gQSBnZW5lcmF0b3IgeWllbGRpbmcgdGhlIGludGVybWVkaWF0ZSBzdGVwcyBvZiB0aGUgcHJvamVjdGlvbiBvZiB7QGxpbmsgWH0uXG4gICAgICovXG4gICAgKmdlbmVyYXRvcihtYXhfaXRlciA9IDIwMCkge1xuICAgICAgICBpZiAoIXRoaXMuX2lzX2luaXRpYWxpemVkKSB0aGlzLmluaXQoKTtcblxuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IG1heF9pdGVyOyArK2opIHtcbiAgICAgICAgICAgIHRoaXMuX3N0ZXAoKTtcbiAgICAgICAgICAgIHlpZWxkIHRoaXMucHJvamVjdGlvbjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLnByb2plY3Rpb247XG4gICAgfVxuXG4gICAgX3N0ZXAoKSB7XG4gICAgICAgIGNvbnN0IE1BR0lDID0gdGhpcy5wYXJhbWV0ZXIoXCJtYWdpY1wiKTtcbiAgICAgICAgY29uc3QgRCA9IHRoaXMuZGlzdGFuY2VfbWF0cml4O1xuICAgICAgICBjb25zdCBOID0gdGhpcy5YLnNoYXBlWzBdO1xuICAgICAgICBjb25zdCB7IGQsIG1ldHJpYyB9ID0gdGhpcy5fcGFyYW1ldGVycztcbiAgICAgICAgbGV0IFkgPSB0aGlzLlk7XG5cbiAgICAgICAgbGV0IEcgPSBuZXcgTWF0cml4KE4sIGQsIDApO1xuXG4gICAgICAgIGxldCBzdW0gPSBuZXcgRmxvYXQ2NEFycmF5KGQpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IE47ICsraSkge1xuICAgICAgICAgICAgbGV0IGUxID0gbmV3IEZsb2F0NjRBcnJheShkKTtcbiAgICAgICAgICAgIGxldCBlMiA9IG5ldyBGbG9hdDY0QXJyYXkoZCk7XG4gICAgICAgICAgICBjb25zdCBZaSA9IFkucm93KGkpO1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBOOyArK2opIHtcbiAgICAgICAgICAgICAgICBpZiAoaSA9PT0gaikgY29udGludWU7XG4gICAgICAgICAgICAgICAgY29uc3QgWWogPSBZLnJvdyhqKTtcbiAgICAgICAgICAgICAgICBjb25zdCBkZWx0YSA9IG5ldyBGbG9hdDY0QXJyYXkoZCk7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgayA9IDA7IGsgPCBkOyArK2spIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsdGFba10gPSBZaVtrXSAtIFlqW2tdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBkWSA9IG1ldHJpYyhZaSwgWWopO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRYID0gRC5lbnRyeShpLCBqKTtcbiAgICAgICAgICAgICAgICBjb25zdCBkcSA9IGRYIC0gZFk7XG4gICAgICAgICAgICAgICAgY29uc3QgZHIgPSBNYXRoLm1heChkWCAqIGRZLCAxZS0yKTtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBrID0gMDsgayA8IGQ7ICsraykge1xuICAgICAgICAgICAgICAgICAgICBlMVtrXSArPSAoZGVsdGFba10gKiBkcSkgLyBkcjtcbiAgICAgICAgICAgICAgICAgICAgZTJba10gKz0gKGRxIC0gKE1hdGgucG93KGRlbHRhW2tdLCAyKSAqICgxICsgZHEgLyBkWSkpIC8gZFkpIC8gZHI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChsZXQgayA9IDA7IGsgPCBkOyArK2spIHtcbiAgICAgICAgICAgICAgICBjb25zdCB2YWwgPSBZLmVudHJ5KGksIGspICsgKChNQUdJQyAqIGUxW2tdKSAvIE1hdGguYWJzKGUyW2tdKSB8fCAwKTtcbiAgICAgICAgICAgICAgICBHLnNldF9lbnRyeShpLCBrLCB2YWwpO1xuICAgICAgICAgICAgICAgIHN1bVtrXSArPSB2YWw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgayA9IDA7IGsgPCBkOyArK2spIHtcbiAgICAgICAgICAgIHN1bVtrXSAvPSBOO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBOOyArK2kpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGsgPSAwOyBrIDwgZDsgKytrKSB7XG4gICAgICAgICAgICAgICAgWS5zZXRfZW50cnkoaSwgaywgRy5lbnRyeShpLCBrKSAtIHN1bVtrXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgTWF0cml4IH0gZnJvbSBcIi4uL21hdHJpeC9pbmRleC5qc1wiO1xuaW1wb3J0IHsgZXVjbGlkZWFuIH0gZnJvbSBcIi4uL21ldHJpY3MvaW5kZXguanNcIjtcbmltcG9ydCB7IERSIH0gZnJvbSBcIi4vRFIuanNcIjtcblxuLyoqXG4gKiBAY2xhc3NcbiAqIEBhbGlhcyBUU05FXG4gKiBAZXh0ZW5kcyBEUlxuICovXG5leHBvcnQgY2xhc3MgVFNORSBleHRlbmRzIERSIHtcbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBtZW1iZXJvZiBtb2R1bGU6ZHJ1aWQvZGltZW5zaW9uYWxpdHlfcmVkdWN0aW9uXG4gICAgICogQGFsaWFzIFRTTkVcbiAgICAgKiBAcGFyYW0ge01hdHJpeHxOdW1iZXJbXVtdfSBYIC0gdGhlIGhpZ2gtZGltZW5zaW9uYWwgZGF0YS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcGFyYW1ldGVycyAtIE9iamVjdCBjb250YWluaW5nIHBhcmFtZXRlcml6YXRpb24gb2YgdGhlIERSIG1ldGhvZC5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3BhcmFtZXRlcnMucGVycGxleGl0eSA9IDUwXSAtIHBlcnBsZXhpdHkuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtwYXJhbWV0ZXJzLmVwc2lsb24gPSAxMF0gLSBsZWFybmluZyBwYXJhbWV0ZXIuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtwYXJhbWV0ZXJzLmQgPSAyXSAtIHRoZSBkaW1lbnNpb25hbGl0eSBvZiB0aGUgcHJvamVjdGlvbi5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufFwicHJlY29tcHV0ZWRcIn0gW3BhcmFtZXRlcnMubWV0cmljID0gZXVjbGlkZWFuXSAtIHRoZSBtZXRyaWMgd2hpY2ggZGVmaW5lcyB0aGUgZGlzdGFuY2UgYmV0d2VlbiB0d28gcG9pbnRzLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbcGFyYW1ldGVycy5zZWVkID0gMTIxMl0gLSB0aGUgc2VlZCBmb3IgdGhlIHJhbmRvbSBudW1iZXIgZ2VuZXJhdG9yLlxuICAgICAqIEByZXR1cm5zIHtUU05FfVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKFgsIHBhcmFtZXRlcnMpIHtcbiAgICAgICAgc3VwZXIoWCwgeyBwZXJwbGV4aXR5OiA1MCwgZXBzaWxvbjogMTAsIGQ6IDIsIG1ldHJpYzogZXVjbGlkZWFuLCBzZWVkOiAxMjEyIH0sIHBhcmFtZXRlcnMpO1xuICAgICAgICBbdGhpcy5fTiwgdGhpcy5fRF0gPSB0aGlzLlguc2hhcGU7XG4gICAgICAgIHRoaXMuX2l0ZXIgPSAwO1xuICAgICAgICB0aGlzLlkgPSBuZXcgTWF0cml4KHRoaXMuX04sIHRoaXMucGFyYW1ldGVyKFwiZFwiKSwgKCkgPT4gdGhpcy5fcmFuZG9taXplci5yYW5kb20pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7TWF0cml4fSBkaXN0YW5jZV9tYXRyaXggLSBhY2NlcHRzIGEgcHJlY29tcHV0ZWQgZGlzdGFuY2UgbWF0cml4XG4gICAgICogQHJldHVybnMge1RTTkV9XG4gICAgICovXG4gICAgaW5pdCgpIHtcbiAgICAgICAgLy8gaW5pdFxuICAgICAgICBjb25zdCBIdGFyZ2V0ID0gTWF0aC5sb2codGhpcy5wYXJhbWV0ZXIoXCJwZXJwbGV4aXR5XCIpKTtcbiAgICAgICAgY29uc3QgTiA9IHRoaXMuX047XG4gICAgICAgIGNvbnN0IEQgPSB0aGlzLl9EO1xuICAgICAgICBjb25zdCB7bWV0cmljfSA9IHRoaXMuX3BhcmFtZXRlcnM7XG4gICAgICAgIGNvbnN0IFggPSB0aGlzLlg7XG4gICAgICAgIGxldCBEZWx0YTtcbiAgICAgICAgaWYgKG1ldHJpYyA9PVwicHJlY29tcHV0ZWRcIikge1xuICAgICAgICAgICAgRGVsdGEgPSBkcnVpZC5NYXRyaXguZnJvbShYKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIERlbHRhID0gbmV3IE1hdHJpeChOLCBOKTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgTjsgKytpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgWF9pID0gWC5yb3coaSk7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IGkgKyAxOyBqIDwgTjsgKytqKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRpc3RhbmNlID0gbWV0cmljKFhfaSwgWC5yb3coaikpO1xuICAgICAgICAgICAgICAgICAgICBEZWx0YS5zZXRfZW50cnkoaSwgaiwgZGlzdGFuY2UpO1xuICAgICAgICAgICAgICAgICAgICBEZWx0YS5zZXRfZW50cnkoaiwgaSwgZGlzdGFuY2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IFAgPSBuZXcgTWF0cml4KE4sIE4sIFwiemVyb3NcIik7XG5cbiAgICAgICAgdGhpcy5feXN0ZXAgPSBuZXcgTWF0cml4KE4sIEQsIFwiemVyb3NcIik7XG4gICAgICAgIHRoaXMuX2dhaW5zID0gbmV3IE1hdHJpeChOLCBELCAxKTtcblxuICAgICAgICAvLyBzZWFyY2ggZm9yIGZpdHRpbmcgc2lnbWFcbiAgICAgICAgbGV0IHByb3cgPSBuZXcgRmxvYXQ2NEFycmF5KE4pXG4gICAgICAgIGNvbnN0IHRvbCA9IDFlLTQ7XG4gICAgICAgIGNvbnN0IG1heHRyaWVzID0gNTA7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgTjsgKytpKSB7XG4gICAgICAgICAgICBsZXQgYmV0YW1pbiA9IC1JbmZpbml0eTtcbiAgICAgICAgICAgIGxldCBiZXRhbWF4ID0gSW5maW5pdHk7XG4gICAgICAgICAgICBsZXQgYmV0YSA9IDE7XG4gICAgICAgICAgICBsZXQgZG9uZSA9IGZhbHNlO1xuXG4gICAgICAgICAgICBsZXQgbnVtID0gMDtcbiAgICAgICAgICAgIHdoaWxlICghZG9uZSkge1xuICAgICAgICAgICAgICAgIGxldCBwc3VtID0gMDtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IE47ICsraikge1xuICAgICAgICAgICAgICAgICAgICBsZXQgcGogPSBNYXRoLmV4cCgtRGVsdGEuZW50cnkoaSwgaikgKiBiZXRhKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGkgPT09IGopIHBqID0gMDtcbiAgICAgICAgICAgICAgICAgICAgcHJvd1tqXSA9IHBqO1xuICAgICAgICAgICAgICAgICAgICBwc3VtICs9IHBqO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsZXQgSGhlcmUgPSAwO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgTjsgKytqKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBwaiA9IHBzdW0gPT09IDAgPyAwIDogcHJvd1tqXSAvIHBzdW07XG4gICAgICAgICAgICAgICAgICAgIHByb3dbal0gPSBwajtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBqID4gMWUtNykge1xuICAgICAgICAgICAgICAgICAgICAgICAgSGhlcmUgLT0gcGogKiBNYXRoLmxvZyhwaik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKEhoZXJlID4gSHRhcmdldCkge1xuICAgICAgICAgICAgICAgICAgICBiZXRhbWluID0gYmV0YTtcbiAgICAgICAgICAgICAgICAgICAgYmV0YSA9IGJldGFtYXggPT09IEluZmluaXR5ID8gYmV0YSAqIDIgOiAoYmV0YSArIGJldGFtYXgpIC8gMjtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBiZXRhbWF4ID0gYmV0YTtcbiAgICAgICAgICAgICAgICAgICAgYmV0YSA9IGJldGFtaW4gPT09IC1JbmZpbml0eSA/IGJldGEgLyAyIDogKGJldGEgKyBiZXRhbWluKSAvIDI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICsrbnVtO1xuICAgICAgICAgICAgICAgIGlmIChNYXRoLmFicyhIaGVyZSAtIEh0YXJnZXQpIDwgdG9sKSBkb25lID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBpZiAobnVtID49IG1heHRyaWVzKSBkb25lID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBOOyArK2opIHtcbiAgICAgICAgICAgICAgICBQLnNldF9lbnRyeShpLCBqLCBwcm93W2pdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vY29tcHV0ZSBwcm9iYWJpbGl0aWVzXG4gICAgICAgIGNvbnN0IFBvdXQgPSBuZXcgTWF0cml4KE4sIE4sIFwiemVyb3NcIik7XG4gICAgICAgIGNvbnN0IE4yID0gTiAqIDI7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgTjsgKytpKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gaTsgaiA8IE47ICsraikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHAgPSBNYXRoLm1heCgoUC5lbnRyeShpLCBqKSArIFAuZW50cnkoaiwgaSkpIC8gTjIsIDFlLTEwMCk7XG4gICAgICAgICAgICAgICAgUG91dC5zZXRfZW50cnkoaSwgaiwgcCk7XG4gICAgICAgICAgICAgICAgUG91dC5zZXRfZW50cnkoaiwgaSwgcCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fUCA9IFBvdXQ7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtpdGVyYXRpb25zPTUwMF0gLSBudW1iZXIgb2YgaXRlcmF0aW9ucy5cbiAgICAgKiBAeWllbGRzIHtNYXRyaXh8QXJyYXk8QXJyYXk+fSAtIHRoZSBwcm9qZWN0aW9uLlxuICAgICAqL1xuICAgIHRyYW5zZm9ybShpdGVyYXRpb25zID0gNTAwKSB7XG4gICAgICAgIHRoaXMuY2hlY2tfaW5pdCgpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGl0ZXJhdGlvbnM7ICsraSkge1xuICAgICAgICAgICAgdGhpcy5uZXh0KCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMucHJvamVjdGlvbjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbaXRlcmF0aW9ucz01MDBdIC0gbnVtYmVyIG9mIGl0ZXJhdGlvbnMuXG4gICAgICogQHlpZWxkcyB7TWF0cml4fEFycmF5PEFycmF5Pn0gLSB0aGUgcHJvamVjdGlvbi5cbiAgICAgKi9cbiAgICAqZ2VuZXJhdG9yKGl0ZXJhdGlvbnMgPSA1MDApIHtcbiAgICAgICAgdGhpcy5jaGVja19pbml0KCk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaXRlcmF0aW9uczsgKytpKSB7XG4gICAgICAgICAgICB0aGlzLm5leHQoKTtcbiAgICAgICAgICAgIHlpZWxkIHRoaXMucHJvamVjdGlvbjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5wcm9qZWN0aW9uO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIHBlcmZvcm1zIGEgb3B0aW1pemF0aW9uIHN0ZXBcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm5zIHtNYXRyaXh9XG4gICAgICovXG4gICAgbmV4dCgpIHtcbiAgICAgICAgY29uc3QgaXRlciA9ICsrdGhpcy5faXRlcjtcbiAgICAgICAgY29uc3QgUCA9IHRoaXMuX1A7XG4gICAgICAgIGNvbnN0IHlzdGVwID0gdGhpcy5feXN0ZXA7XG4gICAgICAgIGNvbnN0IGdhaW5zID0gdGhpcy5fZ2FpbnM7XG4gICAgICAgIGNvbnN0IE4gPSB0aGlzLl9OO1xuICAgICAgICBjb25zdCB7IGQ6IGRpbSwgZXBzaWxvbn0gPSB0aGlzLl9wYXJhbWV0ZXJzO1xuICAgICAgICBsZXQgWSA9IHRoaXMuWTtcblxuICAgICAgICAvL2NhbGMgY29zdCBncmFkaWVudDtcbiAgICAgICAgY29uc3QgcG11bCA9IGl0ZXIgPCAxMDAgPyA0IDogMTtcblxuICAgICAgICAvLyBjb21wdXRlIFEgZGlzdCAodW5ub3JtYWxpemVkKVxuICAgICAgICBjb25zdCBRdSA9IG5ldyBNYXRyaXgoTiwgTiwgXCJ6ZXJvc1wiKTtcbiAgICAgICAgbGV0IHFzdW0gPSAwO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IE47ICsraSkge1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IGkgKyAxOyBqIDwgTjsgKytqKSB7XG4gICAgICAgICAgICAgICAgbGV0IGRzdW0gPSAwO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGQgPSAwOyBkIDwgZGltOyArK2QpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGhlcmUgPSBZLmVudHJ5KGksIGQpIC0gWS5lbnRyeShqLCBkKTtcbiAgICAgICAgICAgICAgICAgICAgZHN1bSArPSBkaGVyZSAqIGRoZXJlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBxdSA9IDEgLyAoMSArIGRzdW0pO1xuICAgICAgICAgICAgICAgIFF1LnNldF9lbnRyeShpLCBqLCBxdSk7XG4gICAgICAgICAgICAgICAgUXUuc2V0X2VudHJ5KGosIGksIHF1KTtcbiAgICAgICAgICAgICAgICBxc3VtICs9IDIgKiBxdTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG5vcm1hbGl6ZSBRIGRpc3RcbiAgICAgICAgY29uc3QgUSA9IG5ldyBNYXRyaXgoTiwgTiwgMCk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgTjsgKytpKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gaSArIDE7IGogPCBOOyArK2opIHtcbiAgICAgICAgICAgICAgICBjb25zdCB2YWwgPSBNYXRoLm1heChRdS5lbnRyeShpLCBqKSAvIHFzdW0sIDFlLTEwMCk7XG4gICAgICAgICAgICAgICAgUS5zZXRfZW50cnkoaSwgaiwgdmFsKTtcbiAgICAgICAgICAgICAgICBRLnNldF9lbnRyeShqLCBpLCB2YWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZ3JhZCA9IG5ldyBNYXRyaXgoTiwgZGltLCBcInplcm9zXCIpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IE47ICsraSkge1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBOOyArK2opIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwcmVtdWx0ID0gNCAqIChwbXVsICogUC5lbnRyeShpLCBqKSAtIFEuZW50cnkoaSwgaikpICogUXUuZW50cnkoaSwgaik7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgZCA9IDA7IGQgPCBkaW07ICsrZCkge1xuICAgICAgICAgICAgICAgICAgICBncmFkLnNldF9lbnRyeShpLCBkLCBncmFkLmVudHJ5KGksIGQpICsgcHJlbXVsdCAqIChZLmVudHJ5KGksIGQpIC0gWS5lbnRyeShqLCBkKSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHBlcmZvcm0gZ3JhZGllbnQgc3RlcFxuICAgICAgICBsZXQgeW1lYW4gPSBuZXcgRmxvYXQ2NEFycmF5KGRpbSk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgTjsgKytpKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBkID0gMDsgZCA8IGRpbTsgKytkKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZ2lkID0gZ3JhZC5lbnRyeShpLCBkKTtcbiAgICAgICAgICAgICAgICBjb25zdCBzaWQgPSB5c3RlcC5lbnRyeShpLCBkKTtcbiAgICAgICAgICAgICAgICBjb25zdCBnYWluaWQgPSBnYWlucy5lbnRyeShpLCBkKTtcblxuICAgICAgICAgICAgICAgIGxldCBuZXdnYWluID0gTWF0aC5zaWduKGdpZCkgPT09IE1hdGguc2lnbihzaWQpID8gZ2FpbmlkICogMC44IDogZ2FpbmlkICsgMC4yO1xuICAgICAgICAgICAgICAgIGlmIChuZXdnYWluIDwgMC4wMSkgbmV3Z2FpbiA9IDAuMDE7XG4gICAgICAgICAgICAgICAgZ2FpbnMuc2V0X2VudHJ5KGksIGQsIG5ld2dhaW4pO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgbW9tdmFsID0gaXRlciA8IDI1MCA/IDAuNSA6IDAuODtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdzaWQgPSBtb212YWwgKiBzaWQgLSBlcHNpbG9uICogbmV3Z2FpbiAqIGdpZDtcbiAgICAgICAgICAgICAgICB5c3RlcC5zZXRfZW50cnkoaSwgZCwgbmV3c2lkKTtcblxuICAgICAgICAgICAgICAgIFkuc2V0X2VudHJ5KGksIGQsIFkuZW50cnkoaSwgZCkgKyBuZXdzaWQpO1xuICAgICAgICAgICAgICAgIHltZWFuW2RdICs9IFkuZW50cnkoaSwgZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IE47ICsraSkge1xuICAgICAgICAgICAgZm9yIChsZXQgZCA9IDA7IGQgPCAyOyArK2QpIHtcbiAgICAgICAgICAgICAgICBZLnNldF9lbnRyeShpLCBkLCBZLmVudHJ5KGksIGQpIC0geW1lYW5bZF0gLyBOKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLlk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgTWF0cml4IH0gZnJvbSBcIi4uL21hdHJpeC9pbmRleC5qc1wiO1xuaW1wb3J0IHsgZXVjbGlkZWFuIH0gZnJvbSBcIi4uL21ldHJpY3MvaW5kZXguanNcIjtcbmltcG9ydCB7IERSIH0gZnJvbSBcIi4vRFIuanNcIjtcbmltcG9ydCB7IERpc2pvaW50U2V0IH0gZnJvbSBcIi4uL2RhdGFzdHJ1Y3R1cmUvaW5kZXguanNcIjtcblxuLyoqXG4gKiBAY2xhc3NcbiAqIEBhbGlhcyBUb3BvTWFwXG4gKiBAZXh0ZW5kcyBEUlxuICovXG5leHBvcnQgY2xhc3MgVG9wb01hcCBleHRlbmRzIERSIHtcbiAgICAvKipcbiAgICAgKiBUb3BvTWFwOiBBIDAtZGltZW5zaW9uYWwgSG9tb2xvZ3kgUHJlc2VydmluZyBQcm9qZWN0aW9uIG9mIEhpZ2gtRGltZW5zaW9uYWwgRGF0YS5cbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAbWVtYmVyb2YgbW9kdWxlOmRydWlkL2RpbWVuc2lvbmFsaXR5X3JlZHVjdGlvblxuICAgICAqIEBhbGlhcyBUb3BvTWFwXG4gICAgICogQHBhcmFtIHtNYXRyaXh8TnVtYmVyW11bXX0gWCAtIHRoZSBoaWdoLWRpbWVuc2lvbmFsIGRhdGEuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHBhcmFtZXRlcnMgLSBPYmplY3QgY29udGFpbmluZyBwYXJhbWV0ZXJpemF0aW9uIG9mIHRoZSBEUiBtZXRob2QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3BhcmFtZXRlcnMubWV0cmljID0gZXVjbGlkZWFuXSAtIHRoZSBtZXRyaWMgd2hpY2ggZGVmaW5lcyB0aGUgZGlzdGFuY2UgYmV0d2VlbiB0d28gcG9pbnRzLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbcGFyYW1ldGVycy5zZWVkID0gMTIxMl0gLSB0aGUgc2VlZCBmb3IgdGhlIHJhbmRvbSBudW1iZXIgZ2VuZXJhdG9yLlxuICAgICAqIEByZXR1cm5zIHtUb3BvTWFwfVxuICAgICAqIEBzZWUge0BsaW5rIGh0dHBzOi8vYXJ4aXYub3JnL3BkZi8yMDA5LjAxNTEyLnBkZn1cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihYLCBwYXJhbWV0ZXJzKSB7XG4gICAgICAgIHN1cGVyKFgsIHsgbWV0cmljOiBldWNsaWRlYW4sIHNlZWQ6IDEyMTIgfSwgcGFyYW1ldGVycyk7XG4gICAgICAgIFt0aGlzLl9OLCB0aGlzLl9EXSA9IHRoaXMuWC5zaGFwZTtcbiAgICAgICAgdGhpcy5fZGlzdGFuY2VfbWF0cml4ID0gbmV3IE1hdHJpeCh0aGlzLl9OLCB0aGlzLl9OLCAwKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfX2xhenlfZGlzdGFuY2VfbWF0cml4KGksIGosIG1ldHJpYykge1xuICAgICAgICBjb25zdCBEID0gdGhpcy5fZGlzdGFuY2VfbWF0cml4O1xuICAgICAgICBjb25zdCBYID0gdGhpcy5YO1xuICAgICAgICBjb25zdCBEX2lqID0gRC5lbnRyeShpLCBqKTtcbiAgICAgICAgaWYgKERfaWogPT09IDApIHtcbiAgICAgICAgICAgIGxldCBkaXN0ID0gbWV0cmljKFgucm93KGkpLCBYLnJvdyhqKSk7XG4gICAgICAgICAgICBELnNldF9lbnRyeShpLCBqLCBkaXN0KTtcbiAgICAgICAgICAgIEQuc2V0X2VudHJ5KGosIGksIGRpc3QpO1xuICAgICAgICAgICAgcmV0dXJuIGRpc3Q7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIERfaWo7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29tcHV0ZXMgdGhlIG1pbmltdW0gc3Bhbm5pbmcgdHJlZSwgdXNpbmcgYSBnaXZlbiBtZXRyaWNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IG1ldHJpY1xuICAgICAqIEBzZWUge0BsaW5rIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0tydXNrYWwlMjdzX2FsZ29yaXRobX1cbiAgICAgKi9cbiAgICBfbWFrZV9taW5pbXVtX3NwYW5uaW5nX3RyZWUobWV0cmljID0gZXVjbGlkZWFuKSB7XG4gICAgICAgIGNvbnN0IE4gPSB0aGlzLl9OO1xuICAgICAgICBjb25zdCBYID0gWy4uLnRoaXMuWF07XG5cbiAgICAgICAgbGV0IGRpc2pvaW50X3NldCA9IG5ldyBEaXNqb2ludFNldChYKTtcbiAgICAgICAgY29uc3QgRiA9IFtdO1xuICAgICAgICBsZXQgRSA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IE47ICsraSkge1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IGkgKyAxOyBqIDwgTjsgKytqKSB7XG4gICAgICAgICAgICAgICAgRS5wdXNoKFtpLCBqLCB0aGlzLl9fbGF6eV9kaXN0YW5jZV9tYXRyaXgoaSwgaiwgbWV0cmljKV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIEUgPSBFLnNvcnQoKGEsIGIpID0+IGFbMl0gLSBiWzJdKTtcblxuICAgICAgICBmb3IgKGNvbnN0IFt1LCB2LCB3XSBvZiBFKSB7XG4gICAgICAgICAgICBjb25zdCBzZXRfdSA9IGRpc2pvaW50X3NldC5maW5kKFhbdV0pO1xuICAgICAgICAgICAgY29uc3Qgc2V0X3YgPSBkaXNqb2ludF9zZXQuZmluZChYW3ZdKTtcbiAgICAgICAgICAgIGlmIChzZXRfdSAhPT0gc2V0X3YpIHtcbiAgICAgICAgICAgICAgICBGLnB1c2goW3UsIHYsIHddKTtcbiAgICAgICAgICAgICAgICBkaXNqb2ludF9zZXQudW5pb24oc2V0X3UsIHNldF92KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBGLnNvcnQoKGEsIGIpID0+IGFbMl0gLSBiWzJdKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBpbml0aWFsaXplcyBUb3BvTWFwLiBTZXRzIGFsbCBwcm9qY3RlZCBwb2ludHMgdG8gemVybywgYW5kIGNvbXB1dGVzIGEgbWluaW11bSBzcGFubmluZyB0cmVlLlxuICAgICAqL1xuICAgIGluaXQoKSB7XG4gICAgICAgIGNvbnN0IHsgbWV0cmljfSA9IHRoaXMuX3BhcmFtZXRlcnNcbiAgICAgICAgdGhpcy5ZID0gbmV3IE1hdHJpeCh0aGlzLl9OLCAyLCAwKTtcbiAgICAgICAgdGhpcy5fRW1zdCA9IHRoaXMuX21ha2VfbWluaW11bV9zcGFubmluZ190cmVlKG1ldHJpYyk7XG4gICAgICAgIHRoaXMuX2lzX2luaXRpYWxpemVkID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIFBvaW50IEMgaXMgbGVmdCBvZiBsaW5lIEFCLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gUG9pbnRBIC0gUG9pbnQgQSBvZiBsaW5lIEFCXG4gICAgICogQHBhcmFtIHtBcnJheX0gUG9pbnRCIC0gUG9pbnQgQiBvZiBsaW5lIEFCXG4gICAgICogQHBhcmFtIHtBcnJheX0gUG9pbnRDIC0gUG9pbnQgQ1xuICAgICAqIEByZXR1cm5zIHtCb29sZWFufVxuICAgICAqL1xuICAgIF9faHVsbF9jcm9zcyhbYXgsIGF5XSwgW2J4LCBieV0sIFtzeCwgc3ldKSB7XG4gICAgICAgIHJldHVybiAoYnggLSBheCkgKiAoc3kgLSBheSkgLSAoYnkgLSBheSkgKiAoc3ggLSBheCkgPD0gMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyB0aGUgY29udmV4IGh1bGwgb2YgdGhlIHNldCBvZiBQb2ludHMgU1xuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gUyAtIFNldCBvZiBQb2ludHMuXG4gICAgICogQHNlZSB7QGxpbmsgaHR0cHM6Ly9lbi53aWtpYm9va3Mub3JnL3dpa2kvQWxnb3JpdGhtX0ltcGxlbWVudGF0aW9uL0dlb21ldHJ5L0NvbnZleF9odWxsL01vbm90b25lX2NoYWluI0phdmFTY3JpcHR9XG4gICAgICogQHJldHVybnMge0FycmF5fSBjb252ZXggaHVsbCBvZiBTLiBTdGFydHMgYXQgdGhlIGJvdHRvbS1tb3N0IHBvaW50IGFuZCBjb250aW51ZXMgY291bnRlci1jbG9ja3dpc2UuXG4gICAgICovXG4gICAgX19odWxsKFMpIHtcbiAgICAgICAgY29uc3QgcG9pbnRzID0gUy5zb3J0KChbeDEsIHkxXSwgW3gyLCB5Ml0pID0+IHkxIC0geTIgfHwgeDEgLSB4Mik7XG4gICAgICAgIGNvbnN0IE4gPSBwb2ludHMubGVuZ3RoO1xuICAgICAgICBpZiAoTiA8PSAyKSByZXR1cm4gcG9pbnRzO1xuXG4gICAgICAgIGNvbnN0IGxvd2VyID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgTjsgKytpKSB7XG4gICAgICAgICAgICB3aGlsZSAobG93ZXIubGVuZ3RoID49IDIgJiYgdGhpcy5fX2h1bGxfY3Jvc3MobG93ZXJbbG93ZXIubGVuZ3RoIC0gMl0sIGxvd2VyW2xvd2VyLmxlbmd0aCAtIDFdLCBwb2ludHNbaV0pKSB7XG4gICAgICAgICAgICAgICAgbG93ZXIucG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsb3dlci5wdXNoKHBvaW50c1tpXSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdXBwZXIgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IE4gLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICAgICAgd2hpbGUgKHVwcGVyLmxlbmd0aCA+PSAyICYmIHRoaXMuX19odWxsX2Nyb3NzKHVwcGVyW3VwcGVyLmxlbmd0aCAtIDJdLCB1cHBlclt1cHBlci5sZW5ndGggLSAxXSwgcG9pbnRzW2ldKSkge1xuICAgICAgICAgICAgICAgIHVwcGVyLnBvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdXBwZXIucHVzaChwb2ludHNbaV0pO1xuICAgICAgICB9XG4gICAgICAgIHVwcGVyLnBvcCgpO1xuICAgICAgICBsb3dlci5wb3AoKTtcbiAgICAgICAgcmV0dXJuIGxvd2VyLmNvbmNhdCh1cHBlcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRmluZHMgdGhlIGFuZ2xlIHRvIHJvdGF0ZSBQb2ludCBBIGFuZCBCIHRvIGxpZSBvbiBhIGxpbmUgcGFyYWxsZWwgdG8gdGhlIHgtYXhpcy5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFBvaW50QVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFBvaW50QlxuICAgICAqIEByZXR1cm4ge09iamVjdH0gT2JqZWN0IGNvbnRhaW5pbmcgdGhlIHNpbnVzLSBhbmQgY29zaW51cy12YWx1ZXMgZm9yIGEgcm90YXRpb24uXG4gICAgICovXG4gICAgX19maW5kQW5nbGUoW3AxeCwgcDF5XSwgW3AyeCwgcDJ5XSkge1xuICAgICAgICBjb25zdCBuID0gZXVjbGlkZWFuKFtwMXgsIHAxeV0sIFtwMngsIHAyeV0pO1xuICAgICAgICBpZiAobiA9PT0gMClcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgc2luOiAwLFxuICAgICAgICAgICAgICAgIGNvczogMSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIGNvbnN0IHZlYyA9IFsocDJ4IC0gcDF4KSAvIG4sIChwMnkgLSBwMXkpIC8gbl07XG4gICAgICAgIGNvbnN0IGNvcyA9IHZlY1swXTtcbiAgICAgICAgbGV0IHNpbiA9IE1hdGguc3FydCgxIC0gY29zICogY29zKTtcbiAgICAgICAgc2luID0gdmVjWzFdID49IDAgPyAtc2luIDogc2luO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc2luOiBzaW4sXG4gICAgICAgICAgICBjb3M6IGNvcyxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGh1bGxcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBwXG4gICAgICogQHBhcmFtIHtCb29sfSB0b3BFZGdlXG4gICAgICovXG4gICAgX19hbGlnbl9odWxsKGh1bGwsIHAsIHRvcEVkZ2UpIHtcbiAgICAgICAgbGV0IHYgPSAtMTtcbiAgICAgICAgbGV0IGQyO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGh1bGwubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGNvbnN0IGQgPSBldWNsaWRlYW4oaHVsbFtpXSwgcCk7XG4gICAgICAgICAgICBpZiAodiA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICBkMiA9IGQ7XG4gICAgICAgICAgICAgICAgdiA9IGk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChkMiA+IGQpIHtcbiAgICAgICAgICAgICAgICAgICAgZDIgPSBkO1xuICAgICAgICAgICAgICAgICAgICB2ID0gaTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgdjE7XG4gICAgICAgIGxldCB2MjtcbiAgICAgICAgaWYgKHRvcEVkZ2UpIHtcbiAgICAgICAgICAgIHYxID0gaHVsbFt2XTtcbiAgICAgICAgICAgIHYyID0gaHVsbFsodiArIDEpICUgaHVsbC5sZW5ndGhdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKHYgPT0gMCkgdiA9IGh1bGwubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgIHYxID0gaHVsbFt2XTtcbiAgICAgICAgICAgIHYyID0gaHVsbFsodiAtIDEpICUgaHVsbC5sZW5ndGhdO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgdHJhbnNmb3JtYXRpb24gPSB7XG4gICAgICAgICAgICB0eDogLWh1bGxbdl1bMF0sXG4gICAgICAgICAgICB0eTogLWh1bGxbdl1bMV0sXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKGh1bGwubGVuZ3RoID49IDIpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgc2luLCBjb3MgfSA9IHRoaXMuX19maW5kQW5nbGUodjEsIHYyKTtcbiAgICAgICAgICAgIHRyYW5zZm9ybWF0aW9uLnNpbiA9IHNpbjtcbiAgICAgICAgICAgIHRyYW5zZm9ybWF0aW9uLmNvcyA9IGNvcztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRyYW5zZm9ybWF0aW9uLnNpbiA9IDA7XG4gICAgICAgICAgICB0cmFuc2Zvcm1hdGlvbi5jb3MgPSAxO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRyYW5zZm9ybWF0aW9uO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gUG9pbnQgLSBUaGUgcG9pbnQgd2hpY2ggc2hvdWxkIGdldCB0cmFuc2Zvcm1lZC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gVHJhbnNmb3JtYXRpb24gLSBjb250YWlucyB0aGUgdmFsdWVzIGZvciB0cmFuc2xhdGlvbiBhbmQgcm90YXRpb24uXG4gICAgICovXG4gICAgX190cmFuc2Zvcm0oW3B4LCBweV0sIHsgdHgsIHR5LCBzaW4sIGNvcyB9KSB7XG4gICAgICAgIGxldCB4ID0gcHggKyB0eDtcbiAgICAgICAgbGV0IHkgPSBweSArIHR5O1xuICAgICAgICBsZXQgeHggPSB4ICogY29zIC0geSAqIHNpbjtcbiAgICAgICAgbGV0IHl5ID0geCAqIHNpbiArIHkgKiBjb3M7XG4gICAgICAgIHJldHVybiBbeHgsIHl5XTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYWxscyB7QGxpbmsgX190cmFuc2Zvcm19IGZvciBlYWNoIHBvaW50IGluIFNldCBDXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBDIC0gU2V0IG9mIHBvaW50cy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gdCAtIFRyYW5zZm9ybSBvYmplY3QuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHlPZmZzZXQgLSB2YWx1ZSB0byBvZmZzZXQgc2V0IEMuXG4gICAgICovXG4gICAgX190cmFuc2Zvcm1fY29tcG9uZW50KEMsIHQsIHlPZmZzZXQpIHtcbiAgICAgICAgY29uc3QgTiA9IEMubGVuZ3RoO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IE47ICsraSkge1xuICAgICAgICAgICAgY29uc3QgYyA9IENbaV07XG4gICAgICAgICAgICBjb25zdCBbY3gsIGN5XSA9IHRoaXMuX190cmFuc2Zvcm0oYywgdCk7XG4gICAgICAgICAgICBjWzBdID0gY3g7XG4gICAgICAgICAgICBjWzFdID0gY3kgKyB5T2Zmc2V0O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSB1IC0gcG9pbnQgdVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHYgLSBwb2ludCB2XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHcgLSBlZGdlIHdlaWdodCB3XG4gICAgICovXG4gICAgX19hbGlnbl9jb21wb25lbnRzKHUsIHYsIHcpIHtcbiAgICAgICAgY29uc3QgcG9pbnRzX3UgPSBbLi4udS5fX2Rpc2pvaW50X3NldC5jaGlsZHJlbl07XG4gICAgICAgIGNvbnN0IHBvaW50c192ID0gWy4uLnYuX19kaXNqb2ludF9zZXQuY2hpbGRyZW5dO1xuXG4gICAgICAgIGNvbnN0IGh1bGxfdSA9IHRoaXMuX19odWxsKHBvaW50c191KTtcbiAgICAgICAgY29uc3QgaHVsbF92ID0gdGhpcy5fX2h1bGwocG9pbnRzX3YpO1xuXG4gICAgICAgIGNvbnN0IHRfdSA9IHRoaXMuX19hbGlnbl9odWxsKGh1bGxfdSwgdSwgZmFsc2UpO1xuICAgICAgICBjb25zdCB0X3YgPSB0aGlzLl9fYWxpZ25faHVsbChodWxsX3YsIHYsIHRydWUpO1xuXG4gICAgICAgIHRoaXMuX190cmFuc2Zvcm1fY29tcG9uZW50KHBvaW50c191LCB0X3UsIDApO1xuICAgICAgICB0aGlzLl9fdHJhbnNmb3JtX2NvbXBvbmVudChwb2ludHNfdiwgdF92LCB3KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUcmFuc2Zvcm1zIHRoZSBpbnB1dGRhdGEge0BsaW5rIFh9IHRvIGRpbWVuc2lvbmFsaXR5IDIuXG4gICAgICovXG4gICAgdHJhbnNmb3JtKCkge1xuICAgICAgICBpZiAoIXRoaXMuX2lzX2luaXRpYWxpemVkKSB0aGlzLmluaXQoKTtcbiAgICAgICAgY29uc3QgRW1zdCA9IHRoaXMuX0Vtc3Q7XG4gICAgICAgIGNvbnN0IFkgPSB0aGlzLlkudG8yZEFycmF5O1xuICAgICAgICBjb25zdCBjb21wb25lbnRzID0gbmV3IERpc2pvaW50U2V0KFxuICAgICAgICAgICAgWS5tYXAoKHksIGkpID0+IHtcbiAgICAgICAgICAgICAgICB5LmkgPSBpO1xuICAgICAgICAgICAgICAgIHJldHVybiB5O1xuICAgICAgICAgICAgfSlcbiAgICAgICAgKTtcblxuICAgICAgICBmb3IgKGNvbnN0IFt1LCB2LCB3XSBvZiBFbXN0KSB7XG4gICAgICAgICAgICBjb25zdCBjb21wb25lbnRfdSA9IGNvbXBvbmVudHMuZmluZChZW3VdKTtcbiAgICAgICAgICAgIGNvbnN0IGNvbXBvbmVudF92ID0gY29tcG9uZW50cy5maW5kKFlbdl0pO1xuICAgICAgICAgICAgaWYgKGNvbXBvbmVudF91ID09PSBjb21wb25lbnRfdikgY29udGludWU7XG4gICAgICAgICAgICB0aGlzLl9fYWxpZ25fY29tcG9uZW50cyhjb21wb25lbnRfdSwgY29tcG9uZW50X3YsIHcpO1xuICAgICAgICAgICAgY29tcG9uZW50cy51bmlvbihjb21wb25lbnRfdSwgY29tcG9uZW50X3YpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnByb2plY3Rpb247XG4gICAgfVxuXG4gICAgKmdlbmVyYXRvcigpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9pc19pbml0aWFsaXplZCkgdGhpcy5pbml0KCk7XG4gICAgICAgIGNvbnN0IEVtc3QgPSB0aGlzLl9FbXN0O1xuICAgICAgICBjb25zdCBZID0gdGhpcy5ZLnRvMmRBcnJheTtcbiAgICAgICAgY29uc3QgY29tcG9uZW50cyA9IG5ldyBEaXNqb2ludFNldChcbiAgICAgICAgICAgIFkubWFwKCh5LCBpKSA9PiB7XG4gICAgICAgICAgICAgICAgeS5pID0gaTtcbiAgICAgICAgICAgICAgICByZXR1cm4geTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICk7XG5cbiAgICAgICAgZm9yIChjb25zdCBbdSwgdiwgd10gb2YgRW1zdCkge1xuICAgICAgICAgICAgY29uc3QgY29tcG9uZW50X3UgPSBjb21wb25lbnRzLmZpbmQoWVt1XSk7XG4gICAgICAgICAgICBjb25zdCBjb21wb25lbnRfdiA9IGNvbXBvbmVudHMuZmluZChZW3ZdKTtcbiAgICAgICAgICAgIGlmIChjb21wb25lbnRfdSA9PT0gY29tcG9uZW50X3YpIGNvbnRpbnVlO1xuICAgICAgICAgICAgdGhpcy5fX2FsaWduX2NvbXBvbmVudHMoY29tcG9uZW50X3UsIGNvbXBvbmVudF92LCB3KTtcbiAgICAgICAgICAgIGNvbXBvbmVudHMudW5pb24oY29tcG9uZW50X3UsIGNvbXBvbmVudF92KTtcbiAgICAgICAgICAgIHlpZWxkIHRoaXMucHJvamVjdGlvbjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5wcm9qZWN0aW9uO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IE1hdHJpeCwgbGluc3BhY2UgfSBmcm9tIFwiLi4vbWF0cml4L2luZGV4LmpzXCI7XG5pbXBvcnQgeyBldWNsaWRlYW4gfSBmcm9tIFwiLi4vbWV0cmljcy9pbmRleC5qc1wiO1xuaW1wb3J0IHsgUENBIH0gZnJvbSBcIi4vUENBLmpzXCI7XG5pbXBvcnQgeyBCYWxsVHJlZSB9IGZyb20gXCIuLi9rbm4vaW5kZXguanNcIjtcbmltcG9ydCB7IERSIH0gZnJvbSBcIi4vRFIuanNcIjtcblxuLyoqXG4gKiBAY2xhc3NcbiAqIEBhbGlhcyBUcmlNYXBcbiAqIEBleHRlbmRzIERSXG4gKi9cbmV4cG9ydCBjbGFzcyBUcmlNYXAgZXh0ZW5kcyBEUiB7XG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAbWVtYmVyb2YgbW9kdWxlOmRydWlkL2RpbWVuc2lvbmFsaXR5X3JlZHVjdGlvblxuICAgICAqIEBhbGlhcyBUcmlNYXBcbiAgICAgKiBAcGFyYW0ge01hdHJpeHxOdW1iZXJbXVtdfSBYIC0gdGhlIGhpZ2gtZGltZW5zaW9uYWwgZGF0YS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcGFyYW1ldGVycyAtIE9iamVjdCBjb250YWluaW5nIHBhcmFtZXRlcml6YXRpb24gb2YgdGhlIERSIG1ldGhvZC5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3BhcmFtZXRlcnMud2VpZ2h0X2FkaiA9IDUwMF0gLSBzY2FsaW5nIGZhY3Rvci5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3BhcmFtZXRlcnMuYyA9IDVdIC0gbnVtYmVyIG9mIHRyaXBsZXRzIG11bHRpcGxpZXIuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtwYXJhbWV0ZXJzLmQgPSAyXSAtIHRoZSBkaW1lbnNpb25hbGl0eSBvZiB0aGUgcHJvamVjdGlvbi5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3BhcmFtZXRlcnMudG9sID0gMWUtOF0gLVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwYXJhbWV0ZXJzLm1ldHJpYyA9IGV1Y2xpZGVhbl0gLSB0aGUgbWV0cmljIHdoaWNoIGRlZmluZXMgdGhlIGRpc3RhbmNlIGJldHdlZW4gdHdvIHBvaW50cy5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3BhcmFtZXRlcnMuc2VlZCA9IDEyMTJdIC0gdGhlIHNlZWQgZm9yIHRoZSByYW5kb20gbnVtYmVyIGdlbmVyYXRvci5cbiAgICAgKiBAcmV0dXJucyB7VHJpTWFwfVxuICAgICAqIEBzZWUge0BsaW5rIGh0dHBzOi8vYXJ4aXYub3JnL3BkZi8xOTEwLjAwMjA0djEucGRmfVxuICAgICAqIEBzZWUge0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9lYW1pZC90cmltYXB9XG4gICAgICovXG4gICAgY29uc3RydWN0b3IoWCwgcGFyYW1ldGVycykge1xuICAgICAgICBzdXBlcihYLCB7IHdlaWdodF9hZGo6IDUwMCwgYzogNSwgZDogMiwgbWV0cmljOiBldWNsaWRlYW4sIHRvbDogMWUtOCwgc2VlZDogMTIxMiB9LCBwYXJhbWV0ZXJzKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge01hdHJpeH0gW3BjYSA9IG51bGxdIC0gSW5pdGlhbCBFbWJlZGRpbmcgKGlmIG51bGwgdGhlbiBQQ0EgZ2V0cyB1c2VkKS5cbiAgICAgKiBAcGFyYW0ge0tOTn0gW2tubiA9IG51bGxdIC0gS05OIE9iamVjdCAoaWYgbnVsbCB0aGVuIEJhbGxUcmVlIGdldHMgdXNlZCkuXG4gICAgICovXG4gICAgaW5pdChwY2EgPSBudWxsLCBrbm4gPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IFggPSB0aGlzLlg7XG4gICAgICAgIGNvbnN0IE4gPSBYLnNoYXBlWzBdO1xuICAgICAgICBjb25zdCB7IGQsIG1ldHJpYywgYyB9ID0gdGhpcy5fcGFyYW1ldGVycztcbiAgICAgICAgdGhpcy5uX2lubGllcnMgPSAyICogYztcbiAgICAgICAgdGhpcy5uX291dGxpZXJzID0gMSAqIGM7XG4gICAgICAgIHRoaXMubl9yYW5kb20gPSAxICogYztcbiAgICAgICAgdGhpcy5ZID0gcGNhIHx8IG5ldyBQQ0EoWCwgZCkudHJhbnNmb3JtKCk7XG4gICAgICAgIHRoaXMua25uID0ga25uIHx8IG5ldyBCYWxsVHJlZShYLnRvMmRBcnJheSwgbWV0cmljKTtcbiAgICAgICAgY29uc3QgeyB0cmlwbGV0cywgd2VpZ2h0cyB9ID0gdGhpcy5fZ2VuZXJhdGVfdHJpcGxldHModGhpcy5uX2lubGllcnMsIHRoaXMubl9vdXRsaWVycywgdGhpcy5uX3JhbmRvbSk7XG4gICAgICAgIHRoaXMudHJpcGxldHMgPSB0cmlwbGV0cztcbiAgICAgICAgdGhpcy53ZWlnaHRzID0gd2VpZ2h0cztcbiAgICAgICAgdGhpcy5sciA9ICgxMDAwICogTikgLyB0cmlwbGV0cy5zaGFwZVswXTtcbiAgICAgICAgdGhpcy5DID0gSW5maW5pdHk7XG4gICAgICAgIHRoaXMudmVsID0gbmV3IE1hdHJpeChOLCBkLCAwKTtcbiAgICAgICAgdGhpcy5nYWluID0gbmV3IE1hdHJpeChOLCBkLCAxKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2VuZXJhdGVzIHtAbGluayBuX2lubGllcnN9IHgge0BsaW5rIG5fb3V0bGllcnN9IHgge0BsaW5rIG5fcmFuZG9tfSB0cmlwbGV0cy5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gbl9pbmxpZXJzXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IG5fb3V0bGllcnNcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gbl9yYW5kb21cbiAgICAgKi9cbiAgICBfZ2VuZXJhdGVfdHJpcGxldHMobl9pbmxpZXJzLCBuX291dGxpZXJzLCBuX3JhbmRvbSkge1xuICAgICAgICBjb25zdCB7IG1ldHJpYywgd2VpZ2h0X2FkaiB9ID0gdGhpcy5fcGFyYW1ldGVycztcbiAgICAgICAgY29uc3QgWCA9IHRoaXMuWDtcbiAgICAgICAgY29uc3QgTiA9IFguc2hhcGVbMF07XG4gICAgICAgIGNvbnN0IGtubiA9IHRoaXMua25uO1xuICAgICAgICBjb25zdCBuX2V4dHJhID0gTWF0aC5taW4obl9pbmxpZXJzICsgMjAsIE4pO1xuICAgICAgICBjb25zdCBuYnJzID0gbmV3IE1hdHJpeChOLCBuX2V4dHJhKTtcbiAgICAgICAgY29uc3Qga25uX2Rpc3RhbmNlcyA9IG5ldyBNYXRyaXgoTiwgbl9leHRyYSk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgTjsgKytpKSB7XG4gICAgICAgICAgICBrbm4uc2VhcmNoKFgucm93KGkpLCBuX2V4dHJhICsgMSlcbiAgICAgICAgICAgICAgICAucmF3X2RhdGEoKVxuICAgICAgICAgICAgICAgIC5maWx0ZXIoKGQpID0+IGQudmFsdWUgIT0gMClcbiAgICAgICAgICAgICAgICAuc29ydCgoYSwgYikgPT4gYS52YWx1ZSAtIGIudmFsdWUpXG4gICAgICAgICAgICAgICAgLmZvckVhY2goKGQsIGopID0+IHtcbiAgICAgICAgICAgICAgICAgICAgbmJycy5zZXRfZW50cnkoaSwgaiwgZC5lbGVtZW50LmluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAga25uX2Rpc3RhbmNlcy5zZXRfZW50cnkoaSwgaiwgZC52YWx1ZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gc2NhbGUgcGFyYW1ldGVyXG4gICAgICAgIGNvbnN0IHNpZyA9IG5ldyBGbG9hdDY0QXJyYXkoTik7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgTjsgKytpKSB7XG4gICAgICAgICAgICBzaWdbaV0gPSBNYXRoLm1heCgoa25uX2Rpc3RhbmNlcy5lbnRyeShpLCAzKSArIGtubl9kaXN0YW5jZXMuZW50cnkoaSwgNCkgKyBrbm5fZGlzdGFuY2VzLmVudHJ5KGksIDUpICsga25uX2Rpc3RhbmNlcy5lbnRyeShpLCA2KSkgLyA0LCAxZS0xMCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBQID0gdGhpcy5fZmluZF9wKGtubl9kaXN0YW5jZXMsIHNpZywgbmJycyk7XG5cbiAgICAgICAgbGV0IHRyaXBsZXRzID0gdGhpcy5fc2FtcGxlX2tubl90cmlwbGV0cyhQLCBuYnJzLCBuX2lubGllcnMsIG5fb3V0bGllcnMpO1xuICAgICAgICBsZXQgbl90cmlwbGV0cyA9IHRyaXBsZXRzLnNoYXBlWzBdO1xuICAgICAgICBjb25zdCBvdXRsaWVyX2Rpc3RhbmNlcyA9IG5ldyBGbG9hdDY0QXJyYXkobl90cmlwbGV0cyk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbl90cmlwbGV0czsgKytpKSB7XG4gICAgICAgICAgICBjb25zdCBqID0gdHJpcGxldHMuZW50cnkoaSwgMCk7XG4gICAgICAgICAgICBjb25zdCBrID0gdHJpcGxldHMuZW50cnkoaSwgMik7XG4gICAgICAgICAgICBvdXRsaWVyX2Rpc3RhbmNlc1tpXSA9IG1ldHJpYyhYLnJvdyhqKSwgWC5yb3coaykpO1xuICAgICAgICB9XG4gICAgICAgIGxldCB3ZWlnaHRzID0gdGhpcy5fZmluZF93ZWlnaHRzKHRyaXBsZXRzLCBQLCBuYnJzLCBvdXRsaWVyX2Rpc3RhbmNlcywgc2lnKTtcblxuICAgICAgICBpZiAobl9yYW5kb20gPiAwKSB7XG4gICAgICAgICAgICBjb25zdCB7IHJhbmRvbV90cmlwbGV0cywgcmFuZG9tX3dlaWdodHMgfSA9IHRoaXMuX3NhbXBsZV9yYW5kb21fdHJpcGxldHMoWCwgbl9yYW5kb20sIHNpZyk7XG4gICAgICAgICAgICB0cmlwbGV0cyA9IHRyaXBsZXRzLmNvbmNhdChyYW5kb21fdHJpcGxldHMsIFwidmVydGljYWxcIik7XG4gICAgICAgICAgICB3ZWlnaHRzID0gRmxvYXQ2NEFycmF5LmZyb20oWy4uLndlaWdodHMsIC4uLnJhbmRvbV93ZWlnaHRzXSk7XG4gICAgICAgIH1cbiAgICAgICAgbl90cmlwbGV0cyA9IHRyaXBsZXRzLnNoYXBlWzBdO1xuICAgICAgICBsZXQgbWF4X3dlaWdodCA9IC1JbmZpbml0eTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuX3RyaXBsZXRzOyArK2kpIHtcbiAgICAgICAgICAgIGlmIChpc05hTih3ZWlnaHRzW2ldKSkge1xuICAgICAgICAgICAgICAgIHdlaWdodHNbaV0gPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG1heF93ZWlnaHQgPCB3ZWlnaHRzW2ldKSBtYXhfd2VpZ2h0ID0gd2VpZ2h0c1tpXTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgbWF4X3dlaWdodF8yID0gLUluZmluaXR5O1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5fdHJpcGxldHM7ICsraSkge1xuICAgICAgICAgICAgd2VpZ2h0c1tpXSAvPSBtYXhfd2VpZ2h0O1xuICAgICAgICAgICAgd2VpZ2h0c1tpXSArPSAwLjAwMDE7XG4gICAgICAgICAgICB3ZWlnaHRzW2ldID0gTWF0aC5sb2coMSArIHdlaWdodF9hZGogKiB3ZWlnaHRzW2ldKTtcbiAgICAgICAgICAgIGlmIChtYXhfd2VpZ2h0XzIgPCB3ZWlnaHRzW2ldKSBtYXhfd2VpZ2h0XzIgPSB3ZWlnaHRzW2ldO1xuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbl90cmlwbGV0czsgKytpKSB7XG4gICAgICAgICAgICB3ZWlnaHRzW2ldIC89IG1heF93ZWlnaHRfMjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHJpcGxldHM6IHRyaXBsZXRzLFxuICAgICAgICAgICAgd2VpZ2h0czogd2VpZ2h0cyxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGVzIHRoZSBzaW1pbGFyaXR5IG1hdHJpeCBQXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge01hdHJpeH0ga25uX2Rpc3RhbmNlcyAtIG1hdHJpeCBvZiBwYWlyd2lzZSBrbm4gZGlzdGFuY2VzXG4gICAgICogQHBhcmFtIHtGbG9hdDY0QXJyYXl9IHNpZyAtIHNjYWxpbmcgZmFjdG9yIGZvciB0aGUgZGlzdGFuY2VzXG4gICAgICogQHBhcmFtIHtNYXRyaXh9IG5icnMgLSBuZWFyZXN0IG5laWdoYm9yc1xuICAgICAqIEByZXR1cm5zIHtNYXRyaXh9IHBhaXJ3aXNlIHNpbWlsYXJpdHkgbWF0cml4XG4gICAgICovXG4gICAgX2ZpbmRfcChrbm5fZGlzdGFuY2VzLCBzaWcsIG5icnMpIHtcbiAgICAgICAgY29uc3QgW04sIG5fbmVpZ2hib3JzXSA9IGtubl9kaXN0YW5jZXMuc2hhcGU7XG4gICAgICAgIHJldHVybiBuZXcgTWF0cml4KE4sIG5fbmVpZ2hib3JzLCAoaSwgaikgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIE1hdGguZXhwKC0oa25uX2Rpc3RhbmNlcy5lbnRyeShpLCBqKSAqKiAyIC8gc2lnW2ldIC8gc2lnW25icnMuZW50cnkoaSwgaildKSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNhbXBsZSBuZWFyZXN0IG5laWdoYm9ycyB0cmlwbGV0cyBiYXNlZCBvbiB0aGUgc2ltaWxhcml0eSB2YWx1ZXMgZ2l2ZW4gaW4gUC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7TWF0cml4fSBQIC0gTWF0cml4IG9mIHBhaXJ3aXNlIHNpbWlsYXJpdGllcyBiZXR3ZWVuIGVhY2ggcG9pbnQgYW5kIGl0cyBuZWlnaGJvcnMgZ2l2ZW4gaW4gbWF0cml4IG5icnMuXG4gICAgICogQHBhcmFtIHtNYXRyaXh9IG5icnMgLSBOZWFyZXN0IG5laWdoYm9ycyBpbmRpY2VzIGZvciBlYWNoIHBvaW50LiBUaGUgc2ltaWxhcml0eSB2YWx1ZXMgYXJlIGdpdmVuIGluIG1hdHJpeCB7QGxpbmsgUH0uIFJvdyBpIGNvcnJlc3BvbmRzIHRvIHRoZSBpLXRoIHBvaW50LlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBuX2lubGllcnMgLSBOdW1iZXIgb2YgaW5saWVyIHBvaW50cy5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gbl9vdXRsaWVycyAtIE51bWJlciBvZiBvdXRsaWVyIHBvaW50cy5cbiAgICAgKlxuICAgICAqL1xuICAgIF9zYW1wbGVfa25uX3RyaXBsZXRzKFAsIG5icnMsIG5faW5saWVycywgbl9vdXRsaWVycykge1xuICAgICAgICBjb25zdCBOID0gbmJycy5zaGFwZVswXTtcbiAgICAgICAgY29uc3QgdHJpcGxldHMgPSBuZXcgTWF0cml4KE4gKiBuX2lubGllcnMgKiBuX291dGxpZXJzLCAzKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBOOyArK2kpIHtcbiAgICAgICAgICAgIGxldCBuX2kgPSBpICogbl9pbmxpZXJzICogbl9vdXRsaWVycztcbiAgICAgICAgICAgIGNvbnN0IHNvcnRfaW5kaWNlcyA9IHRoaXMuX19hcmdzb3J0KFAucm93KGkpLm1hcCgoZCkgPT4gLWQpKTtcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgbl9pbmxpZXJzOyArK2opIHtcbiAgICAgICAgICAgICAgICBsZXQgbl9qID0gaiAqIG5fb3V0bGllcnM7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2ltID0gbmJycy5lbnRyeShpLCBzb3J0X2luZGljZXNbal0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNhbXBsZXMgPSB0aGlzLl9yZWplY3Rpb25fc2FtcGxlKG5fb3V0bGllcnMsIE4sIHNvcnRfaW5kaWNlcy5zbGljZSgwLCBqICsgMSkpO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGsgPSAwOyBrIDwgbl9vdXRsaWVyczsgKytrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gbl9pICsgbl9qICsgaztcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3V0ID0gc2FtcGxlc1trXTtcbiAgICAgICAgICAgICAgICAgICAgdHJpcGxldHMuc2V0X2VudHJ5KGluZGV4LCAwLCBpKTtcbiAgICAgICAgICAgICAgICAgICAgdHJpcGxldHMuc2V0X2VudHJ5KGluZGV4LCAxLCBzaW0pO1xuICAgICAgICAgICAgICAgICAgICB0cmlwbGV0cy5zZXRfZW50cnkoaW5kZXgsIDIsIG91dCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cmlwbGV0cztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTaG91bGQgZG8gdGhlIHNhbWUgYXMgbnAuYXJnc29ydCgpXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBBXG4gICAgICovXG4gICAgX19hcmdzb3J0KEEpIHtcbiAgICAgICAgcmV0dXJuIEEubWFwKChkLCBpKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4geyBkOiBkLCBpOiBpIH07XG4gICAgICAgIH0pXG4gICAgICAgICAgICAuc29ydCgoYSwgYikgPT4gYS5kIC0gYi5kKVxuICAgICAgICAgICAgLm1hcCgoZCkgPT4gZC5pKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTYW1wbGVzIHtAbGluayBuX3NhbXBsZXN9IGludGVnZXJzIGZyb20gYSBnaXZlbiBpbnRlcnZhbCBbMCwge0BsaW5rIG1heF9pbnR9XSB3aGlsZSByZWplY3Rpb24gdGhlIHZhbHVlcyB0aGF0IGFyZSBpbiB0aGUge0BsaW5rIHJlamVjdHN9LlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSBuX3NhbXBsZXNcbiAgICAgKiBAcGFyYW0geyp9IG1heF9pbnRcbiAgICAgKiBAcGFyYW0geyp9IHJlamVjdHNcbiAgICAgKi9cbiAgICBfcmVqZWN0aW9uX3NhbXBsZShuX3NhbXBsZXMsIG1heF9pbnQsIHJlamVjdHMpIHtcbiAgICAgICAgY29uc3QgcmFuZG9taXplciA9IHRoaXMuX3JhbmRvbWl6ZXI7XG4gICAgICAgIGNvbnN0IGludGVydmFsID0gbGluc3BhY2UoMCwgbWF4X2ludCAtIDEpLmZpbHRlcigoZCkgPT4gcmVqZWN0cy5pbmRleE9mKGQpIDwgMCk7XG4gICAgICAgIHJldHVybiByYW5kb21pemVyLmNob2ljZShpbnRlcnZhbCwgTWF0aC5taW4obl9zYW1wbGVzLCBpbnRlcnZhbC5sZW5ndGggLSAyKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlcyB0aGUgd2VpZ2h0cyBmb3IgdGhlIHNhbXBsZWQgbmVhcmVzdCBuZWlnaGJvcnMgdHJpcGxldHNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7TWF0cml4fSB0cmlwbGV0cyAtIFNhbXBsZWQgVHJpcGxldHMuXG4gICAgICogQHBhcmFtIHtNYXRyaXh9IFAgLSBQYWlyd2lzZSBzaW1pbGFyaXR5IG1hdHJpeC5cbiAgICAgKiBAcGFyYW0ge01hdHJpeH0gbmJycyAtIG5lYXJlc3QgTmVpZ2hib3JzXG4gICAgICogQHBhcmFtIHtGbG9hdDY0QXJyYXl9IG91dGxpZXJfZGlzdGFuY2VzIC0gTWF0cml4IG9mIHBhaXJ3aXNlIG91dGxpZXIgZGlzdGFuY2VzXG4gICAgICogQHBhcmFtIHtGbG9hdDY0QXJyYXl9IHNpZyAtIHNjYWxpbmcgZmFjdG9yIGZvciB0aGUgZGlzdGFuY2VzLlxuICAgICAqL1xuICAgIF9maW5kX3dlaWdodHModHJpcGxldHMsIFAsIG5icnMsIG91dGxpZXJfZGlzdGFuY2VzLCBzaWcpIHtcbiAgICAgICAgY29uc3Qgbl90cmlwbGV0cyA9IHRyaXBsZXRzLnNoYXBlWzBdO1xuICAgICAgICBjb25zdCB3ZWlnaHRzID0gbmV3IEZsb2F0NjRBcnJheShuX3RyaXBsZXRzKTtcbiAgICAgICAgZm9yIChsZXQgdCA9IDA7IHQgPCBuX3RyaXBsZXRzOyArK3QpIHtcbiAgICAgICAgICAgIGNvbnN0IGkgPSB0cmlwbGV0cy5lbnRyeSh0LCAwKTtcbiAgICAgICAgICAgIGNvbnN0IHNpbSA9IG5icnMucm93KGkpLmluZGV4T2YodHJpcGxldHMuZW50cnkodCwgMSkpO1xuICAgICAgICAgICAgY29uc3QgcF9zaW0gPSBQLmVudHJ5KGksIHNpbSk7XG4gICAgICAgICAgICBsZXQgcF9vdXQgPSBNYXRoLmV4cCgtKG91dGxpZXJfZGlzdGFuY2VzW3RdICoqIDIgLyAoc2lnW2ldICogc2lnW3RyaXBsZXRzLmVudHJ5KHQsIDIpXSkpKTtcbiAgICAgICAgICAgIGlmIChwX291dCA8IDFlLTIwKSBwX291dCA9IDFlLTIwO1xuICAgICAgICAgICAgd2VpZ2h0c1t0XSA9IHBfc2ltIC8gcF9vdXQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdlaWdodHM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2FtcGxlIHVuaWZvcm1seSByYW5vbSB0cmlwbGV0c1xuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtNYXRyaXh9IFggLSBEYXRhIG1hdHJpeC5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gbl9yYW5kb20gLSBOdW1iZXIgb2YgcmFuZG9tIHRyaXBsZXRzIHBlciBwb2ludFxuICAgICAqIEBwYXJhbSB7RmxvYXQ2NEFycmF5fSBzaWcgLSBTY2FsaW5nIGZhY3RvciBmb3IgdGhlIGRpc3RhbmNlc1xuICAgICAqL1xuICAgIF9zYW1wbGVfcmFuZG9tX3RyaXBsZXRzKFgsIG5fcmFuZG9tLCBzaWcpIHtcbiAgICAgICAgY29uc3QgbWV0cmljID0gdGhpcy5wYXJhbWV0ZXIoXCJtZXRyaWNcIik7XG4gICAgICAgIGNvbnN0IHJhbmRvbWl6ZXIgPSB0aGlzLl9yYW5kb21pemVyO1xuICAgICAgICBjb25zdCBOID0gWC5zaGFwZVswXTtcbiAgICAgICAgY29uc3QgcmFuZG9tX3RyaXBsZXRzID0gbmV3IE1hdHJpeChOICogbl9yYW5kb20sIDMpO1xuICAgICAgICBjb25zdCByYW5kb21fd2VpZ2h0cyA9IG5ldyBGbG9hdDY0QXJyYXkoTiAqIG5fcmFuZG9tKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBOOyArK2kpIHtcbiAgICAgICAgICAgIGNvbnN0IG5faSA9IGkgKiBuX3JhbmRvbTtcbiAgICAgICAgICAgIGNvbnN0IGluZGljZXMgPSBbLi4ubGluc3BhY2UoMCwgaSAtIDEpLCAuLi5saW5zcGFjZShpICsgMSwgTiAtIDEpXTtcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgbl9yYW5kb207ICsraikge1xuICAgICAgICAgICAgICAgIGxldCBbc2ltLCBvdXRdID0gcmFuZG9taXplci5jaG9pY2UoaW5kaWNlcywgMik7XG4gICAgICAgICAgICAgICAgbGV0IHBfc2ltID0gTWF0aC5leHAoLShtZXRyaWMoWC5yb3coaSksIFgucm93KHNpbSkpICoqIDIgLyAoc2lnW2ldICogc2lnW3NpbV0pKSk7XG4gICAgICAgICAgICAgICAgaWYgKHBfc2ltIDwgMWUtMjApIHBfc2ltID0gMWUtMjA7XG4gICAgICAgICAgICAgICAgbGV0IHBfb3V0ID0gTWF0aC5leHAoLShtZXRyaWMoWC5yb3coaSksIFgucm93KG91dCkpICoqIDIgLyAoc2lnW2ldICogc2lnW291dF0pKSk7XG4gICAgICAgICAgICAgICAgaWYgKHBfb3V0IDwgMWUtMjApIHBfb3V0ID0gMWUtMjA7XG5cbiAgICAgICAgICAgICAgICBpZiAocF9zaW0gPCBwX291dCkge1xuICAgICAgICAgICAgICAgICAgICBbc2ltLCBvdXRdID0gW291dCwgc2ltXTtcbiAgICAgICAgICAgICAgICAgICAgW3Bfc2ltLCBwX291dF0gPSBbcF9vdXQsIHBfc2ltXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSBuX2kgKyBqO1xuICAgICAgICAgICAgICAgIHJhbmRvbV90cmlwbGV0cy5zZXRfZW50cnkoaW5kZXgsIDAsIGkpO1xuICAgICAgICAgICAgICAgIHJhbmRvbV90cmlwbGV0cy5zZXRfZW50cnkoaW5kZXgsIDEsIHNpbSk7XG4gICAgICAgICAgICAgICAgcmFuZG9tX3RyaXBsZXRzLnNldF9lbnRyeShpbmRleCwgMiwgb3V0KTtcbiAgICAgICAgICAgICAgICByYW5kb21fd2VpZ2h0c1tpbmRleF0gPSBwX3NpbSAvIHBfb3V0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByYW5kb21fdHJpcGxldHM6IHJhbmRvbV90cmlwbGV0cyxcbiAgICAgICAgICAgIHJhbmRvbV93ZWlnaHRzOiByYW5kb21fd2VpZ2h0cyxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyB0aGUgZ3JhZGllbnQgZm9yIHVwZGF0aW5nIHRoZSBlbWJlZGRpbmcuXG4gICAgICogQHBhcmFtIHtNYXRyaXh9IFkgLSBUaGUgZW1iZWRkaW5nXG4gICAgICovXG4gICAgX2dyYWQoWSkge1xuICAgICAgICBjb25zdCBuX2lubGllcnMgPSB0aGlzLm5faW5saWVycztcbiAgICAgICAgY29uc3Qgbl9vdXRsaWVycyA9IHRoaXMubl9vdXRsaWVycztcbiAgICAgICAgY29uc3QgdHJpcGxldHMgPSB0aGlzLnRyaXBsZXRzO1xuICAgICAgICBjb25zdCB3ZWlnaHRzID0gdGhpcy53ZWlnaHRzO1xuICAgICAgICBjb25zdCBbTiwgZGltXSA9IFkuc2hhcGU7XG4gICAgICAgIGNvbnN0IG5fdHJpcGxldHMgPSB0cmlwbGV0cy5zaGFwZVswXTtcbiAgICAgICAgY29uc3QgZ3JhZCA9IG5ldyBNYXRyaXgoTiwgZGltLCAwKTtcbiAgICAgICAgbGV0IHlfaWogPSBuZXcgRmxvYXQ2NEFycmF5KGRpbSk7XG4gICAgICAgIGxldCB5X2lrID0gbmV3IEZsb2F0NjRBcnJheShkaW0pO1xuICAgICAgICBsZXQgZF9paiA9IDE7XG4gICAgICAgIGxldCBkX2lrID0gMTtcbiAgICAgICAgbGV0IG5fdmlvbCA9IDA7XG4gICAgICAgIGxldCBsb3NzID0gMDtcbiAgICAgICAgY29uc3Qgbl9rbm5fdHJpcGxldHMgPSBOICogbl9pbmxpZXJzICogbl9vdXRsaWVycztcblxuICAgICAgICBmb3IgKGxldCB0ID0gMDsgdCA8IG5fdHJpcGxldHM7ICsrdCkge1xuICAgICAgICAgICAgY29uc3QgW2ksIGosIGtdID0gdHJpcGxldHMucm93KHQpO1xuICAgICAgICAgICAgLy8gdXBkYXRlIHlfaWosIHlfaWssIGRfaWosIGRfaWtcbiAgICAgICAgICAgIGlmICh0ICUgbl9vdXRsaWVycyA9PSAwIHx8IHQgPj0gbl9rbm5fdHJpcGxldHMpIHtcbiAgICAgICAgICAgICAgICBkX2lqID0gMTtcbiAgICAgICAgICAgICAgICBkX2lrID0gMTtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBkID0gMDsgZCA8IGRpbTsgKytkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IFlfaWQgPSBZLmVudHJ5KGksIGQpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBZX2pkID0gWS5lbnRyeShqLCBkKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgWV9rZCA9IFkuZW50cnkoaywgZCk7XG4gICAgICAgICAgICAgICAgICAgIHlfaWpbZF0gPSBZX2lkIC0gWV9qZDtcbiAgICAgICAgICAgICAgICAgICAgeV9pa1tkXSA9IFlfaWQgLSBZX2tkO1xuICAgICAgICAgICAgICAgICAgICBkX2lqICs9IHlfaWpbZF0gKiogMjtcbiAgICAgICAgICAgICAgICAgICAgZF9payArPSB5X2lrW2RdICoqIDI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIHVwZGF0ZSB5X2lrIGFuZCBkX2lrIG9ubHlcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZF9payA9IDE7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgZCA9IDA7IGQgPCBkaW07ICsrZCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBZX2lkID0gWS5lbnRyeShpLCBkKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgWV9rZCA9IFkuZW50cnkoaywgZCk7XG4gICAgICAgICAgICAgICAgICAgIHlfaWtbZF0gPSBZX2lkIC0gWV9rZDtcbiAgICAgICAgICAgICAgICAgICAgZF9payArPSB5X2lrW2RdICoqIDI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZF9paiA+IGRfaWspICsrbl92aW9sO1xuICAgICAgICAgICAgbG9zcyArPSB3ZWlnaHRzW3RdIC8gKDEgKyBkX2lrIC8gZF9paik7XG4gICAgICAgICAgICBjb25zdCB3ID0gKHdlaWdodHNbdF0gLyAoZF9paiArIGRfaWspKSAqKiAyO1xuICAgICAgICAgICAgZm9yIChsZXQgZCA9IDA7IGQgPCBkaW07ICsrZCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGdzID0geV9paltkXSAqIGRfaWsgKiB3O1xuICAgICAgICAgICAgICAgIGNvbnN0IGdvID0geV9pa1tkXSAqIGRfaWogKiB3O1xuICAgICAgICAgICAgICAgIGdyYWQuc2V0X2VudHJ5KGksIGQsIGdyYWQuZW50cnkoaSwgZCkgKyBncyAtIGdvKTtcbiAgICAgICAgICAgICAgICBncmFkLnNldF9lbnRyeShqLCBkLCBncmFkLmVudHJ5KGosIGQpIC0gZ3MpO1xuICAgICAgICAgICAgICAgIGdyYWQuc2V0X2VudHJ5KGssIGQsIGdyYWQuZW50cnkoaywgZCkgKyBnbyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgZ3JhZCwgbG9zcywgbl92aW9sIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gbWF4X2l0ZXJhdGlvblxuICAgICAqL1xuICAgIHRyYW5zZm9ybShtYXhfaXRlcmF0aW9uID0gNDAwKSB7XG4gICAgICAgIHRoaXMuY2hlY2tfaW5pdCgpO1xuICAgICAgICBmb3IgKGxldCBpdGVyID0gMDsgaXRlciA8IG1heF9pdGVyYXRpb247ICsraXRlcikge1xuICAgICAgICAgICAgdGhpcy5fbmV4dChpdGVyKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5wcm9qZWN0aW9uO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBtYXhfaXRlcmF0aW9uXG4gICAgICogQHlpZWxkcyB7TWF0cml4fVxuICAgICAqIEByZXR1cm5zIHtNYXRyaXh9XG4gICAgICovXG4gICAgKmdlbmVyYXRvcihtYXhfaXRlcmF0aW9uID0gODAwKSB7XG4gICAgICAgIHRoaXMuY2hlY2tfaW5pdCgpO1xuICAgICAgICBmb3IgKGxldCBpdGVyID0gMDsgaXRlciA8IG1heF9pdGVyYXRpb247ICsraXRlcikge1xuICAgICAgICAgICAgdGhpcy5fbmV4dChpdGVyKTtcbiAgICAgICAgICAgIHlpZWxkIHRoaXMucHJvamVjdGlvbjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5wcm9qZWN0aW9uO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERvZXMgdGhlIGl0ZXJhdGlvbiBzdGVwLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGl0ZXJcbiAgICAgKi9cbiAgICBfbmV4dChpdGVyKSB7XG4gICAgICAgIGNvbnN0IGdhbW1hID0gaXRlciA+IDE1MCA/IDAuNSA6IDAuMztcbiAgICAgICAgY29uc3Qgb2xkX0MgPSB0aGlzLkM7XG4gICAgICAgIGNvbnN0IHZlbCA9IHRoaXMudmVsO1xuICAgICAgICBjb25zdCBZID0gdGhpcy5ZLmFkZCh2ZWwubXVsdChnYW1tYSkpO1xuICAgICAgICBjb25zdCB7IGdyYWQsIGxvc3MsIG5fdmlvbCB9ID0gdGhpcy5fZ3JhZChZKTtcbiAgICAgICAgdGhpcy5DID0gbG9zcztcbiAgICAgICAgdGhpcy5ZID0gdGhpcy5fdXBkYXRlX2VtYmVkZGluZyhZLCBpdGVyLCBncmFkKTtcbiAgICAgICAgdGhpcy5sciAqPSBvbGRfQyA+IGxvc3MgKyB0aGlzLl9wYXJhbWV0ZXJzLnRvbCA/IDEuMDEgOiAwLjk7XG4gICAgICAgIHJldHVybiB0aGlzLlk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgZW1iZWRkaW5nLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtNYXRyaXh9IFlcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gaXRlclxuICAgICAqIEBwYXJhbSB7TWF0cml4fSBncmFkXG4gICAgICovXG4gICAgX3VwZGF0ZV9lbWJlZGRpbmcoWSwgaXRlciwgZ3JhZCkge1xuICAgICAgICBjb25zdCBbTiwgZGltXSA9IFkuc2hhcGU7XG4gICAgICAgIGNvbnN0IGdhbW1hID0gaXRlciA+IDE1MCA/IDAuOSA6IDAuNTsgLy8gbW9tZW50IHBhcmFtZXRlclxuICAgICAgICBjb25zdCBtaW5fZ2FpbiA9IDAuMDE7XG4gICAgICAgIGNvbnN0IGdhaW4gPSB0aGlzLmdhaW47XG4gICAgICAgIGNvbnN0IHZlbCA9IHRoaXMudmVsO1xuICAgICAgICBjb25zdCBsciA9IHRoaXMubHI7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgTjsgKytpKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBkID0gMDsgZCA8IGRpbTsgKytkKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3X2dhaW4gPSBNYXRoLnNpZ24odmVsLmVudHJ5KGksIGQpKSAhPSBNYXRoLnNpZ24oZ3JhZC5lbnRyeShpLCBkKSkgPyBnYWluLmVudHJ5KGksIGQpICsgMC4yIDogTWF0aC5tYXgoZ2Fpbi5lbnRyeShpLCBkKSAqIDAuOCwgbWluX2dhaW4pO1xuICAgICAgICAgICAgICAgIGdhaW4uc2V0X2VudHJ5KGksIGQsIG5ld19nYWluKTtcbiAgICAgICAgICAgICAgICB2ZWwuc2V0X2VudHJ5KGksIGQsIGdhbW1hICogdmVsLmVudHJ5KGksIGQpIC0gbHIgKiBnYWluLmVudHJ5KGksIGQpICogZ3JhZC5lbnRyeShpLCBkKSk7XG4gICAgICAgICAgICAgICAgWS5zZXRfZW50cnkoaSwgZCwgWS5lbnRyeShpLCBkKSArIHZlbC5lbnRyeShpLCBkKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgTWF0cml4IH0gZnJvbSBcIi4uL21hdHJpeC9pbmRleC5qc1wiO1xuaW1wb3J0IHsgZXVjbGlkZWFuLCBldWNsaWRlYW5fc3F1YXJlZCB9IGZyb20gXCIuLi9tZXRyaWNzL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBCYWxsVHJlZSB9IGZyb20gXCIuLi9rbm4vaW5kZXguanNcIjtcbmltcG9ydCB7IG5ldW1haXJfc3VtIH0gZnJvbSBcIi4uL251bWVyaWNhbC9pbmRleC5qc1wiO1xuaW1wb3J0IHsgbGluc3BhY2UgfSBmcm9tIFwiLi4vbWF0cml4L2luZGV4LmpzXCI7XG5pbXBvcnQgeyBwb3dlbGwgfSBmcm9tIFwiLi4vb3B0aW1pemF0aW9uL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBEUiB9IGZyb20gXCIuL0RSLmpzXCI7XG5pbXBvcnQgeyBtYXggfSBmcm9tIFwiLi4vdXRpbC9pbmRleC5qc1wiO1xuaW1wb3J0IHsgS05OIH0gZnJvbSBcIi4uL2tubi9pbmRleC5qc1wiO1xuXG4vKipcbiAqIEBjbGFzc1xuICogQGFsaWFzIFVNQVBcbiAqIEBleHRlbmRzIERSXG4gKi9cbmV4cG9ydCBjbGFzcyBVTUFQIGV4dGVuZHMgRFIge1xuICAgIC8qKlxuICAgICAqXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQG1lbWJlcm9mIG1vZHVsZTpkcnVpZC9kaW1lbnNpb25hbGl0eV9yZWR1Y3Rpb25cbiAgICAgKiBAYWxpYXMgVU1BUFxuICAgICAqIEBwYXJhbSB7TWF0cml4fE51bWJlcltdW119IFggLSB0aGUgaGlnaC1kaW1lbnNpb25hbCBkYXRhLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwYXJhbWV0ZXJzIC0gT2JqZWN0IGNvbnRhaW5pbmcgcGFyYW1ldGVyaXphdGlvbiBvZiB0aGUgRFIgbWV0aG9kLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbcGFyYW1ldGVycy5uX25laWdoYm9ycyA9IDE1XSAtIHNpemUgb2YgdGhlIGxvY2FsIG5laWdoYm9yaG9vZC5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3BhcmFtZXRlcnMubG9jYWxfY29ubmVjdGl2aXR5ID0gMV0gLSBudW1iZXIgb2YgbmVhcmVzdCBuZWlnaGJvcnMgY29ubmVjdGVkIGluIHRoZSBsb2NhbCBuZWlnaGJvcmhvb2QuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtwYXJhbWV0ZXJzLm1pbl9kaXN0ID0gMV0gLSBjb250cm9scyBob3cgdGlnaHRseSBwb2ludHMgZ2V0IHBhY2tlZCB0b2dldGhlci5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3BhcmFtZXRlcnMuZCA9IDJdIC0gdGhlIGRpbWVuc2lvbmFsaXR5IG9mIHRoZSBwcm9qZWN0aW9uLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwYXJhbWV0ZXJzLm1ldHJpYyA9IGV1Y2xpZGVhbl0gLSB0aGUgbWV0cmljIHdoaWNoIGRlZmluZXMgdGhlIGRpc3RhbmNlIGJldHdlZW4gdHdvIHBvaW50cyBpbiB0aGUgaGlnaC1kaW1lbnNpb25hbCBzcGFjZS5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3BhcmFtZXRlcnMuX3NwcmVhZCA9IDFdIC0gVGhlIGVmZmVjdGl2ZSBzY2FsZSBvZiBlbWJlZGRlZCBwb2ludHMuIChJbiBjb21iaW5hdGlvbiB3aXRoIHtAbGluayBwYXJhbWV0ZXJzLm1pbl9kaXN0fSlcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3BhcmFtZXRlcnMuX3NldF9vcF9taXhfcmF0aW8gPSAxXSAtIEludGVycG9sYXRlIGJldHdlZW4gdW5pb24gYW5kIGludGVyc2VjdGlvbi5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3BhcmFtZXRlcnMuX3JlcHVsc2lvbl9zdHJlbmd0aCA9IDFdICAtIFdlaWdodGluZyBhcHBsaWVkIHRvIG5lZ2F0aXZlIHNhbXBsZXMuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtwYXJhbWV0ZXJzLl9uZWdhdGl2ZV9zYW1wbGVfcmF0ZSA9IDVdIC0gVGhlIG51bWJlciBvZiBuZWdhdGl2ZSBzYW1wbGVzIHBlciBwb3NpdGl2ZSBzYW1wbGUuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtwYXJhbWV0ZXJzLl9uX2Vwb2NocyA9IDM1MF0gLSBUaGUgbnVtYmVyIG9mIHRyYWluaW5nIGVwb2Nocy5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3BhcmFtZXRlci5faW5pdGlhbF9hbHBoYSA9IDFdIC0gVGhlIGluaXRpYWwgbGVhcm5pbmcgcmF0ZSBmb3IgdGhlIG9wdGltaXphdGlvbi5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3BhcmFtZXRlcnMuc2VlZCA9IDEyMTJdIC0gdGhlIHNlZWQgZm9yIHRoZSByYW5kb20gbnVtYmVyIGdlbmVyYXRvci5cbiAgICAgKiBAcmV0dXJucyB7VU1BUH1cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihYLCBwYXJhbWV0ZXJzKSB7XG4gICAgICAgIHN1cGVyKFgsIHsgbl9uZWlnaGJvcnM6IDE1LCBsb2NhbF9jb25uZWN0aXZpdHk6IDEsIG1pbl9kaXN0OiAxLCBkOiAyLCBtZXRyaWM6IGV1Y2xpZGVhbiwgc2VlZDogMTIxMiwgX3NwcmVhZDogMSwgX3NldF9vcF9taXhfcmF0aW86IDEsIF9yZXB1bHNpb25fc3RyZW5ndGg6IDEsIF9uZWdhdGl2ZV9zYW1wbGVfcmF0ZTogNSwgX25fZXBvY2hzOiAzNTAsIF9pbml0aWFsX2FscGhhOiAxIH0sIHBhcmFtZXRlcnMpO1xuICAgICAgICBbdGhpcy5fTiwgdGhpcy5fRF0gPSB0aGlzLlguc2hhcGU7XG4gICAgICAgIC8qIGxldCBuX25laWdoYm9ycyA9IE1hdGgubWluKHRoaXMuX04gLSAxLCBwYXJhbWV0ZXJzLm5fbmVpZ2hib3JzKTtcbiAgICAgICAgdGhpcy5wYXJhbWV0ZXIoXCJuX25laWdoYm9yc1wiLCBuX25laWdoYm9ycyk7XG4gICAgICAgIHRoaXMucGFyYW1ldGVyKFwibG9jYWxfY29ubmVjdGl2aXR5XCIsIE1hdGgubWluKHRoaXMucGFyYW1ldGVyKFwibG9jYWxfY29ubmVjdGl2aXR5XCIpLCBuX25laWdoYm9ycyAtIDEpKTsgKi9cbiAgICAgICAgaWYgKHRoaXMucGFyYW1ldGVyKFwibl9uZWlnaGJvcnNcIikgPiB0aGlzLl9OKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFBhcmFtZXRlciBuX25laWdoYm9ycyAoPSR7dGhpcy5wYXJhbWV0ZXIoXCJuX25laWdoYm9yc1wiKX0pIG5lZWRzIHRvIGJlIHNtYWxsZXIgdGhhbiBkYXRhc2V0IHNpemUgKE49JHt0aGlzLl9OfSkhYCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMucGFyYW1ldGVyKFwibG9jYWxfY29ubmVjdGl2aXR5XCIpID4gdGhpcy5wYXJhbWV0ZXIoXCJuX25laWdoYm9yc1wiKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBQYXJhbWV0ZXIgbG9jYWxfY29ubmVjdGl2aXR5ICg9JHt0aGlzLnBhcmFtZXRlcihcImxvY2FsX2Nvbm5lY3Rpdml0eVwiKX0pIG5lZWRzIHRvIGJlIHNtYWxsZXIgdGhhbiBwYXJhbWV0ZXIgbl9uZWlnaGJvcnMgKD0ke3RoaXMucGFyYW1ldGVyKFwibl9uZWlnaGJvcnNcIil9KWApO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2l0ZXIgPSAwO1xuICAgICAgICBjb25zdCByYW5kb21pemVyID0gdGhpcy5fcmFuZG9taXplcjtcbiAgICAgICAgdGhpcy5ZID0gbmV3IE1hdHJpeCh0aGlzLl9OLCB0aGlzLnBhcmFtZXRlcihcImRcIiksICgpID0+IHJhbmRvbWl6ZXIucmFuZG9tKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gc3ByZWFkXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IG1pbl9kaXN0XG4gICAgICogQHJldHVybnMge0FycmF5fVxuICAgICAqL1xuICAgIF9maW5kX2FiX3BhcmFtcyhzcHJlYWQsIG1pbl9kaXN0KSB7XG4gICAgICAgIGNvbnN0IGN1cnZlID0gKHgsIGEsIGIpID0+IDEgLyAoMSArIGEgKiBNYXRoLnBvdyh4LCAyICogYikpO1xuICAgICAgICBjb25zdCB4diA9IGxpbnNwYWNlKDAsIHNwcmVhZCAqIDMsIDMwMCk7XG4gICAgICAgIGNvbnN0IHl2ID0gbGluc3BhY2UoMCwgc3ByZWFkICogMywgMzAwKTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMCwgbiA9IHh2Lmxlbmd0aDsgaSA8IG47ICsraSkge1xuICAgICAgICAgICAgY29uc3QgeHZfaSA9IHh2W2ldO1xuICAgICAgICAgICAgeXZbaV0gPSB4dl9pIDwgbWluX2Rpc3QgPyAxIDogTWF0aC5leHAoLSh4dl9pIC0gbWluX2Rpc3QpIC8gc3ByZWFkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGVyciA9IChwKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBlcnJvciA9IGxpbnNwYWNlKDEsIDMwMCkubWFwKChfLCBpKSA9PiB5dltpXSAtIGN1cnZlKHh2W2ldLCBwWzBdLCBwWzFdKSk7XG4gICAgICAgICAgICByZXR1cm4gTWF0aC5zcXJ0KG5ldW1haXJfc3VtKGVycm9yLm1hcCgoZSkgPT4gZSAqIGUpKSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIHBvd2VsbChlcnIsIFsxLCAxXSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5PEFycmF5Pn0gZGlzdGFuY2VzXG4gICAgICogQHBhcmFtIHtBcnJheTxOdW1iZXI+fSBzaWdtYXNcbiAgICAgKiBAcGFyYW0ge0FycmF5PE51bWJlcj59IHJob3NcbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9XG4gICAgICovXG4gICAgX2NvbXB1dGVfbWVtYmVyc2hpcF9zdHJlbmd0aHMoZGlzdGFuY2VzLCBzaWdtYXMsIHJob3MpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIG4gPSBkaXN0YW5jZXMubGVuZ3RoOyBpIDwgbjsgKytpKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMCwgbSA9IGRpc3RhbmNlc1tpXS5sZW5ndGg7IGogPCBtOyArK2opIHtcbiAgICAgICAgICAgICAgICBjb25zdCB2ID0gZGlzdGFuY2VzW2ldW2pdLnZhbHVlIC0gcmhvc1tpXTtcbiAgICAgICAgICAgICAgICBkaXN0YW5jZXNbaV1bal0udmFsdWUgPSB2ID4gMCA/IE1hdGguZXhwKC12IC8gc2lnbWFzW2ldKSA6IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRpc3RhbmNlcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7S05OfEJhbGxUcmVlfSBrbm5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0ga1xuICAgICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAgICovXG4gICAgX3Ntb290aF9rbm5fZGlzdChrbm4sIGspIHtcbiAgICAgICAgY29uc3QgU01PT1RIX0tfVE9MRVJBTkNFID0gMWUtNTtcbiAgICAgICAgY29uc3QgTUlOX0tfRElTVF9TQ0FMRSA9IDFlLTM7XG4gICAgICAgIGNvbnN0IG5faXRlciA9IDY0O1xuICAgICAgICBjb25zdCB7IGxvY2FsX2Nvbm5lY3Rpdml0eSwgbWV0cmljIH0gPSB0aGlzLl9wYXJhbWV0ZXJzO1xuICAgICAgICBjb25zdCB0YXJnZXQgPSBNYXRoLmxvZzIoayk7XG4gICAgICAgIGNvbnN0IHJob3MgPSBbXTtcbiAgICAgICAgY29uc3Qgc2lnbWFzID0gW107XG4gICAgICAgIGNvbnN0IFggPSB0aGlzLlg7XG4gICAgICAgIGNvbnN0IE4gPSBYLnNoYXBlWzBdO1xuICAgICAgICAvL2NvbnN0IGRpc3RhbmNlcyA9IFsuLi5YXS5tYXAoeF9pID0+IGtubi5zZWFyY2goeF9pLCBrKS5yYXdfZGF0YSgpLnJldmVyc2UoKSk7XG5cbiAgICAgICAgY29uc3QgZGlzdGFuY2VzID0gW107XG4gICAgICAgIGlmIChtZXRyaWMgPT09IFwicHJlY29tcHV0ZWRcIikge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBOOyArK2kpIHtcbiAgICAgICAgICAgICAgICBkaXN0YW5jZXMucHVzaChrbm4uc2VhcmNoKGksIGspLnJldmVyc2UoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHhfaSBvZiBYKSB7XG4gICAgICAgICAgICAgICAgZGlzdGFuY2VzLnB1c2goa25uLnNlYXJjaCh4X2ksIGspLnJhd19kYXRhKCkucmV2ZXJzZSgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgTjsgKytpKSB7XG4gICAgICAgICAgICBsZXQgbG8gPSAwO1xuICAgICAgICAgICAgbGV0IGhpID0gSW5maW5pdHk7XG4gICAgICAgICAgICBsZXQgbWlkID0gMTtcblxuICAgICAgICAgICAgY29uc3Qgc2VhcmNoX3Jlc3VsdCA9IGRpc3RhbmNlc1tpXTtcbiAgICAgICAgICAgIGNvbnN0IG5vbl96ZXJvX2Rpc3QgPSBzZWFyY2hfcmVzdWx0LmZpbHRlcigoZCkgPT4gZC52YWx1ZSA+IDApO1xuICAgICAgICAgICAgY29uc3Qgbm9uX3plcm9fZGlzdF9sZW5ndGggPSBub25femVyb19kaXN0Lmxlbmd0aDtcbiAgICAgICAgICAgIGlmIChub25femVyb19kaXN0X2xlbmd0aCA+PSBsb2NhbF9jb25uZWN0aXZpdHkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IE1hdGguZmxvb3IobG9jYWxfY29ubmVjdGl2aXR5KTtcbiAgICAgICAgICAgICAgICBjb25zdCBpbnRlcnBvbGF0aW9uID0gbG9jYWxfY29ubmVjdGl2aXR5IC0gaW5kZXg7XG4gICAgICAgICAgICAgICAgaWYgKGluZGV4ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICByaG9zLnB1c2gobm9uX3plcm9fZGlzdFtpbmRleCAtIDFdKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGludGVycG9sYXRpb24gPiBTTU9PVEhfS19UT0xFUkFOQ0UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJob3NbaV0udmFsdWUgKz0gaW50ZXJwb2xhdGlvbiAqIChub25femVyb19kaXN0W2luZGV4XS52YWx1ZSAtIG5vbl96ZXJvX2Rpc3RbaW5kZXggLSAxXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByaG9zW2ldLnZhbHVlID0gaW50ZXJwb2xhdGlvbiAqIG5vbl96ZXJvX2Rpc3RbMF0udmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChub25femVyb19kaXN0X2xlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICByaG9zW2ldID0gbm9uX3plcm9fZGlzdFtub25femVyb19kaXN0X2xlbmd0aCAtIDFdLnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChsZXQgeCA9IDA7IHggPCBuX2l0ZXI7ICsreCkge1xuICAgICAgICAgICAgICAgIGxldCBwc3VtID0gMDtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGs7ICsraikge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBkID0gc2VhcmNoX3Jlc3VsdFtqXS52YWx1ZSAtIHJob3NbaV07XG4gICAgICAgICAgICAgICAgICAgIHBzdW0gKz0gZCA+IDAgPyBNYXRoLmV4cCgtKGQgLyBtaWQpKSA6IDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChNYXRoLmFicyhwc3VtIC0gdGFyZ2V0KSA8IFNNT09USF9LX1RPTEVSQU5DRSkge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHBzdW0gPiB0YXJnZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgW2hpLCBtaWRdID0gW21pZCwgKGxvICsgaGkpIC8gMl07XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGhpID09PSBJbmZpbml0eSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgW2xvLCBtaWRdID0gW21pZCwgbWlkICogMl07XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBbbG8sIG1pZF0gPSBbbWlkLCAobG8gKyBoaSkgLyAyXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNpZ21hc1tpXSA9IG1pZDtcblxuICAgICAgICAgICAgY29uc3QgbWVhbl9pdGhkID0gc2VhcmNoX3Jlc3VsdC5yZWR1Y2UoKGEsIGIpID0+IGEgKyBiLnZhbHVlLCAwKSAvIHNlYXJjaF9yZXN1bHQubGVuZ3RoO1xuICAgICAgICAgICAgLy9sZXQgbWVhbl9kID0gbnVsbDtcbiAgICAgICAgICAgIGlmIChyaG9zW2ldID4gMCkge1xuICAgICAgICAgICAgICAgIGlmIChzaWdtYXNbaV0gPCBNSU5fS19ESVNUX1NDQUxFICogbWVhbl9pdGhkKSB7XG4gICAgICAgICAgICAgICAgICAgIHNpZ21hc1tpXSA9IE1JTl9LX0RJU1RfU0NBTEUgKiBtZWFuX2l0aGQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBtZWFuX2QgPSBkaXN0YW5jZXMucmVkdWNlKChhY2MsIHJlcykgPT4gYWNjICsgcmVzLnJlZHVjZSgoYSwgYikgPT4gYSArIGIudmFsdWUsIDApIC8gcmVzLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgaWYgKHNpZ21hc1tpXSA+IE1JTl9LX0RJU1RfU0NBTEUgKiBtZWFuX2QpIHtcbiAgICAgICAgICAgICAgICAgICAgc2lnbWFzW2ldID0gTUlOX0tfRElTVF9TQ0FMRSAqIG1lYW5fZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGRpc3RhbmNlczogZGlzdGFuY2VzLFxuICAgICAgICAgICAgc2lnbWFzOiBzaWdtYXMsXG4gICAgICAgICAgICByaG9zOiByaG9zLFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtNYXRyaXh9IFhcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gbl9uZWlnaGJvcnNcbiAgICAgKiBAcmV0dXJucyB7TWF0cml4fVxuICAgICAqL1xuICAgIF9mdXp6eV9zaW1wbGljaWFsX3NldChYLCBuX25laWdoYm9ycykge1xuICAgICAgICBjb25zdCBOID0gWC5zaGFwZVswXTtcbiAgICAgICAgY29uc3QgeyBtZXRyaWMsIF9zZXRfb3BfbWl4X3JhdGlvIH0gPSB0aGlzLl9wYXJhbWV0ZXJzO1xuICAgICAgICBjb25zdCBrbm4gPSBtZXRyaWMgPT09IFwicHJlY29tcHV0ZWRcIiA/IG5ldyBLTk4oWCwgXCJwcmVjb21wdXRlZFwiKSA6IG5ldyBCYWxsVHJlZShYLnRvMmRBcnJheSwgbWV0cmljKTtcbiAgICAgICAgbGV0IHsgZGlzdGFuY2VzLCBzaWdtYXMsIHJob3MgfSA9IHRoaXMuX3Ntb290aF9rbm5fZGlzdChrbm4sIG5fbmVpZ2hib3JzKTtcbiAgICAgICAgZGlzdGFuY2VzID0gdGhpcy5fY29tcHV0ZV9tZW1iZXJzaGlwX3N0cmVuZ3RocyhkaXN0YW5jZXMsIHNpZ21hcywgcmhvcyk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IG5ldyBNYXRyaXgoTiwgTiwgXCJ6ZXJvc1wiKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBOOyArK2kpIHtcbiAgICAgICAgICAgIGNvbnN0IGRpc3RhbmNlc19pID0gZGlzdGFuY2VzW2ldO1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBkaXN0YW5jZXNfaS5sZW5ndGg7ICsraikge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5zZXRfZW50cnkoaSwgZGlzdGFuY2VzX2lbal0uZWxlbWVudC5pbmRleCwgZGlzdGFuY2VzX2lbal0udmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgdHJhbnNwb3NlZF9yZXN1bHQgPSByZXN1bHQuVDtcbiAgICAgICAgY29uc3QgcHJvZF9tYXRyaXggPSByZXN1bHQubXVsdCh0cmFuc3Bvc2VkX3Jlc3VsdCk7XG4gICAgICAgIHJldHVybiByZXN1bHRcbiAgICAgICAgICAgIC5hZGQodHJhbnNwb3NlZF9yZXN1bHQpXG4gICAgICAgICAgICAuc3ViKHByb2RfbWF0cml4KVxuICAgICAgICAgICAgLm11bHQoX3NldF9vcF9taXhfcmF0aW8pXG4gICAgICAgICAgICAuYWRkKHByb2RfbWF0cml4Lm11bHQoMSAtIF9zZXRfb3BfbWl4X3JhdGlvKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gbl9lcG9jaHNcbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9XG4gICAgICovXG4gICAgX21ha2VfZXBvY2hzX3Blcl9zYW1wbGUobl9lcG9jaHMpIHtcbiAgICAgICAgY29uc3Qgd2VpZ2h0cyA9IHRoaXMuX3dlaWdodHM7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IG5ldyBGbG9hdDMyQXJyYXkod2VpZ2h0cy5sZW5ndGgpLmZpbGwoLTEpO1xuICAgICAgICBjb25zdCB3ZWlnaHRzX21heCA9IG1heCh3ZWlnaHRzKTtcbiAgICAgICAgY29uc3Qgbl9zYW1wbGVzID0gd2VpZ2h0cy5tYXAoKHcpID0+IG5fZXBvY2hzICogKHcgLyB3ZWlnaHRzX21heCkpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJlc3VsdC5sZW5ndGg7ICsraSkgaWYgKG5fc2FtcGxlc1tpXSA+IDApIHJlc3VsdFtpXSA9IE1hdGgucm91bmQobl9lcG9jaHMgLyBuX3NhbXBsZXNbaV0pO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtNYXRyaXh9IGdyYXBoXG4gICAgICogQHJldHVybnMge09iamVjdH1cbiAgICAgKi9cbiAgICBfdG9jb28oZ3JhcGgpIHtcbiAgICAgICAgY29uc3Qgcm93cyA9IFtdO1xuICAgICAgICBjb25zdCBjb2xzID0gW107XG4gICAgICAgIGNvbnN0IGRhdGEgPSBbXTtcbiAgICAgICAgY29uc3QgW3Jvd3NfbiwgY29sc19uXSA9IGdyYXBoLnNoYXBlO1xuICAgICAgICBmb3IgKGxldCByb3cgPSAwOyByb3cgPCByb3dzX247ICsrcm93KSB7XG4gICAgICAgICAgICBmb3IgKGxldCBjb2wgPSAwOyBjb2wgPCBjb2xzX247ICsrY29sKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZW50cnkgPSBncmFwaC5lbnRyeShyb3csIGNvbCk7XG4gICAgICAgICAgICAgICAgaWYgKGVudHJ5ICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJvd3MucHVzaChyb3cpO1xuICAgICAgICAgICAgICAgICAgICBjb2xzLnB1c2goY29sKTtcbiAgICAgICAgICAgICAgICAgICAgZGF0YS5wdXNoKGVudHJ5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJvd3M6IHJvd3MsXG4gICAgICAgICAgICBjb2xzOiBjb2xzLFxuICAgICAgICAgICAgZGF0YTogZGF0YSxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyBhbGwgbmVjZXNzYXJ5XG4gICAgICogQHJldHVybnMge1VNQVB9XG4gICAgICovXG4gICAgaW5pdCgpIHtcbiAgICAgICAgY29uc3QgeyBfc3ByZWFkLCBtaW5fZGlzdCwgbl9uZWlnaGJvcnMsIF9uX2Vwb2NocywgX25lZ2F0aXZlX3NhbXBsZV9yYXRlIH0gPSB0aGlzLl9wYXJhbWV0ZXJzO1xuICAgICAgICBjb25zdCBbYSwgYl0gPSB0aGlzLl9maW5kX2FiX3BhcmFtcyhfc3ByZWFkLCBtaW5fZGlzdCk7XG4gICAgICAgIHRoaXMuX2EgPSBhO1xuICAgICAgICB0aGlzLl9iID0gYjtcbiAgICAgICAgdGhpcy5fZ3JhcGggPSB0aGlzLl9mdXp6eV9zaW1wbGljaWFsX3NldCh0aGlzLlgsIG5fbmVpZ2hib3JzKTtcbiAgICAgICAgY29uc3QgeyByb3dzLCBjb2xzLCBkYXRhOiB3ZWlnaHRzIH0gPSB0aGlzLl90b2Nvbyh0aGlzLl9ncmFwaCk7XG4gICAgICAgIHRoaXMuX2hlYWQgPSByb3dzO1xuICAgICAgICB0aGlzLl90YWlsID0gY29scztcbiAgICAgICAgdGhpcy5fd2VpZ2h0cyA9IHdlaWdodHM7XG4gICAgICAgIHRoaXMuX2Vwb2Noc19wZXJfc2FtcGxlID0gdGhpcy5fbWFrZV9lcG9jaHNfcGVyX3NhbXBsZShfbl9lcG9jaHMpO1xuICAgICAgICB0aGlzLl9lcG9jaHNfcGVyX25lZ2F0aXZlX3NhbXBsZSA9IHRoaXMuX2Vwb2Noc19wZXJfc2FtcGxlLm1hcCgoZCkgPT4gZCAqIF9uZWdhdGl2ZV9zYW1wbGVfcmF0ZSk7XG4gICAgICAgIHRoaXMuX2Vwb2NoX29mX25leHRfc2FtcGxlID0gdGhpcy5fZXBvY2hzX3Blcl9zYW1wbGUuc2xpY2UoKTtcbiAgICAgICAgdGhpcy5fZXBvY2hfb2ZfbmV4dF9uZWdhdGl2ZV9zYW1wbGUgPSB0aGlzLl9lcG9jaHNfcGVyX25lZ2F0aXZlX3NhbXBsZS5zbGljZSgpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBncmFwaCgpIHtcbiAgICAgICAgdGhpcy5jaGVja19pbml0KCk7XG4gICAgICAgIHJldHVybiB7IGNvbHM6IHRoaXMuX2hlYWQsIHJvd3M6IHRoaXMuX3RhaWwsIHdlaWdodHM6IHRoaXMuX3dlaWdodHMgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbaXRlcmF0aW9ucz0zNTBdIC0gbnVtYmVyIG9mIGl0ZXJhdGlvbnMuXG4gICAgICogQHJldHVybnMge01hdHJpeHxBcnJheX1cbiAgICAgKi9cbiAgICB0cmFuc2Zvcm0oaXRlcmF0aW9ucyA9IDM1MCkge1xuICAgICAgICBpZiAodGhpcy5wYXJhbWV0ZXIoXCJfbl9lcG9jaHNcIikgIT0gaXRlcmF0aW9ucykge1xuICAgICAgICAgICAgdGhpcy5wYXJhbWV0ZXIoXCJfbl9lcG9jaHNcIiwgaXRlcmF0aW9ucyk7XG4gICAgICAgICAgICB0aGlzLmluaXQoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNoZWNrX2luaXQoKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpdGVyYXRpb25zOyArK2kpIHtcbiAgICAgICAgICAgIHRoaXMubmV4dCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnByb2plY3Rpb247XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2l0ZXJhdGlvbnM9MzUwXSAtIG51bWJlciBvZiBpdGVyYXRpb25zLlxuICAgICAqIEByZXR1cm5zIHtNYXRyaXh8QXJyYXl9XG4gICAgICovXG4gICAgKmdlbmVyYXRvcihpdGVyYXRpb25zID0gMzUwKSB7XG4gICAgICAgIGlmICh0aGlzLnBhcmFtZXRlcihcIl9uX2Vwb2Noc1wiKSAhPSBpdGVyYXRpb25zKSB7XG4gICAgICAgICAgICB0aGlzLnBhcmFtZXRlcihcIl9uX2Vwb2Noc1wiLCBpdGVyYXRpb25zKTtcbiAgICAgICAgICAgIHRoaXMuaW5pdCgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2hlY2tfaW5pdCgpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGl0ZXJhdGlvbnM7ICsraSkge1xuICAgICAgICAgICAgdGhpcy5uZXh0KCk7XG4gICAgICAgICAgICB5aWVsZCB0aGlzLnByb2plY3Rpb247XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMucHJvamVjdGlvbjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB4XG4gICAgICogQHJldHVybnMge051bWJlcn1cbiAgICAgKi9cbiAgICBfY2xpcCh4KSB7XG4gICAgICAgIGlmICh4ID4gNCkgcmV0dXJuIDQ7XG4gICAgICAgIGlmICh4IDwgLTQpIHJldHVybiAtNDtcbiAgICAgICAgcmV0dXJuIHg7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogcGVyZm9ybXMgdGhlIG9wdGltaXphdGlvbiBzdGVwLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtNYXRyaXh9IGhlYWRfZW1iZWRkaW5nXG4gICAgICogQHBhcmFtIHtNYXRyaXh9IHRhaWxfZW1iZWRkaW5nXG4gICAgICogQHBhcmFtIHtNYXRyaXh9IGhlYWRcbiAgICAgKiBAcGFyYW0ge01hdHJpeH0gdGFpbFxuICAgICAqIEByZXR1cm5zIHtNYXRyaXh9XG4gICAgICovXG4gICAgX29wdGltaXplX2xheW91dChoZWFkX2VtYmVkZGluZywgdGFpbF9lbWJlZGRpbmcsIGhlYWQsIHRhaWwpIHtcbiAgICAgICAgY29uc3QgcmFuZG9taXplciA9IHRoaXMuX3JhbmRvbWl6ZXI7XG4gICAgICAgIGNvbnN0IHsgX3JlcHVsc2lvbl9zdHJlbmd0aCwgZDogZGltIH0gPSB0aGlzLl9wYXJhbWV0ZXJzO1xuICAgICAgICBjb25zdCB7IF9hbHBoYTogYWxwaGEsIF9hOiBhLCBfYjogYiwgX2Vwb2Noc19wZXJfc2FtcGxlOiBlcG9jaHNfcGVyX3NhbXBsZSwgX2Vwb2Noc19wZXJfbmVnYXRpdmVfc2FtcGxlOiBlcG9jaHNfcGVyX25lZ2F0aXZlX3NhbXBsZSwgX2Vwb2NoX29mX25leHRfbmVnYXRpdmVfc2FtcGxlOiBlcG9jaF9vZl9uZXh0X25lZ2F0aXZlX3NhbXBsZSwgX2Vwb2NoX29mX25leHRfc2FtcGxlOiBlcG9jaF9vZl9uZXh0X3NhbXBsZSwgX2NsaXA6IGNsaXAgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IHRhaWxfbGVuZ3RoID0gdGFpbC5sZW5ndGg7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIG4gPSBlcG9jaHNfcGVyX3NhbXBsZS5sZW5ndGg7IGkgPCBuOyArK2kpIHtcbiAgICAgICAgICAgIGlmIChlcG9jaF9vZl9uZXh0X3NhbXBsZVtpXSA8PSB0aGlzLl9pdGVyKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaiA9IGhlYWRbaV07XG4gICAgICAgICAgICAgICAgY29uc3QgayA9IHRhaWxbaV07XG4gICAgICAgICAgICAgICAgY29uc3QgY3VycmVudCA9IGhlYWRfZW1iZWRkaW5nLnJvdyhqKTtcbiAgICAgICAgICAgICAgICBjb25zdCBvdGhlciA9IHRhaWxfZW1iZWRkaW5nLnJvdyhrKTtcbiAgICAgICAgICAgICAgICBjb25zdCBkaXN0ID0gZXVjbGlkZWFuX3NxdWFyZWQoY3VycmVudCwgb3RoZXIpO1xuICAgICAgICAgICAgICAgIGxldCBncmFkX2NvZWZmID0gMDtcbiAgICAgICAgICAgICAgICBpZiAoZGlzdCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgZ3JhZF9jb2VmZiA9ICgtMiAqIGEgKiBiICogTWF0aC5wb3coZGlzdCwgYiAtIDEpKSAvIChhICogTWF0aC5wb3coZGlzdCwgYikgKyAxKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgZCA9IDA7IGQgPCBkaW07ICsrZCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBncmFkX2QgPSBjbGlwKGdyYWRfY29lZmYgKiAoY3VycmVudFtkXSAtIG90aGVyW2RdKSkgKiBhbHBoYTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYyA9IGN1cnJlbnRbZF0gKyBncmFkX2Q7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG8gPSBvdGhlcltkXSAtIGdyYWRfZDtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFtkXSA9IGM7XG4gICAgICAgICAgICAgICAgICAgIG90aGVyW2RdID0gbztcbiAgICAgICAgICAgICAgICAgICAgaGVhZF9lbWJlZGRpbmcuc2V0X2VudHJ5KGosIGQsIGMpO1xuICAgICAgICAgICAgICAgICAgICB0YWlsX2VtYmVkZGluZy5zZXRfZW50cnkoaywgZCwgbyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVwb2NoX29mX25leHRfc2FtcGxlW2ldICs9IGVwb2Noc19wZXJfc2FtcGxlW2ldO1xuICAgICAgICAgICAgICAgIGNvbnN0IG5fbmVnX3NhbXBsZXMgPSAodGhpcy5faXRlciAtIGVwb2NoX29mX25leHRfbmVnYXRpdmVfc2FtcGxlW2ldKSAvIGVwb2Noc19wZXJfbmVnYXRpdmVfc2FtcGxlW2ldO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IHAgPSAwOyBwIDwgbl9uZWdfc2FtcGxlczsgKytwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGsgPSByYW5kb21pemVyLnJhbmRvbV9pbnQgJSB0YWlsX2xlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3RoZXIgPSB0YWlsX2VtYmVkZGluZy5yb3codGFpbFtrXSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRpc3QgPSBldWNsaWRlYW5fc3F1YXJlZChjdXJyZW50LCBvdGhlcik7XG4gICAgICAgICAgICAgICAgICAgIGxldCBncmFkX2NvZWZmID0gMDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRpc3QgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBncmFkX2NvZWZmID0gKDIgKiBfcmVwdWxzaW9uX3N0cmVuZ3RoICogYikgLyAoKDAuMDEgKyBkaXN0KSAqIChhICogTWF0aC5wb3coZGlzdCwgYikgKyAxKSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaiA9PT0gaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgZCA9IDA7IGQgPCBkaW07ICsrZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZ3JhZF9kID0gY2xpcChncmFkX2NvZWZmICogKGN1cnJlbnRbZF0gLSBvdGhlcltkXSkpICogYWxwaGE7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjID0gY3VycmVudFtkXSArIGdyYWRfZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG8gPSBvdGhlcltkXSAtIGdyYWRfZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRbZF0gPSBjO1xuICAgICAgICAgICAgICAgICAgICAgICAgb3RoZXJbZF0gPSBvO1xuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZF9lbWJlZGRpbmcuc2V0X2VudHJ5KGosIGQsIGMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGFpbF9lbWJlZGRpbmcuc2V0X2VudHJ5KHRhaWxba10sIGQsIG8pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVwb2NoX29mX25leHRfbmVnYXRpdmVfc2FtcGxlW2ldICs9IG5fbmVnX3NhbXBsZXMgKiBlcG9jaHNfcGVyX25lZ2F0aXZlX3NhbXBsZVtpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaGVhZF9lbWJlZGRpbmc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJucyB7TWF0cml4fVxuICAgICAqL1xuICAgIG5leHQoKSB7XG4gICAgICAgIGNvbnN0IGl0ZXIgPSArK3RoaXMuX2l0ZXI7XG4gICAgICAgIGNvbnN0IFkgPSB0aGlzLlk7XG4gICAgICAgIGNvbnN0IHsgX2luaXRpYWxfYWxwaGEsIF9uX2Vwb2NocyB9ID0gdGhpcy5fcGFyYW1ldGVycztcbiAgICAgICAgdGhpcy5fYWxwaGEgPSBfaW5pdGlhbF9hbHBoYSAqICgxIC0gaXRlciAvIF9uX2Vwb2Nocyk7XG4gICAgICAgIHRoaXMuWSA9IHRoaXMuX29wdGltaXplX2xheW91dChZLCBZLCB0aGlzLl9oZWFkLCB0aGlzLl90YWlsKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5ZO1xuICAgIH1cbn1cbiIsIi8qKlxuICogQ29tcHV0ZXMgdGhlIGNhbmJlcnJhIGRpc3RhbmNlIGJldHdlZW4ge0BsaW5rIGF9IGFuZCB7QGxpbmsgYn0uXG4gKiBAbWVtYmVyb2YgbW9kdWxlOm1ldHJpY3NcbiAqIEBhbGlhcyBjYW5iZXJyYVxuICogQHBhcmFtIHtBcnJheTxOdW1iZXI+fSBhIFxuICogQHBhcmFtIHtBcnJheTxOdW1iZXI+fSBiIFxuICogQHJldHVybnMge051bWJlcn0gVGhlIGNhbmJlcnJhIGRpc3RhbmNlIGJldHdlZW4ge0BsaW5rIGF9IGFuZCB7QGxpbmsgYn0uXG4gKiBAc2VlIHtAbGluayBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9DYW5iZXJyYV9kaXN0YW5jZX1cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oYSwgYikge1xuICAgIGlmIChhLmxlbmd0aCAhPT0gYi5sZW5ndGgpIHJldHVybiB1bmRlZmluZWQ7XG4gICAgbGV0IG4gPSBhLmxlbmd0aDtcbiAgICBsZXQgc3VtID0gMDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG47ICsraSkge1xuICAgICAgICBzdW0gKz0gKE1hdGguYWJzKGFbaV0gLSBiW2ldKSAvIChNYXRoLmFicyhhW2ldKSArIE1hdGguYWJzKGJbaV0pKSlcbiAgICB9XG4gICAgcmV0dXJuIHN1bTtcbn0iLCIvKipcbiAqIENvbXB1dGVzIHRoZSBjaGVieXNoZXYgZGlzdGFuY2UgKEw8c3ViPuKInjwvc3ViPikgYmV0d2VlbiB7QGxpbmsgYX0gYW5kIHtAbGluayBifS5cbiAqIEBtZW1iZXJvZiBtb2R1bGU6bWV0cmljc1xuICogQGFsaWFzIGNoZWJ5c2hldlxuICogQHBhcmFtIHtBcnJheTxOdW1iZXI+fSBhXG4gKiBAcGFyYW0ge0FycmF5PE51bWJlcj59IGJcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IHRoZSBjaGVieXNoZXYgZGlzdGFuY2UgYmV0d2VlbiB7QGxpbmsgYX0gYW5kIHtAbGluayBifS5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKGEsIGIpIHtcbiAgICBpZiAoYS5sZW5ndGggIT0gYi5sZW5ndGgpIHJldHVybiB1bmRlZmluZWQ7XG4gICAgbGV0IG4gPSBhLmxlbmd0aDtcbiAgICBsZXQgcmVzID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuOyArK2kpIHtcbiAgICAgICAgcmVzLnB1c2goTWF0aC5hYnMoYVtpXSAtIGJbaV0pKTtcbiAgICB9XG4gICAgcmV0dXJuIE1hdGgubWF4KC4uLnJlcyk7XG59XG4iLCIvKipcbiAqIENvbXB1dGVzIHRoZSBjb3NpbmUgZGlzdGFuY2UgKG5vdCBzaW1pbGFyaXR5KSBiZXR3ZWVuIHtAbGluayBhfSBhbmQge0BsaW5rIGJ9LlxuICogQG1lbWJlcm9mIG1vZHVsZTptZXRyaWNzXG4gKiBAYWxpYXMgY29zaW5lXG4gKiBAcGFyYW0ge0FycmF5PE51bWJlcj59IGFcbiAqIEBwYXJhbSB7QXJyYXk8TnVtYmVyPn0gYlxuICogQGV4YW1wbGVcbiAqIGRydWlkLmNvc2luZShbMSwwXSxbMSwxXSkgPT0gMC43ODUzOTgxNjMzOTc0NDg0ID09IM+ALzRcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSBjb3NpbmUgZGlzdGFuY2UgYmV0d2VlbiB7QGxpbmsgYX0gYW5kIHtAbGluayBifS5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKGEsIGIpIHtcbiAgICBpZiAoYS5sZW5ndGggIT09IGIubGVuZ3RoKSByZXR1cm4gdW5kZWZpbmVkO1xuICAgIGxldCBuID0gYS5sZW5ndGg7XG4gICAgbGV0IHN1bSA9IDA7XG4gICAgbGV0IHN1bV9hID0gMDtcbiAgICBsZXQgc3VtX2IgPSAwO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbjsgKytpKSB7XG4gICAgICAgIHN1bSArPSBhW2ldICogYltpXTtcbiAgICAgICAgc3VtX2EgKz0gYVtpXSAqIGFbaV07XG4gICAgICAgIHN1bV9iICs9IGJbaV0gKiBiW2ldO1xuICAgIH1cbiAgICByZXR1cm4gTWF0aC5hY29zKHN1bSAvIChNYXRoLnNxcnQoc3VtX2EpICogTWF0aC5zcXJ0KHN1bV9iKSkpO1xufVxuIiwiLyoqXG4gKiBDb21wdXRlcyB0aGUgaGFtbWluZyBkaXN0YW5jZSBiZXR3ZWVuIHtAbGluayBhfSBhbmQge0BsaW5rIGJ9LlxuICogQG1lbWJlcm9mIG1vZHVsZTptZXRyaWNzXG4gKiBAYWxpYXMgaGFtbWluZ1xuICogQHBhcmFtIHtBcnJheTxOdW1iZXI+fSBhXG4gKiBAcGFyYW0ge0FycmF5PE51bWJlcj59IGJcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IHRoZSBoYW1taW5nIGRpc3RhbmNlIGJldHdlZW4ge0BsaW5rIGF9IGFuZCB7QGxpbmsgYn0uXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgaWYgKGEubGVuZ3RoICE9IGIubGVuZ3RoKSByZXR1cm4gdW5kZWZpbmVkO1xuICAgIGNvbnN0IG4gPSBhLmxlbmd0aDtcbiAgICBsZXQgZGlzYWdyZWUgPSAwO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbjsgKytpKSB7XG4gICAgICAgIGNvbnN0IHggPSBhW2ldO1xuICAgICAgICBjb25zdCB5ID0gYltpXTtcbiAgICAgICAgZGlzYWdyZWUgKz0geCAhPSB5O1xuICAgIH1cbiAgICByZXR1cm4gZGlzYWdyZWUgLyBuO1xufVxuIiwiaW1wb3J0IHsgbmV1bWFpcl9zdW0gfSBmcm9tIFwiLi4vbnVtZXJpY2FsL2luZGV4LmpzXCI7XG5cbi8qKlxuICogQ29tcHV0ZXMgdGhlIGlubmVyIHByb2R1Y3QgYmV0d2VlbiB0d28gYXJyYXlzIG9mIHRoZSBzYW1lIGxlbmd0aC5cbiAqIEBtZW1iZXJvZiBtb2R1bGU6bGluZWFyX2FsZ2VicmFcbiAqIEBhbGlhcyBpbm5lcl9wcm9kdWN0XG4gKiBAcGFyYW0ge0FycmF5fEZsb2F0NjRBcnJheX0gYSAtIEFycmF5IGFcbiAqIEBwYXJhbSB7QXJyYXl8RmxvYXQ2NEFycmF5fSBiIC0gQXJyYXkgYlxuICogQHJldHVybnMgVGhlIGlubmVyIHByb2R1Y3QgYmV0d2VlbiB7QGxpbmsgYX0gYW5kIHtAbGluayBifVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoYSwgYikge1xuICAgIGNvbnN0IE4gPSBhLmxlbmd0aDtcbiAgICBpZiAoTiAhPSBiLmxlbmd0aCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBcnJheSBhIGFuZCBiIG11c3QgaGF2ZSB0aGUgc2FtZSBsZW5ndGghXCIpXG4gICAgfVxuICAgIGxldCBzdW0gPSAwO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgTjsgKytpKSB7XG4gICAgICAgIHN1bSArPSBhICogYjtcbiAgICB9XG4gICAgcmV0dXJuIHN1bTtcbn1cbiIsIi8qKlxuICogQ29tcHV0ZXMgdGhlIGphY2NhcmQgZGlzdGFuY2UgYmV0d2VlbiB7QGxpbmsgYX0gYW5kIHtAbGluayBifS5cbiAqIEBtZW1iZXJvZiBtb2R1bGU6bWV0cmljc1xuICogQGFsaWFzIGphY2NhcmRcbiAqIEBwYXJhbSB7QXJyYXk8TnVtYmVyPn0gYVxuICogQHBhcmFtIHtBcnJheTxOdW1iZXI+fSBiXG4gKiBAcmV0dXJucyB7TnVtYmVyfSB0aGUgamFjY2FyZCBkaXN0YW5jZSBiZXR3ZWVuIHtAbGluayBhfSBhbmQge0BsaW5rIGJ9LlxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoYSwgYikge1xuICAgIGlmIChhLmxlbmd0aCAhPSBiLmxlbmd0aCkgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICBjb25zdCBuID0gYS5sZW5ndGg7XG4gICAgbGV0IG51bV9ub25femVybyA9IDA7XG4gICAgbGV0IG51bV9lcXVhbCA9IDA7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuOyArK2kpIHtcbiAgICAgICAgY29uc3QgeCA9IGFbaV0gIT0gMDtcbiAgICAgICAgY29uc3QgeSA9IGJbaV0gIT0gMDtcbiAgICAgICAgbnVtX25vbl96ZXJvICs9IHggfHwgeTtcbiAgICAgICAgbnVtX2VxdWFsICs9IHggJiYgeTtcbiAgICB9XG4gICAgcmV0dXJuIChudW1fbm9uX3plcm8gLSBudW1fZXF1YWwpIC8gbnVtX25vbl96ZXJvO1xufVxuIiwiLyoqXG4gKiBOdW1lcmljYWwgc3RhYmxlIHN1bW1hdGlvbiB3aXRoIHRoZSBLYWhhbiBzdW1tYXRpb24gYWxnb3JpdGhtLlxuICogQG1lbWJlcm9mIG1vZHVsZTpudW1lcmljYWxcbiAqIEBhbGlhcyBrYWhhbl9zdW1cbiAqIEBwYXJhbSB7QXJyYXl9IHN1bW1hbmRzIC0gQXJyYXkgb2YgdmFsdWVzIHRvIHN1bSB1cC5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFRoZSBzdW0uXG4gKiBAc2VlIHtAbGluayBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9LYWhhbl9zdW1tYXRpb25fYWxnb3JpdGhtfVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoc3VtbWFuZHMpIHtcbiAgICBsZXQgbiA9IHN1bW1hbmRzLmxlbmd0aDtcbiAgICBsZXQgc3VtID0gMDtcbiAgICBsZXQgY29tcGVuc2F0aW9uID0gMDtcbiAgICBsZXQgeSwgdDtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbjsgKytpKSB7XG4gICAgICAgIHkgPSBzdW1tYW5kc1tpXSAtIGNvbXBlbnNhdGlvbjtcbiAgICAgICAgdCA9IHN1bSArIHk7XG4gICAgICAgIGNvbXBlbnNhdGlvbiA9IHQgLSBzdW0gLSB5O1xuICAgICAgICBzdW0gPSB0O1xuICAgIH1cbiAgICByZXR1cm4gc3VtO1xufVxuIiwiLyoqXG4gKiBDb21wdXRlcyB0aGUgbWFuaGF0dGFuIGRpc3RhbmNlIChsPHN1Yj4xPC9zdWI+KSBiZXR3ZWVuIHtAbGluayBhfSBhbmQge0BsaW5rIGJ9LlxuICogQG1lbWJlcm9mIG1vZHVsZTptZXRyaWNzXG4gKiBAYWxpYXMgbWFuaGF0dGFuXG4gKiBAcGFyYW0ge0FycmF5PE51bWJlcj59IGFcbiAqIEBwYXJhbSB7QXJyYXk8TnVtYmVyPn0gYlxuICogQHJldHVybnMge051bWJlcn0gdGhlIG1hbmhhdHRhbiBkaXN0YW5jZSBiZXR3ZWVuIHtAbGluayBhfSBhbmQge0BsaW5rIGJ9LlxuICovIFxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKGEsIGIpIHtcbiAgICBpZiAoYS5sZW5ndGggIT0gYi5sZW5ndGgpIHJldHVybiB1bmRlZmluZWQ7XG4gICAgbGV0IG4gPSBhLmxlbmd0aDtcbiAgICBsZXQgc3VtID0gMDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG47ICsraSkge1xuICAgICAgICBzdW0gKz0gTWF0aC5hYnMoYVtpXSAtIGJbaV0pO1xuICAgIH1cbiAgICByZXR1cm4gc3VtO1xufVxuIiwiaW1wb3J0IHsgbm9ybSB9IGZyb20gXCIuL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBldWNsaWRlYW4gfSBmcm9tIFwiLi4vbWV0cmljcy9pbmRleC5qc1wiO1xuXG4vKipcbiAqIE5vcm1hbGl6ZXMgVmVjdG9yIHtAbGluayB2fS5cbiAqIEBtZW1iZXJvZiBtb2R1bGU6bWF0cml4XG4gKiBAYWxpYXMgbm9ybWFsaXplXG4gKiBAcGFyYW0ge0FycmF5PE51bWJlcj58RmxvYXQ2NEFycmF5fSB2IC0gVmVjdG9yXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBtZXRyaWMgXG4gKiBAcmV0dXJucyB7QXJyYXk8TnVtYmVyPnxGbG9hdDY0QXJyYXl9IC0gVGhlIG5vcm1hbGl6ZWQgdmVjdG9yIHdpdGggbGVuZ3RoIDEuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHYsIG1ldHJpYyA9IGV1Y2xpZGVhbikgIHtcbiAgICBjb25zdCB2X25vcm0gPSBub3JtKHYsIG1ldHJpYyk7XG4gICAgcmV0dXJuIHYubWFwKHZhbHVlID0+IHZhbHVlIC8gdl9ub3JtKTtcbn0iLCJpbXBvcnQgeyBNYXRyaXgsIG5vcm0gfSBmcm9tIFwiLi4vbWF0cml4L2luZGV4LmpzXCI7XG5cbi8qKlxuICogQ29tcHV0ZXMgdGhlIFFSIERlY29tcG9zaXRpb24gb2YgdGhlIE1hdHJpeCB7QGxpbmsgQX0gd2l0aCBob3VzZWhvbGRlciB0cmFuc2Zvcm1hdGlvbnMuXG4gKiBAbWVtYmVyb2YgbW9kdWxlOmxpbmVhcl9hbGdlYnJhXG4gKiBAYWxpYXMgcXJfaG91c2Vob2xkZXJcbiAqIEBwYXJhbSB7TWF0cml4fSBBXG4gKiBAcmV0dXJucyB7e1I6IE1hdHJpeCwgUTogTWF0cml4fX1cbiAqIEBzZWUge0BsaW5rIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1FSX2RlY29tcG9zaXRpb24jVXNpbmdfSG91c2Vob2xkZXJfcmVmbGVjdGlvbnN9XG4gKiBAc2VlIHtAbGluayBodHRwOi8vbWx3aWtpLm9yZy9pbmRleC5waHAvSG91c2Vob2xkZXJfVHJhbnNmb3JtYXRpb259XG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIChBKSB7XG4gICAgY29uc3QgW3Jvd3MsIGNvbHNdID0gQS5zaGFwZTtcbiAgICBjb25zdCBRID0gbmV3IE1hdHJpeChyb3dzLCByb3dzLCBcIklcIik7XG4gICAgY29uc3QgUiA9IEEuY2xvbmUoKTtcblxuICAgIGZvciAobGV0IGogPSAwOyBqIDwgY29sczsgKytqKSB7XG4gICAgICAgIGNvbnN0IHggPSBNYXRyaXguZnJvbShSLmNvbChqKS5zbGljZShqKSk7XG4gICAgICAgIGNvbnN0IHhfbm9ybSA9IG5vcm0oeCk7XG4gICAgICAgIGNvbnN0IHgwID0geC5lbnRyeSgwLCAwKTtcbiAgICAgICAgY29uc3QgcmhvID0gLU1hdGguc2lnbih4MCk7XG4gICAgICAgIGNvbnN0IHUxID0geDAgLSByaG8gKiB4X25vcm07XG4gICAgICAgIGNvbnN0IHUgPSB4LmRpdmlkZSh1MSkuc2V0X2VudHJ5KDAsIDAsIDEpO1xuICAgICAgICBjb25zdCBiZXRhID0gKC1yaG8gKiB1MSkgLyB4X25vcm07XG5cbiAgICAgICAgY29uc3QgdV9vdXRlcl91ID0gdS5vdXRlcih1KTtcbiAgICAgICAgY29uc3QgUl9ibG9jayA9IFIuZ2V0X2Jsb2NrKGosIDApO1xuICAgICAgICBjb25zdCBuZXdfUiA9IFJfYmxvY2suc3ViKHVfb3V0ZXJfdS5kb3QoUl9ibG9jaykubXVsdChiZXRhKSk7XG4gICAgICAgIGNvbnN0IFFfYmxvY2sgPSBRLmdldF9ibG9jaygwLCBqKTtcbiAgICAgICAgY29uc3QgbmV3X1EgPSBRX2Jsb2NrLnN1YihRX2Jsb2NrLmRvdCh1X291dGVyX3UpLm11bHQoYmV0YSkpO1xuICAgICAgICBSLnNldF9ibG9jayhqLCAwLCBuZXdfUik7XG4gICAgICAgIFEuc2V0X2Jsb2NrKDAsIGosIG5ld19RKTtcbiAgICB9XG4gICAgcmV0dXJuIHsgUiwgUSB9O1xufVxuIiwiLyoqXG4gKiBDb21wdXRlcyB0aGUgU29rYWwtTWljaGVuZXIgZGlzdGFuY2UgYmV0d2VlbiB7QGxpbmsgYX0gYW5kIHtAbGluayBifS5cbiAqIEBtZW1iZXJvZiBtb2R1bGU6bWV0cmljc1xuICogQGFsaWFzIHNva2FsX21pY2hlbmVyXG4gKiBAcGFyYW0ge0FycmF5PE51bWJlcj59IGEgXG4gKiBAcGFyYW0ge0FycmF5PE51bWJlcj59IGIgXG4gKiBAcmV0dXJucyB7TnVtYmVyfSB0aGUgU29rYWwtTWljaGVuZXIgZGlzdGFuY2UgYmV0d2VlbiB7QGxpbmsgYX0gYW5kIHtAbGluayBifS4gIFxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihhLCBiKSB7XG4gICAgaWYgKGEubGVuZ3RoICE9IGIubGVuZ3RoKSByZXR1cm4gdW5kZWZpbmVkXG4gICAgY29uc3QgbiA9IGEubGVuZ3RoO1xuICAgIGxldCBudW1fbm90X2VxdWFsID0gMDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG47ICsraSkge1xuICAgICAgICBjb25zdCB4ID0gYVtpXSAhPSAwO1xuICAgICAgICBjb25zdCB5ID0gYltpXSAhPSAwO1xuICAgICAgICBudW1fbm90X2VxdWFsICs9IHggIT0geTtcbiAgICB9XG4gICAgcmV0dXJuICgyICogbnVtX25vdF9lcXVhbCkgLyAobiArIG51bV9ub3RfZXF1YWwpO1xufSIsIi8qKlxuICogQ29tcHV0ZXMgdGhlIHl1bGUgZGlzdGFuY2UgYmV0d2VlbiB7QGxpbmsgYX0gYW5kIHtAbGluayBifS5cbiAqIEBtZW1iZXJvZiBtb2R1bGU6bWV0cmljc1xuICogQGFsaWFzIHl1bGVcbiAqIEBwYXJhbSB7QXJyYXk8TnVtYmVyPn0gYVxuICogQHBhcmFtIHtBcnJheTxOdW1iZXI+fSBiXG4gKiBAcmV0dXJucyB7TnVtYmVyfSB0aGUgeXVsZSBkaXN0YW5jZSBiZXR3ZWVuIHtAbGluayBhfSBhbmQge0BsaW5rIGJ9LlxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoYSwgYikge1xuICAgIGlmIChhLmxlbmd0aCAhPSBiLmxlbmd0aCkgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICBjb25zdCBuID0gYS5sZW5ndGg7XG4gICAgbGV0IG51bV90cnVlX3RydWUgPSAwO1xuICAgIGxldCBudW1fdHJ1ZV9mYWxzZSA9IDA7XG4gICAgbGV0IG51bV9mYWxzZV90cnVlID0gMDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG47ICsraSkge1xuICAgICAgICBjb25zdCB4ID0gYVtpXSAhPSAwO1xuICAgICAgICBjb25zdCB5ID0gYltpXSAhPSAwO1xuICAgICAgICBudW1fdHJ1ZV90cnVlICs9IHggJiYgeTtcbiAgICAgICAgbnVtX3RydWVfZmFsc2UgKz0geCAmJiAheTtcbiAgICAgICAgbnVtX2ZhbHNlX3RydWUgKz0gIXggJiYgeDtcbiAgICB9XG4gICAgY29uc3QgbnVtX2ZhbHNlX2ZhbHNlID0gbiAtIG51bV90cnVlX3RydWUgLSBudW1fdHJ1ZV9mYWxzZSAtIG51bV9mYWxzZV90cnVlO1xuICAgIHJldHVybiBudW1fdHJ1ZV9mYWxzZSA9PSAwIHx8IG51bV9mYWxzZV90cnVlID09IDAgPyAwIDogKDIgKiBudW1fdHJ1ZV9mYWxzZSAqIG51bV9mYWxzZV90cnVlKSAvIChudW1fdHJ1ZV90cnVlICogbnVtX2ZhbHNlX2ZhbHNlICsgbnVtX3RydWVfZmFsc2UgKiBudW1fZmFsc2VfdHJ1ZSk7XG59XG4iXSwibmFtZXMiOlsiYSIsImIiLCJNYXRoIiwic3FydCIsImV1Y2xpZGVhbl9zcXVhcmVkIiwic3VtbWFuZHMiLCJuIiwibGVuZ3RoIiwic3VtIiwiY29tcGVuc2F0aW9uIiwiaSIsInN1bW1hbmQiLCJ0IiwiYWJzIiwicyIsIkFycmF5IiwieCIsInkiLCJuZXVtYWlyX3N1bSIsIkEiLCJrIiwibWV0cmljIiwiZXVjbGlkZWFuIiwicm93cyIsInNoYXBlIiwiRCIsImRpc3RhbmNlX21hdHJpeCIsIm5OIiwicm93IiwiZnJvbSIsIm1hcCIsImRpc3RhbmNlIiwiY29sIiwiaiIsInNvcnQiLCJzbGljZSIsIk1hdHJpeCIsIkFfaSIsImRpc3QiLCJzZXRfZW50cnkiLCJzdGFydCIsImVuZCIsIm51bWJlciIsIm1heCIsInJvdW5kIiwicmVzdWx0IiwidiIsInZlY3RvciIsImNvbHMiLCJFcnJvciIsIkZsb2F0NjRBcnJheSIsIlEiLCJSIiwicSIsInFfZG90X3YiLCJxXyIsInZfIiwidl9ub3JtIiwibm9ybSIsInNlZWQiLCJtYXhfaXRlcmF0aW9ucyIsInFyIiwicXJfZ3JhbXNjaG1pZHQiLCJ0b2wiLCJyYW5kb21pemVyIiwiUmFuZG9taXplciIsInJhbmRvbSIsIm9sZFEiLCJjbG9uZSIsIlFSIiwiZG90IiwidmFsdWVzIiwiZWlnZW52YWx1ZXMiLCJkaWFnIiwiZWlnZW52ZWN0b3JzIiwidHJhbnNwb3NlIiwidG8yZEFycmF5IiwiY29uc3RydWN0b3IiLCJ2YWx1ZSIsInRoaXMiLCJfcm93cyIsIl9jb2xzIiwiX2RhdGEiLCJzdGF0aWMiLCJ0eXBlIiwiaXNBcnJheSIsIm0iLCJfIiwiZGF0YSIsInN1YmFycmF5IiwiaXRlcmF0ZV9yb3dzIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJzZXRfcm93Iiwib2Zmc2V0IiwicmVzdWx0X2NvbCIsImVudHJ5IiwiVCIsImludmVyc2UiLCJCIiwiaCIsImlfbWF4IiwibWF4X3ZhbCIsIkluZmluaXR5IiwidmFsIiwiaF92YWwiLCJpX3ZhbCIsImYiLCJCX3Jvd19yb3ciLCJCX2lfaiIsImpvaW4iLCJJIiwiQl9pIiwiQyIsImUiLCJvdXRlciIsImwiLCJjb25jYXQiLCJyb3dzX0EiLCJjb2xzX0EiLCJyb3dzX0IiLCJjb2xzX0IiLCJYIiwic2V0X2Jsb2NrIiwib2Zmc2V0X3JvdyIsIm9mZnNldF9jb2wiLCJnZXRfYmxvY2siLCJzdGFydF9yb3ciLCJzdGFydF9jb2wiLCJlbmRfcm93IiwiZW5kX2NvbCIsIm5ld19yb3ciLCJuZXdfY29sIiwiZ2F0aGVyIiwicm93X2luZGljZXMiLCJjb2xfaW5kaWNlcyIsIk4iLCJyb3dfaW5kZXgiLCJjb2xfaW5kZXgiLCJfYXBwbHlfYXJyYXkiLCJfYXBwbHlfcm93d2lzZV9hcnJheSIsIl9hcHBseV9jb2x3aXNlX2FycmF5IiwiX2FwcGx5IiwidmFsdWVfcm93cyIsInZhbHVlX2NvbHMiLCJtdWx0IiwiZGl2aWRlIiwiYWRkIiwic3ViIiwicHVzaCIsImFzQXJyYXkiLCJtaW5fcm93X2NvbCIsIm1pbiIsIm1lYW4iLCJtZWFuUm93cyIsIm1lYW5Db2xzIiwiYl9pIiwiciIsImQiLCJ6IiwiYWxwaGEiLCJyX25leHQiLCJiZXRhIiwiTCIsIlUiLCJMVSIsIkxfZGlhZyIsIlVfZGlhZyIsImRldCIsIk0iLCJNVCIsIk10TSIsIk1NdCIsIlYiLCJTaWdtYSIsInNpbXVsdGFuZW91c19wb3dlcml0ZXJhdGlvbiIsInNpZ21hIiwiX3NlZWQiLCJfTiIsIl9NIiwiX01BVFJJWF9BIiwiX1VQUEVSX01BU0siLCJfTE9XRVJfTUFTSyIsIl9tdCIsIl9tdGkiLCJEYXRlIiwiZ2V0VGltZSIsIm10IiwibXRpIiwicmFuZG9tX2ludCIsIm1hZzAxIiwia2siLCJOX00iLCJNX04iLCJjaG9pY2UiLCJzYW1wbGUiLCJpbmRleF9saXN0IiwibGluc3BhY2UiLCJyYW5kb21faW5kZXgiLCJzcGxpY2UiLCJ1bmRlZmluZWQiLCJIZWFwIiwiZWxlbWVudHMiLCJhY2Nlc3NvciIsImNvbXBhcmF0b3IiLCJoZWFwaWZ5IiwiX2FjY2Vzc29yIiwiX2NvbnRhaW5lciIsIl9jb21wYXJhdG9yIiwiaGVhcCIsImNvbnRhaW5lciIsImVsZW1lbnQiLCJmbG9vciIsIl9oZWFwaWZ5X2Rvd24iLCJfc3dhcCIsImluZGV4X2EiLCJpbmRleF9iIiwiX2hlYXBpZnlfdXAiLCJpbmRleCIsInBhcmVudEluZGV4Iiwibm9kZSIsInN0YXJ0X2luZGV4IiwibGVmdCIsInJpZ2h0IiwicG9wIiwiaXRlbSIsImZpcnN0IiwiaXRlcmF0ZSIsInRvQXJyYXkiLCJyYXdfZGF0YSIsImVtcHR5IiwiRGlzam9pbnRTZXQiLCJfbGlzdCIsIlNldCIsIm1ha2Vfc2V0IiwibGlzdCIsImhhcyIsIl9fZGlzam9pbnRfc2V0IiwicGFyZW50IiwiY2hpbGRyZW4iLCJzaXplIiwiZmluZCIsInVuaW9uIiwibm9kZV94Iiwibm9kZV95IiwiZm9yRWFjaCIsIkJhbGxUcmVlIiwiX05vZGUiLCJwaXZvdCIsImNoaWxkMSIsImNoaWxkMiIsInJhZGl1cyIsIl9MZWFmIiwicG9pbnRzIiwiX21ldHJpYyIsIl9yb290IiwiX2NvbnN0cnVjdCIsImMiLCJfZ3JlYXRlc3Rfc3ByZWFkIiwic29ydGVkX2VsZW1lbnRzIiwicF9pbmRleCIsInAiLCJzcHJlYWQiLCJyZWR1Y2UiLCJhY2MiLCJjdXJyZW50Iiwic2VhcmNoIiwiX3NlYXJjaCIsIktOTiIsIl9lbGVtZW50cyIsIl9EIiwiZGlzdGFuY2VzIiwiSCIsIm5lYXJlc3RfZWxlbWVudF9pbmRleCIsIm5lYXJlc3RfZGlzdCIsIk51bWJlciIsImlzSW50ZWdlciIsInJlcyIsIkRSIiwiZGVmYXVsdF9wYXJhbWV0ZXJzIiwicGFyYW1ldGVycyIsIl9wYXJhbWV0ZXJzIiwiT2JqZWN0IiwiYXNzaWduIiwic2VhbCIsIl90eXBlIiwiX3JhbmRvbWl6ZXIiLCJfaXNfaW5pdGlhbGl6ZWQiLCJwYXJhbWV0ZXIiLCJuYW1lIiwiaGFzT3duUHJvcGVydHkiLCJwYXJhIiwidHJhbnNmb3JtIiwiY2hlY2tfaW5pdCIsInByb2plY3Rpb24iLCJnZW5lcmF0b3IiLCJpbml0IiwiWSIsImFzeW5jIiwiYXJncyIsIlBDQSIsInN1cGVyIiwiZWlnX2FyZ3MiLCJwcmluY2lwYWxfY29tcG9uZW50cyIsIm1lYW5zIiwiWF9jZW50IiwiTURTIiwiYWlfIiwiYV9qIiwiYV9fIiwiX2RfWCIsInN0cmVzcyIsImRfWCIsImRfWSIsInRvcF9zdW0iLCJib3R0b21fc3VtIiwicG93IiwieDAiLCJtYXhfaXRlciIsInBmeCIsImZ4IiwiY29udmVyZ2VuY2UiLCJmeGkiLCJkeCIsIkNsdXN0ZXIiLCJpZCIsImNlbnRyb2lkIiwiZGVwdGgiLCJfY2FsY3VsYXRlX2NlbnRyb2lkIiwibF9zaXplIiwicl9zaXplIiwibF9jZW50cm9pZCIsInJfY2VudHJvaWQiLCJuZXdfY2VudHJvaWQiLCJpc0xlYWYiLCJsZWF2ZXMiLCJkZXNjZW5kYW50cyIsImxlZnRfZGVzY2VuZGFudHMiLCJyaWdodF9kZXNjZW5kYW50cyIsIktNZWRvaWRzIiwibWF0cml4IiwiSyIsIl9tYXRyaXgiLCJfQSIsIl9LIiwiX21heF9pdGVyIiwibG9nMTAiLCJfZGlzdGFuY2VfbWF0cml4IiwiX2NsdXN0ZXJzIiwiZmlsbCIsIl9jbHVzdGVyX21lZG9pZHMiLCJfZ2V0X3JhbmRvbV9tZWRvaWRzIiwiZ2V0X2NsdXN0ZXJzIiwieF9qIiwiX25lYXJlc3RfbWVkb2lkIiwiaW5kZXhfbmVhcmVzdCIsIm1lZG9pZHMiLCJmaW5pc2giLCJfaXRlcmF0aW9uIiwiY2FjaGUiLCJ4X28iLCJvIiwiRGVsdGFURCIsInhzIiwiZmluZEluZGV4IiwiZF9qIiwiZGlzdGFuY2VfbmVhcmVzdCIsImRlbHRhVEQiLCJkX29qIiwiX2dldF9kaXN0YW5jZSIsImRfbiIsImRpc3RhbmNlX3NlY29uZCIsImRfcyIsImZpbHRlciIsInhfaSIsImRfaWoiLCJuZWFyZXN0Iiwic2Vjb25kIiwieF9tIiwibTEiLCJtMiIsImluZGV4X3NlY29uZCIsImNsdXN0ZXJfbWVkb2lkcyIsImluZGljZXMiLCJjZWlsIiwiVEQiLCJURDAiLCJTIiwiU19qIiwiU19vIiwiZGVsdGEiLCJfY2hvb3NlX2Rpc3RhbnRfb2JqZWN0cyIsImFfaW5kZXgiLCJiX2luZGV4IiwibWF4X2Rpc3QiLCJkX2FpIiwiZF9iaSIsIl9jb2wiLCJvbGRfZGlzdCIsImRfYWIiLCJ5X2kiLCJsaW5rYWdlIiwiX2lkIiwiX2xpbmthZ2UiLCJyb290IiwiZG8iLCJjbHVzdGVycyIsIl90cmF2ZXJzZSIsIl9uIiwiZF9taW4iLCJfZF9taW4iLCJjX3NpemUiLCJfY19zaXplIiwiVWludDE2QXJyYXkiLCJwX21heCIsImMxIiwiRF9pX21pbiIsImMyIiwiYzFfY2x1c3RlciIsImMyX2NsdXN0ZXIiLCJjMV9jbHVzdGVyX2luZGljZXMiLCJjMl9jbHVzdGVyX2luZGljZXMiLCJuZXdfY2x1c3RlciIsInVuc2hpZnQiLCJEX2MxX2oiLCJEX2MyX2oiLCJuZWlnaGJvcnMiLCJrTmVhcmVzdE5laWdoYm9ycyIsIkciLCJvdGhlciIsIl9jbHVzdGVyX2NlbnRyb2lkcyIsIl9nZXRfcmFuZG9tX2NlbnRyb2lkcyIsIl9mdXJ0aGVzdF9wb2ludCIsImNhbmRpZGF0ZXMiLCJBZCIsImNsdXN0ZXJfY2VudHJvaWRzIiwicmFuZG9tX3BvaW50IiwiaW5pdF9wb2ludHMiLCJzYW1wbGVfc2l6ZSIsImluZGV4T2YiLCJmdXJ0aGVzdF9wb2ludCIsImNsdXN0ZXJzX2NoYW5nZWQiLCJBaSIsIm1pbl9kaXN0IiwibWluX2NsdXN0ZXIiLCJfY29tcHV0ZV9jZW50cm9pZCIsImNsdXN0ZXJfY291bnRlciIsImNpIiwiaXRlcmF0aW9uX3Jlc3VsdCIsImxhYmVscyIsInVuaXF1ZV9sYWJlbHMiLCJsYWJlbF9pZCIsImNvdW50IiwiWF9tZWFuIiwiVl9tZWFuIiwibGFiZWwiLCJ2X21lYW4iLCJTX2IiLCJTX3ciLCJyb3dfdiIsImtfbmVhcmVzdF9uZWlnaGJvcnMiLCJPIiwiVyIsIm5OX3JvdyIsIloiLCJDX3RyYWNlIiwidyIsInNvbHZlX0NHIiwiSVciLCJjb250cm9sX3BvaW50cyIsIkRSX3BhcmFtZXRlcnMiLCJuYyIsImNfaSIsIllfQyIsIlhBIiwia25uIiwiX2IiLCJBVCIsIkFUQSIsIkFUYiIsIklfaSIsIlhfaSIsImciLCJHX2lfdCIsIldfaSIsImVwc2lsb24iLCJtaW5fcG9pbnRzIiwiX2Vwc2lsb24iLCJfbWluX3BvaW50cyIsIl9vcmRlcmVkX2xpc3QiLCJfREIiLCJvcmRlcmVkX2xpc3QiLCJEQiIsImNsdXN0ZXJfaW5kZXgiLCJfY2x1c3Rlcl9pbmRleCIsInJlYWNoYWJpbGl0eV9kaXN0YW5jZSIsInByb2Nlc3NlZCIsIl9nZXRfbmVpZ2hib3JzIiwiX2NvcmVfZGlzdGFuY2UiLCJzZWVkcyIsIl91cGRhdGUiLCJfZXhwYW5kX2NsdXN0ZXIiLCJjb3JlX2Rpc3RhbmNlIiwibmV3X3JlYWNoYWJpbGl0eV9kaXN0YW5jZSIsImNsdXN0ZXIiLCJvdXRsaWVycyIsImdldF9jbHVzdGVyX2FmZmlybWF0aW9uIiwibWFnaWMiLCJpbml0X0RSIiwiaW5pdF9wYXJhbWV0ZXJzIiwiaW5jbHVkZXMiLCJfc3RlcCIsIk1BR0lDIiwiZTEiLCJlMiIsIllpIiwiWWoiLCJkWSIsImRYIiwiZHEiLCJkciIsInBlcnBsZXhpdHkiLCJfaXRlciIsIkh0YXJnZXQiLCJsb2ciLCJEZWx0YSIsImRydWlkIiwiUCIsIl95c3RlcCIsIl9nYWlucyIsInByb3ciLCJiZXRhbWluIiwiYmV0YW1heCIsImRvbmUiLCJudW0iLCJwc3VtIiwicGoiLCJleHAiLCJIaGVyZSIsIlBvdXQiLCJOMiIsIl9QIiwiaXRlcmF0aW9ucyIsIm5leHQiLCJpdGVyIiwieXN0ZXAiLCJnYWlucyIsImRpbSIsInBtdWwiLCJRdSIsInFzdW0iLCJkc3VtIiwiZGhlcmUiLCJxdSIsImdyYWQiLCJwcmVtdWx0IiwieW1lYW4iLCJnaWQiLCJzaWQiLCJnYWluaWQiLCJuZXdnYWluIiwic2lnbiIsIm5ld3NpZCIsIl9fbGF6eV9kaXN0YW5jZV9tYXRyaXgiLCJEX2lqIiwiX21ha2VfbWluaW11bV9zcGFubmluZ190cmVlIiwiZGlzam9pbnRfc2V0IiwiRiIsIkUiLCJ1Iiwic2V0X3UiLCJzZXRfdiIsIl9FbXN0IiwiX19odWxsX2Nyb3NzIiwiYXgiLCJheSIsImJ4IiwiYnkiLCJzeCIsInN5IiwiX19odWxsIiwieDEiLCJ5MSIsIngyIiwieTIiLCJsb3dlciIsInVwcGVyIiwiX19maW5kQW5nbGUiLCJwMXgiLCJwMXkiLCJwMngiLCJwMnkiLCJzaW4iLCJjb3MiLCJ2ZWMiLCJfX2FsaWduX2h1bGwiLCJodWxsIiwidG9wRWRnZSIsImQyIiwidjEiLCJ2MiIsInRyYW5zZm9ybWF0aW9uIiwidHgiLCJ0eSIsIl9fdHJhbnNmb3JtIiwicHgiLCJweSIsIl9fdHJhbnNmb3JtX2NvbXBvbmVudCIsInlPZmZzZXQiLCJjeCIsImN5IiwiX19hbGlnbl9jb21wb25lbnRzIiwicG9pbnRzX3UiLCJwb2ludHNfdiIsImh1bGxfdSIsImh1bGxfdiIsInRfdSIsInRfdiIsIkVtc3QiLCJjb21wb25lbnRzIiwiY29tcG9uZW50X3UiLCJjb21wb25lbnRfdiIsIndlaWdodF9hZGoiLCJwY2EiLCJuX2lubGllcnMiLCJuX291dGxpZXJzIiwibl9yYW5kb20iLCJ0cmlwbGV0cyIsIndlaWdodHMiLCJfZ2VuZXJhdGVfdHJpcGxldHMiLCJsciIsInZlbCIsImdhaW4iLCJuX2V4dHJhIiwibmJycyIsImtubl9kaXN0YW5jZXMiLCJzaWciLCJfZmluZF9wIiwiX3NhbXBsZV9rbm5fdHJpcGxldHMiLCJuX3RyaXBsZXRzIiwib3V0bGllcl9kaXN0YW5jZXMiLCJfZmluZF93ZWlnaHRzIiwicmFuZG9tX3RyaXBsZXRzIiwicmFuZG9tX3dlaWdodHMiLCJfc2FtcGxlX3JhbmRvbV90cmlwbGV0cyIsIm1heF93ZWlnaHQiLCJpc05hTiIsIm1heF93ZWlnaHRfMiIsIm5fbmVpZ2hib3JzIiwibl9pIiwic29ydF9pbmRpY2VzIiwiX19hcmdzb3J0Iiwibl9qIiwic2ltIiwic2FtcGxlcyIsIl9yZWplY3Rpb25fc2FtcGxlIiwib3V0Iiwibl9zYW1wbGVzIiwibWF4X2ludCIsInJlamVjdHMiLCJpbnRlcnZhbCIsInBfc2ltIiwicF9vdXQiLCJfZ3JhZCIsInlfaWoiLCJ5X2lrIiwiZF9payIsIm5fdmlvbCIsImxvc3MiLCJuX2tubl90cmlwbGV0cyIsIllfaWQiLCJZX2pkIiwiWV9rZCIsImdzIiwiZ28iLCJtYXhfaXRlcmF0aW9uIiwiX25leHQiLCJnYW1tYSIsIm9sZF9DIiwiX3VwZGF0ZV9lbWJlZGRpbmciLCJuZXdfZ2FpbiIsImxvY2FsX2Nvbm5lY3Rpdml0eSIsIl9zcHJlYWQiLCJfc2V0X29wX21peF9yYXRpbyIsIl9yZXB1bHNpb25fc3RyZW5ndGgiLCJfbmVnYXRpdmVfc2FtcGxlX3JhdGUiLCJfbl9lcG9jaHMiLCJfaW5pdGlhbF9hbHBoYSIsIl9maW5kX2FiX3BhcmFtcyIsInh2IiwieXYiLCJ4dl9pIiwicG93ZWxsIiwiZXJyb3IiLCJfY29tcHV0ZV9tZW1iZXJzaGlwX3N0cmVuZ3RocyIsInNpZ21hcyIsInJob3MiLCJfc21vb3RoX2tubl9kaXN0IiwiU01PT1RIX0tfVE9MRVJBTkNFIiwiTUlOX0tfRElTVF9TQ0FMRSIsInRhcmdldCIsImxvZzIiLCJyZXZlcnNlIiwibG8iLCJoaSIsIm1pZCIsInNlYXJjaF9yZXN1bHQiLCJub25femVyb19kaXN0Iiwibm9uX3plcm9fZGlzdF9sZW5ndGgiLCJpbnRlcnBvbGF0aW9uIiwibWVhbl9pdGhkIiwibWVhbl9kIiwiX2Z1enp5X3NpbXBsaWNpYWxfc2V0IiwiZGlzdGFuY2VzX2kiLCJ0cmFuc3Bvc2VkX3Jlc3VsdCIsInByb2RfbWF0cml4IiwiX21ha2VfZXBvY2hzX3Blcl9zYW1wbGUiLCJuX2Vwb2NocyIsIl93ZWlnaHRzIiwiRmxvYXQzMkFycmF5Iiwid2VpZ2h0c19tYXgiLCJfdG9jb28iLCJncmFwaCIsInJvd3NfbiIsImNvbHNfbiIsIl9hIiwiX2dyYXBoIiwiX2hlYWQiLCJfdGFpbCIsIl9lcG9jaHNfcGVyX3NhbXBsZSIsIl9lcG9jaHNfcGVyX25lZ2F0aXZlX3NhbXBsZSIsIl9lcG9jaF9vZl9uZXh0X3NhbXBsZSIsIl9lcG9jaF9vZl9uZXh0X25lZ2F0aXZlX3NhbXBsZSIsIl9jbGlwIiwiX29wdGltaXplX2xheW91dCIsImhlYWRfZW1iZWRkaW5nIiwidGFpbF9lbWJlZGRpbmciLCJoZWFkIiwidGFpbCIsIl9hbHBoYSIsImVwb2Noc19wZXJfc2FtcGxlIiwiZXBvY2hzX3Blcl9uZWdhdGl2ZV9zYW1wbGUiLCJlcG9jaF9vZl9uZXh0X25lZ2F0aXZlX3NhbXBsZSIsImVwb2NoX29mX25leHRfc2FtcGxlIiwiY2xpcCIsInRhaWxfbGVuZ3RoIiwiZ3JhZF9jb2VmZiIsImdyYWRfZCIsIm5fbmVnX3NhbXBsZXMiLCJzdW1fYSIsInN1bV9iIiwiYWNvcyIsImRpc2FncmVlIiwibnVtX25vbl96ZXJvIiwibnVtX2VxdWFsIiwieF9ub3JtIiwicmhvIiwidTEiLCJ1X291dGVyX3UiLCJSX2Jsb2NrIiwibmV3X1IiLCJRX2Jsb2NrIiwibmV3X1EiLCJudW1fbm90X2VxdWFsIiwibnVtX3RydWVfdHJ1ZSIsIm51bV90cnVlX2ZhbHNlIiwibnVtX2ZhbHNlX3RydWUiXSwibWFwcGluZ3MiOiI7c1BBU2UsV0FBVUEsRUFBR0MsR0FDeEIsT0FBT0MsS0FBS0MsS0FBS0MsRUFBa0JKLEVBQUdDLElDRjNCLFdBQVVJLEdBQ3JCLElBQUlDLEVBQUlELEVBQVNFLE9BQ2JDLEVBQU0sRUFDTkMsRUFBZSxFQUVuQixJQUFLLElBQUlDLEVBQUksRUFBR0EsRUFBSUosSUFBS0ksRUFBRyxDQUN4QixJQUFJQyxFQUFVTixFQUFTSyxHQUNuQkUsRUFBSUosRUFBTUcsRUFDVlQsS0FBS1csSUFBSUwsSUFBUU4sS0FBS1cs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
